{"version":3,"sources":["webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/useSkins.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumb.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Arrangers.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumbs.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbPanels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Resizable/Resizable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Pause/Pause.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/pointer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ComponentOverride/ComponentOverride.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Drag.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Flick.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Hold.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/state.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/ClickAllow.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Touchable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useControlledState/useControlledState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/useToggle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Toggleable/Toggleable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/listeners.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/dispatcher.js","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/wrapIlibCallback.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/getI18nClasses.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/windowFocus.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18n.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/useI18nContext.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/I18nDecorator/I18nDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollAnimator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/IconList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Cell.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/Arranger.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/TransitionGroup.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/View.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ViewManager/ViewManager.js","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/platform/platform.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/resolution.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/ResolutionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/dates.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/packedbuffer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useThemeScroller.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/resBundle.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeController.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.js","webpack:///./stories/default sync nonrecursive .js$","webpack:///./stories/default/BodyText.js","webpack:///./stories/default/Button.js","webpack:///./stories/default/Checkbox.js","webpack:///./stories/default/CheckboxItem.js","webpack:///./stories/default/ColorPicker.js","webpack:///./stories/default/ContextualPopupDecorator.js","webpack:///./stories/default/DateTimePicker.js","webpack:///./stories/default/Drawer.js","webpack:///./stories/default/Dropdown.js","webpack:///./stories/default/Header.js","webpack:///./stories/default/Heading.js","webpack:///./stories/default/Icon.js","webpack:///./stories/default/ImageItem.js","webpack:///./stories/default/ImageItemKitchenSink.js","webpack:///./stories/default/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.js","webpack:///./stories/default/Input.js","webpack:///./stories/default/Item.js","webpack:///./stories/default/ItemKitchenSink.js","webpack:///./stories/default/LabeledIcon.js","webpack:///./stories/default/LabeledIconButton.js","webpack:///./stories/default/Panel.js","webpack:///./stories/default/Panels.js","webpack:///./stories/default/Picker.js","webpack:///./stories/default/Popup.js","webpack:///./stories/default/PopupMenu.js","webpack:///./stories/default/ProgressBar.js","webpack:///./stories/default/RadioItem.js","webpack:///./stories/default/RangePicker.js","webpack:///./stories/default/Scroller.js","webpack:///./stories/default/Slider.js","webpack:///./stories/default/SliderButton.js","webpack:///./stories/default/Spinner.js","webpack:///./stories/default/SwitchItem.js","webpack:///./stories/default/TabbedPanels.js","webpack:///./stories/default/Thumbnail.js","webpack:///./stories/default/ThumbnailItem.js","webpack:///./stories/default/ToggleButton.js","webpack:///./stories/default/TooltipDecorator.js","webpack:///./stories/default/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/ApplicationCloseButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Controls.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Viewport.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/deprecate/deprecate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/prop-types/prop-types.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/locale/locale.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/utils.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useThemeScrollContentHandle.js","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButtons.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.module.less?6dc4","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/SharedStateDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputDecoratorIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/pointer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputSpotlightDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualListBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualListBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.module.less?7187","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.module.less?a18f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.module.less?671f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/keymap.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/case.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.module.less?6940","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/PopupState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Repeater/Repeater.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/selection/selection.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/GroupItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Group/Group.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.js","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.module.less?7803","webpack:///./src/ThemeEnvironment/ThemeEnvironment.module.less?f24b","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.module.less?7568","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualList.module.less?9da6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/MarqueeBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/validators/validators.js","webpack:////Users/yb.sung/Documents/_Work/agate/RangePicker/RangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.module.less?a1f8","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.module.less?3fde","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.module.less?5fc2","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/Job.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/Loader.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/glue.js","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilEvent.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/useHandlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useClass/useClass.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/Handlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.module.less?b312","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/snapshot/snapshot.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Accelerator/Accelerator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Measurable/Measurable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/CancelDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.module.less?a412","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/SliderBehaviorDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.module.less?70c7","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.module.less?e6ef","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/ScrollerBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScrollerBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Knob.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/PositionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/Provider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/useId.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/IdProvider/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/cancelHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/modalHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/Cancelable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.module.less?ce15","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTimeDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/index.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateComponentPicker/DateComponentRangePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/DatePicker/DatePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePickerBase.js","webpack:////Users/yb.sung/Documents/_Work/agate/TimePicker/TimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.js","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/hoc/hoc.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/internal/Pure/Pure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/Spottable/Spottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/utils.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/handle/handle.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.module.less?1ec2","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.module.less?6586","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.module.less?8011","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.module.less?7cb1","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.module.less?291c","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.module.less?5510","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.module.less?87ce","webpack:///./stories/default/Heading.module.less?4fff","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.module.less?1d41","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.js","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.module.less?5039","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/$L/$L.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/usePreventScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useThemeVirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/$L/$L.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/useSlots.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/Slottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/spotlight.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Changeable/Changeable.js","webpack:///./node_modules/ilib/lib sync ^$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/src/zoneinfo.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Heading/Heading.module.less?90c3","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.module.less?62cf","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilDOM.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.module.less?1a1d","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.module.less?abdd","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.module.less?3e42","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.module.less?85be","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.module.less?108b","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.module.less?f742","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.module.less?316e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.module.less?4850","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.module.less?e9c0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScroller.module.less?fb3c","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.module.less?39f0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Marquee/Marquee.module.less?e750","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/computed.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/styles.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/kind.js","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.module.less?3ea6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ToggleIcon/ToggleIcon.module.less?b665","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.module.less?d1a9","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.module.less?c6d3","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.module.less?b035","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Transition/Transition.module.less?c38e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.module.less?779e","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.module.less?845f","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.module.less?172c","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.module.less?2bb0","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.module.less?68ab","webpack:////Users/yb.sung/Documents/_Work/agate/internal/DateTime/DateTime.module.less?8764","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.module.less?cce8","webpack:///./stories/default/Drawer.module.less?1415","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.module.less?aa0e","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.module.less?fec5","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.module.less?a67e","webpack:///./images/icon-enact-docs.png","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ForwardRef/ForwardRef.js","webpack:///./images/icon-enact-factory.svg","webpack:///./images/icon-enact-logo.svg","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Image/Image.module.less?50dc","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ImageItem/ImageItem.module.less?bdaf","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.module.less?f956","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.module.less?f23f","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.module.less?d0b5","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.module.less?b354","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.module.less?4d23","webpack:///./stories/default/PopupMenu.module.less?1865","webpack:///./stories/default/icons.js","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.module.less?c5f1","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.module.less?1e82","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.module.less?aa78","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.module.less?f49b","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.module.less?81de","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/i18n/util/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipLabel.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightRootDecorator/SpotlightRootDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.js","webpack:///./src/ThemeEnvironment/ThemeEnvironment.js","webpack:///./src/configure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/ApiDecorator/ApiDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/navigate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/target.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/src/container.js","webpack:///./.storybook/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/useSpotlightContainer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/spotlight/SpotlightContainerDecorator/SpotlightContainerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.module.less?b66c"],"names":["objectify","arg","split","Array","reduce","obj","a","SkinContext","React","createContext","useSkins","config","defaultSkin","defaultVariants","skin","skins","skinVariants","variants","parentSkin","parentVariants","useContext","effectiveSkin","determineSkin","authorSkin","effectiveVariants","useMemo","determineVariants","allowedVariants","authorVariants","mergedObj","Object","keys","forEach","key","b","preferDefined","includes","className","getClassName","classnames","value","provideSkins","useCallback","children","Provider","Skinnable","hoc","variantsProp","prop","Wrapped","rest","hook","allClassNames","propTypes","PropTypes","string","oneOfType","array","object","carbon","cobalt","copper","electro","gallium","silicon","titanium","UiSkinnable","SpottableDiv","Spottable","BreadcrumbBase","kind","name","index","number","isRequired","onClick","func","onSelect","styles","css","handlers","handle","forward","adaptEvent","ev","type","render","aria-label","$L","data-index","breadcrumbContent","animationOptions","easing","offsetForBreadcrumbs","node","isFirst","dataset","unit","scale","PanelsArranger","enter","arrange","transform","leave","stay","positionBreadcrumb","crumbIndex","from","to","reverse","keyframes","BreadcrumbArranger","Breadcrumbs","id","max","breadcrumbs","i","Math","Breadcrumb","Icon","BreadcrumbDecorator","panelArranger","cfgClassName","calcMax","coerceFunction","Decorator","arrayOf","childProps","generateId","noAnimation","bool","onSelectBreadcrumb","defaultProps","handleBreadcrumbWillTransition","current","Spotlight","getCurrent","document","querySelector","contains","blur","computed","x","isArray","start","Children","toArray","slice","map","child","props","isValidElement","cloneElement","createElement","updatedChildProps","assign","ariaOwns","push","unshift","join","count","invariant","ViewManager","arranger","duration","end","onWillTransition","CancelDecorator","cancel","IdProvider","BreadcrumbPanels","compose","Slottable","slots","Measurable","refProp","measurementProp","BreadcrumbPanelsDecorator","PanelsBase","displayName","panelId","PanelBase","autoFocus","header","hideChildren","componentCss","publicClassNames","onScroll","currentTarget","scrollTop","scrollLeft","spotOnRender","spotlightId","enterTo","defaultElement","set","focus","bodyClassName","styler","body","noHeader","visible","ids","label","labelledby","titleId","subtitleId","role","aria-labelledby","ref","ComponentOverride","component","Panel","SpotlightContainerDecorator","continue5WayHold","spotlightDefaultClass","preserveId","Panels","ResizeContext","filter","resize","Component","handleResize","call","bind","this","componentDidMount","context","resizeRegistry","componentWillUnmount","unregister","invalidateBounds","notify","action","contextType","paused","pause","resume","isPaused","Pause","constructor","toString","_pointerMode","setPointerMode","pointerMode","getPointerMode","_pointerX","_pointerY","hasPointerMoved","y","getLastPointerPosition","hidePointerJob","Job","callback","notifyPointerMove","target","priorPointerMode","updatePointerPosition","notifyKeyDown","keyCode","palmSystem","window","PalmSystem","is","cursor","visibility","Tracking","Drag","dragConfig","isDragging","setContainerBounds","global","isGlobal","boxSizing","bounds","minX","minY","maxX","innerWidth","maxY","innerHeight","getBoundingClientRect","computedStyle","getComputedStyle","left","parseInt","paddingLeft","top","paddingTop","right","paddingRight","bottom","paddingBottom","updatePosition","clientX","clientY","clamp","begin","noResume","onDrag","onDragEnd","onDragStart","coords","tracking","startX","startY","move","updateProps","moveTolerance","dx","dy","sqrt","defaultDragConfig","dragConfigPropType","shape","Flick","maxDuration","maxMoves","minVelocity","onFlick","cancelJob","startAfter","moves","length","flickConfig","t","performance","now","shift","stop","last","m","dt","vx","vy","abs","v","vertical","direction","velocityX","velocityY","velocity","isTracking","defaultFlickConfig","flickConfigPropType","maxVelocity","Hold","isHolding","holdConfig","isWithinTolerance","defaultConfig","onHold","onHoldEnd","onHoldPulse","events","sort","time","pulsing","next","holdStart","startJob","cancelOnMove","shouldEnd","suspend","clearInterval","holdJob","handlePulse","holdTime","n","frequency","setInterval","defaultHoldConfig","holdConfigPropType","allowedDragKeys","allowedFlickKeys","allowedHoldKeys","clone","o","mergeGestureConfig","update","allowed","cfg","indexOf","mergeConfig","merged","drag","flick","hold","configure","States","setActive","state","active","activate","deactivate","_lastTouchEnd","timeStamp","ClickAllow","lastTouchEndTime","lastMouseUpTime","setLastTouchEnd","setLastMouseUp","shouldAllowMouseEvent","platform","ios","shouldAllowMouseDown","shouldAllowTap","getEventCoordinates","targetTouches","makeTouchableEvent","pageX","pageY","changedTouches","isEnabled","forProp","handleDown","forwardWithPrevent","named","handleUp","finally","handleEnter","handleLeave","oneOf","returnsTrue","handleMouseDown","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","complement","handleGlobalUp","handleGlobalMove","handleBlur","Touchable","activeProp","super","prevDisabled","disabled","targetHadFocus","clickAllow","bindAs","touch","on","componentDidUpdate","prevProps","clearTarget","off","setTarget","setState","startTouch","preventDefault","targetBounds","endTouch","startGesture","activeElement","moveGesture","enterGesture","leaveGesture","blurGesture","endGesture","hasFocus","hasTouchLeftTarget","hasLeft","containsCurrentTarget","addHandlers","onMouseDown","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onBlur","onTouchStart","onTouchMove","onTouchEnd","onDown","onTap","onUp","nop","createHandler","onChange","currentValue","controlled","calcValue","defaultValue","propValue","stateValue","undefined","useControlledState","isControlled","useRef","useState","memoOnChange","not","makeEvent","Toggle","handleActivate","onToggle","handleDeactivate","handleToggle","setContext","Boolean","useToggle","defaultSelected","selected","toggle","useClass","ToggleableHOC","eventProps","toggleProp","defaultPropKey","cap","forwardWithEventProps","eventName","pick","forwardActivate","forwardDeactivate","forwardToggle","forwardToggleProp","toggleHandlers","onActivate","onDeactivate","Toggleable","updated","propSelected","useHandlers","instance","targets","getListeners","targetIndex","listeners","getDefaultTarget","invoker","curry","fn","e","console","error","message","dispatcher","inv","addListener","addEventListener","splice","removeEventListener","webpackContext","req","webpackContextResolve","__webpack_require__","Error","code","webpackContextKeys","resolve","module","exports","invoke","options","onLoad","result","wrapIlibCallback","sync","Promise","base","all","fns","complete","done","getI18nClasses","LocaleInfo","li","getClassesForLocale","locale","getLocale","latinLanguageOverrides","nonLatinLanguageOverrides","isNonLatinLocale","isNonLatin","isRtlLocale","isRtl","classes","scriptName","getScript","getLanguage","getRegion","focused","queue","Set","flush","onWindowReady","I18n","resources","handleLocaleChange","handler","updateLocale","add","newLocale","loadResources","_locale","_ready","_onLoadResources","loadResourceJob","normalizeResources","onLoadResources","res","resource","load","unload","spec","rtl","bundle","createResBundle","loaded","setResBundle","then","rtlResult","classNameResult","bundleResult","userResources","promise","useI18n","ilibLocale","ilib","i18n","useEffect","I18nContext","useI18nContext","I18nDecorator","i18nClassName","I18nContextDecorator","localeProp","rtlProp","updateLocaleProp","loadedProp","i18nContext","timingFunctions","source","curTime","clampVelocity","ScrollAnimator","rAFId","timingFunction","simulate","sourceX","sourceY","stepX","stepY","deltaX","deltaY","targetX","targetY","animate","rAFCallbackFuntion","rAF","requestAnimationFrame","startTimeStamp","perfNow","isAnimating","cAF","cancelAnimationFrame","constants","animationDuration","epsilon","isPageDown","isPageUp","overscrollTypeNone","overscrollTypeHold","overscrollTypeOnce","overscrollTypeDone","overscrollVelocityFactor","paginationPageMultiplier","scrollStopWaiting","scrollWheelPageMultiplierForMaxPixel","TouchableDiv","ForwardRef","componentRef","useScrollBase","clientSize","voiceDisabled","voiceFocused","voiceGroupLabel","assignProperties","dataSize","horizontalScrollbar","horizontalScrollbarHandle","itemRenderer","itemSize","itemSizes","noScrollByDrag","noScrollByWheel","overhang","overscrollEffectOn","pageScroll","scrollContainerRef","scrollContentHandle","scrollContentRef","scrollMode","setScrollContainerHandle","spacing","spotlightContainerDisabled","verticalScrollbar","verticalScrollbarHandle","wrap","scrollClasses","classNames","scroll","addEventListeners","applyOverscrollEffect","cbScrollTo","clearOverscrollEffect","handleResizeWindow","onKeyDown","onScrollStart","onScrollStop","onWheel","removeEventListeners","scrollStopOnScroll","scrollTo","forceUpdate","useReducer","isHorizontalScrollbarVisible","setIsHorizontalScrollbarVisible","isVerticalScrollbarVisible","setIsVerticalScrollbarVisible","mutableRef","overscrollEnabled","animationInfo","pixelPerLine","scrollWheelMultiplierForDeltaPixel","deferScrollTo","isScrollAnimationTargetAccumulated","lastInputType","overscrollStatus","horizontal","before","ratio","after","clientWidth","clientHeight","scrollWidth","scrollHeight","maxTop","maxLeft","wheelDirection","isTouching","scrolling","scrollToInfo","animator","accumulatedTargetX","accumulatedTargetY","flickTarget","dragStartX","dragStartY","scrollStopJob","prevState","useLayoutEffect","calculateDistanceByWheel","canScrollHorizontally","canScrollVertically","checkAndApplyOverscrollEffect","getScrollBounds","val","scrollToAccumulatedTarget","setOverscrollStatus","showScrollbarTrack","startHidingScrollbarTrack","containerRef","ResizeObserver","resizeObserver","syncClientSize","observe","disconnect","parent","forwardScrollEvent","getReachedEdgeInfo","utilEvent","passive","style","scrollBehavior","enqueueForceUpdate","calculateMetrics","propsHandleResizeWindow","setTimeout","position","scrollToPosition","getRtlX","deltaMode","delta","maxPixel","ri","stopPropagation","canScrollH","canScrollV","eventDeltaMode","eventDelta","wheelDeltaY","dir","sign","wheel","overscrollEffectRequired","needToHideScrollbarTrack","getContainerRef","utilDOM","containsDangerously","scrollStartOnScroll","safari","setScrollLeft","setScrollTop","didScroll","scrollByPage","pageDistance","pageKey","overscrollEffect","getEdgeFromPosition","maxPosition","orientation","edge","overscrollEffectType","status","getOverscrollStatus","isVertical","curPos","maxPos","clearAllOverscrollEffects","applyOverscrollEffectOnDrag","targetPosition","oppositeEdge","calculateOverscrollRatio","baseSize","overDistance","min","checkAndApplyOverscrollEffectOnDrag","checkAndApplyOverscrollEffectOnScroll","checkAndApplyOverscrollEffectOnStart","reachedEdgeInfo","moreInfo","getMoreInfo","updateScrollbarTrack","doScrollStop","updatedAnimationInfo","setScrollPositionTarget","scrollAnimation","toBeContinued","curTargetX","curTargetY","setScrollPosition","stopForTranslate","stopForNative","opt","getPositionForScrollTo","itemPos","align","getItemPosition","stickTo","offset","nodeType","getNodePosition","setScrollToPositionTarget","isNaN","scrollbarRef","updateScrollbarTrackSize","curHorizontalScrollbarVisible","curVerticalScrollbarVisible","updatedBounds","Registry","create","hasDataSizeChanged","clampScrollPosition","updateScrollbars","scrollInnerContainer","scrollContentWrapper","scrollContentWrapperNative","voiceProps","scrollFill","handleScroll","getRtlPositionX","scrollContainerContainsDangerously","corner","register","assignPropertiesOf","properties","property","useScroll","itemRefs","collectionOfProperties","scrollbarHandle","iconList","circlelarge","squarelarge","triangleup","plus","minus","arrowup","arrowdown","arrowleftturn","arrowrightturn","arrowharpoonright","ellipsis","check","arrowstraightup","arrowuturn","arrowlargedown","arrowlargeup","arrowlargeleft","arrowlargeright","closex","search","bluetooth2","bluetoothoff","bright1","bright2","bluetooth","usb","volume0","volume1","volume2","wifi","happyface","notification","pairing","user","calendar","edit","gallery","internet","music","video","circle","previous","pairingdisplay","box","play","previoustrack","nexttrack","repeat","shuffle","setting","popupstop","accept","decline","carspeaker","speaker","earphone","detail","install","send","netbook","pad","mobile","backapp","uninstall","rain","raindrops","raincloud","snow","cloud","ice","fog","sun","profileA1","profileA2","profileA3","profileA4","profileB1","profileB2","profileB3","profileB4","profileC1","profileC2","profileC3","profileC4","ac","auto","airmode","airdown","airright","airup","heatseatleft","heatseatright","aircirculation","fan","defrosterfront","defrosterback","airflow","home","temperature","compass","phone","fanoff","datetime","display","seatbelt","apps","climate","dashboard","expand","radio","rearscreen","weather","fullscreen","menu","history","browser","lock","search2","bookmark","star","starhollow","starhalf","refresh","pausebold","playbold","controls","diagnostics","mapbox","displaycontrol","controlleft","controlright","mainpage","playlist","trailer","plusbold","minusbold","iconListSilicon","arrowleft","arrowturnleft","arrowturnright","backspace","triangle","trianglehollow","rewind","rewindprevious","stopsquare","fastforwardnext","fastforward","callaccept","calldecline","calldialing","callmissed","callreceiving","devicesetting","headset","keypad","mic","micmute","car1","car2","carupdate","cardiagnostics","carcharging","carvalet","garagemode","cone","chargingstation","gps","replay","backward10","forward10","remote","light","thumbs","games","unlock","trash","coffee","payment","mail","screenshare","photo","userchange","seatcool","fanhigh","fanlow","zoomin","zoomout","headset2","headsetbluetooth","data","data5g","datalte","calling","contact","bluetoothmusic","bluetoothsignalnone","bluetoothsignal1","bluetoothsignal2","bluetoothsignal3","bluetoothsignal4","battery0","battery1","battery2","battery3","battery4","batteryalert","batterycharging","IconBase","size","spriteCount","append","UiIcon","inline","Pure","IconDecorator","LabeledIconBase","flip","icon","EnactPropTypes","renderableOverride","iconComponent","labelPosition","iconClassName","LayoutBase","CellBase","shrink","iconCell","LabeledIconDecorator","LabeledIcon","ScrollbarTrack","forwardRef","scrollbarTrack","setCSSVariable","element","variable","ReactDOM","findDOMNode","setProperty","useScrollbar","minThumbSize","scrollbarContainerRef","scrollbarTrackRef","hideScrollbarTrackJob","hideScrollbarTrack","classList","remove","removeClass","scrollbarTrackShown","addClass","primaryDimension","trackSize","scrollViewSize","scrollContentSize","scrollbarThumbSizeRatioBase","scrollbarThumbProgressRatio","scrollbarThumbSizeRatio","restProps","scrollbarProps","scrollbar","scrollbarTrackProps","Scrollbar","memo","toFlexAlign","any","renderable","grow","cellSize","alignSelf","flexBasis","Cell","CellDecorator","nowrap","wrapReverse","alignParts","alignItems","justifyContent","LayoutDecorator","Layout","Column","Row","slideInOut","total","p","fill","SlideArranger","amount","SlideRightArranger","SlideBottomArranger","PickerRoot","PickerButtonItem","handleChange","step","increment","decrement","PickerBase","decrementAriaLabel","incrementAriaLabel","handleDecrement","handleFlick","forEventProp","handleIncrement","activeClassName","currentValueText","valueText","values","valueId","decrementValue","incrementValue","isLast","aria-controls","aria-disabled","itemDecrement","aria-valuetext","itemIncrement","PickerDecorator","generateProp","Changeable","Picker","indexOfChild","useWith","findIndex","propEq","identity","mapChildren","c","mergeChildren","unionWith","eqBy","forwardOnAppear","forwardOnEnter","forwardOnLeave","forwardOnStay","forwardOnTransition","forwardOnWillTransition","TransitionGroup","performAppear","currentlyTransitioningKeys","groupRefs","componentWillAppear","_handleDoneAppearing","componentDidAppear","view","completeTransition","noForwarding","currentChildMapping","find","performLeave","performEnter","componentWillEnter","_handleDoneEntering","componentDidEnter","performStay","componentWillStay","_handleDoneStaying","componentDidStay","componentWillLeave","_handleDoneLeaving","componentDidLeave","storeRefs","firstRender","hasMounted","keysToEnter","keysToLeave","keysToStay","activeChildren","reconcileUnmountedChildren","reconcileChildren","prevChildMapping","nextChildMapping","nextChildKeys","prevActiveChildMapping","nextActiveChildMapping","prevChildKeys","droppedKeys","hasNext","isRendered","childrenToRender","isLeaving","currentIndex","childFactory","leaving","appearing","onAppear","onEnter","onLeave","onStay","onTransition","clearEntering","entering","View","enteringJob","prepareTransition","previousIndex","reverseTransition","animation","playState","changeDirection","onfinish","finish","shouldComponentUpdate","nextProps","enteringDelay","enteringProp","startRafAfter","only","ViewManagerBase","handleTransition","handleWillTransition","prevIndex","makeTransitionEvent","childCount","views","ViewManagerDecorator","MarqueeBodyText","MarqueeDecorator","UiBodyText","BodyTextBase","centered","noWrap","marqueeOn","alignment","BodyText","BodyTextDecorator","SliderBase","activateOnFocus","knobStep","onKeyUp","progressAnchor","anyPass","forKey","progressBarComponent","Slider","SliderBehaviorDecorator","SliderDecorator","HeaderBase","title","hideLine","subtitle","titleAbove","standard","subtitleComponent","titleAboveComponent","titleContainer","endSlot","Header","defaultSlot","forwardTransitionEnd","forwardOnShow","forwardOnHide","TransitionBase","childRef","clipHeight","clipWidth","innerStyle","width","overflow","height","transitionDuration","inner","TRANSITION_STATE","Transition","measuringJob","renderState","initialHeight","measureInner","handleTransitionEnd","childNode","initialWidth","prevVisible","idle","nextState","onHide","onShow","textSize","onTransitionEnd","forAction","FloatingLayerContext","FloatingLayerDecorator","floatLayerId","wrappedClassName","getFloatingLayer","floatingLayer","getElementById","handleNotify","setFloatingLayer","registry","notifyMount","handleCloseAll","transparentClassName","scrim","transparent","translucentClassName","translucent","scrimStack","removeTranslucentScrim","pop","show","Scrim","hide","pushTranslucentScrim","forwardWithType","forwardDismiss","forwardClose","forwardOpen","FloatingLayerBase","handleClose","nativeEvent","stopImmediatePropagation","nodeRendered","controller","scrimType","open","renderNode","removeChild","isNewLayer","floatLayerClassName","zIndex","appendChild","noAutoDismiss","onClose","onDismiss","onOpen","createPortal","handleCancel","FloatingLayer","Cancelable","modal","onCancel","ButtonBase","decoration","componentOverride","iconFlip","minWidth","pressed","hasIcon","bg","client","ButtonDecorator","Button","platforms","regex","forceVersion","extra","silk","luneos","legacy","_platform","detect","gesture","unknown","userAgent","navigator","plat","msMaxTouchPoints","maxTouchPoints","msManipulationViewsEnabled","touchscreen","PointerEvent","matchMedia","matches","exec","Number","platformName","parseUserAgent","uniq","defineProperty","enumerable","get","baseScreen","riRatio","screenType","screenTypeObject","workspaceBounds","screenTypes","pxPerRem","aspectRatioName","unitToPixelFactors","getScreenTypeObject","elem","defineScreenTypes","types","init","getScreenType","rez","bestMatch","swap","calculateFontSize","scrObj","orientationHandling","getResolutionClasses","toLowerCase","getRiRatio","getUnitToPixelFactors","getAspectRatio","getAspectRatioName","px","pixels","toUnit","substr","scaleToRem","selectSrc","src","newSrc","fhd","uhd","hd","args","measurementNode","updateWorkspaceBounds","rem","updateBaseFontSize","documentElement","fontSize","ResolutionDecorator","dynamic","didClassesChange","resolutionClasses","rootNode","prevClassNames","require","PackedBuffer","buffer","prototype","getLongs","num","longnum","getLong","longs","getBytes","bytenum","getByte","bytes","getUnsignedBytes","getString","arr","str","String","fromCharCode","skip","useEventKey","addGlobalKeyDownEventListener","capture","removeGlobalKeyDownEventListener","useSpottable","instances","handleLeaveContainer","scrollBounds","scrollPos","isVerticalDirection","pos","scrollAndFocusScrollbarButton","configureSpotlight","onLeaveContainer","onLeaveContainerFail","useSpotlightConfig","setContainerDisabled","getSpotlightContainerForNode","spotlightContainer","expandableContainer","parentNode","calculateScrollTop","item","threshold","calcItemAtStart","ib","sb","st","d","calcItemInView","sh","isItemBeforeView","roundToStart","isItemAfterView","roundToEnd","calcItemAtEnd","container","scrollerBounds","scrollTopDelta","containerBounds","calculateScrollLeft","scrollPosition","scrollContentNode","itemLeft","itemWidth","getFocusedItemBounds","rtlDirection","containerLeft","scrollLastPosition","currentScrollLeft","newItemLeft","nextScrollLeft","onUpdate","calculatePositionOnFocus","containerNode","isHorizontal","containerRect","getRect","itemRect","focusOnNode","useThemeScroller","scrollContainerHandle","setThemeScrollContentHandle","Scroller","ScrollContentWrapper","resizeContextProps","scrollContainerProps","scrollInnerContainerProps","scrollContentWrapperProps","scrollContentProps","verticalScrollbarProps","horizontalScrollbarProps","themeScrollContentProps","focusableScrollbar","preventBubblingOnKeyDown","scrollDownAriaLabel","scrollLeftAriaLabel","scrollRightAriaLabel","scrollUpAriaLabel","restrict","resBundle","getResBundle","opts","lengthen","ResBundle","getIStringFromBundle","rb","isObject","IString","STATE","MarqueeControllerContext","MarqueeController","marqueeOnFocus","forwardBlur","forwardFocus","doCancel","handleRegister","needsStart","allInactive","isFocused","dispatch","handleUnregister","wasRunning","anyRunning","handleStart","markAll","isHovered","handleComplete","markReady","handleFocus","childContext","controlledComponent","onFocus","MarqueeBase","invalidateProps","marqueeDirection","TimerState","configClassName","MarqueeComponent","forwardEnter","forwardLeave","determineTextDirection","forceDirection","textContent","promoteJob","contentFits","promoted","demoteJob","animating","delay","marqueeDelay","marqueeDisabled","clearTimeout","demote","tryStartingAnimation","timerState","startAnimation","promote","restartAnimation","resetAnimation","marqueeResetDelay","cancelAnimation","invalidateMetrics","handleMarqueeComplete","handleUnhover","handlePointerHide","cacheNode","distance","validateTextDirection","marqueeOnRenderDelay","shallowEqual","marqueeSpacing","marqueeSpeed","forceRestartMarquee","propList","prev","shouldStartMarquee","timer","moveChildren","childNodes","measureWidths","wrapper","getSpacing","calculateDistance","shouldAnimate","calculateTextOverflow","test","parseFloat","renderMarquee","marqueeOnHover","marqueeOnRender","marqueeCentered","remeasure","clientRef","onMarqueeComplete","speed","willAnimate","renderWrapped","Consumer","Marquee","ImageOverride","imageComponent","ImageItemBase","placeholder","Image","image","caption","MarqueeImageItem","UiImageItem","captionPosition","captionOverlay","marqueeProps","ImageBase","ImageItem","ImageItemDecorator","ContainerDiv","DropdownBase","buttonClassName","transitionContainerClassname","transitionContainer","openTransitionContainer","upTransitionContainer","dropdownButtonClassname","dropdownButton","upDropdownButton","dropdownListClassname","dropdownList","dropdownListWithScroller","isSelectedValid","transitionDirection","hasChildren","opened","DropDownButton","wrapperProps","groupProps","childComponent","RadioItem","itemProps","dropDownListItem","selectedProp","Item","slot","spotlightDisabled","spotlightRestrict","scroller","group","Dropdown","change","DropdownDecorator","Config","mergeComponentMetadata","storiesOf","boolean","select","text","UiButton","casing","colors","icons","joinedPosition","animateOnRender","animationDelay","backgroundOpacity","badge","badgeColor","highlighted","Checkbox","info","CheckboxItem","ColorPicker","ColorPickerBase","presets","StoryOptions","groupId","ContextualButton","ContextualPopupDecorator","renderPopup","textAlign","marginTop","popupComponent","showCloseButton","DateTimePicker","removeProps","Drawer","DrawerBase","HeadingConfig","Heading","HeadingBase","headingValues","sizes","spacings","drawerColors","opacityRange","range","noDrawerAnimation","drawerBackgroundColor","drawerBackgroundOpacity","drawerStyle","hex","opacity","background","convert","rgb","galliumNote","color","showLine","href","itemCount","items","Fragment","childrenSelection","knobProps","spacingIndicator","spacingNote","SkinnedIcon","iconNames","emptify","docs","factory","logo","showline","IncrementSlider","IncrementSliderBase","decrementIcon","decrementIcons","incrementIcon","incrementIcons","noFill","UiButtonBase","UiButtonDecorator","InputBase","Input","dismissOnEnter","iconAfter","iconBefore","invalid","invalidMessage","UiItemBase","UiItem","ItemBase","slotBeforeIcon","slotAfterIcon","slotAfter","subText","slotBefore","UiLabeledIconBase","UiLabeledIcon","LabeledIconButton","HeaderConfig","noScroller","noPanel","FirstPanel","SecondPanel","BasicPanels","setIndex","noCloseButton","onApplicationClose","onBack","noPanels","padding","PopupBase","closeButton","PopupMenu","Story","menuOpen","setMenuOpen","closeButtonLabel","cannotClose","ProgressBar","UiProgressBar","ProgressBarBase","progress","RangePicker","ScrollerConfig","UiScrollerBasic","SliderButton","SliderButtonBase","3","5","Spinner","UiSpinnerBase","UiSpinner","SpinnerBase","outline","backgroundColor","borderBottomWidth","fontWeight","fontStyle","blockClickOn","SwitchItem","offText","onText","TabbedPanelsBase","panelIndex","tabPosition","tabs","ThumbnailItem","ToggleButton","UIButtonBase","UIButton","ToggleButtonBase","toggleOffLabel","toggleOnLabel","underline","TooltipButton","TooltipDecorator","tooltipDestinationProp","tooltipText","wrapOption","false","true","updateDataSize","itemNumberDigits","headingZeros","VirtualListConfig","UiVirtualListBasic","VirtualList","itemStyle","borderBottom","ItemContent","content","hasLabel","labelAbove","labelAfter","labelBefore","labelBelow","contentElement","UiItemDecorator","ItemDecorator","ApplicationCloseButton","ariaLabel","ControlsBase","closeButtonAriaLabel","close","Controls","ViewportBase","addTransitioningClass","transitioning","removeTransitioningClass","getArranger","VerticalArranger","HorizontalArranger","getEnteringProp","delete","mappedChildren","viewport","SharedState","Viewport","SharedStateDecorator","getControlsId","controlsMeasurements","controlsRef","cover","noSharedState","controlsId","owns","viewportId","PanelsDecorator","deprecate","thing","componentName","location","propFullName","isRenderable","deprecated","warn","includesLocale","localeList","ScriptInfo","script","getScriptDirection","_load","manifest","ilibData","cache","resBundleData","setLocale","initCaseMappers","calcProportion","emitChange","newValue","s","calcStep","proportion","isActive","either","atMinimum","atMaximum","forwardOnlyType","forwardSpotlightEvents","lastPointer","useEventFocus","spottable","themeScrollContentHandle","alertScrollbarTrack","calculateAndScrollTo","positionFn","spotItem","lastPos","lastScrollPositionOnFocus","contentRect","scrollHorizontally","scrollVertically","animateOnFocus","startScrollOnFocus","shouldPreventScrollByFocus","isWheeling","indexToFocus","setLastFocusedNode","scrollers","Map","pointerTracker","pageKeyHandler","elementFromPoint","scrollByPageOnPointerMode","useEventMonitor","lastPointerProp","pageKeyHandlerObj","useEventVoice","onScrollbarButtonClick","isVoiceControl","voiceControlDirection","isReachedEdge","ltrBound","rtlBound","bound","handleVoice","verticalDirection","horizontalDirection","webOSVoiceReportActionResult","voiceUi","exception","isPreviousScrollButton","isVerticalScrollBar","addVoiceEventListener","webos","setAttribute","removeVoiceEventListener","removeAttribute","stopVoice","scrollContainerNode","viewportBounds","spotItemBounds","nodes","getSpottableDescendants","first","nodeBounds","updateFocusAfterVoiceControl","isScrollButtonFocused","isOneOfScrollButtonsFocused","canScrollingVertically","focusOnScrollButton","focusOnButton","cbAlertScrollbarTrack","onNextScroll","onPrevScroll","navigableFilter","scrollbarCss","scrollButton","reverseDirections","down","up","dataIndexAttribute","getIntersectingElement","intersects","isIntersecting","getTargetInViewByDirectionFromPosition","getTargetByDirectionFromPosition","getActiveContainer","useThemeScroll","contextSharedState","nodeToFocus","pointToFocus","restoreScrollPosition","useSpotlightRestore","handleWheel","focusedItem","handleWheelNative","useEventWheel","handleKeyDown","isContent","isUp","directionFactor","scrollPossible","contentNode","clientRect","yAdjust","pauseSpotlight","getDirection","handleDragEnd","handleDragStart","isFlicked","useEventMouse","instnaces","useEventTouch","focusOnItem","focusByIndex","elemFromPoint","closest","spottableClass","handleScrollerUpdate","downButtonAriaLabel","upButtonAriaLabel","rightButtonAriaLabel","leftButtonAriaLabel","useThemeScrollContentHandle","scrollProps","focusableScrollButtons","nextButtonAriaLabel","onKeyDownButton","previousButtonAriaLabel","aria-pressed","ThumbnailItemBase","thumbnail","ScrollButtonBase","ScrollButton","prepareButton","isPrev","preparePrevButton","prepareNextButton","consumeEvent","useScrollButtons","prevButtonDisabled","setPrevButtonDisabled","nextButtonDisabled","setNextButtonDisabled","nextButtonRef","createRef","prevButtonRef","onKeyDownNext","onKeyDownPrev","onClickPrev","onClickNext","preventBubbling","isNextButton","isPrevButton","nextButton","click","prevButton","currentButton","oppositeButton","isDown","isLeftMovement","isRightMovement","fromNextToPrev","fromPrevToNext","focusOnOppositeScrollButton","buttonNode","directionToContent","isLeavingDown","isLeavingUp","isLeavingLeft","isLeavingRight","getTargetByDirectionFromElement","nextIcon","prevIcon","updateButtons","currentPos","shouldDisablePrevButton","shouldDisableNextButton","updateNextButton","ScrollbarBase","scrollbarButtonsProps","useScrollbarBase","useThemeScrollbar","uiUpdate","data-spotlight-overflow","idProp","updateOnMount","sharedState","initSharedState","loadFromContext","isUpdateable","LabeledIconButtonBase","UiLabeledIconDecorator","LabeledIconButtonDecorator","InputDecoratorIconBase","InputDecoratorIcon","onlyUpdateForKeys","capturedDown","shouldCapture","isCapturing","setCapturing","capturing","handlePointerDown","handlePointerUp","handleTap","releasePointer","isBubbling","SELECTABLE_TYPES","isSelectionAtLocation","selectionStart","InputSpotlightDecorator","noLockPointer","emulateMouse","forwardMouseDown","forwardKeyUp","updateFocus","focusDecorator","decorator","focusInput","relatedTarget","setDownTarget","downTarget","_","onSpotlightDisappear","isLeft","isRight","shouldSpotlightMove","stopImmediate","inputProps","extractInputProps","input","tabIndex","gridListItemSizeShape","minHeight","VirtualListBaseFactory","VirtualListCore","firstVisibleIndex","lastVisibleIndex","primary","secondary","isPrimaryDirectionVertical","isItemSized","shouldUpdateBounds","dimensionToExtent","maxFirstIndex","curDataSize","cc","scrollPositionTarget","itemPositions","indexToScrollIntoView","updateScrollPosition","getItemBottomPosition","itemPosition","gridSize","getItemTopPositionFromPreviousItemBottomPosition","getGridPosition","primaryPosition","gridPositionToItemPosition","secondaryPosition","getXY","getClientSize","getStatesAndUpdateBounds","firstIndex","updateStatesAndBounds","numOfItems","ceil","wasFirstIndexMax","dataSizeDiff","newFirstIndex","calculateScrollBounds","updateMoreInfo","calculateFirstIndex","setContainerSize","contentRef","getItemNode","itemContainerRef","applyStyleToNewNode","getComponentProps","itemElement","componentProps","listItem","composeStyle","applyStyleToHideNode","getScrollHeight","getVirtualScrollDimension","getScrollWidth","prevChildProps","prevFirstIndex","updateFrom","updateTo","shouldInvalidate","diff","emitUpdateItems","adjustItemPositionWithItemSize","itemBounds","equals","newState","xMax","yMax","extent","floor","firstIndexInExtent","calculateAndCacheItemPosition","lastIndex","heightInfo","minItemSize","widthInfo","thresholdBase","Infinity","maxOfMin","numOfUpperLine","firstIndexFromPosition","expectedFirstIndex","syncThreshold","newThresholdMin","newThresholdMax","overhangBefore","firstRenderedIndex","diffToFirstIndex","firstExtent","applyItemPositionToDOMElement","updateThresholdWithItemPosition","updateScrollBoundsWithItemPositions","scrollBoundsDimension","acc","cur","endPosition","positionItems","hideTo","j","getContainerClasses","containerClass","virtualList","getContentClasses","itemsRenderer","containerClasses","contentClasses","onUpdateItems","data-webos-voice-focused","data-webos-voice-group-label","VirtualListBase","itemSizesShape","minSize","VirtualListBasic","scrollToPositionTarget","optionalOffset","itemNode","itemContainerRefs","getAffordance","placeholderRenderer","scrollModeNative","native","data-webos-voice-disabled","VirtualGridList","forEachObj","oneOrArray","addOne","removeOne","addAll","pageUp","pageDown","toLowerCaseMapper","toUpperCaseMapper","CaseMapper","toUpperCase","inString","mergeStyle","backgroundImage","dingbat","iconProps","iconProp","fromCodePoint","isUri","aria-hidden","progressToProportion","calcBarStyle","anchor","startProp","endProp","backgroundProgress","fillOverHalf","loadOverHalf","bar","OpenState","forwardHide","PopupState","handleFloatingLayerOpen","popupOpen","handlePopupHide","floatLayerOpen","activator","prevOpen","RepeaterBase","childProp","indexProp","Repeater","RepeaterDecorator","isSelected","mode","GroupItemBase","handleSelect","$$GroupItem","selectedEventProp","selectItem","childSelect","GroupBase","pickGroupItemProps","GroupItem","Group","CheckboxBase","CheckboxItemBase","data-webos-voice-intent","CheckboxItemDecorator","RadioItemBase","RadioItemDecorator","applyOffset","IntersectionObserver","root","entries","observer","boundingClientRect","rootLeft","rootRight","rootBounds","aria","clientClassName","clientStyle","rtlDirectionMultiplier","textOverflow","duplicate","validateRangeOnce","valueName","minName","maxName","validateSteppedOnce","stepName","RangePickerBase","running","scrimClassName","spinnerContainerClassName","spinnerContainer","SpinnerDecorator","footer","drawerTransitionContainer","DrawerDecorator","SliderKnob","tooltipComponent","SliderProgress","knobComponent","SliderButtonDecorator","SpinnerCore","spinnerNodes","aria-live","SwatchButtonBase","colorSwatchStyle","colorSwatch","SwatchButton","SwatchButtonDecorator","convertToHSL","charAt","hsl","extended","onHueChanged","onLightnessChanged","onSaturationChanged","onToggleExtended","sliderValues","palette","swatch","sliders","ColorPickerExtended","buildValue","h","l","clickedOutsidePalette","handleToggleExtended","handleSlider","sliderValue","defaultExtended","ColorPickerDecorator","IncrementSliderButtonBase","IncrementSliderButton","OnlyUpdate","onDecrementSpotlightDisappear","onIncrementSpotlightDisappear","onSpotlightDirection","onSpotlightDown","onSpotlightLeft","onSpotlightRight","onSpotlightUp","onDecrement","onIncrement","slider","isIncrement","incrementButton","isDecrement","decrementButton","decrementDisabled","incrementDisabled","ariaHidden","ariaProps","extractAriaProps","prefix","emitSpotlightEvents","IncrementSliderDecorator","timeout","run","cancelIdleCallback","throttle","throttleUntil","idleUntil","requestIdleCallback","startRaf","timestamp","apply","unless","isType","Function","always","coerceArray","tag","ReactIs","mergeClassNameMaps","baseMap","additiveMap","allowedClassNames","memoize","mapAndFilterChildren","getImpl","url","XMLHttpRequest","xhr","beforeSend","r","err","resp","statusCode","response","json","JSON","parse","getSync","reject","iLibBase","ILIB_BASE_PATH","iLibResources","ILIB_RESOURCES_PATH","cacheID","ILIB_CACHE_ID","EnyoLoader","Loader","_createZoneFile","path","zone","substring","ZoneInfoFile","getIlibZoneInfo","Date","_pathjoin","_root","subpath","_loadFilesAsync","params","rootPath","cacheItem","loadManifests","isAvailable","localeBase","defaultInfo","_loadFilesCache","paths","_validateCache","localStorage","stored","getItem","stringify","removeItem","_storeFilesCache","setItem","_cacheValidated","cachePrefix","loadFiles","ret","locdata","found","loadManifestsSync","results","_handleManifest","dirpath","filepath","files","_loadManifest","cachedManifest","setLoaderCallback","UILocale","TabBase","tabLabel","labeledIcon","Tab","TabGroupBase","afterTabs","beforeTabs","selectedIndex","tab","tabEnds","tabGroup","TabGroup","viewProps","column","tabOrientation","panels","TabbedPanels","param","Handlers","Ctor","_handlers","windowCallbacks","isWindowReady","Accelerator","processKey","event","reset","canceled","elapsedTime","seconds","toSkip","accelerating","skipped","isAccelerating","configHoc","MeasurableHoc","measurement","setMeasurement","refToMeasure","entry","MutationObserver","mutationObserver","mutationsList","mutation","attributeName","attributes","childList","subtree","useMeasurable","measurementProps","GlobalId","idPrefix","onUnmount","useHintOnActive","useHintText","toggleActive","handleSpotlightEvents","dragging","prevValue","getValueText","ariaValueText","verticalHint","horizontalHint","alt","onError","sizing","bgImage","imageSrc","imgSrc","img","draggable","ResponsiveImageDecorator","ImageDecorator","ScrollerBasic","nodeLeft","nodeTop","nodeHeight","nodeWidth","containerTop","mergedStyle","overflowX","overflowY","ScrollerBase","Knob","PositionDecorator","handleDrag","emitChangeForPosition","offsetX","offsetY","updateBounds","updateOffset","knob","rect","centerX","centerY","percent","generate","useIdProvider","provider","useId","cancelHandlers","forCancel","ok","modals","dispatchToModals","handled","onCancelIsString","onCancelIsFunction","dispatchCancelToConfig","stopped","cancelEvent","handleKeyUp","isFirstRender","removeModal","renderUnwrapped","renderModal","ToggleIconBase","iconClasses","IconComponent","ToggleIcon","ToggleIconDecorator","TransitionContainer","buttons","withCloseButton","withTitle","transitionType","wideLayout","popupTransitionContainer","Popup","PopupDecorator","DateTimeBase","pickers","toTime","date","getTime","DateTimeDecorator","customProps","defaultOrder","memoizedI18nConfig","updateValue","day","month","year","maxDays","cal","getMonLength","DateFactory","getTimeExtended","changed","getJSDate","handlePickerChange","toIDate","initialValue","pickerValue","unixtime","timezone","order","i18nConfig","instanceOf","DateTime","DateComponentPickerBase","DateComponentPicker","DateComponentRangePickerBase","DateComponentRangePicker","DatePickerBase","maxMonths","dayAriaLabel","maxYear","minYear","monthAriaLabel","onChangeDate","onChangeMonth","onChangeYear","yearAriaLabel","picker","getLabelFormatter","DateFmt","useNative","dateTimeConfig","getYears","getMonths","getDays","formatter","getNumMonths","toLocalYear","getTemplate","replace","match","julianday","getJulianDay","DatePicker","hours24","hours12","HourPicker","hasMeridiem","hours","TimePickerBase","hour","meridiem","minute","hourAriaLabel","meridiemAriaLabel","meridiems","minuteAriaLabel","onChangeHour","onChangeMeridiem","onChangeMinute","meridiemPickerWidth","hourPicker","minutePicker","meridiemPicker","toMinutes","colon","calcMeridiemRange","meridiemLabels","meridiemEnabled","minutes","getHours","getMinutes","indexOfMeridiem","meridiemRanges","currentTime","currentHour","template","getMeridiemsRange","getClock","TimePicker","DateTimePickerBase","dateTimePicker","SwitchBase","animated","Switch","SwitchItemBase","aria-checked","switchIcon","SwitchItemDecorator","mergeFn","userValue","hawk","defaults","maybeWrapped","mergeDeepWithKey","propComparators","hasChanged","comparators","propKeys","nextKeys","hasOwn","hasOwnProperty","comp","isSpottable","lastSelectTarget","selectCancelled","shouldEmulateMouse","which","selectionKeys","keyboardAccessible","nodeName","isKeyboardAccessible","forwardAndResetLastSelectTarget","notPrevented","defaultPrevented","allow","isActionable","shouldPreventBlur","focusedWhenDisabled","isMuted","containers","getContainersForNode","containerId","elementMatchesSelector","selector","matchedNodes","querySelectorAll","Element","matchesSelector","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","matchSelector","parseSelector","ex","testIntersection","elementRect","L","R","T","B","aroundV","aroundH","cr","center","getPointRect","getRects","candidates","getContainerRect","getContainerNode","getViewportRect","makeHandler","hasPropsAndContext","decorateHandleFunction","_outer","prepareHandleArgs","caller","cleanup","handleWithFinally","cond","callOnEvent","methodName","prevented","wrappedEvent","forKeyCode","log","method","adapter","forwardCustom","PopupMenuBase","PopupMenuDecorator","toIString","isEnter","getNumberValue","findSpottableItem","indexFrom","indexTo","getNextIndex","row","isDownKey","isUpKey","isNextRow","isNextAdjacent","isBackward","isWrapped","nextIndex","handle5WayKeyUp","handleDirectionKeyDown","handlePageUpDownKeyDown","spotlightAcceleratorProcessKey","isNotItem","candidate","candidateIndex","directions","isScrollbarVisible","usePreventScroll","preventScroll","preservedIndex","lastSpotlightDirection","restoreLastFocused","restoreFocus","isPlaceholderFocused","vlPlaceholder","isScrolledByJump","foundLastFocused","handlePlaceholderFocus","handleRestoreLastFocus","setPreservedIndex","SpotlightAccelerator","SpotlightPlaceholder","isScrolledBy5way","isWrappedBy5way","lastFocusedIndex","lastFocusedPersist","lastFocusedRestore","el","obliqueMultiplier","eventType","onAcceleratedKeyDown","nextTargetIndex","handleGlobalKeyDown","nextRow","startBoundary","endBoundary","returnVal","offsetToClientEnd","focusedIndex","getAttribute","gridPosition","useThemeVirtualList","itemRest","data-vl-placeholder","Tag","UiHeading","HeadingDecorator","basePath","ILIB_AGATE_PATH","distributeChild","hasSlot","newProps","propNames","distribute","slotNames","remaining","useSlots","slotProps","k","distributed","dist","concat","_initialized","_duringFocusChange","_5WayKeyHold","_spotOnWindowFocus","_pointerMoveDuringKeyPress","evt","shouldPreventNavigation","getAllContainerIds","setPlatformPointerMode","focusElement","containerIds","fromPointer","setContainerLastFocusedElement","currentFocusedElement","focusOptions","isWithinOverflowContainer","silentFocus","focusChanged","setLastContainer","lastContainerId","getLastContainer","lastFocused","getContainerConfig","getNearestTargetFromPosition","getContainerLastFocusedElement","rootContainerId","spotNext","currentContainerIds","currentContainerId","nextContainerIds","isContainer5WayHoldable","notifyLeaveContainer","setContainerPreviousTarget","notifyEnterContainer","notifyLeaveContainerFail","handleWebOSMouseEvent","handleKeyboardStateChangeEvent","lastFocusedElement","isContainer","spotNextFromPoint","getNavigableTarget","setLastContainerFromTarget","onMouseOver","initialize","containerDefaults","configureDefaults","configureContainer","terminate","clear","removeAllContainers","setDefaultContainer","addContainer","unmount","unmountContainer","removeContainer","setActiveContainer","disableSelector","selectorDisabled","enableSelector","wasContainerId","getTargetByContainer","getTargetBySelector","getContainerId","nextContainerId","isNavigable","mayActivateContainer","isFocusable","PureComponent","oldValue","rendered","webpackEmptyContext","that","overrideMimeType","onload","byteArray","Uint8Array","charCodeAt","_parseInfo","onerror","packed","tzh_ttisgmtcnt","tzh_ttisstdcnt","tzh_leapcnt","tzh_timecnt","tzh_typecnt","tzh_charcnt","transitionTimes","ruleIndex","zoneInfo","isdst","abbreviationIndex","allAbbreviations","abbreviation","savings","tti","standardTime","daylightTime","defaultTime","bsearch","high","low","mid","usesDST","thisYear","nextYear","getRawOffset","getDSTSavings","getDSTStartDate","getFullYear","startDate","getDSTEndDate","endDate","getAbbreviation","abbr","getDSTAbbreviation","minutesToStr","unixtimeToJD","millis","f","datasetDangerously","getBoundingClientRectDangerously","getRectDangerously","removeAttributeDangerously","scrollLeftDangerously","scrollTopDangerously","setAttributeDangerously","optProps","renderComputed","addInternalProp","writable","configCss","renderStyles","cn","joinedClassName","NoContext","cfgComputed","functional","cfgStyles","renderKind","ctx","defaultPropKeys","handlerKeys","_props","withRef","listIcons","mediaIcons","arrowIcons","starIcons","iconsSilicon","rtlPattern","isRtlText","TooltipLabel","multi","TooltipBase","arrowAnchor","labelOffset","relative","tooltipRef","cappedPosition","absolute","tooltipAnchor","tooltipArrow","Tooltip","getLabelOffset","tooltipNode","tooltipDirection","tooltipPosition","tooltipWidth","isOverWide","isOverCenterLeft","isOverCenterRight","pixelOffset","percentageOffset","offsetBoundaryPercentage","getLabelUnavailableSpace","currentTooltip","screenEdgeKeepout","showTooltipJob","showing","setTooltipLayoutJob","setTooltipLayout","startTooltipLayoutJob","tooltipUpdateDelay","showTooltip","tooltipDelay","hideTooltip","handleMouseOver","handleMouseOut","getTooltipRef","clientNode","calcOverflow","edgeKeepout","windowWidth","windowHeight","clientHorizontalCenter","tooltipSafeWidth","tooltipCenterdSafeWidth","isTooltipWide","isOverTop","isOverBottom","isOverLeft","isOverRight","adjustDirection","adjustAnchor","getPosition","renderTooltip","tooltipRelative","tooltipProps","renderedTooltip","onMouseOut","SpotlightRootDecorator","noAutoFocus","customSkin","float","overlay","spotlight","CustomizableSkinStyle","accent","highlight","cssRules","accentObj","highlightObj","styleRules","rule","ThemeDecorator","bgClassName","App","pointerHide","pointerShow","SkinFrame","reloadPage","protocol","host","pathname","description","Wrapper","panel","storyBody","FullscreenBase","Theme","locales","getPropFromURL","propName","fallbackValue","encodeURI","locationParams","startIndex","keyIndex","valueIndex","decodeURIComponent","memory","StorybookDecorator","story","sample","defaultColors","skinFromURL","currentSkin","newSkin","accentFromURL","highlightFromURL","localeFromURL","currentLocale","allSkins","skinKnobs","parameters","trim","stories","mod","configureActions","addDecorator","withKnobs","Environment","loadStories","ApiDecorator","api","setProvider","configurable","setApiProvider","ContextualPopupArrow","arrow","viewBox","arrowFill","ContextualPopupRoot","ContextualPopupBase","arrowPosition","containerPosition","onCloseButtonClick","arrowDirection","fixedSize","reserveClose","contextualPopup","ContextualPopupContainer","ContextualPopup","noSkin","openProp","getContainerAdjustedPosition","adjustedDirection","positionContextualPopup","getArrowPosition","getContainerPosition","getClientNode","handleOpen","updateLeaveFor","spotPopupContent","hasSpottables","spotlessSpotlightModal","shouldSpotPopup","handleDirectionalKey","handleContainerKeyDown","spotActivator","spottableDescendants","popupSpotlightId","ARROW_OFFSET","ARROW_WIDTH","KEEPOUT","MARGIN","getSnapshotBeforeUpdate","snapshot","containerWidth","getContainerNodeWidth","shouldSpotActivator","leaveFor","centerContainerPosition","adjustRTL","containerHeight","tmpLeft","voiceExclusive","PopupComponent","popupClassName","popupProps","popupPropsRef","contextualPopupDecorator","data-webos-voice-exclusive","calcGroupId","calcNextGridPosition","partition","rects","targetRect","straightOverlapThreshold","getGroupId","groups","navigate","partitionRect","distanceFunction","generateDistancefunction","nearPlumbLineIsBetter","nearHorizonIsBetter","nearTargetBottomIsBetter","nearTargetLeftIsBetter","nearTargetRightIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","straightMultiplier","straightOnly","destRect","calcNextExtendedGridPosition","internalGroups","priorities","targetEdge","difference","minDistance","multiplier","destGroup","prioritize","destPriority","destDistance","destDifference","calcDistance","pow","verifySelector","getContainersToSearch","addRange","getDefaultContainer","getContainerFocusTarget","isRestrictedContainer","getSpottableDescendantsWithoutContainers","filterRects","elementRects","boundingRect","topUpdate","bottomUpdate","leftUpdate","rightUpdate","getContainerContainingRect","overlapping","getOverflowContainerRect","nextConfig","extSelector","getNavigableContainersForNode","reduceRight","elementContainerIds","getTargetInContainerByDirectionFromElement","elements","getContainerPreviousTarget","spotlightOverflow","overlappingContainerId","partitionContainer","lastNavigated","getLeaveForTarget","pointerRect","getTargetInContainerByDirectionFromPosition","positionRect","getNearestTargetInContainerFromPosition","getNearestTargetsInContainerFromPosition","getOffsetDistanceToTargetFromPosition","getDistanceToTargetFromPosition","containerConfigs","_ids","_defaultContainerId","_lastContainerId","GlobalConfig","lastFocusedKey","onEnterContainer","rememberSource","tabIndexIgnoreList","isContainerNode","mapContainers","nodeOrId","has","getContainerSelector","and","isContainerEnabled","spottableSelector","subContainerSelector","getSubContainerSelector","includeSelector","excludeSelector","include","exclude","getOwnedNodes","getDeepSpottableDescendants","excludedContainers","selfOnlyIndex","verify","offsetWidth","offsetHeight","isActiveContainer","getContainerNavigableElements","preferredEnterTo","getContainerDefaultElement","defaultElementSelector","spottables","restoreLastFocusedElement","destination","persistLastFocusedElement","containsContainer","outerContainerId","innerContainerId","outer","currentContainers","currentOuterContainerId","currentContainerConfig","targetContainers","targetInnerContainer","intersection","some","previousContainerIds","addParameters","theme","brandTitle","brandUrl","brandImage","isFullscreen","panelPosition","showNav","showPanel","withInfo","isNewPointerPosition","SpotlightContainer","containerConfig","onBlurCapture","onFocusCapture","silentBlur","onPointerEnter","onPointerLeave","parentContainer","activeContainer","canPreserveId","attr","setProps","muted","releaseContainer","useSpotlightContainer","callContext","containerHandlers","spotlightMuted","SpotlightContainerDecoratorAdapter"],"mappings":"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","file":"main.578f9bfcae959192aa8e.bundle.js","sourcesContent":["import classnames from 'classnames';\n\nconst objectify = (arg) => {\n\t// undefined, null, empty string case\n\t// bail early\n\tif (!arg) return {};\n\n\tif (typeof arg === 'string') {\n\t\t// String case, convert to array for processing\n\t\targ = arg.split(' ');\n\t}\n\n\tif (arg instanceof Array) {\n\t\t// Convert array values into object properties\n\t\treturn arg.reduce((obj, a) => {\n\t\t\tobj[a] = true;\n\t\t\treturn obj;\n\t\t}, {});\n\t} else if (typeof arg === 'object') {\n\t\t// Can just return objects as-is\n\t\treturn arg;\n\t} else {\n\t\t// Invalid, return an empty object\n\t\treturn {};\n\t}\n};\n\nconst preferDefined = (a, b) => ((a != null) ? a : b);\n\n/**\n * Determines the effective skin\n *\n * @param {String} defaultSkin The local default for this instance of useSkins\n * @param {String} authorSkin  The author-provided skin value\n * @param {String} parentSkin  The inherited skin value from an upstream useSkins\n * @private\n */\nfunction determineSkin (defaultSkin, authorSkin, parentSkin) {\n\treturn authorSkin || defaultSkin || parentSkin;\n}\n\n/**\n * Determines the effective skin variant\n *\n * @param {String|String[]} defaultVariants The local default variants for this instance\n * @param {String|String[]} allowedVariants The allowed variants for this instance\n * @param {String|String[]} authorVariants  The author-provided variants\n * @param {String|String[]} parentVariants  The inherited variants from an upstream useSkins\n * @private\n */\nfunction determineVariants (defaultVariants, allowedVariants, authorVariants, parentVariants) {\n\tif (!allowedVariants || !(allowedVariants instanceof Array)) {\n\t\t// There are no allowed variants, so just return an empty object, indicating that there are no viable determined variants.\n\t\treturn {};\n\t}\n\n\tdefaultVariants = objectify(defaultVariants);\n\tauthorVariants = objectify(authorVariants);\n\tparentVariants = objectify(parentVariants);\n\n\t// Merge all of the variants objects, preferring values in objects from left to right.\n\tconst mergedObj = [defaultVariants, parentVariants, authorVariants].reduce(\n\t\t(obj, a) => {\n\t\t\tif (a) {\n\t\t\t\tObject.keys(a).forEach(key => {\n\t\t\t\t\tobj[key] = preferDefined(a[key], obj[key]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn obj;\n\t\t},\n\t\t{}\n\t);\n\n\t// Clean up the merged object\n\tfor (const key in mergedObj) {\n\t\t// Delete keys that are null or undefined and delete keys that aren't allowed\n\t\tif (mergedObj[key] == null || !allowedVariants.includes(key)) {\n\t\t\tdelete mergedObj[key];\n\t\t}\n\t}\n\n\treturn mergedObj;\n}\n\nfunction getClassName (skins, effectiveSkin, variants) {\n\tconst skin = skins && skins[effectiveSkin];\n\n\t// only apply the skin class if it's set and different from the \"current\" skin as\n\t// defined by the value in context\n\treturn classnames(skin, variants);\n}\n\n\nexport {\n\tdetermineSkin,\n\tdetermineVariants,\n\tgetClassName,\n\tobjectify,\n\tpreferDefined\n};\n","import React, {useMemo} from 'react';\n\nimport {determineSkin, determineVariants, getClassName} from './util';\n\n/**\n * Allows a component to respond to skin changes via the Context API\n *\n * Example:\n * ```\n * <App skin=\"dark\">\n * \t<Section>\n * \t\t<Button>Gray Button</Button>\n * \t<Section>\n * \t<Popup skin=\"light\">\n * \t\t<Button>White Button</Button>\n * \t</Popup>\n * </App>\n * ```\n *\n * @class SkinContext\n * @memberof ui/Skinnable\n * @private\n */\nconst SkinContext = React.createContext(null);\n\n/**\n * Configuration for `useSkins`\n *\n * @typedef {Object} useSkinsConfig\n * @memberof ui/Skinnable\n * @property {String}   defaultSkin       Default skin name when none has been specified or inherited.\n * @property {String[]} [defaultVariants] Default variants when none have been specified or inherited.\n * @property {String}   [skin]            Specific skin to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} skins             List of allowed skins\n * @property {String[]} [skinVariants]    Specific variants to apply to this instance which will take precedence over the default or the inherited value.\n * @property {String[]} [variants]        List of allowed variants\n * @private\n */\n\n/**\n * Object returned by `useSkins`\n *\n * @typedef {Object} useSkinsInterface\n * @memberof ui/Skinnable\n * @property {String}   className    CSS classes for the effective skin and variants.\n * @property {String}   skin         Effective skin based on the allowed skins, the configured.\n *                                   `skin`, the default skin, and the inherited `skin` from up the\n *                                   component tree.\n * @property {String[]} variants     Effective skins variant based on the allowed variants, the\n *                                   configured variants, the default variants, and the inherited\n *                                   variants from up the component tree.\n * @property {Function} provideSkins Wraps a component tree with a skin provider to allow that tree\n *                                   to inherit the effective skin configured at this level.\n * @private\n */\n\n/**\n * Determines the effective skin and skin variants for a component and provides a method to provide\n * those values to other contained components in this subtree.\n *\n * ```\n * function ComponentDecorator (props) {\n *   const skins = useSkins({\n *     defaultSkin: 'neutral',\n *     defaultVariants: [],\n *     skins: ['neutral', 'bold'],\n *     variants: ['highContrast'],\n *     skin: props.skin,\n *     skinVariants: props.skinVariants\n *   });\n *\n *   return skins.provideSkins(\n *     <Component className={classnames(props.className, skins.className)} />\n *   );\n * }\n * ```\n *\n * @param {useSkinsConfig} config Configuration options\n * @returns {useSkinsInterface}\n * @private\n */\nfunction useSkins (config) {\n\tconst {defaultSkin, defaultVariants, skin, skins, skinVariants, variants} = config;\n\n\tconst {parentSkin, parentVariants} = React.useContext(SkinContext) || {};\n\n\tconst effectiveSkin = determineSkin(defaultSkin, skin, parentSkin);\n\tconst effectiveVariants = useMemo(() => determineVariants(defaultVariants, variants, skinVariants, parentVariants), [defaultVariants, variants, skinVariants, parentVariants]);\n\tconst className = getClassName(skins, effectiveSkin, effectiveVariants);\n\tconst value = useMemo(() => ({parentSkin: effectiveSkin, parentVariants: effectiveVariants}), [effectiveSkin, effectiveVariants]);\n\n\tconst provideSkins = React.useCallback((children) => {\n\t\treturn (\n\t\t\t<SkinContext.Provider value={value}>\n\t\t\t\t{children}\n\t\t\t</SkinContext.Provider>\n\t\t);\n\t}, [value]);\n\n\treturn {\n\t\tclassName,\n\t\tskin: effectiveSkin,\n\t\tvariants: effectiveVariants,\n\t\tprovideSkins\n\t};\n}\n\nexport default useSkins;\nexport {\n\tuseSkins\n};\n","/**\n * A higher-order component for customizing the visual appearance throughout an application.\n *\n * This is the base-level implementation of this component. It will typically never be accessed\n * directly, and only be instantiated with a configuration once inside a visual library.\n * Interface libraries will supply a set of supported skins which will\n * be accessible to their components.\n *\n * @module ui/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport classnames from 'classnames';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useSkins from './useSkins';\nimport {objectify} from './util';\n\n/**\n * Default config for `Skinnable`.\n *\n * @memberof ui/Skinnable.Skinnable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * The prop in which to pass the skinVariants value to the wrapped component. The recommended\n\t * value is \"skinVariants\".\n\t *\n\t * If left unset, the skinVariant will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tvariantsProp: null,\n\n\t/**\n\t * The prop in which to pass the effective skin to the wrapped component.\n\t *\n\t * If left unset, the current skin will not be passed to the wrapped component.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tprop: null,\n\n\t/**\n\t * A hash mapping the available skin names to their CSS class name.\n\t *\n\t * The keys are accepted as the only valid values for the `skin` prop on the wrapped component.\n\t *\n\t * @type {Object}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tskins: null,\n\n\t/**\n\t * Assign a default skin from the `skins` list.\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skin` prop.\n\t *\n\t * @type {String}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultSkin: null,\n\n\t/**\n\t * Initial collection of applied variants\n\t *\n\t * This will be used if the instantiator of the wrapped component provides no value to the\n\t * `skinVariants` prop.\n\t *\n\t * @type {String|String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tdefaultVariants: null,\n\n\t/**\n\t * A complete list of all supported variants.\n\t *\n\t * These will translate to CSS class names so should not conflict with any skin names.\n\t * CamelCase is recommended for the values.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Skinnable.Skinnable.defaultConfig\n\t */\n\tallowedVariants: null\n};\n\n/**\n * A higher-order component that assigns skinning classes for the purposes of styling children components.\n *\n * Use the config options to specify the skins your theme has. Set this up in your theme's decorator\n * component to establish your supported skins.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node. Additionally, it can be configured to pass the skin and skin variant as props.\n *\n * Example:\n * ```\n * const MyApp = ({skinName, ...rest) => (<div {...props}>{skinName}</div>);\n * ...\n * App = Skinnable({\n * \tprop: 'skinName',\n * \tskins: {\n * \t\tdark: 'moonstone',\n * \t\tlight: 'moonstone-light'\n * \t},\n * \tdefaultTheme: 'dark'\n * \tdefaultVariants: ['highContrast'],\n * \tallowedVariants: ['highContrast', 'largeText', 'grayscale']\n * }, MyApp);\n * ```\n *\n * @class Skinnable\n * @memberof ui/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, skins, defaultSkin, allowedVariants: variants, variantsProp} = config;\n\tconst defaultVariants = objectify(config.defaultVariants);\n\n\t// eslint-disable-next-line no-shadow\n\tfunction Skinnable ({className, skin, skinVariants, ...rest}) {\n\t\tconst hook = useSkins({\n\t\t\tdefaultSkin,\n\t\t\tdefaultVariants,\n\t\t\tskin,\n\t\t\tskins,\n\t\t\tskinVariants,\n\t\t\tvariants\n\t\t});\n\n\t\tconst allClassNames = classnames(hook.className, className);\n\t\tif (allClassNames) {\n\t\t\trest.className = allClassNames;\n\t\t}\n\n\t\tif (prop) {\n\t\t\trest[prop] = hook.skin;\n\t\t}\n\n\t\tif (variantsProp) {\n\t\t\trest[variantsProp] = hook.variants;\n\t\t}\n\n\t\treturn hook.provideSkins(\n\t\t\t<Wrapped {...rest} />\n\t\t);\n\t}\n\n\tSkinnable.propTypes = /** @lends ui/Skinnable.Skinnable.prototype */ {\n\t\t/**\n\t\t * The name of the skin a component should use to render itself. Available skins are\n\t\t * defined in the \"defaultConfig\" for this HOC.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The variant(s) on a skin that a component should use when rendering. These will\n\t\t * typically alter the appearance of a skin's existing definition in a way that does not\n\t\t * override that skin's general styling.\n\t\t *\n\t\t * Multiple data types are supported by this prop, which afford different conveniences\n\t\t * and abilities. String and Array are effectively the same, supporting just additions\n\t\t * to the variants being applied to a component, and are much more convenient. Objects\n\t\t * may also be used, and have the ability to disable variants being passed by their\n\t\t * ancestors. Objects take the format of a basic hash, with variants as key names and\n\t\t * true/false Booleans as values, depicting their state. If a variant is excluded from\n\t\t * any version of data type used to set this prop, that variant will ignored, falling\n\t\t * back to the defaultVariant or parent variant, in that order.\n\t\t *\n\t\t * skinVariants examples:\n\t\t * ```\n\t\t *  // String\n\t\t *  skinVariants=\"highContrast\"\n\t\t *\n\t\t *  // Array\n\t\t *  skinVariants={['highContrast']}\n\t\t *\n\t\t *  // Object\n\t\t *  skinVariants={{\n\t\t *  \thighContrast: true,\n\t\t *  \tgrayscale: false\n\t\t *  }}\n\t\t * ```\n\t\t *\n\t\t * @type {String|String[]|Object}\n\t\t * @public\n\t\t */\n\t\tskinVariants: PropTypes.oneOfType([\n\t\t\tPropTypes.string,\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object\n\t\t])\n\t};\n\n\treturn Skinnable;\n});\n\nexport default Skinnable;\nexport {\n\tSkinnable,\n\tuseSkins\n};\n","/**\n * Exports the {@link agate/Skinnable.Skinnable} Higher-order Component (HOC).\n *\n * @module agate/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport hoc from '@enact/core/hoc';\nimport UiSkinnable from '@enact/ui/Skinnable';\n\nconst defaultConfig = {\n\tskins: {\n\t\tcarbon: 'carbon',\n\t\tcobalt: 'cobalt',\n\t\tcopper: 'copper',\n\t\telectro: 'electro',\n\t\tgallium: 'gallium',\n\t\tsilicon: 'silicon',\n\t\ttitanium: 'titanium'\n\t},\n\tallowedVariants: ['night', 'highContrast'],\n\tdefaultVariants: null\n};\n\n/**\n * This Higher-order Component is based on [ui/Skinnable]{@link ui/Skinnable.Skinnable} and comes\n * pre-configured for Agate's supported skins: 'carbon', 'cobalt', 'copper', 'electro', 'gallium',\n * 'silicon', and 'titanium'. It is used to apply the relevant skinning classes to each component\n * and has been used to pre-select specific skins for some components.\n *\n * @class Skinnable\n * @memberof agate/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, UiSkinnable);\n\n/**\n * Select a skin by name by specifying this property. This may be changed at runtime. All components\n * already use their defaults, but a skin may be changed via this prop or by using\n * {@link agate/Skinnable} directly and a config object.\n *\n * Example:\n * ```\n * <Button skin=\"gallium\" />\n * ```\n *\n * @name skin\n * @type {String}\n * @memberof agate/Skinnable.Skinnable\n * @instance\n * @public\n */\n\nexport default Skinnable;\nexport {\n\tSkinnable\n};\n","import {handle, forward, adaptEvent} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport css from './Panels.module.less';\n\n// Since we expose `onSelect` to handle breadcrumb selection, we need that handler to be set on a\n// component that proxies mouse events for key events so we create a spottable div that will\n// get the right classes as well as handle events correctly.\nconst SpottableDiv = Spottable('div');\n\n/**\n * The width of a breadcrumb which may be used to allocate space for it in a panels layout.\n *\n * @type {Number}\n * @default 105;\n * @private\n * @memberof agate/Panels\n */\nexport const breadcrumbWidth = 105;\n\n/**\n * Vertical, transparent bar used to navigate to a prior Panel.\n *\n * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels} has one breadcrumb.\n *\n * @class Breadcrumb\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbBase = kind({\n\tname: 'Breadcrumb',\n\n\tpropTypes: /** @lends agate/Panels.Breadcrumb.prototype */ {\n\t\t/**\n\t\t * Index of the associated panel.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tindex: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * @private\n\t\t * @type {Function}\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * The index of the clicked breadcrumb is passed in the event data.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonSelect: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'breadcrumb'\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onClick'),\n\t\t\tadaptEvent((ev, {index}) => ({type: 'onSelect', index}), forward('onSelect'))\n\t\t)\n\t},\n\n\trender: ({children, index, onSelect, ...rest}) => (\n\t\t<SpottableDiv\n\t\t\t{...rest}\n\t\t\taria-label={$L('GO TO PREVIOUS')}\n\t\t\tdata-index={index}\n\t\t\tonClick={onSelect}\n\t\t>\n\t\t\t<div className={css.breadcrumbContent}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</SpottableDiv>\n\t)\n});\n\nexport default BreadcrumbBase;\nexport {\n\tBreadcrumbBase as Breadcrumb,\n\tBreadcrumbBase\n};\n","import {scale, unit} from '@enact/ui/resolution';\nimport {arrange} from '@enact/ui/ViewManager/Arranger';\n\nimport {breadcrumbWidth} from './Breadcrumb';\n\nconst quadInOut = 'cubic-bezier(0.455, 0.030, 0.515, 0.955)';\nconst animationOptions = {easing: quadInOut};\n\n// Actvity Arranger\n\n/*\n * Appends a transform that accounts for a single breadcrumb\n *\n * @param  {Node} node      DOM Node\n *\n * @returns {undefined}\n * @private\n */\nconst offsetForBreadcrumbs = (node) => {\n\tconst isFirst = node && node.dataset && node.dataset.index === '0';\n\n\treturn `translateX(${isFirst ? 0 : unit(scale(breadcrumbWidth), 'rem')})`;\n};\n\n/**\n * Arranger that slides panels in from the right and out to the left allowing space for the single\n * breadcrumb when `to` index is greater than zero.\n *\n * @type {Arranger}\n * @private\n */\nconst PanelsArranger = {\n\tenter: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: `${offsetForBreadcrumbs(node)} translateX(100%)`},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t},\n\tleave: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: 'translateX(-100%)'}\n\t\t], animationOptions);\n\t},\n\tstay: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t}\n};\n\n/**\n * Positions a breadcrumb based on its `data-index` and the current index, `to`\n *\n * @param  {Object} config  Arrangement configuration object\n * @returns {undefined}\n * @method\n * @private\n */\nconst positionBreadcrumb = (node, index) => {\n\tconst crumbIndex = node.dataset.index;\n\tconst x = (index - crumbIndex);\n\tconst percentX = x * -100;\n\n\treturn `translateX(${percentX}%)`;\n};\n\nconst enter = (config) => {\n\tconst {node, from, to, reverse} = config;\n\tconst keyframes = reverse ? [\n\t\t{transform: positionBreadcrumb(node, to)},\n\t\t{transform: positionBreadcrumb(node, from)}\n\t] : [\n\t\t{transform: positionBreadcrumb(node, from)},\n\t\t{transform: positionBreadcrumb(node, to)}\n\t];\n\n\treturn arrange(config, keyframes, animationOptions);\n};\n\n/**\n * Arranger for panel breadcrumbs\n *\n * @type {Arranger}\n * @private\n */\nconst BreadcrumbArranger = {\n\tenter: enter,\n\tstay: enter,\n\tleave: enter\n};\n\nexport {\n\tBreadcrumbArranger,\n\tPanelsArranger\n};\n","import React from 'react';\n\nimport Icon from '../Icon';\n\nimport Breadcrumb from './Breadcrumb';\n\n/**\n * Generates an array of at most `max` breadcrumbs\n *\n * @param {Number} index      Index of active breadcrumb\n * @param {Number} max        Maximum number of breadcrumbs to dispaly\n * @param {Function} onSelect Handler for selecting a breadcrumb\n * @returns {React.element[]} Array of breadcrumbs\n * @private\n */\nconst Breadcrumbs = (id, index, max, onSelect) => {\n\tconst breadcrumbs = new Array(index < max ? index : max);\n\tconst start = Math.max(index - max, 0);\n\n\tfor (let i = start; i < index; i++) {\n\t\tbreadcrumbs[index - i - 1] = (\n\t\t\t<Breadcrumb\n\t\t\t\tonSelect={onSelect}\n\t\t\t\tid={`${id}_bc_${i}`}\n\t\t\t\tindex={i}\n\t\t\t\tkey={i}\n\t\t\t>\n\t\t\t\t<Icon>arrowlargeleft</Icon>\n\t\t\t</Breadcrumb>\n\t\t);\n\t}\n\n\treturn breadcrumbs;\n};\n\nexport default Breadcrumbs;\nexport {\n\tBreadcrumbs\n};\n","import hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {coerceFunction} from '@enact/core/util';\nimport Spotlight from '@enact/spotlight';\nimport ViewManager from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport IdProvider from './IdProvider';\nimport {BreadcrumbArranger} from './Arrangers';\nimport Breadcrumb from './Breadcrumb';\nimport Breadcrumbs from './Breadcrumbs';\nimport CancelDecorator from './CancelDecorator';\n\nimport css from './Panels.module.less';\n\n// TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link agate/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof agate/Panels.BreadcrumbDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Classes to be added to the root node\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n\t * calculate the number of breadcrumbs\n\t *\n\t * @type {Number|Function}\n\t * @default 0\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tmax: 0,\n\n\t/**\n\t * Arranger for Panels\n\t *\n\t * @type {Object}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tpanelArranger: null\n};\n\n\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst BreadcrumbDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {max, panelArranger, className: cfgClassName} = config;\n\tconst calcMax = coerceFunction(max);\n\n\tconst Decorator = kind({\n\t\tname: 'BreadcrumbDecorator',\n\n\t\tpropTypes: /** @lends agate/Panels.BreadcrumbDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Array of breadcrumbs or a function that generates an array of breadcrumbs\n\t\t\t *\n\t\t\t * @type {Function|Node[]}\n\t\t\t * @default Breadcrumbs\n\t\t\t */\n\t\t\tbreadcrumbs: PropTypes.oneOfType([\n\t\t\t\tPropTypes.func,\t\t\t\t\t\t// generator\n\t\t\t\tPropTypes.arrayOf(PropTypes.node)\t// static array of breadcrumbs\n\t\t\t]),\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to each child. `aria-owns` will be added\n\t\t\t * or updated to this object to add the breadcrumbs to the accessibility tree of each\n\t\t\t * panel.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Panels to be rendered\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Function that generates unique identifiers for Panel instances\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\tgenerateId: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Unique identifier for the Panels instance\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tid: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Index of the active panel\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t */\n\t\t\tindex: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disable breadcrumb transitions.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t */\n\t\t\tnoAnimation: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n\t\t\t * breadcrumb\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t */\n\t\t\tonSelectBreadcrumb: PropTypes.func\n\t\t},\n\n\t\tdefaultProps: {\n\t\t\tbreadcrumbs: Breadcrumbs,\n\t\t\tindex: 0,\n\t\t\tnoAnimation: false\n\t\t},\n\n\t\tstyles: {\n\t\t\tcss,\n\t\t\tclassName: cfgClassName\n\t\t},\n\n\t\thandlers: {\n\t\t\thandleBreadcrumbWillTransition: (ev, {id}) => {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tif (!current) return;\n\n\t\t\t\tconst breadcrumbs = document.querySelector(`#${id} .${css.breadcrumbs}`);\n\t\t\t\tif (breadcrumbs && breadcrumbs.contains(current)) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\t// Invokes the breadcrumb generator, if provided\n\t\t\tbreadcrumbs: ({breadcrumbs, id, index, onSelectBreadcrumb}) => {\n\t\t\t\tconst x = calcMax(index);\n\t\t\t\tif (Array.isArray(breadcrumbs)) {\n\t\t\t\t\t// limit the number of breadcrumbs based on the index and config.max\n\t\t\t\t\tconst start = Math.max(index - x, 0);\n\t\t\t\t\tconst children = React.Children.toArray(breadcrumbs).slice(start, start + x);\n\n\t\t\t\t\t// map over the children to either clone it with the appropriate props or to\n\t\t\t\t\t// create a Breadcrumb if passed an array of renderable primitives\n\t\t\t\t\treturn React.Children.map(children, (child, i) => {\n\t\t\t\t\t\tconst props = {\n\t\t\t\t\t\t\tid: `${id}_bc_${i}`,\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tonSelect: onSelectBreadcrumb\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (React.isValidElement(child)) {\n\t\t\t\t\t\t\treturn React.cloneElement(child, props);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn React.createElement(Breadcrumb, props, child);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn breadcrumbs(id, index, x, onSelectBreadcrumb);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildProps: ({childProps, id, index}) => {\n\t\t\t\tif (!id || index === 0) {\n\t\t\t\t\treturn childProps;\n\t\t\t\t}\n\n\t\t\t\tconst start = Math.max(index - calcMax(index), 0);\n\t\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\t\tconst ariaOwns = [];\n\t\t\t\tfor (let i = start; i < index; i++) {\n\t\t\t\t\tariaOwns.push(`${id}_bc_${i}`);\n\t\t\t\t}\n\n\t\t\t\tif (updatedChildProps['aria-owns']) {\n\t\t\t\t\tariaOwns.unshift(updatedChildProps['aria-owns']);\n\t\t\t\t}\n\n\t\t\t\tupdatedChildProps['aria-owns'] = ariaOwns.join(' ');\n\n\t\t\t\treturn updatedChildProps;\n\t\t\t}\n\t\t},\n\n\t\trender: ({breadcrumbs, childProps, children, className, generateId, handleBreadcrumbWillTransition, id, index, noAnimation, ...rest}) => {\n\t\t\tdelete rest.onSelectBreadcrumb;\n\n\t\t\tconst count = React.Children.count(children);\n\t\t\tinvariant(\n\t\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={className} data-index={index} id={id}>\n\t\t\t\t\t<ViewManager\n\t\t\t\t\t\tarranger={BreadcrumbArranger}\n\t\t\t\t\t\tclassName={css.breadcrumbs}\n\t\t\t\t\t\tduration={300}\n\t\t\t\t\t\tend={calcMax()}\n\t\t\t\t\t\tindex={index - 1}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\t\tonWillTransition={handleBreadcrumbWillTransition}\n\t\t\t\t\t\tstart={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t{breadcrumbs}\n\t\t\t\t\t</ViewManager>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tarranger={panelArranger}\n\t\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\t\tid={`${id}_panels`}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Wrapped>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\treturn CancelDecorator(\n\t\t{cancel: 'onSelectBreadcrumb'},\n\t\tIdProvider(\n\t\t\tSkinnable(\n\t\t\t\tDecorator\n\t\t\t)\n\t\t)\n\t);\n});\n\nexport default BreadcrumbDecorator;\nexport {\n\tBreadcrumbDecorator\n};\n","import Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport compose from 'ramda/src/compose';\n\nimport Skinnable from '../Skinnable/Skinnable';\n\nimport {PanelsArranger} from './Arrangers';\nimport BreadcrumbDecorator from './BreadcrumbDecorator';\nimport {PanelsBase} from './Panels';\n\nconst BreadcrumbPanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tSkinnable,\n\tBreadcrumbDecorator({\n\t\tclassName: 'panels breadcrumbPanels enact-fit',\n\t\tmax: 1,\n\t\tpanelArranger: PanelsArranger\n\t})\n);\n\n/**\n * An instance of Panels in which the Panel uses the entire viewable screen with a single breadcrumb\n * for the previous panel when viewing any panel beyond the first.\n *\n * **Note** BreadcrumbPanels requires that the `data-index` property that all panels variations add to\n * its children be applied to the root DOM node of each child in order to manage layout correctly.\n * It is recommended that you spread any extra props on the root node but you may also handle this\n * property explicitly if necessary.\n *\n * @class BreadcrumbPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbPanels = BreadcrumbPanelsDecorator(PanelsBase);\nBreadcrumbPanels.displayName = 'BreadcrumbPanels';\n\nexport default BreadcrumbPanels;\nexport {\n\tBreadcrumbPanels\n};\n","import {forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Slottable from '@enact/ui/Slottable';\nimport Spotlight from '@enact/spotlight';\nimport SpotlightContainerDecorator, {spotlightDefaultClass} from '@enact/spotlight/SpotlightContainerDecorator';\nimport ComponentOverride from '@enact/ui/ComponentOverride';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Panel.module.less';\n\nlet panelId = 0;\n\n/**\n * A Panel is the standard view container used inside a [Panels]{@link agate/Panels.Panels} view\n * manager instance. [Panels]{@link agate/Panels.Panels} will typically contain several\n * instances of these and transition between them.\n *\n * @class Panel\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelBase = kind({\n\n\tname: 'Panel',\n\n\tpropTypes: /** @lends agate/Panels.Panel.prototype */ {\n\t\t/**\n\t\t * By default, the panel will be labeled by its [Header]{@link agate/Header.Header}.\n\t\t * When `aria-label` is set, it will be used instead to provide an accessibility label for\n\t\t * the panel.\n\t\t *\n\t\t * @memberof agate/Panels.Panel.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Sets the strategy used to automatically focus an element within the panel upon render.\n\t\t *\n\t\t * * \"none\" - Automatic focus is disabled\n\t\t * * \"last-focused\" - The element last focused in the panel with be restored\n\t\t * * \"default-element\" - The first spottable component within the body will be focused\n\t\t * * Custom Selector - A custom CSS selector may also be provided which will be used to find\n\t\t *   the target within the Panel\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'last-focused'\n\t\t * @public\n\t\t */\n\t\tautoFocus: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `panel` - The root class name\n\t\t * * `body` - Applied to the <section> element that displays the `children` of the `Panel`\n\t\t * * `header` - Applied to the header element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Header for the panel.\n\t\t *\n\t\t * This is usually passed by the [Slottable]{@link ui/Slottable.Slottable} API by using a\n\t\t * [Header]{@link agate/Header.Header} component as a child of the Panel.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\theader: PropTypes.node,\n\n\t\t/**\n\t\t * Hides the body components.\n\t\t *\n\t\t * When a Panel is used within [`Panels`]{@link agate/Panels.Panels},\n\t\t * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels}, or\n\t\t * [`TabbedPanels`]{@link agate/Panels.TabbedPanels},\n\t\t * this property will be set automatically to `true` on render and `false` after animating\n\t\t * into view.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\thideChildren: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tautoFocus: 'last-focused',\n\t\thideChildren: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panel',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonScroll: handle(\n\t\t\tforward('onScroll'),\n\t\t\t({currentTarget}) => {\n\t\t\t\tcurrentTarget.scrollTop = 0;\n\t\t\t\tcurrentTarget.scrollLeft = 0;\n\t\t\t}\n\t\t),\n\t\tspotOnRender: (node, {autoFocus}) => {\n\t\t\tif (node && !Spotlight.getCurrent()) {\n\t\t\t\tconst {spotlightId} = node.dataset;\n\t\t\t\tconst config = {\n\t\t\t\t\tenterTo: 'last-focused'\n\t\t\t\t};\n\n\t\t\t\tif (autoFocus !== 'last-focused') {\n\t\t\t\t\tconfig.enterTo = 'default-element';\n\n\t\t\t\t\tif (autoFocus !== 'default-element') {\n\t\t\t\t\t\tconfig.defaultElement = autoFocus;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tSpotlight.set(spotlightId, config);\n\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tspotOnRender: ({autoFocus, hideChildren, spotOnRender}) => {\n\t\t\t// In order to spot the body components, we defer spotting until !hideChildren. If the\n\t\t\t// Panel opts out of hideChildren support by explicitly setting it to false, it'll spot\n\t\t\t// on first render.\n\t\t\tif (hideChildren || autoFocus === 'none') {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn spotOnRender;\n\t\t},\n\t\tchildren: ({children, hideChildren}) => hideChildren ? null : children,\n\t\tbodyClassName: ({header, hideChildren, styler}) => styler.join({\n\t\t\tbody: true,\n\t\t\tnoHeader: !header,\n\t\t\tvisible: !hideChildren\n\t\t}),\n\t\t// nulling headerId prevents the aria-labelledby relationship which is necessary to allow\n\t\t// aria-label to take precedence\n\t\t// (see https://www.w3.org/TR/wai-aria/states_and_properties#aria-labelledby)\n\t\tids: ({'aria-label': label}) => {\n\t\t\tif (label) {\n\t\t\t\treturn {};\n\t\t\t} else {\n\t\t\t\tconst labelledby = `panel_${++panelId}_title panel_${panelId}_subtitle`;\n\t\t\t\tconst [titleId, subtitleId] = labelledby.split(' ');\n\n\t\t\t\treturn {\n\t\t\t\t\tlabelledby,\n\t\t\t\t\tsubtitleId,\n\t\t\t\t\ttitleId\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({\n\t\tbodyClassName,\n\t\tcss,\n\t\tchildren,\n\t\theader,\n\t\tids: {labelledby = null, subtitleId = null, titleId = null},\n\t\tspotOnRender,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.autoFocus;\n\t\tdelete rest.hideChildren;\n\n\t\treturn (\n\t\t\t<article role=\"region\" {...rest} aria-labelledby={labelledby} ref={spotOnRender}>\n\t\t\t\t<div className={css.header}>\n\t\t\t\t\t<ComponentOverride\n\t\t\t\t\t\tcomponent={header}\n\t\t\t\t\t\tsubtitleId={subtitleId}\n\t\t\t\t\t\ttitleId={titleId}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<section className={bodyClassName}>{children}</section>\n\t\t\t</article>\n\t\t);\n\t}\n});\n\nconst Panel = SpotlightContainerDecorator(\n\t{\n\t\t// prefer any spottable within the panel body for first render\n\t\tcontinue5WayHold: true,\n\t\tdefaultElement: [`.${spotlightDefaultClass}`, `.${componentCss.body} *`],\n\t\tenterTo: 'last-focused',\n\t\tpreserveId: true\n\t},\n\tSlottable(\n\t\t{slots: ['header']},\n\t\tSkinnable(\n\t\t\tPanelBase\n\t\t)\n\t)\n);\n\nexport default Panel;\nexport {\n\tPanel,\n\tPanelBase\n};\n","/**\n * Panels provides a way to manage different screens of an app.\n *\n * @module agate/Panels\n * @exports BreadcrumbPanels\n * @exports Breadcrumb\n * @exports Panel\n * @exports Panels\n * @exports PanelsBase\n * @exports TabbedPanels\n */\n\nimport Breadcrumb from './Breadcrumb';\nimport BreadcrumbPanels from './BreadcrumbPanels';\nimport Panel from './Panel';\nimport {Panels, PanelsBase} from './Panels';\nimport TabbedPanels from './TabbedPanels';\n\nexport default Panels;\nexport {\n\tBreadcrumbPanels,\n\tBreadcrumb,\n\tPanel,\n\tPanels,\n\tPanelsBase,\n\tTabbedPanels\n};\n","/**\n * A higher-order component that handles component resize event.\n *\n * @module ui/Resizable\n * @exports Resizable\n */\n\nimport {call, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport invariant from 'invariant';\nimport React from 'react';\n\n/**\n * Used internally for things to notify children that they need to resize because of a parent\n * update.\n *\n * @type Object\n * @private\n */\nconst ResizeContext = React.createContext();\n\n/**\n * Default config for `Resizable`.\n *\n * @memberof ui/Resizable.Resizable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * A handler to process the `resize` event.\n\t *\n\t * It should return a truthy value if the event should trigger a resize.\n\t *\n\t * @type {Function}\n\t * @default null\n\t * @see {@link core/handle}\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tfilter: null,\n\n\t/**\n\t * The name of the event on the wrapped component to listen to for size changes.\n\t *\n\t * This event name will be passed to the wrapped component and will also be forwarded (if\n\t * needed) to the parent component.\n\t *\n\t * @type {String}\n\t * @required\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tresize: null\n};\n\n/**\n * A higher-order component that notifies a container that the wrapped component has been resized.\n *\n * It may be useful in cases where a component may need to update itself as a result of its children\n * changing in size, such as a [Scroller]{@link ui/Scroller}.\n *\n * Containers must provide an `invalidateBounds` method via React's context in order for `Resizable`\n * instances to notify it of resize.\n *\n * The wrapped component must respond to the configured\n * [resize]{@link ui/Resizable.Resizable.defaultConfig.resize} event.\n *\n * @class Resizable\n * @memberof ui/Resizable\n * @hoc\n * @public\n */\nconst Resizable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {filter, resize} = config;\n\n\tinvariant(resize, `resize is required by Resizable but was omitted when applied to ${Wrapped.displayName}`);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Resizable';\n\n\t\tstatic contextType = ResizeContext;\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && typeof this.context === 'function') {\n\t\t\t\t// Registry requires a callback but (for now at least) Resizable doesn't respond to\n\t\t\t\t// upstream events so we're initializing a no-op function to \"handle\" callbacks\n\t\t\t\tthis.resizeRegistry = this.context(() => {});\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister();\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Notifies a container that a resize is necessary\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\tinvalidateBounds () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.notify({action: 'invalidateBounds'});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Handles the event that indicates a resize is necessary\n\t\t *\n\t\t * @param   {Object}    ev  Event payload\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\thandleResize = handle(\n\t\t\tforward(resize),\n\t\t\t// optionally filter the event before notifying the container\n\t\t\tfilter,\n\t\t\tcall('invalidateBounds')\n\t\t).bind(this);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tprops[resize] = this.handleResize;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Resizable;\nexport {\n\tResizable,\n\tResizeContext\n};\n","/**\n * Provides a class which allows consumers to safely pause and resume spotlight without resuming\n * another consumer's pause.\n *\n * When multiple components attempt to pause and resume spotlight at overlapping times using\n * [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume}, one component might resume spotlight when\n * another expected it to still be paused.\n *\n * `Pause` helps to address this by setting a \"soft lock\" on the pause which informs other instances\n * that the spotlight pause state is being controlled. When pause is locked, it can only be resumed\n * by the instance that locked it. Subsequent calls to `pause` and `resume` on another instance of\n * `Pause` have no effect.\n *\n * *Note:* The top-level [Spotlight.pause()]{@link spotlight.Spotlight.pause} and\n * [Spotlight.resume()]{@link spotlight.Spotlight.resume} do not respect the pause locks and act as\n * a user-space escape hatch.\n *\n * ```\n * import Pause from '@enact/spotlight/Pause';\n *\n * const paused1 = new Pause('paused 1');\n * const paused2 = new Pause('paused 2');\n *\n * // pauses spotlight\n * paused1.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.pause();\n *\n * // has no effect because pause1 is in control\n * paused2.resume();\n *\n * // resumes spotlight\n * paused1.resume();\n *\n * ```\n *\n * @module spotlight/Pause\n * @exports Pause\n * @exports isPaused\n * @exports pause\n * @exports resume\n */\n\nlet paused = false;\n\n// Private, exported methods used by Spotlight to set and query the pause state from its public API\n\nfunction pause () {\n\tpaused = true;\n}\n\nfunction resume () {\n\tpaused = false;\n}\n\nfunction isPaused () {\n\treturn paused !== false;\n}\n\n/**\n * Acts as a semaphore for Spotlight pause state ensuring that only the last Pause instance can\n * resume Spotlight.\n *\n * *Note* {@link spotlight/Spotlight.resume} will always resume spotlight regardless of what last\n * paused spotlight and can be used as an escape hatch to force resumption.\n *\n * @class Pause\n * @memberof spotlight/Pause\n * @public\n */\nclass Pause {\n\n\t/**\n\t * Accepts a name for the instance\n\t *\n\t * The `name` is not used but may be useful for debugging which instance has currently paused\n\t * Spotlight.\n\t *\n\t * @param {String} name The name of the pause instance\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @constructor\n\t * @public\n\t */\n\tconstructor (name) {\n\t\tthis.name = name;\n\t}\n\n\ttoString () {\n\t\treturn `Pause<${this.name}>`;\n\t}\n\n\t/**\n\t * Returns `true` when Spotlight is paused by this instance\n\t *\n\t * @returns {Boolean}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tisPaused () {\n\t\treturn paused === this;\n\t}\n\n\t/**\n\t * Pauses spotlight if not currently paused\n\t *\n\t * @returns {undefined}\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tpause () {\n\t\tif (!isPaused()) {\n\t\t\tpaused = this;\n\t\t}\n\t}\n\n\t/**\n\t * Resumes spotlight if this instance was the last to pause spotlight\n\t *\n\t * @returns {Boolean} `true` if spotlight was resumed\n\t * @memberof spotlight/Pause.Pause.prototype\n\t * @public\n\t */\n\tresume () {\n\t\tif (this.isPaused()) {\n\t\t\tresume();\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport default Pause;\nexport {\n\tPause,\n\tisPaused,\n\tpause,\n\tresume\n};\n","/**\n * Exports methods and members for working with pointer events in spotlight\n *\n * @module spotlight/pointer\n * @private\n */\n\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\n\n/*\n * Whether Spotlight is in pointer mode (as opposed to 5-way mode).\n *\n * @type {Boolean}\n * @default true\n * @private\n */\nlet _pointerMode = true;\n\n/**\n * Sets the current pointer mode\n *\n * @param   {Boolean} pointerMode `true` to enable pointer mode; `false` to disable pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst setPointerMode = (pointerMode) => {\n\t_pointerMode = pointerMode;\n};\n\n/**\n * Gets the current pointer mode\n *\n * @returns {Boolean} The current state of pointer mode\n * @memberof spotlight/pointer\n * @private\n */\nconst getPointerMode = () => {\n\treturn _pointerMode;\n};\n\n// Cached pointer position\nlet _pointerX = null;\nlet _pointerY = null;\n\n/**\n * Returns whether or not the current pointer position matches the provided coordinates\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was changed\n * @memberof spotlight/pointer\n * @private\n */\nconst hasPointerMoved = (x, y) => (\n\tx !== _pointerX || y !== _pointerY\n);\n\n/**\n * Updates the cached pointer position, updating the current pointer mode when the position has\n * changed.\n *\n * @param   {Number} x Pointer position relative to the left side of the viewport\n * @param   {Number} y Pointer position relative to the top side of the viewport\n *\n * @returns {Boolean}   `true` if the position was updated\n * @memberof spotlight/pointer\n * @private\n */\nconst updatePointerPosition = (x, y) => {\n\t// Chrome emits mousemove on scroll, but client coordinates do not change.\n\tif (hasPointerMoved(x, y)) {\n\t\tsetPointerMode(true);\n\t\t_pointerX = x;\n\t\t_pointerY = y;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n/**\n * Returns the last known position of the pointer\n *\n * @returns {Object} Contains `x` and `y` coordinates for the pointer\n * @memberof spotlight/pointer\n * @private\n */\nconst getLastPointerPosition = () => {\n\treturn {\n\t\tx: _pointerX,\n\t\ty: _pointerY\n\t};\n};\n\n// 30ms (_pointerHiddenToKeyTimeout) is semi-arbitrary, to account for the time it takes for the\n// following directional key event to fire, and to prevent momentary spotting of the last\n// focused item - needs to be a value large enough to account for the potentially-trailing\n// event, but not too large that another unrelated event can be fired inside the window\nconst hidePointerJob = new Job(function (callback) {\n\tsetPointerMode(false);\n\tif (callback) {\n\t\tcallback();\n\t}\n}, 30);\n\n\n/**\n * Notifies spotlight of a change in the pointer position\n *\n * @param   {Node}     target   Node under the pointer\n * @param   {Number}   x        Horizontal position relative to the left side of the viewport\n * @param   {Number}   y        Vertical position relative to the top side of the viewport\n *\n * @returns {Boolean}           `true` if the change in position results in a change in focus\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyPointerMove = (current, target, x, y) => {\n\tconst priorPointerMode = getPointerMode();\n\n\tif (updatePointerPosition(x, y)) {\n\t\t// if we're entering pointer mode and the target element isn't within the currently\n\t\t// focused element, there may be a new navigable target\n\t\treturn !priorPointerMode || !current || !current.contains(target);\n\t}\n\n\t// the pointer hasn't actually moved (surprise!)\n\treturn false;\n};\n\n/**\n * Notifies the pointer module of key events. If the pointer should be hidden, a timer is set and\n * `callback` is invoked after the timer has expired and pointer mode has been disabled. For any\n * other type of key event, pointer mode is disabled and `false` is returned.\n *\n * @param   {Number}    keyCode     Key event key code\n * @param   {Function}  [callback]  Optional callback to invoke upon hiding the pointer.\n *\n * @returns {Boolean}               `true` for pointer hide or show key events\n * @memberof spotlight/pointer\n * @private\n */\nconst notifyKeyDown = (keyCode, callback) => {\n\tconst palmSystem = window.PalmSystem;\n\n\t// for hide/show pointer events, handle them and return true\n\tif (is('pointerHide', keyCode)) {\n\t\thidePointerJob.start(callback);\n\t\treturn true;\n\t} else if (is('pointerShow', keyCode)) {\n\t\tsetPointerMode(true);\n\t\treturn true;\n\t} else if (\n\t\t!is('nonModal', keyCode) &&\n\t\t!is('cancel', keyCode) &&\n\t\t!(is('enter', keyCode) && palmSystem && palmSystem.cursor && palmSystem.cursor.visibility)\n\t) {\n\t\tsetPointerMode(false);\n\t}\n\n\treturn false;\n};\n\nexport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode,\n\tupdatePointerPosition\n};\n","/**\n * A utility component that either clones or creates a component instance based on the\n * incoming `component` prop value.\n *\n * This allows you to supply JSX as the component used in your prop\n * allowing you to add your own properties. They'll get mixed onto the component when it's used in\n * the parent component.\n *\n * @module ui/ComponentOverride\n * @exports ComponentOverride\n */\n\nimport React from 'react';\n\n/**\n * Utility to either create or clone a component instance with the given set of props.\n *\n * `ComponentOverride` can be used to support props that either accept a type, (e.g. `Button`) or an\n * element (e.g. `<Button customProp=\"value\" />`) and return a new element which includes the\n * remaining props specified.\n *\n * Example:\n * ```\n * const LabeledIconButton = ({iconComponent, label, ...rest}) => {\n *   return (\n *     <div {...rest}>\n *       <ComponentOverride\n *         component={iconComponent}\n *         icon=\"house\"\n *       />\n *       <span>{label}</span>\n *     </div>\n *   );\n * };\n *\n * // Usage\n *\n * // Only the props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={CustomIcon}\n * />\n *\n * // The color prop along with props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={\n *     <CustomIcon color=\"green\" />\n *   }\n * />\n * ```\n *\n * @class\n * @memberof ui/ComponentOverride\n * @ui\n * @public\n */\nconst ComponentOverride = ({component: Component, ...props}) => {\n\treturn Component && (\n\t\t(typeof Component === 'function' || typeof Component === 'string') && (\n\t\t\t<Component {...props} />\n\t\t) || React.isValidElement(Component) && (\n\t\t\tReact.cloneElement(Component, props)\n\t\t)\n\t) || null;\n};\n\nexport default ComponentOverride;\nexport {\n\tComponentOverride\n};\n","import clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\n\nconst Tracking = {\n\tUntracked: 0,\n\tActive: 1,\n\tPaused: 2\n};\n\nclass Drag {\n\tdragConfig = null;\n\n\tisDragging = () => this.dragConfig != null;\n\n\tsetContainerBounds = (node) => {\n\t\tconst {global: isGlobal, boxSizing} = this.dragConfig;\n\t\tlet bounds = null;\n\n\t\tif (!node) return;\n\n\t\tif (isGlobal) {\n\t\t\tbounds = {\n\t\t\t\tminX: 0,\n\t\t\t\tminY: 0,\n\t\t\t\tmaxX: window.innerWidth,\n\t\t\t\tmaxY: window.innerHeight\n\t\t\t};\n\t\t} else {\n\t\t\tbounds = node.getBoundingClientRect();\n\n\t\t\t// adjust for padding when using content-box\n\t\t\tif (boxSizing === 'content-box') {\n\t\t\t\tconst computedStyle = window.getComputedStyle(node);\n\t\t\t\tbounds = {\n\t\t\t\t\tminX: bounds.left + parseInt(computedStyle.paddingLeft),\n\t\t\t\t\tminY: bounds.top + parseInt(computedStyle.paddingTop),\n\t\t\t\t\tmaxX: bounds.right - parseInt(computedStyle.paddingRight),\n\t\t\t\t\tmaxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tthis.bounds = bounds;\n\t};\n\n\tupdatePosition = (clientX, clientY) => {\n\t\tconst {maxX, maxY, minX, minY} = this.bounds;\n\n\t\tconst x = clamp(minX, maxX, clientX) - minX;\n\t\tconst y = clamp(minY, maxY, clientY) - minY;\n\n\t\tif (x !== this.x || y !== this.y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tbegin = (config, {noResume, onDrag, onDragEnd, onDragStart}, coords, node) => {\n\t\tif (!onDrag && !onDragStart && !onDragEnd) return;\n\n\t\tconst {x, y} = coords;\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.dragConfig = {\n\t\t\t...config,\n\t\t\tnode,\n\t\t\tonDragStart,\n\t\t\tonDragEnd,\n\t\t\tonDrag,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\tthis.setContainerBounds(node);\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onDrag`, `onDragEnd`, `onDragStart` props in the existing `dragConfig`.\n\tupdateProps = ({onDrag, onDragEnd, onDragStart}) => {\n\t\t// Check `isDragging` gesture is not in progress. Check if gesture exists before updating the references to the `dragConfig`\n\t\tif (!this.isDragging()) return;\n\n\t\t// This will update the `dragConfig` with the new value\n\t\tthis.dragConfig.onDragStart = onDragStart;\n\t\tthis.dragConfig.onDrag = onDrag;\n\t\tthis.dragConfig.onDragEnd = onDragEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {moveTolerance, onDrag, onDragStart} = this.dragConfig;\n\n\t\tif (this.tracking === Tracking.Untracked) {\n\t\t\tconst dx = coords.x - this.startX;\n\t\t\tconst dy = coords.y - this.startY;\n\n\t\t\tif (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n\t\t\t\tthis.tracking = Tracking.Active;\n\n\t\t\t\tif (onDragStart) {\n\t\t\t\t\tonDragStart({\n\t\t\t\t\t\ttype: 'onDragStart',\n\t\t\t\t\t\t...coords\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onDrag && this.tracking === Tracking.Active && this.updatePosition(coords)) {\n\t\t\tonDrag({\n\t\t\t\ttype: 'onDrag',\n\t\t\t\t...coords\n\t\t\t});\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {onDragEnd} = this.dragConfig;\n\t\tif (onDragEnd && this.tracking !== Tracking.Untracked) {\n\t\t\tonDragEnd({type: 'onDragEnd'});\n\t\t}\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.dragConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (this.dragConfig.resume && this.tracking === Tracking.Paused) {\n\t\t\tthis.tracking = Tracking.Active;\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global && this.tracking === Tracking.Active) {\n\t\t\tthis.tracking = Tracking.Paused;\n\t\t}\n\t};\n\n}\n\nconst defaultDragConfig = {\n\tboxSizing: 'border-box',\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst dragConfigPropType = PropTypes.shape({\n\tboxSizing: PropTypes.string,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Drag;\nexport {\n\tdefaultDragConfig,\n\tDrag,\n\tdragConfigPropType\n};\n","import {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\n\nclass Flick {\n\tconstructor () {\n\t\tthis.tracking = false;\n\t\tthis.moves = [];\n\t}\n\n\tisTracking () {\n\t\treturn this.tracking;\n\t}\n\n\tbegin = ({maxDuration, maxMoves, minVelocity}, {onFlick}, coords) => {\n\t\tthis.minVelocity = minVelocity;\n\t\tthis.maxMoves = maxMoves;\n\n\t\tif (maxDuration !== null) {\n\t\t\tthis.cancelJob.startAfter(maxDuration);\n\t\t}\n\t\tthis.tracking = !!onFlick;\n\t\tthis.moves.length = 0;\n\t\tthis.onFlick = onFlick;\n\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onFlick` props in the existing `flickConfig` values.\n\tupdateProps = ({onFlick}) => {\n\t\t// Check `tracking` gesture is not in progress. Check if gesture exists before updating the references to the `flickConfig`\n\t\tif (!this.tracking) return;\n\n\t\t// This will update the `flickConfig` with the new value\n\t\tthis.flickConfig.onFlick = onFlick;\n\t};\n\n\tmove = ({x, y}) => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.moves.push({\n\t\t\tx,\n\t\t\ty,\n\t\t\tt: window.performance.now()\n\t\t});\n\n\t\t// track specified # of points\n\t\tif (this.moves.length > this.maxMoves) {\n\t\t\tthis.moves.shift();\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tthis.end();\n\t};\n\n\tcancel = () => {\n\t\tthis.tracking = false;\n\t};\n\n\tcancelJob = new Job(this.cancel);\n\n\tend = () => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.cancelJob.stop();\n\n\t\tconst moves = this.moves;\n\t\tif (moves.length > 1) {\n\t\t\t// note: important to use up time to reduce flick\n\t\t\t// velocity based on time between move and up.\n\t\t\tconst last = moves[moves.length - 1];\n\t\t\tconst t = window.performance.now();\n\n\t\t\tlet x = 0, y = 0;\n\n\t\t\t// take the greatest of flick between each tracked move and last move\n\t\t\tfor (let i = moves.length - 2, m; (m = moves[i]); i--) {\n\t\t\t\t// this flick (this move - last move) / (this time - last time)\n\t\t\t\tconst dt = t - m.t;\n\t\t\t\tconst vx = (last.x - m.x) / dt;\n\t\t\t\tconst vy = (last.y - m.y) / dt;\n\n\t\t\t\t// if either axis is a greater flick than previously recorded use this one\n\t\t\t\tif (Math.abs(vx) > Math.abs(x) || Math.abs(vy) > Math.abs(y)) {\n\t\t\t\t\tx = vx;\n\t\t\t\t\ty = vy;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst v = Math.sqrt(x * x + y * y);\n\t\t\tif (v > this.minVelocity) {\n\t\t\t\tconst vertical = Math.abs(y) > Math.abs(x);\n\t\t\t\t// generate the flick using the start event so it has those coordinates\n\t\t\t\t// this.sendFlick(ti.startEvent, x, y, v);\n\t\t\t\tthis.onFlick({\n\t\t\t\t\ttype: 'onFlick',\n\t\t\t\t\tdirection: vertical ? 'vertical' : 'horizontal',\n\t\t\t\t\tvelocityX: x,\n\t\t\t\t\tvelocityY: y,\n\t\t\t\t\tvelocity: v\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.tracking = false;\n\t};\n}\n\nconst defaultFlickConfig = {\n\tmaxDuration: 250,\n\tmaxMoves: 5,\n\tminVelocity: 0.1\n};\n\nconst flickConfigPropType = PropTypes.shape({\n\tmaxDuration: PropTypes.number,\n\tmaxMoves: PropTypes.number,\n\tmaxVelocity: PropTypes.number\n});\n\nexport default Flick;\nexport {\n\tdefaultFlickConfig,\n\tFlick,\n\tflickConfigPropType\n};\n","import PropTypes from 'prop-types';\n\nclass Hold {\n\tconstructor () {\n\t\tthis.holdJob = null;\n\t\tthis.holdStart = null;\n\t\tthis.pulsing = false;\n\t\tthis.next = null;\n\t}\n\n\tisHolding = () => this.holdConfig != null;\n\n\tisWithinTolerance = ({x, y}) => {\n\t\tconst {moveTolerance} = this.holdConfig;\n\t\tconst dx = this.startX - x;\n\t\tconst dy = this.startY - y;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy) < moveTolerance;\n\t};\n\n\tbegin = (defaultConfig, {holdConfig, noResume, onHold, onHoldEnd, onHoldPulse}, {x, y}) => {\n\t\tif (!onHold && !onHoldPulse) return;\n\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.holdConfig = {\n\t\t\t...defaultConfig,\n\t\t\t...holdConfig,\n\t\t\tonHold,\n\t\t\tonHoldEnd,\n\t\t\tonHoldPulse,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\t// copy the events array since it is mutated for each hold\n\t\tthis.holdConfig.events = this.holdConfig.events.slice();\n\t\tthis.holdConfig.events.sort((a, b) => {\n\t\t\tif (a.time < b.time) return -1;\n\t\t\tif (a.time > b.time) return 1;\n\t\t\treturn 0;\n\t\t});\n\n\t\tthis.pulsing = false;\n\t\tthis.next = this.holdConfig.events.shift();\n\t\tif (this.next) {\n\t\t\tthis.holdStart = window.performance.now();\n\t\t\tthis.startJob();\n\t\t}\n\t};\n\n\t// This method will get the `onHold`, `onHoldEnd`, `onHoldPulse` props and update in the existing `holdConfig`.\n\tupdateProps = ({onHold, onHoldEnd, onHoldPulse}) => {\n\t\t// check `isHolding` gesture is not in progress. Check if gesture exists before updating the references to the `holdConfig`\n\t\tif (!this.isHolding()) return;\n\n\t\t// Update the original values with new values of the gestures\n\t\tthis.holdConfig.onHoldPulse = onHoldPulse;\n\t\tthis.holdConfig.onHold = onHold;\n\t\tthis.holdConfig.onHoldEnd = onHoldEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (cancelOnMove) {\n\t\t\tconst shouldEnd = !this.isWithinTolerance(coords);\n\n\t\t\tif (shouldEnd) {\n\t\t\t\tif (resume) {\n\t\t\t\t\tthis.suspend();\n\t\t\t\t} else {\n\t\t\t\t\tthis.end();\n\t\t\t\t}\n\t\t\t} else if (resume && !shouldEnd) {\n\t\t\t\tthis.resume();\n\t\t\t}\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tif (!this.holdConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {onHoldEnd} = this.holdConfig;\n\t\tif (this.pulsing && onHoldEnd) {\n\t\t\tconst time = window.performance.now() - this.holdStart;\n\t\t\tonHoldEnd({\n\t\t\t\ttype: 'onHoldEnd',\n\t\t\t\ttime\n\t\t\t});\n\t\t}\n\n\t\tthis.suspend();\n\t\tthis.pulsing = false;\n\t\tthis.holdConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (resume && !cancelOnMove) {\n\t\t\tthis.resume();\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {global: isGlobal, resume} = this.holdConfig;\n\n\t\tif (isGlobal) return;\n\n\t\tif (resume) {\n\t\t\tthis.suspend();\n\t\t} else {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tsuspend = () => {\n\t\tclearInterval(this.holdJob);\n\t\tthis.holdJob = null;\n\t};\n\n\tresume = () => {\n\t\tif (this.holdJob !== null) return;\n\n\t\tthis.handlePulse();\n\t\tthis.startJob();\n\t};\n\n\tstartJob () {\n\t\tconst {frequency} = this.holdConfig;\n\n\t\tif (!this.holdJob) {\n\t\t\tthis.holdJob = setInterval(this.handlePulse, frequency);\n\t\t}\n\t}\n\n\thandlePulse = () => {\n\t\tconst holdTime = window.performance.now() - this.holdStart;\n\n\t\tlet n = this.next;\n\t\twhile (n && n.time <= holdTime) {\n\t\t\tconst {events, onHold} = this.holdConfig;\n\t\t\tthis.pulsing = true;\n\t\t\tif (onHold) {\n\t\t\t\tonHold({\n\t\t\t\t\ttype: 'onHold',\n\t\t\t\t\t...n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if the hold is canceled from the onHold handler, we should bail early and prevent\n\t\t\t// additional hold/pulse events\n\t\t\tif (!this.isHolding()) {\n\t\t\t\tthis.pulsing = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = this.next = events && events.shift();\n\t\t}\n\n\t\tif (this.pulsing) {\n\t\t\tconst {onHoldPulse} = this.holdConfig;\n\n\t\t\tif (onHoldPulse) {\n\t\t\t\tonHoldPulse({\n\t\t\t\t\ttype: 'onHoldPulse',\n\t\t\t\t\ttime: holdTime\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst defaultHoldConfig = {\n\tcancelOnMove: false,\n\tevents: [\n\t\t{name: 'hold', time: 200}\n\t],\n\tfrequency: 200,\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst holdConfigPropType = PropTypes.shape({\n\tcancelOnMove: PropTypes.bool,\n\tevents: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tname: PropTypes.string,\n\t\t\ttime: PropTypes.number\n\t\t})\n\t),\n\tfrequency: PropTypes.number,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Hold;\nexport {\n\tdefaultHoldConfig,\n\tHold,\n\tholdConfigPropType\n};\n","import {defaultDragConfig} from './Drag.js';\nimport {defaultFlickConfig} from './Flick.js';\nimport {defaultHoldConfig} from './Hold.js';\n\nconst allowedDragKeys = Object.keys(defaultDragConfig);\nconst allowedFlickKeys = Object.keys(defaultFlickConfig);\nconst allowedHoldKeys = Object.keys(defaultHoldConfig);\n\n/**\n * The Global Gesture Configuration Object\n *\n * @private\n * @memberof ui/Touchable\n */\nlet config = {};\n\n// map-friendly clone method\nconst clone = o => Object.assign({}, o);\n\n// Merges two configuation objects while retaining only the allowed keys\nconst mergeGestureConfig = (current, update, allowed) => {\n\tconst cfg = {...current, ...update};\n\n\tObject.keys(cfg).forEach(key => {\n\t\tif (allowed.indexOf(key) === -1) {\n\t\t\tdelete cfg[key];\n\t\t}\n\t});\n\n\treturn cfg;\n};\n\n// Merges the current global config with the provided `cfg` and returns the result\nconst mergeConfig = (cfg) => {\n\tconst merged = {\n\t\tdrag: mergeGestureConfig(config.drag, cfg.drag, allowedDragKeys),\n\t\tflick: mergeGestureConfig(config.flick, cfg.flick, allowedFlickKeys),\n\t\thold: mergeGestureConfig(config.hold, cfg.hold, allowedHoldKeys)\n\t};\n\n\tmerged.hold.events = merged.hold.events.map(clone);\n\n\treturn merged;\n};\n\n/**\n * Configures the global gesture configuration for the application.\n *\n * Example:\n * ```\n * // Updates the `maxMoves`, `moveTolerance`, and `frequency` configurations while retaining the\n * // current value of all other configurations\n * configure({\n *     flick: {\n *         maxMoves: 10\n *     },\n *     hold: {\n *         moveTolerance: 32,\n *         frequency: 400\n *     }\n * });\n * ```\n *\n * Each type of gesture has its own set of configuration properties grouped within a separate object\n * keyed by the name of the gesture. Partial configurations may be passed and will be merged with\n * the current configuration.\n *\n * `drag`\n *\n *   * `boxSizing` - The part of the component's box model is used as the bounds of the constraint.\n *     Only applies when `global` is `false`.\n *     * `'border-box'` - the default, includes the padding and border but excludes the margin.\n *     * `'content-box'` - excludes the padding, border, and margin.\n *   * `global` - When `true`, drag gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the drag that the pointer\n *     may move before cancelling the drag. Defaults to `16`.\n *\n * `flick`\n *\n *   * `maxDuration` - The amount of time, in milliseconds, to complete a flick gesture before it\n *     is cancelled. Defaults to 250.\n *   * `maxMoves` - The number of moves tracked to determine if a flick occurred. Defaults to `5`.\n *   * `minVelocity` - The minimum threshold, measured as the change in pixels over the change in\n *     time per move, that must be exceeded to generate a `onFlick` event.\n *\n * `hold`\n *\n *   * `cancelOnMove` - When `true`, the hold is cancelled when moving beyond the `moveTolerance`.\n *     Defaults to `false`\n *   * `global` - When `true`, hold gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the hold that the pointer\n *     may move before cancelling the hold. Ignored when `cancelOnMove` is `false`. Defaults to\n *     `16`.\n *   * `frequency` - The time, in milliseconds, to poll for hold events. Defaults to `200`.\n *   * `events` - An array of `onHold` events which each contain a `name` and `time`. The `time`\n *     controls the amount of time that must pass before this `onHold` event is fired and should\n *     be a multiple of `frequency`.\n *\n * @function\n * @param   {Object}     cfg  A partial or complete configuration object\n *\n * @returns {undefined}\n * @public\n * @memberof ui/Touchable\n */\nconst configure = (cfg) => {\n\tconfig = mergeConfig(cfg);\n};\n\nconst getConfig = () => config;\n\nconst resetDefaultConfig = () => configure({\n\tdrag: defaultDragConfig,\n\thold: defaultHoldConfig,\n\tflick: defaultFlickConfig\n});\n\nresetDefaultConfig();\n\nexport default configure;\nexport {\n\tconfigure,\n\tgetConfig,\n\tmergeConfig,\n\tresetDefaultConfig\n};\n","const States = {\n\tInactive: 0,\n\tPaused: 1,\n\tActive: 2\n};\n\nconst setActive = (state) => ({active}) => active !== state ? {active: state} : null;\n\n// State management functions\nconst activate = setActive(States.Active);\nconst deactivate = setActive(States.Inactive);\nconst pause = ({active}) => active === States.Active ? {active: States.Paused} : null;\n\nexport {\n\tactivate,\n\tdeactivate,\n\tpause,\n\tStates\n};\n","import {platform} from '@enact/core/platform';\n\n// It's possible that emitting `onTap` will cause a DOM change before the mousedown fires resulting\n// in multiple tap/click events for the same user action. To avoid this, we store the last touchend\n// target and timestamp to compare against the next mouse down. If the timestamp is different (e.g\n// we're on a hybrid device that emitted a touch event but the next was a mouse event) or the target\n// is the same (or no previous target was set if no touch events have been emitted), we allow the\n// mousedown *across Touchable instances*.\nlet _lastTouchEnd = {\n\ttarget: null,\n\ttimeStamp: 0\n};\n\nconst shouldAllowMouseDown = (ev) => {\n\treturn ev.timeStamp !== _lastTouchEnd.timeStamp || (\n\t\tev.target === _lastTouchEnd.target ||\n\t\t_lastTouchEnd.target === null\n\t);\n};\n\nclass ClickAllow {\n\tconstructor () {\n\t\tthis.lastTouchEndTime = 0;\n\t\tthis.lastMouseUpTime = 0;\n\t}\n\n\tsetLastTouchEnd (ev) {\n\t\tif (ev && ev.type === 'touchend') {\n\t\t\tthis.lastTouchEndTime = ev.timeStamp;\n\t\t\t_lastTouchEnd.timeStamp = ev.timeStamp;\n\t\t\t_lastTouchEnd.target = ev.target;\n\t\t}\n\t}\n\n\tsetLastMouseUp (ev) {\n\t\tif (ev && ev.type === 'mouseup') {\n\t\t\tthis.lastMouseUpTime = ev.timeStamp;\n\t\t}\n\t}\n\n\tshouldAllowMouseEvent (ev) {\n\t\tconst {timeStamp} = ev;\n\n\t\t// iOS Safari sends both touch and mouse events (with differing timestamps)\n\t\treturn !platform.ios && this.lastTouchEndTime !== timeStamp && shouldAllowMouseDown(ev);\n\t}\n\n\tshouldAllowTap (ev) {\n\t\tconst {type, timeStamp} = ev;\n\n\t\t// Allow the custom tap event for a click when its actually a click and its not from the\n\t\t// last mouseup event which would have fired the click for us\n\t\treturn type === 'click' && this.lastMouseUpTime !== timeStamp;\n\t}\n}\n\nexport default ClickAllow;\nexport {\n\tClickAllow\n};\n","/**\n * Application support for gestures.\n *\n * @module ui/Touchable\n * @exports Touchable\n * @exports configure\n */\n\nimport {adaptEvent, call, forward, forwardWithPrevent, forProp, handle, oneOf, preventDefault, returnsTrue} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {on, off} from '@enact/core/dispatcher';\nimport complement from 'ramda/src/complement';\nimport platform from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {configure, mergeConfig} from './config';\nimport {activate, deactivate, pause, States} from './state';\nimport ClickAllow from './ClickAllow';\n\nimport {Drag, dragConfigPropType} from './Drag';\nimport {Flick, flickConfigPropType} from './Flick';\nimport {Hold, holdConfigPropType} from './Hold';\n\nconst getEventCoordinates = (ev) => {\n\tlet {clientX: x, clientY: y, type} = ev;\n\tif (type.indexOf('touch') === 0) {\n\t\tx = ev.targetTouches[0].clientX;\n\t\ty = ev.targetTouches[0].clientY;\n\t}\n\n\treturn {x, y};\n};\n\n// Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\nconst makeTouchableEvent = (type) => (ev) => {\n\tconst {target, currentTarget} = ev;\n\tlet {clientX, clientY, pageX, pageY} = ev;\n\n\tif (ev.changedTouches) {\n\t\tclientX = ev.changedTouches[0].clientX;\n\t\tclientY = ev.changedTouches[0].clientY;\n\t\tpageX = ev.changedTouches[0].pageX;\n\t\tpageY = ev.changedTouches[0].pageY;\n\t}\n\n\treturn {\n\t\ttype,\n\t\ttarget,\n\t\tcurrentTarget,\n\t\tclientX,\n\t\tclientY,\n\t\tpageX,\n\t\tpageY\n\t};\n};\n\nconst isEnabled = forProp('disabled', false);\n\nconst handleDown = handle(\n\tisEnabled,\n\tadaptEvent(makeTouchableEvent('onDown'), forwardWithPrevent('onDown')),\n\tcall('activate'),\n\tcall('startGesture')\n).named('handleDown');\n\nconst handleUp = handle(\n\tisEnabled,\n\tcall('endGesture'),\n\tcall('isTracking'),\n\tadaptEvent(makeTouchableEvent('onUp'), forwardWithPrevent('onUp')),\n\tadaptEvent(makeTouchableEvent('onTap'), forward('onTap'))\n).finally(call('deactivate')).named('handleUp');\n\nconst handleEnter = handle(\n\tisEnabled,\n\tforProp('noResume', false),\n\tcall('enterGesture'),\n\tcall('isPaused'),\n\tcall('activate')\n).named('handleEnter');\n\nconst handleLeave = handle(\n\tisEnabled,\n\tcall('leaveGesture'),\n\toneOf(\n\t\t[forProp('noResume', false), call('pause')],\n\t\t[returnsTrue, call('deactivate')]\n\t)\n).named('handleLeave');\n\n// Mouse event handlers\n\nconst handleMouseDown = handle(\n\tforward('onMouseDown'),\n\tcall('shouldAllowMouseEvent'),\n\thandleDown\n);\n\nconst handleMouseEnter = handle(\n\tforward('onMouseEnter'),\n\thandleEnter\n);\n\nconst handleMouseMove = handle(\n\tforward('onMouseMove'),\n\tcall('moveGesture')\n);\n\nconst handleMouseLeave = handle(\n\tforward('onMouseLeave'),\n\thandleLeave\n);\n\nconst handleMouseUp = handle(\n\treturnsTrue(call('setLastMouseUp')),\n\tforward('onMouseUp'),\n\thandleUp\n);\n\nconst handleClick = handle(\n\tisEnabled,\n\t// wrapping another handler to always forward onClick but, if onTap should occur, it should\n\t// occur first to keep in sync with the up handler which emits onTap first\n\thandle(\n\t\tcall('shouldAllowTap'),\n\t\tcall('activate'),\n\t\thandleUp\n\t).finally(forward('onClick'))\n);\n\n// Touch event handlers\n\nconst handleTouchStart = handle(\n\tforward('onTouchStart'),\n\treturnsTrue(call('startTouch')),\n\thandleDown\n);\n\nconst handleTouchMove = handle(\n\tforward('onTouchMove'),\n\tcall('isTracking'),\n\t// we don't receive enter/leave events during a touch so we have to simulate them by\n\t// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n\t// branch it follows so we append moveHold to either to handle moves that aren't\n\t// entering or leaving\n\tadaptEvent(makeTouchableEvent('onMove'), forward('onMove')),\n\toneOf(\n\t\t[call('hasTouchLeftTarget'), handleLeave],\n\t\t[returnsTrue, handleEnter]\n\t).finally(call('moveGesture'))\n);\n\nconst handleTouchEnd = handle(\n\tforward('onTouchEnd'),\n\t// block the next mousedown to prevent duplicate touchable events\n\treturnsTrue(call('setLastTouchEnd')),\n\tcall('isTracking'),\n\tcomplement(call('hasTouchLeftTarget')),\n\treturnsTrue(call('endTouch')),\n\thandleUp\n);\n\n// Global touchend/mouseup event handler to deactivate the component\nconst handleGlobalUp = handle(\n\tcall('isTracking'),\n\tcall('deactivate')\n).finally(call('endGesture'));\n\nconst handleGlobalMove = handle(\n\tcall('isTracking'),\n\tcall('containsCurrentTarget'),\n\tcall('moveGesture')\n);\n\nconst handleBlur = handle(\n\tforward('onBlur'),\n\tcall('hasFocus'),\n\tcall('blurGesture')\n);\n\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the active state to the wrapped component\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Touchable.Touchable.defaultConfig\n\t */\n\tactiveProp: null\n};\n\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\nconst Touchable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tactiveProp\n\t} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Touchable';\n\n\t\tstatic propTypes = /** @lends ui/Touchable.Touchable.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the drag configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdragConfig: dragConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the flick configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tflickConfig: flickConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the hold configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tholdConfig: holdConfigPropType,\n\n\t\t\t/**\n\t\t\t * Prevents resuming the touch events and gestures when re-entering the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoResume: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Event handler for 'down' pointer events.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDrag'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDrag: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragEnd'`\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the start of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragStart'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragStart: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a flick gesture.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onFlick'`\n\t\t\t * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n\t\t\t * * `velocity` - Velocity of flick\n\t\t\t * * `velocityX` - Velocity of flick along te horizontal axis\n\t\t\t * * `velocityY` - Velocity of flick along te vertical axis\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonFlick: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHold'`\n\t\t\t * * `name` - The name of the hold as configured in the events list\n\t\t\t * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n\t\t\t *            from time since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHold: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldEnd'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold pulse events\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldPulse'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldPulse: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'tap' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonTap: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'up' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonUp: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tnoResume: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tactive: States.Inactive,\n\t\t\t\tprevDisabled: props.disabled\n\t\t\t};\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: props.dragConfig,\n\t\t\t\tflick: props.flickConfig,\n\t\t\t\thold: props.holdConfig\n\t\t\t});\n\n\t\t\tthis.target = null;\n\t\t\tthis.targetHadFocus = false;\n\t\t\tthis.handle = handle.bind(this);\n\t\t\tthis.drag = new Drag();\n\t\t\tthis.flick = new Flick();\n\t\t\tthis.hold = new Hold();\n\n\t\t\tthis.clickAllow = new ClickAllow();\n\n\t\t\thandleClick.bindAs(this, 'handleClick');\n\t\t\thandleBlur.bindAs(this, 'handleBlur');\n\t\t\thandleMouseDown.bindAs(this, 'handleMouseDown');\n\t\t\thandleMouseEnter.bindAs(this, 'handleMouseEnter');\n\t\t\thandleMouseMove.bindAs(this, 'handleMouseMove');\n\t\t\thandleMouseLeave.bindAs(this, 'handleMouseLeave');\n\t\t\thandleMouseUp.bindAs(this, 'handleMouseUp');\n\t\t\thandleTouchStart.bindAs(this, 'handleTouchStart');\n\t\t\thandleTouchMove.bindAs(this, 'handleTouchMove');\n\t\t\thandleTouchEnd.bindAs(this, 'handleTouchEnd');\n\t\t\thandleGlobalUp.bindAs(this, 'handleGlobalUp');\n\t\t\thandleGlobalMove.bindAs(this, 'handleGlobalMove');\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst {disabled} = props;\n\t\t\tconst {prevDisabled} = state;\n\n\t\t\tif (prevDisabled !== disabled) {\n\t\t\t\treturn {\n\t\t\t\t\t...(activeProp && !prevDisabled && disabled && deactivate(state)),\n\t\t\t\t\tprevDisabled: disabled\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// ensure we clean up our internal state\n\t\t\tif (platform.touch) {\n\t\t\t\ton('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\ton('mouseup', this.handleGlobalUp, document);\n\t\t\ton('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.disabled && this.props.disabled) {\n\t\t\t\tthis.clearTarget();\n\t\t\t\tthis.hold.end();\n\t\t\t}\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: this.props.dragConfig,\n\t\t\t\tflick: this.props.flickConfig,\n\t\t\t\thold: this.props.holdConfig\n\t\t\t});\n\n\t\t\t// Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\t\t\tthis.hold.updateProps(this.props);\n\t\t\tthis.flick.updateProps(this.props);\n\t\t\tthis.drag.updateProps(this.props);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTarget();\n\t\t\tthis.hold.end();\n\n\t\t\tif (platform.touch) {\n\t\t\t\toff('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\toff('mouseup', this.handleGlobalUp, document);\n\t\t\toff('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\t// State Management\n\n\t\tsetTarget (target) {\n\t\t\tthis.target = target;\n\t\t}\n\n\t\tclearTarget () {\n\t\t\tthis.target = null;\n\t\t}\n\n\t\tactivate (ev) {\n\t\t\tthis.setTarget(ev.currentTarget);\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(activate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tdeactivate () {\n\t\t\tthis.clearTarget();\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(deactivate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tpause () {\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(pause);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Gesture Support\n\n\t\tstartTouch ({currentTarget}) {\n\t\t\ton('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = currentTarget.getBoundingClientRect();\n\t\t}\n\n\t\tendTouch () {\n\t\t\toff('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = null;\n\t\t}\n\n\t\tstartGesture (ev, props) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\t\t\tlet {hold, flick, drag} = this.config;\n\n\t\t\tthis.hold.begin(hold, props, coords);\n\t\t\tthis.flick.begin(flick, props, coords);\n\t\t\tthis.drag.begin(drag, props, coords, this.target);\n\n\t\t\tthis.targetHadFocus = this.target === document.activeElement;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tmoveGesture (ev) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\n\t\t\tthis.hold.move(coords);\n\t\t\tthis.flick.move(coords);\n\t\t\tthis.drag.move(coords);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tenterGesture () {\n\t\t\tthis.drag.enter();\n\t\t\tthis.hold.enter();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tleaveGesture () {\n\t\t\tthis.drag.leave();\n\t\t\tthis.hold.leave();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tblurGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.blur();\n\t\t\tthis.flick.blur();\n\t\t\tthis.drag.blur();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tendGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.end();\n\t\t\tthis.flick.end();\n\t\t\tthis.drag.end();\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Event handler utilities\n\n\t\tisTracking () {\n\t\t\t// verify we had a target and the up target is still within the current node\n\t\t\treturn this.target;\n\t\t}\n\n\t\tisPaused () {\n\t\t\treturn this.state.active === States.Paused;\n\t\t}\n\n\t\thasFocus () {\n\t\t\treturn this.targetHadFocus;\n\t\t}\n\n\t\thasTouchLeftTarget (ev) {\n\t\t\treturn Array.from(ev.changedTouches).reduce((hasLeft, {pageX, pageY}) => {\n\t\t\t\tconst {left, right, top, bottom} = this.targetBounds;\n\t\t\t\treturn hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n\t\t\t}, true);\n\t\t}\n\n\t\tcontainsCurrentTarget ({target}) {\n\t\t\treturn !this.target.contains(target);\n\t\t}\n\n\t\tshouldAllowMouseEvent (ev) {\n\t\t\treturn this.clickAllow.shouldAllowMouseEvent(ev);\n\t\t}\n\n\t\tshouldAllowTap (ev) {\n\t\t\treturn this.clickAllow.shouldAllowTap(ev);\n\t\t}\n\n\t\tsetLastMouseUp (ev) {\n\t\t\tthis.clickAllow.setLastMouseUp(ev);\n\t\t}\n\n\t\tsetLastTouchEnd (ev) {\n\t\t\tthis.clickAllow.setLastTouchEnd(ev);\n\t\t}\n\n\t\taddHandlers (props) {\n\t\t\tprops.onClick = this.handleClick;\n\t\t\tprops.onMouseDown = this.handleMouseDown;\n\t\t\tprops.onMouseLeave = this.handleMouseLeave;\n\t\t\tprops.onMouseMove = this.handleMouseMove;\n\t\t\tprops.onMouseEnter = this.handleMouseEnter;\n\t\t\tprops.onMouseUp = this.handleMouseUp;\n\t\t\tprops.onBlur = this.handleBlur;\n\n\t\t\tif (platform.touch) {\n\t\t\t\tprops.onTouchStart = this.handleTouchStart;\n\t\t\t\tprops.onTouchMove = this.handleTouchMove;\n\t\t\t\tprops.onTouchEnd = this.handleTouchEnd;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tthis.addHandlers(props);\n\n\t\t\tdelete props.dragConfig;\n\t\t\tdelete props.flickConfig;\n\t\t\tdelete props.holdConfig;\n\t\t\tdelete props.noResume;\n\t\t\tdelete props.onDown;\n\t\t\tdelete props.onFlick;\n\t\t\tdelete props.onHold;\n\t\t\tdelete props.onHoldEnd;\n\t\t\tdelete props.onHoldPulse;\n\t\t\tdelete props.onTap;\n\t\t\tdelete props.onUp;\n\n\t\t\tif (activeProp) {\n\t\t\t\tprops[activeProp] = this.state.active !== States.Inactive;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Touchable;\nexport {\n\tconfigure,\n\tTouchable\n};\n","import React from 'react';\n\nfunction nop () {}\n\n// Generate a handler that hides the controlled value from users, supports functional callbacks,\n// and is memoized by the onChange provided by useState\nfunction createHandler () {\n\treturn (onChange, currentValue, controlled) => {\n\t\tif (controlled) {\n\t\t\treturn nop;\n\t\t}\n\n\t\treturn (value) => {\n\t\t\tif (value !== currentValue) {\n\t\t\t\tonChange(value);\n\t\t\t}\n\t\t};\n\t};\n}\n\n// always return the prop value when controlled and the state value when not\nfunction calcValue (defaultValue, propValue, stateValue, controlled) {\n\tif (!controlled) {\n\t\treturn stateValue;\n\t}\n\n\t// eslint-disable-next-line no-undefined\n\treturn propValue !== undefined ? propValue : defaultValue;\n}\n\nfunction useControlledState (defaultValue, propValue, controlled) {\n\tconst isControlled = React.useRef(controlled);\n\n\t// Store both the value and the \"controlled\" flag in a state hook\n\tconst [value, onChange] = React.useState(defaultValue);\n\n\tconst memoOnChange = React.useMemo(\n\t\tcreateHandler, [onChange, value, isControlled.current]\n\t);\n\n\treturn [\n\t\tcalcValue(defaultValue, propValue, value, isControlled.current),\n\t\tmemoOnChange(onChange, value, isControlled.current)\n\t];\n}\n\nexport default useControlledState;\nexport {\n\tuseControlledState\n};\n","import {adaptEvent, forProp, forward, handle, not, returnsTrue} from '@enact/core/handle';\n\nconst isEnabled = not(forProp('disabled', true));\nconst makeEvent = (config, value) => ({\n\t[config.prop || 'selected']: value\n});\n\nclass Toggle {\n\tconstructor (config) {\n\t\t// remapping to props for better compatibility with core/handle and binding\n\t\tthis.props = config;\n\t\tthis.context = {};\n\t}\n\n\tsetContext (props, value, onToggle) {\n\t\tthis.props = {...this.props, ...props};\n\t\tthis.context.value = value;\n\t\tthis.context.onToggle = onToggle;\n\t}\n\n\tget value () {\n\t\treturn Boolean(this.context.value);\n\t}\n\n\thandleActivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, true), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(true))\n\t).bindAs(this, 'handleActivate');\n\n\thandleDeactivate = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props) => makeEvent(props, false), forward('onToggle')),\n\t\treturnsTrue((ev, props, context) => context.onToggle(false))\n\t).bindAs(this, 'handleDeactivate');\n\n\thandleToggle = handle(\n\t\tisEnabled,\n\t\tadaptEvent((ev, props, {value}) => makeEvent(props, !value), forward('onToggle')),\n\t\treturnsTrue((ev, props, {onToggle, value}) => onToggle(!value))\n\t).bindAs(this, 'handleToggle');\n}\n\nexport default Toggle;\nexport {\n\tToggle\n};\n","import useClass from '@enact/core/useClass';\n\nimport useControlledState from '../useControlledState';\n\nimport Toggle from './Toggle';\n\n/**\n * Configuration for `useToggle`\n *\n * @typedef {Object} useToggleConfig\n * @memberof ui/Toggleable\n * @property {Boolean}  [defaultSelected = false] Initial state of the toggle\n * @property {Boolean}  [disabled = false]        Disables updating the state\n * @property {Boolean}  [prop = \"selected\"]       The key used to pass the current value back\n *                                                through the `onToggle` callback.\n * @property {Boolean}  [selected = false]        Current state of the toggle\n * @property {Function} [onToggle]                Called when the state is changed\n * @private\n */\n\n/**\n * Object returned by `useToggle`\n *\n * @typedef {Object} useToggleInterface\n * @memberof ui/Toggleable\n * @property {Boolean}  selected   Current state of the toggle\n * @property {Function} activate   Sets the current state to `true`\n * @property {Function} deactivate Sets the current state to `false`\n * @property {Function} toggle     Toggles the current state to the opposite value\n * @private\n */\n\n/**\n * Manages a boolean state value.\n *\n * The value may either be toggled via the `onToggle` or explicitly set via `onActivate` and\n * `onDeactivate`. The initial value can be set using the `defaultSelected` option.\n *\n * @param {useToggleConfig} config Configuration options\n * @returns {useToggleInterface}\n * @private\n */\nfunction useToggle ({defaultSelected, selected, ...config} = {}) {\n\tconst toggle = useClass(Toggle, config);\n\tconst state = useControlledState(\n\t\tdefaultSelected,\n\t\tselected,\n\t\ttypeof selected !== 'undefined'\n\t);\n\n\tconst props = {disabled: config.disabled, onToggle: config.onToggle};\n\ttoggle.setContext(props, ...state);\n\n\treturn {\n\t\tactivate: toggle.handleActivate,\n\t\tdeactivate: toggle.handleDeactivate,\n\t\ttoggle: toggle.handleToggle,\n\t\tselected: toggle.value\n\t};\n}\n\nexport default useToggle;\nexport {\n\tuseToggle\n};\n","/**\n * A higher-order component at handles toggle state.\n *\n * @module ui/Toggleable\n * @exports Toggleable\n */\n\nimport handle, {adaptEvent, forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport useHandlers from '@enact/core/useHandlers';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport pick from 'ramda/src/pick';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {useToggle} from './useToggle';\n\n/**\n * Default config for `Toggleable`.\n *\n * @memberof ui/Toggleable.Toggleable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the event name that activates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t *\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tactivate: null,\n\n\t/**\n\t * Configures the event name that deactivates the component.\n\t *\n\t * **Note**: When using `activate`/`deactivate`, the event payload will only forward the original\n\t * event and not include toggled `prop` value. Use `toggle` to receive toggled value from the\n\t * event payload.\n\t *\n\t * Example:\n\t * ```\n\t * const ToggleItem = Toggleable({activate: 'onFocus', deactivate: 'onBlur'}, Item);\n\t *\n\t * handleEvent = (ev) => {\n\t * \t// do something with `ev.selected` here\n\t * }\n\t *\n\t * <ToggleItem onToggle={handleEvent}>This is a toggle item</Item>\n\t * ```\n\t * @type {String}\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tdeactivate: null,\n\n\t/**\n\t * Configures additional props to attach to the event that is sent when toggled.\n\t *\n\t * @type {String[]}\n\t * @default []\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\teventProps: [],\n\n\t/**\n\t * Configures the property that is passed to the wrapped component when toggled.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\tprop: 'selected',\n\n\t/**\n\t * Configures the event name that toggles the component.\n\t *\n\t * The payload includes a toggled Boolean value of `prop`.\n\t *\n\t * **Note**: The payload will override the original event. If a native event is set, then the native\n\t * event payload will be lost.\n\t *\n\t * @type {String}\n\t * @default 'onToggle'\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggle: 'onToggle',\n\n\t/**\n\t * Allows you to remap the incoming `toggle` callback to an event name of your choosing.\n\t *\n\t * For example, run `onToggle` when the wrapped component has an `onClick` property and you've specified\n\t * `onClick` here.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Toggleable.Toggleable.defaultConfig\n\t */\n\ttoggleProp: null\n};\n\n/**\n * A higher-order component that applies a 'toggleable' behavior to its wrapped component.\n *\n * Its default event and property can be configured when applied to a component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * Example:\n * ```\n * const Item = ({selected, ...rest}) => (<div {...rest}>{selected}</div>);\n * ...\n * const ToggleItem = Toggleable({toggleProp: 'onClick'}, Item);\n * ```\n *\n * @class Toggleable\n * @memberof ui/Toggleable\n * @hoc\n * @public\n */\nconst ToggleableHOC = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {activate, deactivate, eventProps, prop, toggle, toggleProp} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\tconst forwardWithEventProps = eventName => adaptEvent(\n\t\t(ev, props) => ({...pick(eventProps, props), ...ev}),\n\t\tforward(eventName)\n\t);\n\tconst forwardActivate = forwardWithEventProps(activate);\n\tconst forwardDeactivate = forwardWithEventProps(deactivate);\n\tconst forwardToggle = forwardWithEventProps(toggle);\n\tconst forwardToggleProp = forwardWithEventProps(toggleProp);\n\n\tconst toggleHandlers = {\n\t\tonToggle: handle(\n\t\t\t(ev, props, context) => (context.toggle()),\n\t\t\tforwardToggleProp\n\t\t),\n\t\tonActivate: handle(\n\t\t\t(ev, props, context) => (context.activate()),\n\t\t\tforwardActivate\n\t\t),\n\t\tonDeactivate: handle(\n\t\t\t(ev, props, context) => (context.deactivate()),\n\t\t\tforwardDeactivate\n\t\t)\n\t};\n\n\tfunction Toggleable (props) {\n\t\tconst updated = {...props};\n\t\tconst propSelected = props[prop];\n\n\t\tconst hook = useToggle({\n\t\t\tdefaultSelected: props[defaultPropKey],\n\t\t\tdisabled: props.disabled,\n\t\t\tonToggle: (ev) => forwardToggle(ev, props),\n\t\t\tprop,\n\n\t\t\t// FIXME: Current behavior for Toggleable treats `null` as undefined so we coerce it\n\t\t\t// here to maintain that behavior while using useControlledState.\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tselected: propSelected == null ? undefined : propSelected\n\t\t});\n\t\tconst handlers = useHandlers(toggleHandlers, props, hook);\n\n\t\twarning(\n\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Toggleable instances.\n\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t);\n\n\t\t// FIXME: Current behavior is to use `false` when switching from a truthy value to\n\t\t// either null or undefined. The ternary below enforces that but we don't want to\n\t\t// continue this exception in the future and should sunset it with this HOC.\n\t\tconst {current: instance} = React.useRef({selected: null});\n\t\tconst selected = (instance.selected && propSelected == null) ? false : hook.selected;\n\t\tinstance.selected = propSelected;\n\n\t\tif (prop) {\n\t\t\tupdated[prop] = selected;\n\t\t}\n\n\t\tif (toggleProp || toggle) {\n\t\t\tupdated[toggleProp || toggle] = handlers.onToggle;\n\t\t}\n\n\t\tif (activate) {\n\t\t\tupdated[activate] = handlers.onActivate;\n\t\t}\n\n\t\tif (deactivate) {\n\t\t\tupdated[deactivate] = handlers.onDeactivate;\n\t\t}\n\n\t\tdelete updated[defaultPropKey];\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\tToggleable.propTypes = {\n\t\t/**\n\t\t * Default toggled state applied at construction when the toggled prop is `undefined` or\n\t\t * `null`.\n\t\t *\n\t\t * @name defaultSelected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\t[defaultPropKey]: PropTypes.bool,\n\n\t\t/**\n\t\t * Whether or not the component is in a disabled state.\n\t\t *\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Current toggled state.\n\t\t *\n\t\t * When set at construction, the component is considered 'controlled' and will only\n\t\t * update its internal value when updated by new props. If undefined, the component\n\t\t * is 'uncontrolled' and `Toggleable` will manage the toggled state using callbacks\n\t\t * defined by its configuration.\n\t\t *\n\t\t * @name selected\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t[prop]: PropTypes.bool,\n\n\t\t/**\n\t\t * Event callback to notify that state should be toggled.\n\t\t *\n\t\t * @name onToggle\n\t\t * @memberof ui/Toggleable.Toggleable.prototype\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\t[toggle]: PropTypes.func\n\t};\n\n\tToggleable.defaultProps = {\n\t\tdisabled: false\n\t};\n\n\treturn Toggleable;\n});\n\nexport default ToggleableHOC;\nexport {\n\tToggleableHOC as Toggleable,\n\tuseToggle\n};\n","// Simple Map polyfill mapping targets to a hash of names->handler[]\nconst targets = [];\nconst events = [];\n\nconst getListeners = function (target, name) {\n\tlet targetIndex = targets.indexOf(target);\n\tif (targetIndex === -1) {\n\t\ttargetIndex = targets.push(target) - 1;\n\t}\n\tconst listeners = events[targetIndex] = events[targetIndex] || {};\n\treturn (listeners[name] = listeners[name] || []);\n};\n\nconst addListener = function (target, name, fn) {\n\tconst listeners = getListeners(target, name);\n\n\tif (listeners.indexOf(fn) === -1) {\n\t\tlisteners.push(fn);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport default getListeners;\nexport {getListeners, addListener};\n","/**\n * Provides methods to add and remove global event listeners.\n *\n * @module core/dispatcher\n * @exports off\n * @exports on\n * @exports once\n */\n\nimport curry from 'ramda/src/curry';\n\nimport {getListeners, addListener} from './listeners';\n\n/*\n * Checks if the default target of `document` exists before returning it, otherwise returns `false`.\n *\n * @function\n *\n * @returns {Node|Boolean}\n * @memberof core/dispatcher\n * @private\n */\nconst getDefaultTarget = () => typeof document !== 'undefined' && document;\n\n/*\n * Wraps event callbacks with a try-catch block to prevent unrelated code from blocking.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n * @param\t{Function}\tfn\tEvent callback\n *\n * @returns\t{undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst invoker = curry(function (ev, fn) {\n\ttry {\n\t\tfn(ev);\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(`A ${e.name} occurred during event handling with the message '${e.message}'`);\n\t}\n});\n\n/*\n * Dispatches an event to the registered handlers.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst dispatcher = function (ev) {\n\tconst name = ev.type;\n\tconst listeners = getListeners(ev.currentTarget, name);\n\n\tif (listeners) {\n\t\tconst inv = invoker(ev);\n\t\tlisteners.forEach(inv);\n\t}\n};\n\n/**\n * Adds a new global event listener. Duplicate event handlers will be discarded.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target='document']\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst on = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst added = addListener(target, name, fn);\n\n\t\tif (added && getListeners(target, name).length === 1) {\n\t\t\ttarget.addEventListener(name, dispatcher);\n\t\t}\n\t}\n};\n\n/**\n * Removes a global event listener.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst off = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst listeners = getListeners(target, name);\n\t\tconst index = listeners.indexOf(fn);\n\n\t\tif (index >= 0) {\n\t\t\tlisteners.splice(index, 1);\n\t\t\tif (listeners.length === 0) {\n\t\t\t\ttarget.removeEventListener(name, dispatcher);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Adds a new global event listener that removes itself after handling one event.\n *\n * @function\n * @param\t{String}\tname\t\tEvent name\n * @param\t{Function}\tfn\t\t\tEvent handler\n * @param\t{Node}\t\t[target]\tEvent listener target\n *\n * @returns {Function}\t\t\t\tThe single-use handler. To remove the handler manually, call\n *\t\t\t\t\t\t\t\t\tthe `off()` function with this as the 2nd parameter.\n * @memberof core/dispatcher\n * @public\n */\nconst once = function (name, fn, target) {\n\tconst onceFn = function (ev) {\n\t\tfn(ev);\n\t\toff(name, onceFn, target);\n\t};\n\n\ton(name, onceFn, target);\n\n\treturn onceFn;\n};\n\nexport {\n\toff,\n\ton,\n\tonce\n};\n","var map = {\n\t\"./nestedObjectAssign\": 658,\n\t\"./nestedObjectAssign.js\": 658\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1267;","\nconst invoke = (fn, options, callback) => {\n\tconst {onLoad} = options;\n\n\tfn({\n\t\t...options,\n\t\tonLoad: (result) => {\n\t\t\tcallback(result);\n\t\t\tif (onLoad) onLoad(result);\n\t\t}\n\t});\n};\n\nconst wrapIlibCallback = (fn, options = {}) => {\n\tconst {sync = false} = options;\n\n\tif (!fn) {\n\t\treturn sync ? null : Promise.resolve(null);\n\t}\n\n\tif (sync) {\n\t\tlet value = null;\n\t\tinvoke(fn, options, (v) => (value = v));\n\n\t\treturn value;\n\t}\n\n\treturn new Promise(resolve => invoke(fn, options, resolve));\n};\n\nexport default wrapIlibCallback;\nexport {\n\twrapIlibCallback\n};\n","import LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {isNonLatinLocale, isRtlLocale} from '../locale';\n\nconst base = 'enact-locale-';\n\n// Callback-friendly version of Promise.all()\nfunction all (fns, callback) {\n\tconst result = [];\n\tlet complete = 0;\n\n\tconst done = (index) => (value) => {\n\t\tresult[index] = value;\n\t\tcomplete++;\n\n\t\tif (complete === fns.length) {\n\t\t\tcallback(result);\n\t\t}\n\t};\n\n\tfns.forEach((fn, index) => fn(done(index)));\n}\n\nfunction getClassesForLocale (li, options) {\n\tconst locale = li.getLocale();\n\n\tconst {latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tall([\n\t\t// allow enact to define other fonts for non-Latin languages, or for certain\n\t\t// Latin-based languages where the characters with some accents don't appear in the\n\t\t// regular fonts, creating a strange 'ransom note' look with a mix of fonts in the\n\t\t// same word. So, treat it like a non-Latin language in order to get all the characters\n\t\t// to display with the same font.\n\t\t(done) => isNonLatinLocale(locale, {\n\t\t\t...rest,\n\t\t\tlatinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides,\n\t\t\tonLoad: (isNonLatin) => done(isNonLatin ? base + 'non-latin' : '')\n\t\t}),\n\t\t// allow enact to apply right-to-left styles to the app and widgets if necessary\n\t\t(done) => isRtlLocale({\n\t\t\t...rest,\n\t\t\tonLoad: (isRtl) => done(isRtl ? base + 'right-to-left' : '')\n\t\t})\n\t], function (classes) {\n\t\tconst scriptName = li.getScript();\n\t\tif (scriptName !== 'Latn' && scriptName !== 'Cyrl' && scriptName !== 'Grek') {\n\t\t\t// GF-45884: allow enact to avoid setting italic fonts for those scripts that do not\n\t\t\t// commonly use italics\n\t\t\tclasses.push(base + 'non-italic');\n\t\t}\n\n\t\t// allow enact or the apps to give CSS classes that are specific to the language, country, or script\n\t\tif (locale.getLanguage()) {\n\t\t\tclasses.push(base + locale.getLanguage());\n\t\t\tif (locale.getScript()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript());\n\t\t\t\tif (locale.getRegion()) {\n\t\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getScript() + '-' + locale.getRegion());\n\t\t\t\t}\n\t\t\t} else if (locale.getRegion()) {\n\t\t\t\tclasses.push(base + locale.getLanguage() + '-' + locale.getRegion());\n\t\t\t}\n\t\t}\n\t\tif (locale.getScript()) {\n\t\t\tclasses.push(base + locale.getScript());\n\t\t}\n\t\tif (locale.getRegion()) {\n\t\t\tclasses.push(base + locale.getRegion());\n\t\t}\n\n\t\toptions.onLoad(classes.filter(Boolean).join(' '));\n\t});\n}\n\n/*\n * A function that returns locale in class name.\n *\n * @memberof i18n/I18nDecorator\n * @param {options.sync} Perform a synchronous request for the classes\n * @param {options.onLoad} Called with a string of i18n classes\n * @param {options.latinLanguageOverrides} Array of locales to treat as latin\n * @param {options.nonLatinLanguageOverrides} Array of locales to treat as non-latin\n * @private\n */\nfunction getI18nClasses (options = {}) {\n\tconst {sync, onLoad} = options;\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new,no-undefined\n\tnew LocaleInfo(undefined, {\n\t\tsync,\n\t\tonLoad: (li) => getClassesForLocale(li, {\n\t\t\t...options,\n\t\t\tonLoad\n\t\t})\n\t}); // for the current locale\n}\n\nexport default getI18nClasses;\n","import {on} from '@enact/core/dispatcher';\nimport {onWindowReady} from '@enact/core/snapshot';\n\nlet focused = false;\nconst queue = new Set();\n\nconst invoke = (fn) => {\n\ttry {\n\t\tfn();\n\t} catch (e) {\n\t\t// failing silently\n\t}\n};\n\nconst flush = () => queue.forEach(invoke);\n\nconst onWindowFocus = (handler) => {\n\tif (focused) {\n\t\thandler();\n\t} else {\n\t\tqueue.add(handler);\n\t}\n};\n\nonWindowReady(() => {\n\tfocused = true;\t// Treat window as initially focused once ready\n\tflush();\n\ton('focus', () => {\n\t\tfocused = true;\n\t\tflush();\n\t}, window);\n\n\ton('blur', () => {\n\t\tfocused = false;\n\t}, window);\n});\n\nexport {\n\tonWindowFocus\n};\n","import {on, off} from '@enact/core/dispatcher';\nimport {Job} from '@enact/core/util';\n\nimport {isRtlLocale, updateLocale} from '../locale';\nimport {createResBundle, setResBundle} from '../src/resBundle';\nimport wrapIlibCallback from '../src/wrapIlibCallback';\n\nimport getI18nClasses from './getI18nClasses';\nimport {onWindowFocus} from './windowFocus';\n\n/**\n * Manages i18n resource loading.\n *\n * @class I18n\n * @private\n */\nclass I18n {\n\tconstructor ({\n\t\tlatinLanguageOverrides,\n\t\tnonLatinLanguageOverrides,\n\t\tresources,\n\t\tsync = true\n\t}) {\n\t\tthis._locale = null;\n\t\tthis._ready = sync;\n\t\tthis._onLoadResources = () => {};\n\t\tthis.loadResourceJob = null;\n\n\t\tthis.latinLanguageOverrides = latinLanguageOverrides;\n\t\tthis.nonLatinLanguageOverrides = nonLatinLanguageOverrides;\n\t\tthis.resources = this.normalizeResources(resources);\n\t\tthis.sync = sync;\n\t}\n\n\t/**\n\t * Sets the current locale and load callback.\n\t *\n\t * Changing the locale will request new resource files for that locale.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tsetContext (locale, onLoadResources) {\n\t\tthis.loadResourceJob = new Job(onLoadResources);\n\t\tthis._onLoadResources = onLoadResources;\n\n\t\tif (this._locale !== locale) {\n\t\t\tthis._locale = locale;\n\n\t\t\tthis.loadResources(locale);\n\t\t}\n\t}\n\n\t/**\n\t * Normalize the structure of the external resources to be an array of resource/onLoad pairs.\n\t *\n\t * @private\n\t */\n\tnormalizeResources (resources) {\n\t\treturn Array.isArray(resources) ? resources.map(res => {\n\t\t\tif (!res) return;\n\n\t\t\tconst fn = res.resource || res;\n\t\t\tconst onLoad = res.onLoad;\n\n\t\t\tif (typeof fn !== 'function') return;\n\n\t\t\treturn {resource: fn, onLoad};\n\t\t}).filter(Boolean) : [];\n\t}\n\n\t/**\n\t * Adds the `languagechange` event listener and initiates async resource retrieval.\n\t *\n\t * Should only be called after `window` is available and the DOM is ready.\n\t *\n\t * @public\n\t */\n\tload () {\n\t\tthis._ready = true;\n\n\t\tif (typeof window === 'object') {\n\t\t\ton('languagechange', this.handleLocaleChange, window);\n\t\t}\n\n\t\t// When async, we defer loading resources until DOM is ready\n\t\tif (!this.sync) {\n\t\t\tthis.loadResources(this._locale);\n\t\t}\n\t}\n\n\t/**\n\t * Cleans up resource retrieval and event listeners.\n\t *\n\t * @public\n\t */\n\tunload () {\n\t\tthis._ready = false;\n\n\t\tthis.loadResourceJob.stop();\n\t\tif (typeof window === 'object') {\n\t\t\toff('languagechange', this.handleLocaleChange, window);\n\t\t}\n\t}\n\n\t/**\n\t * Loads the resources for the given locale.\n\t *\n\t * @private\n\t */\n\tloadResources (spec) {\n\t\tif (!this._ready) return;\n\n\t\tconst locale = updateLocale(spec);\n\t\tconst options = {sync: this.sync, locale};\n\t\tconst rtl = wrapIlibCallback(isRtlLocale, options);\n\t\tconst className = wrapIlibCallback(getI18nClasses, {\n\t\t\t...options,\n\t\t\tlatinLanguageOverrides: this.latinLanguageOverrides,\n\t\t\tnonLatinLanguageOverrides: this.nonLatinLanguageOverrides\n\t\t});\n\t\tconst bundle = wrapIlibCallback(createResBundle, options);\n\n\t\tif (this.sync) {\n\t\t\tconst state = {\n\t\t\t\tclassName,\n\t\t\t\tloaded: true,\n\t\t\t\tlocale,\n\t\t\t\trtl\n\t\t\t};\n\n\t\t\tsetResBundle(bundle);\n\n\t\t\tthis.resources.forEach(({resource, onLoad}) => {\n\t\t\t\tconst result = resource(options);\n\t\t\t\tif (onLoad) onLoad(result);\n\t\t\t});\n\n\t\t\tthis._onLoadResources(state);\n\t\t} else {\n\t\t\tconst resources = Promise.all([\n\t\t\t\trtl,\n\t\t\t\tclassName,\n\t\t\t\t// move updating into a new method with call to setState\n\t\t\t\tbundle,\n\t\t\t\t...this.resources.map(res => wrapIlibCallback(res.resource, options))\n\t\t\t]).then(([rtlResult, classNameResult, bundleResult, ...userResources]) => {\n\t\t\t\tsetResBundle(bundleResult);\n\t\t\t\tthis.resources.forEach(({onLoad}, i) => onLoad && onLoad(userResources[i]));\n\n\t\t\t\treturn {\n\t\t\t\t\tclassName: classNameResult,\n\t\t\t\t\tloaded: true,\n\t\t\t\t\tlocale,\n\t\t\t\t\trtl: rtlResult\n\t\t\t\t};\n\t\t\t});\n\t\t\t// TODO: Resolve how to handle failed resource requests\n\t\t\t// .catch(...);\n\n\t\t\tthis.loadResourceJob.promise(resources);\n\t\t}\n\t}\n\n\t/**\n\t * Called when the `languagechange` event fires.\n\t */\n\thandleLocaleChange = () => {\n\t\tonWindowFocus(this.updateLocale);\n\t};\n\n\t/**\n\t * Updates the locale for the application.\n\t *\n\t * If `newLocale` is omitted, the locale will be reset to the device's default locale.\n\t *\n\t * @param   {String}    newLocale   Locale identifier string\n\t *\n\t * @returns {undefined}\n\t * @public\n\t */\n\tupdateLocale = (newLocale) => {\n\t\tthis.loadResources(newLocale);\n\t};\n}\n\nexport default I18n;\nexport {\n\tI18n\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport ilib from '../src/index.js';\n\nimport I18n from './I18n';\n\n/**\n * Configuration for `useI18n`\n *\n * @typedef {Object} useI18nConfig\n * @memberof i18n/I18nDecorator\n * @property {String[]}   [latinLanguageOverrides]    Locales that should be treated as latin\n * @property {String[]}   [nonLatinLanguageOverrides] Locales that should be treated as non-latin\n * @property {Function}   [onLoadResources]           Called when resources have been loaded after a\n *                                                    locale change\n * @property {Function[]} [resources]                 Additional resource callbacks to be invoked\n *                                                    during a locale change\n * @property {Boolean}    [sync = false]              Load the resources synchronously\n * @private\n */\n\n/**\n * Object returned by `useI18n`\n *\n * @typedef {Object} useI18nInterface\n * @property {String}  className CSS classes that should be applied to the root node\n * @property {Boolean} loaded    Indicates if resources have been loaded\n * @property {String}  locale    Current locale\n * @property {Boolean} rtl       Indicates the current locale uses right-to-left text direction\n * @private\n */\n\n/**\n * Adds internationalization support\n *\n * @param {useI18nConfig} config Configuration options\n * @returns {useI18nInterface}\n * @private\n */\nfunction useI18n ({locale, ...config} = {}) {\n\tconst ilibLocale = ilib.getLocale();\n\tlocale = locale && locale !== ilibLocale ? locale : ilibLocale;\n\n\tconst [state, setState] = React.useState({\n\t\tlocale,\n\t\tloaded: Boolean(config.sync)\n\t});\n\n\tconst i18n = useClass(I18n, config);\n\ti18n.setContext(locale, setState);\n\n\t// Add/remove listeners on mount/unmount\n\tReact.useEffect(() => {\n\t\ti18n.load();\n\n\t\treturn () => i18n.unload();\n\t}, [i18n]);\n\n\treturn {\n\t\t...state,\n\t\tupdateLocale: i18n.updateLocale\n\t};\n}\n\nexport default useI18n;\nexport {\n\tuseI18n\n};\n","import React from 'react';\n\nconst I18nContext = React.createContext(null);\n\n/**\n * Object returned by `useI18nContext`\n *\n * @typedef {Object} useI18nContextInterface\n * @memberof i18n/I18nDecorator\n * @property {Boolean}  loaded       `true` when external resource files have been loaded\n * @property {Boolean}  rtl          `true` for locales with right-to-left reading order\n * @property {Function} updateLocale Updates the locale\n * @property {String}   locale       Current locale\n * @private\n */\n\n/**\n * Retrieves the current locale and a method to update the current locale\n *\n * @returns {useI18nContextInterface}\n * @private\n */\nfunction useI18nContext () {\n\t// This isn't adding much value but does allow a layer of abstraction so we don't have to export\n\t// the I18nContext object and can add private API if needed later.\n\treturn React.useContext(I18nContext);\n}\n\nexport default useI18nContext;\nexport {\n\tuseI18nContext,\n\tI18nContext\n};\n","/**\n * Adds Internationalization (I18N) support to an application using ilib.\n *\n * @module i18n/I18nDecorator\n * @exports I18nDecorator\n * @exports I18nContextDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport '../src/glue';\n\nimport useI18n from './useI18n';\nimport {useI18nContext, I18nContext} from './useI18nContext';\n\nconst join = (a, b) => a && b ? a + ' ' + b : (a || b || '');\n\n/**\n * Default config for `I18nDecorator`.\n *\n * @memberof i18n/I18nDecorator.I18nDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Array of locales that should be treated as latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default\tnull\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tlatinLanguageOverrides: null,\n\n\t/**\n\t * Array of locales that should be treated as non-latin regardless of their script.\n\t *\n\t * @type {String[]}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tnonLatinLanguageOverrides: null,\n\n\t/**\n\t * Array of resource loaders to be invoked after a locale change.\n\t *\n\t * Each loader must be a function which accepts an object and returns either the resource when\n\t * `options.sync` is `true` or a `Promise` for the resource when `options.sync` is `false`.\n\t *\n\t * ```\n\t * resources: [\n\t *   (options) => new Promise((resolve, reject) => {\n\t *     fetchResource({onLoad: resolve, onError: reject});\n\t *   })\n\t * ]\n\t * ```\n\t *\n\t * If you need to handle the resource in some way on load, you can pass an object with an\n\t * `onLoad` member that will be called once all resources have been loaded. This should be used\n\t * if loading a resource has side effects that should only be applied once all loading has\n\t * completed.\n\t *\n\t * ```\n\t * resources: [\n\t *   {resource: (options) => { ... fetch ... }, onLoad: (res) => { ... apply side effect ... }}\n\t * ]\n\t * ```\n\t *\n\t * @type {Array<Function|Object>}\n\t * @default null\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tresources: null,\n\n\t/**\n\t * Retrieve i18n resource files synchronously\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof i18n/I18nDecorator.I18nDecorator.defaultConfig\n\t */\n\tsync: false\n};\n\n/**\n * A higher-order component that is used to wrap the root element in an app. It provides an `rtl`\n * member on the context of the wrapped component, allowing the children to check the current text\n * directionality as well as an `updateLocale` method that can be used to update the current locale.\n *\n * There are no configurable options on this HOC.\n *\n * Note: This HoC passes `className` to the wrapped component. It must be passed to the main DOM\n * node.\n *\n * @class I18nDecorator\n * @memberof i18n/I18nDecorator\n * @hoc\n * @public\n */\nconst I18nDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// eslint-disable-next-line no-shadow\n\tfunction I18nDecorator (props) {\n\t\tconst {locale, ...rest} = props;\n\t\tconst {className: i18nClassName, ...i18n} = useI18n({\n\t\t\tlocale,\n\t\t\t...config\n\t\t});\n\n\t\tconst className = join(i18nClassName, props.className);\n\n\t\treturn (\n\t\t\t<I18nContext.Provider value={i18n}>\n\t\t\t\t<Wrapped {...rest} className={className} />\n\t\t\t</I18nContext.Provider>\n\t\t);\n\t}\n\n\tI18nDecorator.propTypes = /** @lends i18n/I18nDecorator.I18nDecorator.prototype */ {\n\t\t/**\n\t\t * Classes to apply to the wrapped component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * The locale to use.\n\t\t *\n\t\t * A string with a {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}. The\n\t\t * system locale will be used by default.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tlocale: PropTypes.string\n\t};\n\n\treturn I18nDecorator;\n});\n\nconst contextDefaultConfig = {\n\tlocaleProp: null,\n\trtlProp: null,\n\tupdateLocaleProp: null\n};\n\nconst I18nContextDecorator = hoc(contextDefaultConfig, (config, Wrapped) => {\n\tconst {loadedProp, localeProp, rtlProp, updateLocaleProp} = config;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function I18nContextDecorator (props) {\n\t\tconst i18nContext = useI18nContext();\n\n\t\tif (i18nContext) {\n\t\t\tconst {loaded, locale, rtl, updateLocale} = i18nContext;\n\n\t\t\tprops = {...props};\n\t\t\tif (loadedProp) {\n\t\t\t\tprops[loadedProp] = loaded;\n\t\t\t}\n\n\t\t\tif (localeProp) {\n\t\t\t\tprops[localeProp] = locale;\n\t\t\t}\n\n\t\t\tif (rtlProp) {\n\t\t\t\tprops[rtlProp] = rtl;\n\t\t\t}\n\n\t\t\tif (updateLocaleProp) {\n\t\t\t\tprops[updateLocaleProp] = updateLocale;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...props} />\n\t\t);\n\t};\n});\n\nexport default I18nDecorator;\nexport {\n\tI18nContext,\n\tI18nContextDecorator,\n\tI18nDecorator,\n\tuseI18n,\n\tuseI18nContext\n};\n","import {perfNow} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\n\nconst\n\t// Use eases library\n\ttimingFunctions = {\n\t\t'linear': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime + source;\n\t\t},\n\t\t'ease-in': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime * curTime * curTime * curTime + source;\n\t\t},\n\t\t'ease-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\tcurTime--;\n\t\t\treturn (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n\t\t},\n\t\t'ease-in-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration / 2;\n\t\t\tif (curTime < 1) {\n\t\t\t\treturn (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n\t\t\t} else {\n\t\t\t\tcurTime -= 2;\n\t\t\t}\n\t\t\treturn (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n\t\t}\n\t},\n\n\t// for simulate()\n\tframeTime = 16.0,         // time for one frame\n\tmaxVelocity = 100,        // speed cap\n\tstopVelocity = 0.04,      // velocity to stop\n\tvelocityFriction = 0.95,  // velocity decreasing factor\n\tclampVelocity = clamp(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nclass ScrollAnimator {\n\trAFId = null;\n\ttype = 'ease-out';\n\n\t/**\n\t * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n\t *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n\t *\t`'ease-out'`.\n\t * @constructor\n\t * @memberof ui/useScroll.ScrollAnimator\n\t */\n\tconstructor (type) {\n\t\tthis.timingFunction = timingFunctions[type || this.type];\n\t}\n\n\tsimulate (sourceX, sourceY, velocityX, velocityY) {\n\t\tlet\n\t\t\tstepX = clampVelocity(velocityX * frameTime),\n\t\t\tstepY = clampVelocity(velocityY * frameTime),\n\t\t\tdeltaX = 0,\n\t\t\tdeltaY = 0,\n\t\t\tduration = 0;\n\n\t\tdo {\n\t\t\tstepX *= velocityFriction;\n\t\t\tstepY *= velocityFriction;\n\t\t\tdeltaX += stepX;\n\t\t\tdeltaY += stepY;\n\t\t\tduration += frameTime;\n\t\t} while ((stepX * stepX + stepY * stepY) > stopVelocity);\n\n\t\treturn {\n\t\t\ttargetX: sourceX + deltaX,\n\t\t\ttargetY: sourceY + deltaY,\n\t\t\tduration\n\t\t};\n\t}\n\n\tanimate (rAFCallbackFuntion) {\n\t\tconst\n\t\t\trAF = window.requestAnimationFrame,\n\t\t\tstartTimeStamp = perfNow(),\n\t\t\tfn = () => {\n\t\t\t\tconst\n\t\t\t\t\t// schedule next frame\n\t\t\t\t\trAFId = rAF(fn),\n\t\t\t\t\t// current timestamp\n\t\t\t\t\tcurTimeStamp = perfNow(),\n\t\t\t\t\t// current time if 0 at starting position\n\t\t\t\t\tcurTime = curTimeStamp - startTimeStamp;\n\n\t\t\t\tthis.rAFId = rAFId;\n\t\t\t\trAFCallbackFuntion(curTime);\n\t\t\t};\n\n\t\tthis.rAFId = rAF(fn);\n\t}\n\n\tisAnimating () {\n\t\treturn this.rAFId !== null;\n\t}\n\n\tstop () {\n\t\tconst cAF = window.cancelAnimationFrame;\n\n\t\tif (this.rAFId !== null ) {\n\t\t\tcAF(this.rAFId);\n\t\t\tthis.rAFId = null;\n\t\t}\n\t}\n}\n\nexport default ScrollAnimator;\nexport {\n\tScrollAnimator\n};\n","/* global ResizeObserver */\n/**\n * Unstyled scrollable hook and behaviors to be customized by a theme or application.\n *\n * @module ui/useScroll\n * @exports assignPropertiesOf\n * @exports constants\n * @exports useScroll\n * @exports useScrollBase\n * @private\n */\n\nimport classNames from 'classnames';\nimport {forward, forwardWithPrevent} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {platform} from '@enact/core/platform'; // scrollMode 'native'\nimport Registry from '@enact/core/internal/Registry';\nimport {Job} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\nimport React, {useCallback, useContext, useEffect, useLayoutEffect, useReducer, useRef, useState} from 'react';\nimport warning from 'warning';\n\nimport ForwardRef from '../ForwardRef';\nimport {ResizeContext} from '../Resizable';\nimport ri from '../resolution';\nimport Touchable from '../Touchable';\n\nimport ScrollAnimator from './ScrollAnimator';\nimport utilDOM from './utilDOM';\nimport utilEvent from './utilEvent';\n\nimport css from './useScroll.module.less';\n\nconst\n\tconstants = {\n\t\tanimationDuration: 1000,\n\t\tepsilon: 1,\n\t\tflickConfig: {maxDuration: null},\n\t\tisPageDown: is('pageDown'),\n\t\tisPageUp: is('pageUp'),\n\t\tnop: () => {},\n\t\toverscrollTypeNone: 0,\n\t\toverscrollTypeHold: 1,\n\t\toverscrollTypeOnce: 2,\n\t\toverscrollTypeDone: 9,\n\t\toverscrollVelocityFactor: 300, // scrollMode 'native'\n\t\tpaginationPageMultiplier: 0.66,\n\t\tscrollStopWaiting: 200,\n\t\tscrollWheelPageMultiplierForMaxPixel: 0.2 // The ratio of the maximum distance scrolled by wheel to the size of the viewport.\n\t},\n\t{\n\t\tanimationDuration,\n\t\tepsilon,\n\t\tflickConfig,\n\t\tisPageDown,\n\t\tisPageUp,\n\t\toverscrollTypeDone,\n\t\toverscrollTypeHold,\n\t\toverscrollTypeNone,\n\t\toverscrollTypeOnce,\n\t\toverscrollVelocityFactor,\n\t\tpaginationPageMultiplier,\n\t\tscrollStopWaiting,\n\t\tscrollWheelPageMultiplierForMaxPixel\n\t} = constants;\n\nconst TouchableDiv = ForwardRef({prop: 'componentRef'}, Touchable(\n\t({componentRef, ...rest}) => (<div {...rest} ref={componentRef} />)\n));\n\nconst useForceUpdate = () => (useReducer(x => x + 1, 0));\n\n/**\n * A custom hook that passes scrollable behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollBase = (props) => {\n\tconst\n\t\t{\n\t\t\tchildProps,\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tclientSize,\n\t\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t\t'data-webos-voice-focused': voiceFocused,\n\t\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\t\tassignProperties,\n\t\t\tdataSize,\n\t\t\tdirection,\n\t\t\thorizontalScrollbar,\n\t\t\thorizontalScrollbarHandle,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\tnoScrollByDrag,\n\t\t\tnoScrollByWheel,\n\t\t\toverhang,\n\t\t\toverscrollEffectOn,\n\t\t\tpageScroll,\n\t\t\trole,\n\t\t\trtl,\n\t\t\tscrollContainerRef,\n\t\t\tscrollContentHandle,\n\t\t\tscrollContentRef,\n\t\t\tscrollMode,\n\t\t\tsetScrollContainerHandle,\n\t\t\tspacing,\n\t\t\tspotlightContainerDisabled,\n\t\t\tverticalScrollbar,\n\t\t\tverticalScrollbarHandle,\n\t\t\twrap,\n\t\t\t...rest\n\t\t} = props,\n\t\tscrollClasses = classNames(css.scroll, className);\n\n\t// The following props are the one having the same naming function in this scope.\n\t// So it is better to use props[propName]\n\t// instead of extracting it from the `props` and renaming it\n\tdelete rest.addEventListeners;\n\tdelete rest.applyOverscrollEffect;\n\tdelete rest.cbScrollTo;\n\tdelete rest.clearOverscrollEffect;\n\tdelete rest.handleResizeWindow;\n\tdelete rest.onFlick;\n\tdelete rest.onKeyDown;\n\tdelete rest.onMouseDown;\n\tdelete rest.onScroll;\n\tdelete rest.onScrollStart;\n\tdelete rest.onScrollStop;\n\tdelete rest.onWheel;\n\tdelete rest.removeEventListeners;\n\tdelete rest.scrollStopOnScroll; // scrollMode 'native'\n\tdelete rest.scrollTo;\n\tdelete rest.start; // scrollMode 'native'\n\tdelete rest.stop; // scrollMode 'translate'\n\n\t// Mutable value and Hooks\n\n\tconst [, forceUpdate] = useForceUpdate();\n\n\tconst context = useContext(ResizeContext);\n\n\tconst [isHorizontalScrollbarVisible, setIsHorizontalScrollbarVisible] = useState(horizontalScrollbar === 'visible');\n\tconst [isVerticalScrollbarVisible, setIsVerticalScrollbarVisible] = useState(verticalScrollbar === 'visible');\n\n\tconst mutableRef = useRef({\n\t\toverscrollEnabled: !!(props.applyOverscrollEffect),\n\n\t\t// Enable the early bail out of repeated scrolling to the same position\n\t\tanimationInfo: null,\n\n\t\tresizeRegistry: null,\n\n\t\t// constants\n\t\tpixelPerLine: 39,\n\t\tscrollWheelMultiplierForDeltaPixel: 1.5, // The ratio of wheel 'delta' units to pixels scrolled.\n\n\t\t// status\n\t\tdeferScrollTo: true,\n\t\tisScrollAnimationTargetAccumulated: false,\n\n\t\t// overscroll\n\t\tlastInputType: null,\n\t\toverscrollStatus: {\n\t\t\thorizontal: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t},\n\t\t\tvertical: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t}\n\t\t},\n\n\t\t// bounds info\n\t\tbounds: {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxTop: 0,\n\t\t\tmaxLeft: 0\n\t\t},\n\n\t\t// wheel/drag/flick info\n\t\twheelDirection: 0,\n\t\tisDragging: false,\n\t\tisTouching: false, // scrollMode 'native'\n\n\t\t// scroll info\n\t\tscrolling: false,\n\t\tscrollLeft: 0,\n\t\tscrollTop: 0,\n\t\tscrollToInfo: null,\n\n\t\t// scroll animator\n\t\tanimator: null,\n\n\t\t// non-declared-variable.\n\t\taccumulatedTargetX: null,\n\t\taccumulatedTargetY: null,\n\t\tflickTarget: null,\n\t\tdragStartX: null,\n\t\tdragStartY: null,\n\t\tscrollStopJob: null,\n\n\t\tprevState: {isHorizontalScrollbarVisible, isVerticalScrollbarVisible}\n\t});\n\n\tif (mutableRef.current.animator == null) {\n\t\tmutableRef.current.animator = new ScrollAnimator();\n\t}\n\n\tuseLayoutEffect(() => {\n\t\tif (setScrollContainerHandle) {\n\t\t\tsetScrollContainerHandle({\n\t\t\t\tanimator: mutableRef.current.animator,\n\t\t\t\tapplyOverscrollEffect,\n\t\t\t\tbounds: mutableRef.current.bounds,\n\t\t\t\tcalculateDistanceByWheel,\n\t\t\t\tcanScrollHorizontally,\n\t\t\t\tcanScrollVertically,\n\t\t\t\tcheckAndApplyOverscrollEffect,\n\t\t\t\tgetScrollBounds,\n\t\t\t\tget isDragging () {\n\t\t\t\t\treturn mutableRef.current.isDragging;\n\t\t\t\t},\n\t\t\t\tset isDragging (val) {\n\t\t\t\t\tmutableRef.current.isDragging = val;\n\t\t\t\t},\n\t\t\t\tget isScrollAnimationTargetAccumulated () {\n\t\t\t\t\treturn mutableRef.current.isScrollAnimationTargetAccumulated;\n\t\t\t\t},\n\t\t\t\tset isScrollAnimationTargetAccumulated (val) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = val;\n\t\t\t\t},\n\t\t\t\tget lastInputType () {\n\t\t\t\t\treturn mutableRef.current.lastInputType;\n\t\t\t\t},\n\t\t\t\tset lastInputType (val) {\n\t\t\t\t\tmutableRef.current.lastInputType = val;\n\t\t\t\t},\n\t\t\t\tget rtl () {\n\t\t\t\t\treturn rtl;\n\t\t\t\t},\n\t\t\t\tget scrollBounds () {\n\t\t\t\t\treturn getScrollBounds();\n\t\t\t\t},\n\t\t\t\tget scrollHeight () {\n\t\t\t\t\treturn mutableRef.current.bounds.scrollHeight;\n\t\t\t\t},\n\t\t\t\tget scrolling () {\n\t\t\t\t\treturn mutableRef.current.scrolling;\n\t\t\t\t},\n\t\t\t\tget scrollLeft () {\n\t\t\t\t\treturn mutableRef.current.scrollLeft;\n\t\t\t\t},\n\t\t\t\tscrollTo,\n\t\t\t\tscrollToAccumulatedTarget,\n\t\t\t\tget scrollToInfo () {\n\t\t\t\t\treturn mutableRef.current.scrollToInfo;\n\t\t\t\t},\n\t\t\t\tget scrollTop () {\n\t\t\t\t\treturn mutableRef.current.scrollTop;\n\t\t\t\t},\n\t\t\t\tsetOverscrollStatus,\n\t\t\t\tshowScrollbarTrack,\n\t\t\t\tstart,\n\t\t\t\tstartHidingScrollbarTrack,\n\t\t\t\tstop,\n\t\t\t\tget wheelDirection () {\n\t\t\t\t\treturn mutableRef.current.wheelDirection;\n\t\t\t\t},\n\t\t\t\tset wheelDirection (val) {\n\t\t\t\t\tmutableRef.current.wheelDirection = val;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tuseLayoutEffect(() => {\n\t\tif (props.cbScrollTo) {\n\t\t\tprops.cbScrollTo(scrollTo);\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseLayoutEffect(() => {\n\t\tconst containerRef = scrollContainerRef.current;\n\t\tif (!containerRef) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof ResizeObserver === 'function') {\n\t\t\tlet resizeObserver = new ResizeObserver(() => {\n\t\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.syncClientSize) {\n\t\t\t\t\tscrollContentHandle.current.syncClientSize();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tresizeObserver.observe(containerRef);\n\n\t\t\treturn () => {\n\t\t\t\tif (resizeObserver) {\n\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tmutableRef.current.resizeRegistry.parent = context;\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconst {animator, resizeRegistry, scrolling, scrollStopJob} = mutableRef.current; // eslint-disable-line react-hooks/exhaustive-deps\n\n\t\t\tresizeRegistry.parent = null;\n\n\t\t\t// Before call cancelAnimationFrame, you must send scrollStop Event.\n\t\t\tif (scrolling) {\n\t\t\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\t\t}\n\n\t\t\tscrollStopJob.stop();\n\n\t\t\t// scrollMode 'translate' [\n\t\t\tif (animator.isAnimating()) {\n\t\t\t\tanimator.stop();\n\t\t\t}\n\t\t\t// scrollMode 'translate' ]\n\t\t};\n\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\taddEventListeners();\n\t\treturn () => {\n\t\t\tremoveEventListeners();\n\t\t};\n\t});\n\n\t// scrollMode 'translate' [[\n\t// TODO: consider replacing forceUpdate() by storing bounds in state rather than a non-\n\t// state member.\n\tconst enqueueForceUpdate = useCallback(() => {\n\t\tscrollContentHandle.current.calculateMetrics(scrollContentHandle.current.props);\n\t\tforceUpdate();\n\t}, [forceUpdate, scrollContentHandle]);\n\n\tfunction handleResizeWindow () {\n\t\tconst propsHandleResizeWindow = props.handleResizeWindow;\n\n\t\t// `handleSize` in `ui/resolution.ResolutionDecorator` should be executed first.\n\t\tsetTimeout(() => {\n\t\t\tif (propsHandleResizeWindow) {\n\t\t\t\tpropsHandleResizeWindow();\n\t\t\t}\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tscrollTo({position: {x: 0, y: 0}, animate: false});\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(0, 0);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tenqueueForceUpdate();\n\t\t});\n\t}\n\n\tconst handleResize = useCallback((ev) => {\n\t\tif (ev.action === 'invalidateBounds') {\n\t\t\tenqueueForceUpdate();\n\t\t}\n\t}, [enqueueForceUpdate]);\n\t// scrollMode 'translate' ]]\n\n\tif (mutableRef.current.resizeRegistry == null) {\n\t\tmutableRef.current.resizeRegistry = Registry.create(handleResize);\n\t}\n\n\tuseEffect(() => {\n\t\tconst ref = mutableRef.current;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tref.scrollStopJob = new Job(doScrollStop, scrollStopWaiting);\n\t\t} else {\n\t\t\tref.scrollStopJob = new Job(scrollStopOnScroll, scrollStopWaiting);\n\t\t}\n\n\t\treturn () => {\n\t\t\tref.scrollStopJob.stop();\n\t\t};\n\t}, [direction, isHorizontalScrollbarVisible, isVerticalScrollbarVisible, rtl, scrollMode, spotlightContainerDisabled]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst\n\t\t\t{hasDataSizeChanged} = scrollContentHandle.current,\n\t\t\t{prevState, resizeRegistry, scrollToInfo} = mutableRef.current;\n\n\t\t// Need to sync calculated client size if it is different from the real size\n\t\tif (scrollContentHandle.current.syncClientSize) {\n\t\t\t// If we actually synced, we need to reset scroll position.\n\t\t\tif (scrollContentHandle.current.syncClientSize()) {\n\t\t\t\tsetScrollLeft(0);\n\t\t\t\tsetScrollTop(0);\n\t\t\t}\n\t\t}\n\n\t\tclampScrollPosition(); // scrollMode 'translate'\n\n\t\tif (\n\t\t\thasDataSizeChanged === false &&\n\t\t\t(isHorizontalScrollbarVisible && !prevState.isHorizontalScrollbarVisible || isVerticalScrollbarVisible && !prevState.isVerticalScrollbarVisible)\n\t\t) {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t} else {\n\t\t\tupdateScrollbars();\n\t\t}\n\n\t\tif (scrollToInfo !== null) {\n\t\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\t\tscrollTo(scrollToInfo);\n\t\t\t}\n\t\t}\n\n\t\t// publish container resize changes\n\t\tconst horizontal = isHorizontalScrollbarVisible !== prevState.isHorizontalScrollbarVisible;\n\t\tconst vertical = isVerticalScrollbarVisible !== prevState.isVerticalScrollbarVisible;\n\t\tif (horizontal || vertical) {\n\t\t\tresizeRegistry.notify({});\n\t\t}\n\t});\n\n\t// scrollMode 'translate' [[\n\tfunction clampScrollPosition () {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (mutableRef.current.scrollTop > bounds.maxTop) {\n\t\t\tmutableRef.current.scrollTop = bounds.maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.scrollLeft > bounds.maxLeft) {\n\t\t\tmutableRef.current.scrollLeft = bounds.maxLeft;\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// drag/flick event handlers\n\n\tfunction getRtlX (x) {\n\t\treturn (rtl ? -x : x);\n\t}\n\n\tfunction onMouseDown (ev) {\n\t\tif (forwardWithPrevent('onMouseDown', ev, props)) {\n\t\t\tstop();\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction onTouchStart () {\n\t\tmutableRef.current.isTouching = true;\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onDragStart (ev) {\n\t\tif (scrollMode === 'translate' ) {\n\t\t\tif (ev.type === 'dragstart') return;\n\n\t\t\tforward('onDragStart', ev, props);\n\t\t\tstop();\n\t\t\tmutableRef.current.isDragging = true;\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t} else {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t\tmutableRef.current.isDragging = true;\n\t\t\t}\n\n\t\t\t// these values are used also for touch inputs\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t}\n\t}\n\n\tfunction onDrag (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'drag') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tforward('onDrag', ev, props);\n\t\t\tstart({\n\t\t\t\ttargetX: (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY: (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y, // 'vertical' or 'both'\n\t\t\t\tanimate: false,\n\t\t\t\toverscrollEffect: overscrollEffectOn && overscrollEffectOn.drag\n\t\t\t});\n\t\t} else {\n\t\t\tconst\n\t\t\t\ttargetX = (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY = (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y; // 'vertical' or 'both'\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstart({targetX, targetY, animate: false, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeHold);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onDragEnd (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'dragend') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tforward('onDragEnd', ev, props);\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY, duration} = mutableRef.current.flickTarget;\n\n\t\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tstart({targetX, targetY, duration, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t} else {\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY} = mutableRef.current.flickTarget;\n\n\t\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tstart({targetX, targetY, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeOnce);\n\t\t\t\t}\n\t\t\t} else if (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.isTouching = false;\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t}\n\t}\n\n\tfunction onFlick (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t);\n\t\t} else if (scrollMode === 'native') {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t\t);\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tmutableRef.current.flickTarget = {\n\t\t\t\t\ttargetX: mutableRef.current.scrollLeft + getRtlX(-ev.velocityX) * overscrollVelocityFactor, // 'horizontal' or 'both'\n\t\t\t\t\ttargetY: mutableRef.current.scrollTop + -ev.velocityY * overscrollVelocityFactor // 'vertical' or 'both'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (props.onFlick) {\n\t\t\tforward('onFlick', ev, props);\n\t\t}\n\t}\n\n\tfunction calculateDistanceByWheel (deltaMode, delta, maxPixel) {\n\t\tif (deltaMode === 0) {\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 1) { // line; firefox\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.pixelPerLine * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 2) { // page\n\t\t\tdelta = delta < 0 ? -maxPixel : maxPixel;\n\t\t}\n\n\t\treturn delta;\n\t}\n\n\t/*\n\t* wheel event handler;\n\t* - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t* - for vertical scroll, supports wheel action on scrollbars only\n\t*/\n\tfunction onWheel (ev) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t} else {\n\t\t\tconst\n\t\t\t\tbounds = getScrollBounds(),\n\t\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\t\tlet delta = 0;\n\n\t\t\tmutableRef.current.lastInputType = 'wheel';\n\n\t\t\tif (noScrollByWheel) {\n\t\t\t\tif (scrollMode === 'native' && canScrollV) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t} else if (canScrollH) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t}\n\n\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t}\n\n\t\t\t\tforward('onWheel', {delta, horizontalScrollbarHandle, verticalScrollbarHandle}, props);\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t} else { // scrollMode 'native'\n\t\t\t\tconst overscrollEffectRequired = mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.wheel;\n\t\t\t\tlet needToHideScrollbarTrack = false;\n\n\t\t\t\tif (props.onWheel) {\n\t\t\t\t\tforward('onWheel', ev, props);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tshowScrollbarTrack(bounds);\n\n\t\t\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\t\t\tif (canScrollV) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollTop > 0 || eventDelta > 0 && mutableRef.current.scrollTop < bounds.maxTop) {\n\t\t\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target) ||\n\t\t\t\t\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t} else if (overscrollEffectRequired) {\n\t\t\t\t\t\t\tcheckAndApplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollTop <= 0 || eventDelta > 0 && mutableRef.current.scrollTop >= bounds.maxTop)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (canScrollH) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollLeft > 0 || eventDelta > 0 && mutableRef.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollLeft <= 0 || eventDelta > 0 && mutableRef.current.scrollLeft >= bounds.maxLeft)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('horizontal', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t\t}\n\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t}\n\n\t\t\t\tif (needToHideScrollbarTrack) {\n\t\t\t\t\tstartHidingScrollbarTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollByPage (keyCode) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tpageDistance = (isPageUp(keyCode) ? -1 : 1) * (canScrollV ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tmutableRef.current.lastInputType = 'pageKey';\n\n\t\tscrollToAccumulatedTarget(pageDistance, canScrollV, overscrollEffectOn && overscrollEffectOn.pageKey);\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// scrollMode 'native' [[\n\tfunction onScroll (ev) {\n\t\tlet {scrollLeft, scrollTop} = ev.target;\n\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds);\n\n\t\tif (!mutableRef.current.scrolling) {\n\t\t\tscrollStartOnScroll();\n\t\t}\n\n\t\tif (rtl && canScrollH) {\n\t\t\tscrollLeft = (platform.ios || platform.safari) ? -scrollLeft : bounds.maxLeft - scrollLeft;\n\t\t}\n\n\t\tif (scrollLeft !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(scrollLeft);\n\t\t}\n\t\tif (scrollTop !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(scrollTop);\n\t\t}\n\n\t\tif (scrollContentHandle.current.didScroll) {\n\t\t\tscrollContentHandle.current.didScroll(mutableRef.current.scrollLeft, mutableRef.current.scrollTop);\n\t\t}\n\n\t\tforwardScrollEvent('onScroll');\n\t\tmutableRef.current.scrollStopJob.start();\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onKeyDown (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (props.onKeyDown) {\n\t\t\t\tforward('onKeyDown', ev, props);\n\t\t\t} else if ((isPageUp(ev.keyCode) || isPageDown(ev.keyCode))) {\n\t\t\t\tscrollByPage(ev.keyCode);\n\t\t\t}\n\t\t} else {\n\t\t\tforward('onKeyDown', ev, props);\n\t\t}\n\t}\n\n\tfunction scrollToAccumulatedTarget (delta, vertical, overscrollEffect) {\n\t\tif (!mutableRef.current.isScrollAnimationTargetAccumulated) {\n\t\t\tmutableRef.current.accumulatedTargetX = mutableRef.current.scrollLeft;\n\t\t\tmutableRef.current.accumulatedTargetY = mutableRef.current.scrollTop;\n\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = true;\n\t\t}\n\n\t\tif (vertical) {\n\t\t\tmutableRef.current.accumulatedTargetY += delta;\n\t\t} else {\n\t\t\tmutableRef.current.accumulatedTargetX += delta;\n\t\t}\n\n\t\tstart({targetX: mutableRef.current.accumulatedTargetX, targetY: mutableRef.current.accumulatedTargetY, overscrollEffect});\n\t}\n\n\t// overscroll effect\n\n\tfunction getEdgeFromPosition (position, maxPosition) {\n\t\tif (position <= 0) {\n\t\t\treturn 'before';\n\t\t/* If a scroll size or a client size is not integer,\n\t\t\tbrowser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t} else if (scrollMode === 'translate' && position >= maxPosition || scrollMode === 'native' && position >= maxPosition - 1) {\n\t\t\treturn 'after';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction setOverscrollStatus (orientation, edge, overscrollEffectType, ratio) {\n\t\tconst status = mutableRef.current.overscrollStatus[orientation][edge];\n\t\tstatus.type = overscrollEffectType;\n\t\tstatus.ratio = ratio;\n\t}\n\n\tfunction getOverscrollStatus (orientation, edge) {\n\t\treturn (mutableRef.current.overscrollStatus[orientation][edge]);\n\t}\n\n\tfunction calculateOverscrollRatio (orientation, position) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tbaseSize = isVertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tmaxPos = bounds[isVertical ? 'maxTop' : 'maxLeft'];\n\t\tlet overDistance = 0;\n\n\t\tif (position < 0) {\n\t\t\toverDistance = -position;\n\t\t} else if (position > maxPos) {\n\t\t\toverDistance = position - maxPos;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(1, 2 * overDistance / baseSize);\n\t}\n\n\tfunction applyOverscrollEffect (orientation, edge, overscrollEffectType, ratio) {\n\t\tprops.applyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType === overscrollTypeOnce ? overscrollTypeDone : overscrollEffectType, ratio);\n\t}\n\n\tfunction checkAndApplyOverscrollEffect (orientation, edge, overscrollEffectType, ratio = 1) {\n\t\tconst\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tcurPos = isVertical ? mutableRef.current.scrollTop : mutableRef.current.scrollLeft,\n\t\t\tmaxPos = getScrollBounds()[isVertical ? 'maxTop' : 'maxLeft'];\n\n\t\tif (\n\t\t\tscrollMode === 'translate' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos) ||\n\t\t\tscrollMode === 'native' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos - 1)\n\t\t) { // Already on the edge\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t} else {\n\t\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType, ratio);\n\t\t}\n\t}\n\n\tfunction clearOverscrollEffect (orientation, edge) {\n\t\tif (getOverscrollStatus(orientation, edge).type !== overscrollTypeNone) {\n\t\t\tif (props.clearOverscrollEffect) {\n\t\t\t\tprops.clearOverscrollEffect(orientation, edge);\n\t\t\t} else {\n\t\t\t\tapplyOverscrollEffect(orientation, edge, overscrollTypeNone, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction clearAllOverscrollEffects () {\n\t\t['horizontal', 'vertical'].forEach((orientation) => {\n\t\t\t['before', 'after'].forEach((edge) => {\n\t\t\t\tclearOverscrollEffect(orientation, edge);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction applyOverscrollEffectOnDrag (orientation, edge, targetPosition, overscrollEffectType) {\n\t\tif (edge) {\n\t\t\tconst\n\t\t\t\toppositeEdge = edge === 'before' ? 'after' : 'before',\n\t\t\t\tratio = calculateOverscrollRatio(orientation, targetPosition);\n\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\tclearOverscrollEffect(orientation, oppositeEdge);\n\t\t} else {\n\t\t\tclearOverscrollEffect(orientation, 'before');\n\t\t\tclearOverscrollEffect(orientation, 'after');\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction checkAndApplyOverscrollEffectOnDrag (targetX, targetY, overscrollEffectType) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('horizontal', getEdgeFromPosition(targetX, bounds.maxLeft), targetX, overscrollEffectType);\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('vertical', getEdgeFromPosition(targetY, bounds.maxTop), targetY, overscrollEffectType);\n\t\t}\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction checkAndApplyOverscrollEffectOnScroll (orientation) {\n\t\t['before', 'after'].forEach((edge) => {\n\t\t\tconst {ratio, type: overscrollEffectType} = getOverscrollStatus(orientation, edge);\n\n\t\t\tif (overscrollEffectType === overscrollTypeOnce) {\n\t\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkAndApplyOverscrollEffectOnStart (orientation, edge, targetPosition) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tapplyOverscrollEffectOnDrag(orientation, edge, targetPosition, overscrollTypeHold);\n\t\t} else if (edge) {\n\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n\t\t}\n\t}\n\n\t// call scroll callbacks\n\n\tfunction forwardScrollEvent (overscrollEffectType, reachedEdgeInfo) {\n\t\tforward(overscrollEffectType, {scrollLeft: mutableRef.current.scrollLeft, scrollTop: mutableRef.current.scrollTop, moreInfo: getMoreInfo(), reachedEdgeInfo}, props);\n\t}\n\n\t// scrollMode 'native' [[\n\t// call scroll callbacks and update scrollbars for native scroll\n\n\tfunction scrollStartOnScroll () {\n\t\tmutableRef.current.scrolling = true;\n\t\tshowScrollbarTrack(getScrollBounds());\n\t\tforwardScrollEvent('onScrollStart');\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tif (props.scrollStopOnScroll) {\n\t\t\tprops.scrollStopOnScroll();\n\t\t}\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\tstartHidingScrollbarTrack();\n\t}\n\t// scrollMode 'native' ]]\n\n\t// update scroll position\n\n\tfunction setScrollLeft (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollLeft = clamp(0, bounds.maxLeft, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('horizontal');\n\t\t}\n\n\t\tif (isHorizontalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(horizontalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction setScrollTop (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollTop = clamp(0, bounds.maxTop, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('vertical');\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(verticalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction getReachedEdgeInfo () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\treachedEdgeInfo = {bottom: false, left: false, right: false, top: false};\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollLeft, bounds.maxLeft);\n\n\t\t\tif (edge) { // if edge is null, no need to check which edge is reached.\n\t\t\t\tif ((edge === 'before' && !rtl) || (edge === 'after' && rtl)) {\n\t\t\t\t\treachedEdgeInfo.left = true;\n\t\t\t\t} else {\n\t\t\t\t\treachedEdgeInfo.right = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollTop, bounds.maxTop);\n\n\t\t\tif (edge === 'before') {\n\t\t\t\treachedEdgeInfo.top = true;\n\t\t\t} else if (edge === 'after') {\n\t\t\t\treachedEdgeInfo.bottom = true;\n\t\t\t}\n\t\t}\n\n\t\treturn reachedEdgeInfo;\n\t}\n\n\t// scroll start/stop\n\n\t// scrollMode 'translate' [[\n\tfunction doScrollStop () {\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction start ({targetX, targetY, animate = true, duration = animationDuration, overscrollEffect = false}) {\n\t\tconst\n\t\t\t{scrollLeft, scrollTop} = mutableRef.current,\n\t\t\tbounds = getScrollBounds(),\n\t\t\t{maxLeft, maxTop} = bounds;\n\n\t\tconst updatedAnimationInfo = scrollMode === 'translate' ?\n\t\t\t{\n\t\t\t\tsourceX: scrollLeft,\n\t\t\t\tsourceY: scrollTop,\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tduration\n\t\t\t} :\n\t\t\t{\n\t\t\t\ttargetX,\n\t\t\t\ttargetY\n\t\t\t};\n\n\t\t// bail early when scrolling to the same position\n\t\tif (\n\t\t\t(scrollMode === 'translate' && mutableRef.current.animator.isAnimating() || scrollMode === 'native' && mutableRef.current.scrolling) &&\n\t\t\tmutableRef.current.animationInfo &&\n\t\t\tmutableRef.current.animationInfo.targetX === targetX &&\n\t\t\tmutableRef.current.animationInfo.targetY === targetY\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tmutableRef.current.animationInfo = updatedAnimationInfo;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.animator.stop();\n\n\t\t\tif (!mutableRef.current.scrolling) {\n\t\t\t\tmutableRef.current.scrolling = true;\n\t\t\t\tforwardScrollEvent('onScrollStart');\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollStopJob.stop();\n\t\t}\n\n\t\tif (Math.abs(maxLeft - targetX) < epsilon) {\n\t\t\ttargetX = maxLeft;\n\t\t}\n\n\t\tif (Math.abs(maxTop - targetY) < epsilon) {\n\t\t\ttargetY = maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffect) {\n\t\t\tif (scrollLeft !== targetX && canScrollHorizontally(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('horizontal', getEdgeFromPosition(targetX, maxLeft), targetX);\n\t\t\t}\n\t\t\tif (scrollTop !== targetY && canScrollVertically(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('vertical', getEdgeFromPosition(targetY, maxTop), targetY);\n\t\t\t}\n\t\t}\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tshowScrollbarTrack(bounds);\n\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.setScrollPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tif (animate) {\n\t\t\t\tmutableRef.current.animator.animate(scrollAnimation(mutableRef.current.animationInfo));\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t} else { // scrollMode 'native'\n\t\t\tif (animate) {\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tif (props.start) {\n\t\t\t\tprops.start(animate);\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollAnimation (animationInfo) {\n\t\treturn (curTime) => {\n\t\t\tconst\n\t\t\t\t{sourceX, sourceY, targetX, targetY, duration} = animationInfo,\n\t\t\t\tbounds = getScrollBounds();\n\n\t\t\tif (curTime < duration) {\n\t\t\t\tlet\n\t\t\t\t\ttoBeContinued = false,\n\t\t\t\t\tcurTargetX = sourceX,\n\t\t\t\t\tcurTargetY = sourceY;\n\n\t\t\t\tif (canScrollHorizontally(bounds)) {\n\t\t\t\t\tcurTargetX = mutableRef.current.animator.timingFunction(sourceX, targetX, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetX - targetX) < epsilon) {\n\t\t\t\t\t\tcurTargetX = targetX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollVertically(bounds)) {\n\t\t\t\t\tcurTargetY = mutableRef.current.animator.timingFunction(sourceY, targetY, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetY - targetY) < epsilon) {\n\t\t\t\t\t\tcurTargetY = targetY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tscroll(curTargetX, curTargetY);\n\n\t\t\t\tif (!toBeContinued) {\n\t\t\t\t\tstop();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction scroll (left, top) {\n\t\tif (left !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(left);\n\t\t}\n\n\t\tif (top !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(top);\n\t\t}\n\n\t\tscrollContentHandle.current.setScrollPosition(mutableRef.current.scrollLeft, mutableRef.current.scrollTop, rtl);\n\t\tforwardScrollEvent('onScroll');\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction stopForTranslate () {\n\t\tmutableRef.current.animator.stop();\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tstartHidingScrollbarTrack();\n\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\n\t\tif (props.stop) {\n\t\t\tprops.stop();\n\t\t}\n\n\t\tif (mutableRef.current.scrolling) {\n\t\t\tmutableRef.current.scrollStopJob.start();\n\t\t}\n\t}\n\n\tfunction stopForNative () {\n\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\tscrollContentHandle.current.scrollToPosition(mutableRef.current.scrollLeft + (rtl ? -0.1 : 0.1), mutableRef.current.scrollTop + 0.1);\n\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t}\n\n\tfunction stop () {\n\t\tif (scrollMode === 'translate') {\n\t\t\tstopForTranslate();\n\t\t} else {\n\t\t\tstopForNative();\n\t\t}\n\t}\n\n\t// scrollTo API\n\n\tfunction getPositionForScrollTo (opt) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds);\n\t\tlet\n\t\t\titemPos,\n\t\t\tleft = null,\n\t\t\ttop = null;\n\n\t\tif (opt instanceof Object) {\n\t\t\tif (opt.position instanceof Object) {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\t// We need '!=' to check if opt.position.x is null or undefined\n\t\t\t\t\tleft = opt.position.x != null ? opt.position.x : mutableRef.current.scrollLeft;\n\t\t\t\t} else {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\t// We need '!=' to check if opt.position.y is null or undefined\n\t\t\t\t\ttop = opt.position.y != null ? opt.position.y : mutableRef.current.scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\ttop = 0;\n\t\t\t\t}\n\t\t\t} else if (typeof opt.align === 'string') {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\tif (opt.align.includes('left')) {\n\t\t\t\t\t\tleft = 0;\n\t\t\t\t\t} else if (opt.align.includes('right')) {\n\t\t\t\t\t\tleft = bounds.maxLeft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tif (opt.align.includes('top')) {\n\t\t\t\t\t\ttop = 0;\n\t\t\t\t\t} else if (opt.align.includes('bottom')) {\n\t\t\t\t\t\ttop = bounds.maxTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof opt.index === 'number' && typeof scrollContentHandle.current.getItemPosition === 'function') {\n\t\t\t\t\titemPos = scrollContentHandle.current.getItemPosition(opt.index, opt.stickTo, opt.offset);\n\t\t\t\t} else if (opt.node instanceof Object) {\n\t\t\t\t\tif (opt.node.nodeType === 1 && typeof scrollContentHandle.current.getNodePosition === 'function') {\n\t\t\t\t\t\titemPos = scrollContentHandle.current.getNodePosition(opt.node);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPos) {\n\t\t\t\t\tif (canScrollH) {\n\t\t\t\t\t\tleft = itemPos.left;\n\t\t\t\t\t}\n\t\t\t\t\tif (canScrollV) {\n\t\t\t\t\t\ttop = itemPos.top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {left, top};\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\tconst {left, top} = getPositionForScrollTo(opt);\n\t\t\tconst targetX = (left !== null) ? left : mutableRef.current.scrollLeft;\n\t\t\tconst targetY = (top !== null) ? top : mutableRef.current.scrollTop;\n\n\t\t\tif (props.scrollTo) {\n\t\t\t\tprops.scrollTo(opt);\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollToInfo = null;\n\n\t\t\tif (scrollMode === 'native' && scrollContentHandle.current && scrollContentHandle.current.setScrollToPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollToPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tstart({\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tanimate: opt.animate\n\t\t\t});\n\t\t} else {\n\t\t\tmutableRef.current.scrollToInfo = opt;\n\t\t}\n\t}\n\n\tfunction canScrollHorizontally (bounds) {\n\t\treturn (direction === 'horizontal' || direction === 'both') && (bounds.scrollWidth > bounds.clientWidth) && !isNaN(bounds.scrollWidth);\n\t}\n\n\tfunction canScrollVertically (bounds) {\n\t\treturn (direction === 'vertical' || direction === 'both') && (bounds.scrollHeight > bounds.clientHeight) && !isNaN(bounds.scrollHeight);\n\t}\n\n\t// scroll bar\n\n\tfunction showScrollbarTrack (bounds) {\n\t\tif (isHorizontalScrollbarVisible && canScrollHorizontally(bounds) && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && canScrollVertically(bounds) && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrack (scrollbarRef, bounds) {\n\t\tscrollbarRef.current.update({\n\t\t\t...bounds,\n\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t});\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\tif (isHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbars () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\t// determine if we should hide or show any scrollbars\n\t\tconst\n\t\t\tisVisibilityChanged = (\n\t\t\t\tisHorizontalScrollbarVisible !== curHorizontalScrollbarVisible ||\n\t\t\t\tisVerticalScrollbarVisible !== curVerticalScrollbarVisible\n\t\t\t);\n\n\t\tif (isVisibilityChanged) {\n\t\t\t// one or both scrollbars have changed visibility\n\t\t\tsetIsHorizontalScrollbarVisible(curHorizontalScrollbarVisible);\n\t\t\tsetIsVerticalScrollbarVisible(curVerticalScrollbarVisible);\n\t\t} else {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrackSize () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\tif (curHorizontalScrollbarVisible || curVerticalScrollbarVisible) {\n\t\t\t// no visibility change but need to notify whichever scrollbars are visible of the\n\t\t\t// updated bounds and scroll position\n\t\t\tconst updatedBounds = {\n\t\t\t\t...bounds,\n\t\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t\t};\n\n\t\t\tif (curHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\t\thorizontalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\tif (curVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\t\tverticalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// ref\n\n\tfunction getScrollBounds () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getScrollBounds === 'function') {\n\t\t\treturn scrollContentHandle.current.getScrollBounds();\n\t\t}\n\t}\n\n\tfunction getMoreInfo () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getMoreInfo === 'function') {\n\t\t\treturn scrollContentHandle.current.getMoreInfo();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners () {\n\t\tutilEvent('wheel').addEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').addEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tif (scrollMode === 'native' && scrollContentRef.current) {\n\t\t\tutilEvent('scroll').addEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t}\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.addEventListeners) {\n\t\t\tprops.addEventListeners(scrollContentRef);\n\t\t}\n\n\t\tif (window) {\n\t\t\tutilEvent('resize').addEventListener(window, handleResizeWindow);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners () {\n\t\tutilEvent('wheel').removeEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').removeEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tutilEvent('scroll').removeEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.removeEventListeners) {\n\t\t\tprops.removeEventListeners(scrollContentRef);\n\t\t}\n\n\t\tutilEvent('resize').removeEventListener(window, handleResizeWindow);\n\t}\n\n\t// render\n\n\t// scrollMode 'translate' [[\n\tfunction handleScroll () {\n\t\t// Prevent scroll by focus.\n\t\t// VirtualList and VirtualGridList DO NOT receive `onscroll` event.\n\t\t// Only Scroller could get `onscroll` event.\n\t\tif (!mutableRef.current.animator.isAnimating() && scrollContentHandle.current && scrollContentRef.current && scrollContentHandle.current.getRtlPositionX) {\n\t\t\t// For Scroller\n\t\t\tscrollContentRef.current.scrollTop = mutableRef.current.scrollTop;\n\t\t\tscrollContentRef.current.scrollLeft = scrollContentHandle.current.getRtlPositionX(mutableRef.current.scrollLeft);\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction scrollContainerContainsDangerously (target) {\n\t\treturn utilDOM.containsDangerously(scrollContainerRef, target);\n\t}\n\n\tassignProperties('scrollContainerProps', {\n\t\t...rest,\n\t\tclassName: [scrollClasses]\n\t});\n\n\tassignProperties('scrollInnerContainerProps', {\n\t\tclassName: [css.scrollInnerContainer]\n\t});\n\n\tassignProperties('scrollContentWrapperProps', {\n\t\tclassName: scrollMode === 'translate' ? [css.scrollContentWrapper] : [css.scrollContentWrapper, css.scrollContentWrapperNative], // scrollMode 'native'\n\t\t...(!noScrollByDrag && {\n\t\t\tflickConfig,\n\t\t\tonDrag: onDrag,\n\t\t\tonDragEnd: onDragEnd,\n\t\t\tonDragStart: onDragStart,\n\t\t\tonFlick: onFlick,\n\t\t\tonTouchStart: scrollMode === 'native' ? onTouchStart : null // scrollMode 'native'\n\t\t})\n\t});\n\n\tconst voiceProps = {\n\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t'data-webos-voice-focused': voiceFocused,\n\t\t'data-webos-voice-group-label': voiceGroupLabel\n\t};\n\n\tconst scrollContentProps = props.itemRenderer ? // If the child component is a VirtualList\n\t\t{\n\t\t\tchildProps,\n\t\t\tclientSize,\n\t\t\tdataSize,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\toverhang,\n\t\t\tpageScroll,\n\t\t\tspacing,\n\t\t\twrap\n\t\t} :\n\t\t{children};\n\n\tassignProperties('scrollContentProps', {\n\t\t...scrollContentProps,\n\t\t...voiceProps,\n\t\tcbScrollTo: scrollTo,\n\t\tclassName: [css.scrollFill],\n\t\tdirection,\n\t\tget isHorizontalScrollbarVisible () {\n\t\t\treturn isHorizontalScrollbarVisible;\n\t\t},\n\t\tget isVerticalScrollbarVisible () {\n\t\t\treturn isVerticalScrollbarVisible;\n\t\t},\n\t\tonScroll: scrollMode === 'translate' ? handleScroll : null,\n\t\trole,\n\t\trtl,\n\t\tscrollContainerContainsDangerously,\n\t\tscrollMode\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\tclientSize,\n\t\tdisabled: !isVerticalScrollbarVisible,\n\t\trtl,\n\t\tvertical: true\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\tclientSize,\n\t\tcorner: isVerticalScrollbarVisible,\n\t\tdisabled: !isHorizontalScrollbarVisible,\n\t\trtl,\n\t\tvertical: false\n\t});\n\n\tassignProperties('resizeContextProps', {\n\t\tvalue: mutableRef.current.resizeRegistry.register\n\t});\n\n\tmutableRef.current.deferScrollTo = true;\n\n\tmutableRef.current.prevState = {\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n\n\treturn {\n\t\tscrollContentWrapper: noScrollByDrag ? 'div' : TouchableDiv,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nconst assignPropertiesOf = (instance) => (name, properties) => {\n\tif (!instance[name]) {\n\t\tinstance[name] = {};\n\t}\n\n\tif (typeof properties === 'object') {\n\t\tfor (const property in properties) {\n\t\t\tif (property === 'className') {\n\t\t\t\twarning(\n\t\t\t\t\tArray.isArray(properties.className),\n\t\t\t\t\t'Unsupported other types for `className` prop except Array'\n\t\t\t\t);\n\n\t\t\t\tinstance[name].className = classNames(instance[name].className, properties.className);\n\t\t\t} else {\n\t\t\t\twarning(\n\t\t\t\t\t!instance[name][property],\n\t\t\t\t\t'Unsupported to push value in the same ' + property + ' prop.'\n\t\t\t\t);\n\n\t\t\t\t// Override the previous value.\n\t\t\t\tinstance[name][property] = properties[property];\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useScroll = (props) => {\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef({});\n\tconst scrollContentHandle = useRef({});\n\tconst scrollContentRef = useRef({});\n\tconst itemRefs = useRef([]);\n\tconst horizontalScrollbarHandle = useRef({});\n\tconst verticalScrollbarHandle = useRef({});\n\n\t// Hooks\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties);\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...props,\n\t\tassignProperties,\n\t\thorizontalScrollbarHandle,\n\t\tscrollContainerRef,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {ref: scrollContainerRef});\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tscrollContentRef\n\t});\n\tassignProperties('verticalScrollbarProps', {scrollbarHandle: verticalScrollbarHandle});\n\tassignProperties('horizontalScrollbarProps', {scrollbarHandle: horizontalScrollbarHandle});\n\n\t// Return\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tassignPropertiesOf,\n\tconstants,\n\tuseScroll,\n\tuseScrollBase\n};\n","// Full List (Hash) of Agate Supported Icons\n//\n\n// Agate Common Icons\nconst iconList = {\n\tcirclelarge       : 0x0025EF, // shape: LARGE CIRCLE\n\tsquarelarge       : 0x002B1B, // shape: BLACK SQUARE LARGE\n\ttriangleup        : 0x0025B2, // shape: BLACK UP-POINTING TRIANGLE\n\tplus              : 0x00002B, // plus\n\tminus             : 0x00002D, // hyphen\n\tarrowup           : 0x002191, // arrowup\n\tarrowdown         : 0x002193, // arrowdown\n\tarrowleftturn     : 0x0021B6, // arrowleftturn\n\tarrowrightturn    : 0x0021B7, // arrowrightturn\n\tarrowharpoonright : 0x0021C0, // arrowharpoonright\n\tellipsis          : 0x0022EF, // ellipsis\n\tcheck             : 0x002713, // checkmark\n\tarrowstraightup   : 0x0EFFEB, // arrowstraightup\n\tarrowuturn        : 0x0EFFEC, // arrowuturn\n\tarrowlargedown    : 0x0EFFED, // caret_down_large\n\tarrowlargeup      : 0x0EFFEE, // caret_up_large\n\tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n\tarrowlargeright   : 0x0EFFF0, // caret_right_large\n\tclosex            : 0x0EFFF5, // close\n\tsearch            : 0x0EFFF6, // search\n\tbluetooth2        : 0x0F000A, // bluetooth2\n\tbluetoothoff      : 0x0F000B, // bluetoothoff\n\tbright1           : 0x0F000C, // bright01\n\tbright2           : 0x0F000D, // bright02\n\tbluetooth         : 0x0F000E, // bluetooth\n\tusb               : 0x0F000F, // usb\n\tvolume0           : 0x0F0010, // volume00\n\tvolume1           : 0x0F0011, // volume01\n\tvolume2           : 0x0F0012, // volume02\n\twifi              : 0x0F0013, // wifi\n\thappyface         : 0x0F0014, // happyface\n\tnotification      : 0x0F0015, // notification\n\tpairing           : 0x0F0016, // pairing\n\tuser              : 0x0F0017, // user\n\tcalendar          : 0x0F0018, // calendar\n\tedit              : 0x0F0019, // edit\n\tgallery           : 0x0F001A, // gallery\n\tinternet          : 0x0F001B, // internet\n\tmap               : 0x0F001C, // map\n\tmusic             : 0x0F001D, // music\n\tvideo             : 0x0F001E, // video\n\tcircle            : 0x0F001F, // circle\n\tprevious          : 0x0F0020, // previous\n\tpairingdisplay    : 0x0F0021, // pairingdisplay\n\tbox               : 0x0F0022, // box\n\tplay              : 0x0F0023, // playicon\n\tprevioustrack     : 0x0F0024, // previoustrack\n\tpause             : 0x0F0025, // pause\n\tnexttrack         : 0x0F0026, // nexttrack\n\trepeat            : 0x0F0027, // repeat\n\tshuffle           : 0x0F0028, // shuffle\n\terror             : 0x0F002A, // error\n\tsetting           : 0x0F002B, // setting\n\tpopupstop         : 0x0F0035, // popupstop\n\taccept            : 0x0F0036, // accept\n\tdecline           : 0x0F0037, // decline\n\tstop              : 0x0F0038, // stop\n\tcancel            : 0x0F0039, // cancel\n\tcarspeaker        : 0x0F003A, // carspeaker\n\tspeaker           : 0x0F003B, // speaker\n\tearphone          : 0x0F003C, // earphone\n\tdetail            : 0x0F003D, // detail\n\tinstall           : 0x0F003E, // install\n\tsend              : 0x0F003F, // send\n\tnetbook           : 0x0F0040, // netbook\n\tpad               : 0x0F0041, // pad\n\tmobile            : 0x0F0042, // mobile\n\tupdate            : 0x0F0043, // update\n\tbackapp           : 0x0F0044, // backapp\n\tuninstall         : 0x0F0045, // uninstall\n\train              : 0x0F0060, // rain\n\traindrops         : 0x0F0061, // raindrops\n\traincloud         : 0x0F0062, // raincloud\n\tsnow              : 0x0F0063, // snow\n\tcloud             : 0x0F0064, // cloud\n\tice               : 0x0F0065, // ice\n\tfog               : 0x0F0066, // fog\n\tsun               : 0x0F0067, // sun\n\tprofileA1         : 0x0F008A, // profileA1\n\tprofileA2         : 0x0F008B, // profileA2\n\tprofileA3         : 0x0F008C, // profileA3\n\tprofileA4         : 0x0F008D, // profileA4\n\tprofileB1         : 0x0F008E, // profileB1\n\tprofileB2         : 0x0F008F, // profileB2\n\tprofileB3         : 0x0F0090, // profileB3\n\tprofileB4         : 0x0F0091, // profileB4\n\tprofileC1         : 0x0F0092, // profileC1\n\tprofileC2         : 0x0F0093, // profileC2\n\tprofileC3         : 0x0F0094, // profileC3\n\tprofileC4         : 0x0F0095, // profileC4\n\tac                : 0x0F00B2, // ac\n\tauto              : 0x0F00B3, // auto\n\tairmode           : 0x0F00B4, // air_mode\n\tairdown           : 0x0F00B5, // air_down\n\tairright          : 0x0F00B6, // air_right\n\tairup             : 0x0F00B7, // air_up\n\theatseatleft      : 0x0F00B8, // seat_heat_left\n\theatseatright     : 0x0F00B9, // seat_heat_right\n\taircirculation    : 0x0F00BA, // air_circulation\n\tfan               : 0x0F00BB, // fan\n\tdefrosterfront    : 0x0F00BC, // defroster_front\n\tdefrosterback     : 0x0F00BD, // defroster_back\n\tairflow           : 0x0F00BE, // airflow\n\thome              : 0x0F00BF, // home\n\ttemperature       : 0x0F00C0, // temperature_icon\n\tcompass           : 0x0F00C1, // compass\n\tphone             : 0x0F00C2, // phone\n\tfanoff            : 0x0F00C9, // fan_off\n\tdatetime          : 0x0F00CB, // date_time\n\tdisplay           : 0x0F00CC, // display\n\tseatbelt          : 0x0F00CD, // seat_belt\n\tapps              : 0x0F00CF, // apps\n\tclimate           : 0x0F00D0, // climate\n\tdashboard         : 0x0F00D1, // dashboard\n\texpand            : 0x0F00D3, // expand\n\tradio             : 0x0F00D4, // radio\n\trearscreen        : 0x0F00D5, // rear_screen\n\tweather           : 0x0F00D6, // weather\n\tfullscreen        : 0x0F00E1, // fullscreen\n\tmenu              : 0x0F00E2, // menu\n\thistory           : 0x0F00E3, // history\n\tbrowser           : 0x0F00E4, // browser\n\tlock              : 0x0F00E5, // lock\n\tsearch2           : 0x0F00E6, // search2\n\tbookmark          : 0x0F00E7, // bookmark\n\tstar              : 0x0F00E8, // star_full\n\tstarhollow        : 0x0F00E9, // star_empty\n\tstarhalf          : 0x0F00EA, // star_half\n\trefresh           : 0x0F00EB, // refresh\n\ttime              : 0x0F00E3, // time\n\tpausebold         : 0x0F002D, // pause2\n\tplaybold          : 0x0F002E, // play2\n\tcontrols          : 0x0F00EC, // controls\n\tdiagnostics       : 0x0F00ED, // diagnostics\n\tmapbox            : 0x0F00EE, // mapbox\n\tdisplaycontrol    : 0x0F00EF, // displaycontrol\n\tcontrolleft       : 0x0F00F0, // controlleft\n\tcontrolright      : 0x0F00F1, // controlright\n\tmainpage          : 0x0F00F2, // mainpage\n\tplaylist          : 0x0F00F3, // playlist\n\tresume            : 0x0F00F4, // resume\n\ttrailer           : 0x0F00F5, // trailer\n\tplusbold          : 0x0F00F6, // plus2\n\tminusbold         : 0x0F00F7  // minus2\n};\n\n// Silicon-specific Icons\n// The common icons are layered into the @font-face definition in the font definition file.\nconst iconListSilicon = {\n\t...iconList,\n\tarrowleft         : 0x002190, // arrowleft\n\tarrowturnleft     : 0x0021B0, // arrowturnleft\n\tarrowturnright    : 0x0021B1, // arrowturnright\n\tbackspace         : 0x002408, // backspace\n\ttriangle          : 0x0025B2, // triangle\n\ttrianglehollow    : 0x0025B3, // trianglehollow\n\trewind            : 0x0F0030, // rewind\n\trewindprevious    : 0x0F0031, // rewindprevious\n\tstopsquare        : 0x0F0032, // stopsquare\n\tfastforwardnext   : 0x0F0033, // fastforwardnext\n\tfastforward       : 0x0F0034, // fastforward\n\tcallaccept        : 0x0F00FE, // callaccept\n\tcalldecline       : 0x0F00FF, // calldecline\n\tcalldialing       : 0x0F0100, // calldialing\n\tcallmissed        : 0x0F0101, // callmissed\n\tcallreceiving     : 0x0F0102, // callreceiving\n\tdevicesetting     : 0x0F0103, // devicesetting\n\theadset           : 0x0F0104, // headset\n\tkeypad            : 0x0F0105, // keypad\n\tmic               : 0x0F0106, // mic\n\tmicmute           : 0x0F0107, // micmute\n\tcar1              : 0x0F0108, // car1\n\tcar2              : 0x0F0109, // car2\n\tcarupdate         : 0x0F010A, // carupdate\n\tcardiagnostics    : 0x0F010B, // cardiagnostics\n\tcarcharging       : 0x0F010C, // carcharging\n\tcarvalet          : 0x0F010D, // carvalet\n\tgaragemode        : 0x0F010E, // garagemode\n\tcone              : 0x0F010F, // cone\n\tchargingstation   : 0x0F0110, // chargingstation\n\tgps               : 0x0F0111, // gps\n\treplay            : 0x0F0112, // replay\n\tbackward10        : 0x0F0113, // backward10\n\tforward10         : 0x0F0114, // forward10\n\tremote            : 0x0F0116, // remote\n\tlight             : 0x0F0118, // light\n\tthumbs            : 0x0F0119, // thumbs\n\tgames             : 0x0F011A, // games\n\tunlock            : 0x0F011D, // unlock\n\ttrash             : 0x0F011E, // trash\n\tcoffee            : 0x0F011F, // coffee\n\tmessage           : 0x0F0122, // message\n\tpayment           : 0x0F0123, // payment\n\tmail              : 0x0F0124, // mail\n\tscreenshare       : 0x0F0125, // screenshare\n\tphoto             : 0x0F0126, // photo\n\tadd               : 0x0F012A, // add\n\tuserchange        : 0x0F012C, // userchange\n\tseatcool          : 0x0F012D, // seatcool\n\tfanhigh           : 0x0F012E, // fanhigh\n\tfanlow            : 0x0F012F, // fanlow\n\tzoomin            : 0x0F0130, // zoomin\n\tzoomout           : 0x0F0131, // zoomout\n\theadset2          : 0x0F0150, // headset2\n\theadsetbluetooth  : 0x0F0151, // headsetbluetooth\n\tdata              : 0x0F0152, // data\n\tdata5g            : 0x0F0153, // data5g\n\tdatalte           : 0x0F0154, // datalte\n\tcalling           : 0x0F0155, // calling\n\tcontact           : 0x0F0156, // contact\n\tbluetoothmusic    : 0x0F0157, // bluetoothmusic\n\tbluetoothsignalnone: 0x0F0158, // bluetoothsignalnone\n\tbluetoothsignal1  : 0x0F0159, // bluetoothsignal1\n\tbluetoothsignal2  : 0x0F015A, // bluetoothsignal2\n\tbluetoothsignal3  : 0x0F015B, // bluetoothsignal3\n\tbluetoothsignal4  : 0x0F015C, // bluetoothsignal4\n\tbattery0          : 0x0F015D, // battery0\n\tbattery1          : 0x0F015E, // battery1\n\tbattery2          : 0x0F015F, // battery2\n\tbattery3          : 0x0F0160, // battery3\n\tbattery4          : 0x0F0161, // battery4\n\tbatteryalert      : 0x0F0162, // batteryalert\n\tbatterycharging   : 0x0F0163  // batterycharging\n};\n\n// Deprecated icon list from `Moonstone-Agate.ttf` for reference\n\n// export default {\n// \tplus              : 0x00002B, // plus\n// \tminus             : 0x00002D, // hyphen\n// \tarrowhookleft     : 0x0021A9, // LeftArrowHook\n// \tarrowhookright    : 0x0021AA, // RightArrowHook\n// \tellipsis          : 0x0022EF, // ellipsis\n// \tcheck             : 0x002713, // checkmark\n// \tcircle            : 0x0EFFDB, // record\n// \tstop              : 0x0EFFDC, // stop\n// \tplay              : 0x0EFFDD, // play\n// \tpause             : 0x0EFFDE, // pause\n// \tforward           : 0x0EFFDF, // forward\n// \tbackward          : 0x0EFFE0, // rewind\n// \tskipforward       : 0x0EFFE1, // skip_forward\n// \tskipbackward      : 0x0EFFE2, // skip_backwards\n// \tpauseforward      : 0x0EFFE3, // indicator_forward\n// \tpausebackward     : 0x0EFFE4, // indicator_backward\n// \tpausejumpforward  : 0x0EFFE5, // indicator_skip_forward\n// \tpausejumpbackward : 0x0EFFE6, // indicator_skip_backward\n// \tjumpforward       : 0x0EFFE7, // indicator_end\n// \tjumpbackward      : 0x0EFFE8, // indicator_begin\n// \tdenselist         : 0x0EFFE9, // list_big\n// \tbulletlist        : 0x0EFFEA, // list_bullets\n// \tlist              : 0x0EFFEB, // list_simple\n// \tdrawer            : 0x0EFFEC, // list_actions\n// \tarrowlargedown    : 0x0EFFED, // caret_down_large\n// \tarrowlargeup      : 0x0EFFEE, // caret_up_large\n// \tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n// \tarrowlargeright   : 0x0EFFF0, // caret_right_large\n// \tarrowsmallup      : 0x0EFFF1, // caret_up_small\n// \tarrowsmalldown    : 0x0EFFF2, // caret_down_small\n// \tarrowsmallleft    : 0x0EFFF3, // caret_left_small\n// \tarrowsmallright   : 0x0EFFF4, // caret_right_small\n// \tclosex            : 0x0EFFF5, // close_x\n// \tsearch            : 0x0EFFF6, // magnify\n// \trollforward       : 0x0EFFF7, // redo\n// \trollbackward      : 0x0EFFF8, // undo\n// \texitfullscreen    : 0x0EFFF9, // minimize\n// \tfullscreen        : 0x0EFFFA, // maximize\n// \tarrowshrinkleft   : 0x0EFFFB, // shrink_panel_left\n// \tarrowshrinkright  : 0x0EFFFC, // shrink_panel_right\n// \tarrowextend       : 0x0F0021, // arrow_left\n// \tarrowshrink       : 0x0F0022, // arrow_right\n// \tflag              : 0x0F0023, // flag\n// \tfunnel            : 0x0F0024, // filter\n// \ttrash             : 0x0F0025, // trash\n// \tstar              : 0x0F0028, // star_full\n// \thollowstar        : 0x0F0029, // star_empty\n// \thalfstar          : 0x0F002A, // star_half\n// \tgear              : 0x0F002B, // gear\n// \tplug              : 0x0F002C, // input\n// \tlock              : 0x0F002D, // lock\n// \tforward15         : 0x0F0041, // forward15\n// \tback15            : 0x0F0042, // back15\n// \tcontinousplay     : 0x0F0043, // continous_play\n// \tplaylist          : 0x0F0044, // playlist\n// \tresumeplay        : 0x0F0045, // resume_play\n// \timage             : 0x0F0046, // image\n// \taudio             : 0x0F0061, // audio\n// \tmusic             : 0x0F0062, // music\n// \tlanguages         : 0x0F0081, // languages\n// \tcc                : 0x0F0082, // cc\n// \tccon              : 0x0F0083, // cc_on\n// \tccoff             : 0x0F0084, // cc_off\n// \tsub               : 0x0F0085, // sub\n// \trecordings        : 0x0F00A1, // recordings\n// \tlivezoom          : 0x0F00A2, // live_zoom\n// \tliveplayback      : 0x0F00A3, // live_playback\n// \tliveplaybackoff   : 0x0F00A4, // live_playback_off\n// \trepeat            : 0x0F00A5, // repeat\n// \trepeatoff         : 0x0F00A6, // repeat_off\n// \tseries            : 0x0F00A7, // series\n// \trepeatdownload    : 0x0F00A8, // repeat_download\n// \tview360           : 0x0F00A9, // view_360\n// \tview360off        : 0x0F00AA, // view_360_off\n// \tinfo              : 0x0F00AB, // info\n// \tairdown           : 0x0F00B5, // air_down\n// \tairright          : 0x0F00B6, // air_right\n// \tairup             : 0x0F00B7, // air_up\n// \theatseatleft      : 0x0F00B8, // seat_heat_left\n// \theatseatright     : 0x0F00B9, // seat_heat_right\n// \taircirculation    : 0x0F00BA, // air_circulation\n// \tfan               : 0x0F00BB, // fan\n// \tdefrosterfront    : 0x0F00BC, // defroster_front\n// \tdefrosterback     : 0x0F00BD, // defroster_back\n// \tuser              : 0x0F00BE, // users\n// \thome              : 0x0F00BF, // home\n// \ttemperature       : 0x0F00C0, // temperature_icon\n// \tcompass           : 0x0F00C1, // compass\n// \tphone             : 0x0F00C2, // phone\n// \tfanoff            : 0x0F00C9, // fan_off\n// \tbluetooth         : 0x0F00CA, // bluetooth\n// \tdatetime          : 0x0F00CB, // date_time\n// \tdisplay           : 0x0F00CC, // display\n// \tseatbelt          : 0x0F00CD, // seat_belt\n// \twifi              : 0x0F00CE, // wifi\n// \tapps              : 0x0F00CF, // apps\n// \tclimate           : 0x0F00D0, // climate\n// \tdashboard         : 0x0F00D1, // dashboard\n// \tedit              : 0x0F00D2, // edit\n// \texpand            : 0x0F00D3, // expand\n// \tradio             : 0x0F00D4, // radio\n// \trearscreen        : 0x0F00D5, // rear_screen\n// \tweather           : 0x0F00D6  // weather\n// };\n\nexport default iconList;\nexport {\n\ticonList,\n\ticonListSilicon\n};\n","/**\n * Provides Agate styled icon components and behaviors.\n *\n * @example\n * <Icon>flag</Icon>\n *\n * @module agate/Icon\n * @exports Icon\n * @exports IconBase\n * @exports IconDecorator\n * @exports icons\n */\n\nimport kind from '@enact/core/kind';\nimport UiIcon from '@enact/ui/Icon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport iconList, {iconListSilicon} from './IconList.js';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Renders an Agate-styled icon without any behavior.\n *\n * @class IconBase\n * @memberof agate/Icon\n * @extends ui/Icon.Icon\n * @ui\n * @public\n */\nconst IconBase = kind({\n\tname: 'Icon',\n\n\tpropTypes: /** @lends agate/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root class name\n\t\t * * `dingbat` - Applied to dingbat icon\n\t\t * * `focus` - Applied when icon is focused\n\t\t * * `huge` - Applied to a `size='huge'` icon\n\t\t * * `small` - Applied to a `size='small'` icon\n\t\t * * `smallest` - Applied to a `size='smallest'` icon\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The current skin.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * This property only affects image-based icons, not icon glyphs.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large',\n\t\tspriteCount: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(\n\t\t\tsize\n\t\t),\n\t\tstyle: ({spriteCount, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-icon-sprite-count': spriteCount\n\t\t})\n\t},\n\n\trender: ({css, skin, ...rest}) => {\n\t\tdelete rest.spriteCount;\n\n\t\treturn UiIcon.inline({\n\t\t\t...rest,\n\t\t\tcss: css,\n\t\t\ticonList: (skin === 'silicon' ? iconListSilicon : iconList)\n\t\t});\n\t}\n});\n\n// Let's find a way to import this list directly, and bonus feature, render our icons in the docs\n// next to their names.\n/**\n * An object whose keys can be used as the child of an [Icon]{@link agate/Icon.Icon} component.\n *\n * List of Icons:\n * ```\n * circlelarge\n * squarelarge\n * triangleup\n * plus\n * minus\n * arrowup\n * arrowdown\n * arrowleftturn\n * arrowrightturn\n * arrowharpoonright\n * ellipsis\n * check\n * arrowstraightup\n * arrowuturn\n * arrowlargedown\n * arrowlargeup\n * arrowlargeleft\n * arrowlargeright\n * closex\n * search\n * bluetooth2\n * bluetoothoff\n * bright1\n * bright2\n * bluetooth\n * usb\n * volume0\n * volume1\n * volume2\n * wifi\n * happyface\n * notification\n * pairing\n * user\n * calendar\n * edit\n * gallery\n * internet\n * map\n * music\n * video\n * circle\n * previous\n * pairingdisplay\n * box\n * play\n * previoustrack\n * pause\n * nexttrack\n * repeat\n * shuffle\n * error\n * setting\n * popupstop\n * accept\n * decline\n * stop\n * cancel\n * carspeaker\n * speaker\n * earphone\n * detail\n * install\n * send\n * netbook\n * pad\n * mobile\n * update\n * backapp\n * uninstall\n * rain\n * raindrops\n * raincloud\n * snow\n * cloud\n * ice\n * fog\n * sun\n * profileA1\n * profileA2\n * profileA3\n * profileA4\n * profileB1\n * profileB2\n * profileB3\n * profileB4\n * profileC1\n * profileC2\n * profileC3\n * profileC4\n * ac\n * auto\n * airmode\n * airdown\n * airright\n * airup\n * heatseatleft\n * heatseatright\n * aircirculation\n * fan\n * defrosterfront\n * defrosterback\n * airflow\n * home\n * temperature\n * compass\n * phone\n * fanoff\n * datetime\n * display\n * seatbelt\n * apps\n * climate\n * dashboard\n * expand\n * radio\n * rearscreen\n * weather\n * fullscreen\n * menu\n * history\n * browser\n * lock\n * search2\n * bookmark\n * star\n * hollowstar\n * halfstar\n * refresh\n * time\n * pausebold\n * playbold\n * controls\n * diagnostics\n * mapbox\n * displaycontrol\n * controlleft\n * controlright\n * mainpage\n * playlist\n * resume\n * trailer\n * plusbold\n * minusbold\n * ```\n *\n * @name iconList\n * @memberof agate/Icon\n * @constant\n * @type {Object}\n * @public\n */\n\n/**\n * Agate-specific behaviors to apply to [IconBase]{@link agate/Icon.IconBase}.\n *\n * @hoc\n * @memberof agate/Icon\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst IconDecorator = compose(\n\tPure,\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate-styled icon.\n *\n * @class Icon\n * @memberof agate/Icon\n * @extends agate/Icon.IconBase\n * @mixes agate/Icon.IconDecorator\n * @ui\n * @public\n */\nconst Icon = IconDecorator(IconBase);\n\nexport default Icon;\nexport {\n\tIcon,\n\tIconBase,\n\tIconDecorator,\n\ticonList as icons,\n\ticonListSilicon as iconsSilicon\n};\n","/**\n * Provides unstyled LabeledIcon components to be customized by a theme or application.\n *\n * @module ui/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport {CellBase, LayoutBase} from '../Layout';\nimport Slottable from '../Slottable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * An icon component with a label.\n *\n * @class LabeledIconBase\n * @memberof ui/LabeledIcon\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'ui:LabeledIcon',\n\n\tpropTypes: /** @lends ui/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * The label.\n\t\t *\n\t\t * This accepts strings, DOM, and Components, if you need more elaborate features. It may be\n\t\t * positioned using `labelPosition`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `iconCell` - Applied to the `iconComponent` directly, like `.icon`. If `icon` in a\n\t\t *                React component, this class is applied to the container of the icon,\n\t\t *                rather than the icon itself.\n\t\t * * `label` - The label component class\n\t\t * * `inline` - Applied when the inline prop is set\n\t\t * * `above` - Applied when the labelPosition prop is set to above\n\t\t * * `after` - Applied when the labelPosition prop is set to after\n\t\t * * `before` - Applied when the labelPosition prop is set to before\n\t\t * * `below` - Applied when the labelPosition prop is set to below\n\t\t * * `left` - Applied when the labelPosition prop is set to left\n\t\t * * `right` - Applied when the labelPosition prop is set to right\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables the component and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The icon.\n\t\t *\n\t\t * This will be passed as `children` to the `iconComponent`, unless you supply a React\n\t\t * element (like JSX) to this prop, directly or via the `<icon>` slot.\n\t\t *\n\t\t * @type {String|Element|Component}\n\t\t * @public\n\t\t */\n\t\ticon: EnactPropTypes.renderableOverride,\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately. This\n\t\t * prop is ignored in the case of a component being passed into the `icon` prop. It will\n\t\t * also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * Enables this component to be used in an \"inline\" context.\n\t\t *\n\t\t * This is useful for when you have several of these components in a row and are not using a\n\t\t * [Layout]{@link ui/Layout} or flex-box configuration.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The position of the label in relation to the icon element.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * 'below' (default),\n\t\t * * 'above',\n\t\t * * 'left',\n\t\t * * 'right',\n\t\t * * 'before', and\n\t\t * * 'after'.\n\t\t *\n\t\t * The 'before' and 'after' values automatically swap sides when in an RTL locale context.\n\t\t *\n\t\t * @type {('above'|'after'|'before'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tlabelPosition: 'below',\n\t\tinline: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, labelPosition, styler}) => styler.append(labelPosition, {inline}),\n\t\torientation: ({labelPosition}) => {\n\t\t\tconst vertical = labelPosition === 'above' || labelPosition === 'below';\n\t\t\treturn vertical ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\n\trender: ({css, children, disabled, flip, icon, iconComponent: Icon, orientation, size, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\tlet iconClassName = css.icon;\n\n\t\t// Rearrange the props to support custom JSX components\n\t\t// `icon` is normally passed to `iconComponent` as children, but if `icon` is instead a\n\t\t// rendered JSX component, it should become a child of `Cell.icon` and iconComponent should\n\t\t// use Cell's default value. We must also reposition the `icon` class\n\t\tif (React.isValidElement(icon)) {\n\t\t\ticon = ComponentOverride({\n\t\t\t\tcomponent: icon,\n\t\t\t\tclassName: iconClassName,\n\t\t\t\tdisabled,\n\t\t\t\tsize\n\t\t\t});\n\t\t\t// Removing size and iconComponent from CellBase\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tsize = Icon = undefined;\n\t\t\ticonClassName = null;\n\t\t}\n\n\t\tdelete rest.inline;\n\t\tdelete rest.labelPosition;\n\n\t\treturn LayoutBase.inline({\n\t\t\t...rest,\n\t\t\talign: 'center center',\n\t\t\tdisabled,\n\t\t\torientation,\n\t\t\tchildren: [\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'icon',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tsize: '100%',\n\t\t\t\t\tclassName: css.iconCell,\n\t\t\t\t\tchildren: Icon ?\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tflip={flip}\n\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Icon> : icon\n\t\t\t\t}),\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'label',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tcomponent: 'label',\n\t\t\t\t\tclassName: css.label,\n\t\t\t\t\tdisabled,\n\t\t\t\t\tchildren\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n});\n\n/**\n * A higher-order component that adds [slot]{@link ui/Slottable.Slottable} support to [LabeledIconBase]{@link ui/LabeledIcon.LabeledIconBase}\n *\n * @hoc\n * @memberof ui/LabeledIcon\n * @mixes ui/Slottable.Slottable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tSlottable({slots: ['icon']})\n);\n\n/**\n * An icon component with a label without any behaviors applied to it.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof ui/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @mixes ui/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef} from 'react';\n\nimport css from './ScrollbarTrack.module.less';\n\n/**\n * An unstyled scroll track without any behavior.\n *\n * @function ScrollbarTrack\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef((props, ref) => {\n\tconst\n\t\t{vertical, ...rest} = props,\n\t\tclassName = classNames(css.scrollbarTrack, vertical ? css.vertical : null);\n\n\treturn <div {...rest} className={className} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ui:ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends ui/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarTrack.defaultProps = {\n\tvertical: true\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import classNames from 'classnames';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ri from '../resolution';\n\nimport ScrollbarTrack from './ScrollbarTrack';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst scrollbarTrackHidingDelay = 900; // 900ms + 100ms(fade out duration) = 1000ms.\n\nconst addClass = (element, className) => {\n\tReactDOM.findDOMNode(element).classList.add(className); // eslint-disable-line react/no-find-dom-node\n};\n\nconst removeClass = (element, className) => {\n\tReactDOM.findDOMNode(element).classList.remove(className); // eslint-disable-line react/no-find-dom-node\n};\n\n/*\n * Set CSS Variable value.\n *\n * @method\n * @param {Node} element - Node.\n * @param {String} variable - CSS Variable property.\n * @param {String} value - CSS Variable value.\n */\nconst setCSSVariable = (element, variable, value) => {\n\tReactDOM.findDOMNode(element).style.setProperty(variable, value); // eslint-disable-line react/no-find-dom-node\n};\n\n/**\n * A custom hook that passes scrollbar behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollbar = (props) => {\n\tconst {className, clientSize, corner, css, minThumbSize, scrollbarHandle, vertical, ...rest} = props;\n\t// Refs\n\tconst scrollbarContainerRef = useRef();\n\tconst scrollbarTrackRef = useRef();\n\tconst hideScrollbarTrackJob = useRef(null);\n\n\thideScrollbarTrackJob.current = hideScrollbarTrackJob.current || new Job(hideScrollbarTrack, scrollbarTrackHidingDelay);\n\n\tfunction hideScrollbarTrack () {\n\t\tremoveClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\thideScrollbarTrackJob.current.stop();\n\t\t};\n\t}, []);\n\n\tfunction getContainerRef () {\n\t\treturn scrollbarContainerRef;\n\t}\n\n\tfunction showScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.stop();\n\t\taddClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.start();\n\t}\n\n\tfunction update (bounds) {\n\t\tconst\n\t\t\tprimaryDimension = vertical ? 'clientHeight' : 'clientWidth',\n\t\t\ttrackSize = clientSize ? clientSize[primaryDimension] : scrollbarContainerRef.current[primaryDimension],\n\t\t\tscrollViewSize = vertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tscrollContentSize = vertical ? bounds.scrollHeight : bounds.scrollWidth,\n\t\t\tscrollOrigin = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tscrollbarThumbSizeRatioBase = (scrollViewSize / scrollContentSize),\n\t\t\tscrollbarThumbProgressRatio = (scrollOrigin / (scrollContentSize - scrollViewSize)),\n\t\t\tscrollbarThumbSizeRatio = Math.max(ri.scale(minThumbSize) / trackSize, Math.min(1, scrollbarThumbSizeRatioBase));\n\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-size-ratio', scrollbarThumbSizeRatio);\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-progress-ratio', scrollbarThumbProgressRatio);\n\t}\n\n\tscrollbarHandle.current = {\n\t\tgetContainerRef,\n\t\tshowScrollbarTrack,\n\t\tstartHidingScrollbarTrack,\n\t\tupdate\n\t};\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps: {\n\t\t\tclassName: classNames(\n\t\t\t\tclassName,\n\t\t\t\tcorner ? css.corner : null,\n\t\t\t\tcss.scrollbar,\n\t\t\t\tvertical ? css.vertical : css.horizontal\n\t\t\t),\n\t\t\tref: scrollbarContainerRef\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\tref: scrollbarTrackRef,\n\t\t\tvertical\n\t\t}\n\t};\n};\n\n/**\n * An unstyled scroll bar.\n *\n * @class Scrollbar\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbar(props);\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollbarTrack {...scrollbarTrackProps} />\n\t\t</div>\n\t);\n});\n\nScrollbar.displayName = 'ui:Scrollbar';\n\nScrollbar.propTypes = /** @lends ui/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * Client size of the container; valid values are an object that has `clientWidth` and `clientHeight`.\n\t *\n\t * @type {Object}\n\t * @property {Number}    clientHeight    The client height of the list.\n\t * @property {Number}    clientWidth    The client width of the list.\n\t * @public\n\t */\n\tclientSize: PropTypes.shape({\n\t\tclientHeight: PropTypes.number.isRequired,\n\t\tclientWidth: PropTypes.number.isRequired\n\t}),\n\n\t/**\n\t * Adds a corner between the vertical and horizontal scrollbars.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * The minimum size of the thumb.\n\t *\n\t * This value will be scaled.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbar.defaultProps = {\n\tcorner: false,\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbar as ScrollbarBase,\n\tScrollbarTrack,\n\tuseScrollbar\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ForwardRef from '../ForwardRef';\nimport ri from '../resolution';\n\nimport css from './Layout.module.less';\n\nconst toFlexAlign = (align) => (\n\talign === 'end' && 'flex-end' ||\n\talign === 'start' && 'flex-start' ||\n\talign\n);\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}, without [CellDecorator](ui/Layout.CellDecorator) applied.\n *\n * @class CellBase\n * @memberof ui/Layout\n * @ui\n * @public\n */\nconst CellBase = kind({\n\tname: 'Cell',\n\n\tpropTypes: /** @lends ui/Layout.CellBase.prototype */ {\n\t\t/**\n\t\t * The alignment of `Cell`.\n\t\t *\n\t\t * Aligns this `Cell` vertically in the case of a horizontal layout or\n\t\t * horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-self` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Any valid [Node]{@link /docs/developer-guide/glossary/#node} that should be positioned in this `Cell`.\n\t\t *\n\t\t * @type {Any}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Cell`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Cell.Cell#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Sizes `Cell` to its contents.\n\t\t *\n\t\t * A `shrink`able cell will contract to its minimum size, according to the dimensions of its\n\t\t * contents. This is used when you want the size of this Cell's content to influence the\n\t\t * dimensions of this cell. `shrink` will not allow the contents of the Layout to be pushed\n\t\t * beyond its boundaries (overflowing). See the [size]{@link ui/Layout.Cell#size} property\n\t\t * for more details.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshrink: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the desired size of the Cell using any valid CSS measurement value.\n\t\t *\n\t\t * When used in conjunction with [shrink]{@link ui/Layout.Cell#shrink}, the size will be\n\t\t * the maximum size, shrinking as necessary, to fit the content.\n\t\t *\n\t\t * E.g.\n\t\t * * `size=\"400px\"` -> cell will be 400px, regardless of the dimensions of your content\n\t\t * * `size=\"400px\" shrink` -> cell will be 400px if your content is greater than 400px,\n\t\t *   and will match your contents size if it's smaller\n\t\t *\n\t\t * This accepts any valid CSS measurement value string. If a numeric value is used, it will\n\t\t * be treated as a pixel value and converted to a\n\t\t * [relative unit]{@link ui/resolution.unit} based on the rules of\n\t\t * [resolution independence]{@link ui/resolution}.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tshrink: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'cell'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({shrink, size, styler}) => styler.append({shrink, grow: (!shrink && !size)}),\n\t\tstyle: ({align, shrink, size, style}) => {\n\t\t\tif (typeof size === 'number') size = ri.unit(ri.scale(size), 'rem');\n\n\t\t\tlet cellSize = size;\n\t\t\tif (!size) {\n\t\t\t\tif (shrink) {\n\t\t\t\t\tcellSize = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tcellSize = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignSelf: toFlexAlign(align),\n\t\t\t\tflexBasis: (shrink ? null : size),\n\t\t\t\t// Setting 100% below in the presence of `shrink`` and absense of `size` prevents overflow\n\t\t\t\t'--cell-size': cellSize\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.shrink;\n\t\tdelete rest.size;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Cell behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst CellDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}.\n *\n * @class Cell\n * @memberof ui/Layout\n * @extends ui/Layout.CellBase\n * @mixes ui/Layout.CellDecorator\n * @ui\n * @public\n */\nconst Cell = CellDecorator(CellBase);\n\nexport default Cell;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\ttoFlexAlign\n};\n","/**\n * A convenient tool for laying-out content using `Layout`, `Cell`, `Row`, and `Column`.\n *\n * Layout is a powerful and versatile tool used for arranging content on the screen. On a conceptual\n * level, it mixes the best parts of HTML tables wtih the best parts of HTML framesets, both of\n * which were largely abandoned for their drawbacks, ignoring their strengths. A `Layout` is simply\n * a container for `Cell`, the only \"legal\" child. Conversely, `Cell` may only be used in a\n * `Layout`. Cells in a Layout can either be positioned next to each other (horizontally) or\n * above/below each other (vertically) in what we refer to as a [Row]{@link ui/Layout.Row} or\n * [Column]{@link ui/Layout.Column}, respectively.\n *\n * The `Row` and `Column` layout presets describe the direction of layout for their children. This\n * can sometimes cause confusion. A `Row` of children naturally forms a _layout_ whose children can\n * have the _appearance_ of columns. To keep things clear, think about the layout rather than the\n * what the children themselves represent.\n *\n * `Layout` is an implementation of flex-box, but with built-in rails, properties, and features to\n * help avoid common problems with flex-box; things like content overflowing, sizing quirks, and\n * positioning problems regarding content of unknown or undefined dimension.\n *\n * The following scenarios are some common cases where `Layout` can truly help out. A quality of\n * `Cell` you'll see below is that when a `Cell` has no defined size, it automatically sizes to fill\n * any remaining space in the `Layout`. If there are multiple auto-sizing `Cell` components, they\n * share the space, subdividing it equally among themselves. It's great to leverage this and only\n * apply sizes to `Cell`s which must have defined sizes. `shrink` is one of the ways you can impose\n * size guidelines on a `Cell`. It automatically fits the size of the Cell to the size of its\n * content.\n *\n * A row of cells where the last one should always attach to the right side, regardless of the size\n * of the main \"content\" cell:\n * ```\n * \n * Main   R\n * \n * ```\n *\n * ```\n * <Row>\n * \t<Cell>Main Content</Cell>\n * \t<Cell shrink>Right Side</Cell>\n * </Row>\n * ```\n *\n * A \"two-column\" layout with equal sized cells using `Row`:\n * ```\n * \n * L   R   \n * \n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell>Left Column</Cell>\n * \t<Cell>Right Column</Cell>\n * </Row>\n * ```\n * *Remember:* The cells of the `Row` are the columns in our layout. It's likely that in a complex\n * layout `Column` would be used inside the left and right cells to arrange the components, as in\n * the example below.\n *\n * A full-height sidebar with a header and body to the right:\n * ```\n * \n * S HEADER\n *   \n *   Body  \n *         \n * \n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell size=\"20%\">Sidebar</Cell>\n * \t<Cell>\n * \t\t<Column>\n * \t\t\t<Cell size={90} component=\"header\">\n * \t\t\t\t<h1>HEADER</h1>\n * \t\t\t</Cell>\n * \t\t\t<Cell>\n * \t\t\t\t<p>Body area</p>\n * \t\t\t</Cell>\n * \t\t</Column>\n * \t</Cell>\n * </Row>\n * ```\n * *Note:* Here, we've set the height of `Row` so it fills the height of the screen, allowing the\n * Sidebar Cell and content Cell to stretch from the top to the bottom. We've also leveraged the\n * `component` prop on the header cell, which tells `Cell` to render itself as a \"header\" HTML tag\n * rather than its usual \"div\" tag.\n *\n * The example below produces a layout like the following:\n * ```\n * \n * oItem o\n * \n * ```\n *\n * You'll notice the use of some special classes in the example: `\"debug layout\"`. Adding these on\n * any element in your DOM hierarchy will enable borders in Layout and Cell to help visualize what\n * is happening in the layout. They automatically change color the deeper in the stack they go.\n *\n * @example\n * <Layout className=\"debug layout\">\n * \t<Cell shrink>\n * \t\t<button>First</button>\n * \t</Cell>\n * \t<Cell>\n * \t\t<div>A div with some long text in it</div>\n * \t</Cell>\n * \t<Cell shrink>\n * \t\t<button>Last</button>\n * \t</Cell>\n * </Layout>\n *\n * @module ui/Layout\n * @exports Cell\n * @exports CellBase\n * @exports CellDecorator\n * @exports Column\n * @exports Layout\n * @exports LayoutBase\n * @exports LayoutDecorator\n * @exports Row\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {Cell, CellBase, CellDecorator, toFlexAlign} from './Cell';\n\nimport css from './Layout.module.less';\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class LayoutBase\n * @ui\n * @memberof ui/Layout\n * @public\n */\nconst LayoutBase = kind({\n\tname: 'LayoutBase',\n\n\tpropTypes: /** @lends ui/Layout.LayoutBase.prototype */ {\n\t\t/**\n\t\t * The alignment of children.\n\t\t *\n\t\t * Aligns the children [Cells]{@link ui/Layout.Cell} vertically in the case of a horizontal\n\t\t * layout or horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-items` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t * This includes support for `align-parts` which is shorthand for combining `align-items`\n\t\t * and `justify-content` into a single property, separated by a space, in that order.\n\t\t * This allows you to specify both the horizontal and vertical alignment in one property,\n\t\t * separated by a space.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Only [Cell]{@link ui/Layout.Cell} components are supported as children.\n\t\t *\n\t\t * @type {Cell|Cell[]}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Layout`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Layout.Layout#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Allows this `Layout` to have following siblings drawn on the same line as itself\n\t\t * instead of carving out the entire horizontal space for itself.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the `Layout`, i.e. how the children [Cells]{@link ui/Layout.Cell} are\n\t\t * positioned on the screen. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the Layout's `flex-wrap` values.\n\t\t *\n\t\t * Determines how a Layout handles its cells if there are more than fit in the available\n\t\t * space. This works like a normal `Boolean` prop, but also accepts strings for customization\n\t\t * beyond the basic on/off support. In addition to `true` and `false`, the following strings\n\t\t * are supported: 'wrap', 'nowrap', 'reverse'. 'reverse' performs standard line wrapping but\n\t\t * additional lines are placed above/before the preceding line instead of below/after.\n\t\t *\n\t\t * @type {Boolean|String}\n\t\t * @public\n\t\t */\n\t\twrap: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['reverse', 'nowrap', 'wrap'])])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false,\n\t\torientation: 'horizontal',\n\t\twrap: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'layout'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, orientation, wrap, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tinline,\n\t\t\t\t\tnowrap: wrap === false || wrap === 'nowrap',\n\t\t\t\t\twrap: wrap === true || wrap === 'wrap',\n\t\t\t\t\twrapReverse: wrap === 'wrapReverse'\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tstyle: ({align, style}) => {\n\t\t\tif (!align) return style;\n\n\t\t\t// This is effectively a polyfill for the upcoming `place-items` prop which is shorthand\n\t\t\t// for align-items and justify-items together\n\t\t\tconst alignParts = align.split(' ');\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignItems: toFlexAlign(alignParts[0]),\n\t\t\t\tjustifyContent: toFlexAlign(alignParts[1])\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.inline;\n\t\tdelete rest.orientation;\n\t\tdelete rest.wrap;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Layout behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst LayoutDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class Layout\n * @memberof ui/Layout\n * @extends ui/Layout.LayoutBase\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Layout = LayoutDecorator(LayoutBase);\n\n/**\n * Shorthand for `<Layout orientation=\"vertical\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} vertically.\n * ```\n * \n * \n * \n * \n * \n * ```\n *\n * @class Column\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Column = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\t\torientation: 'vertical'\n\t})\n));\nColumn.displayName = 'Column';\n\n/**\n * Shorthand for `<Layout orientation=\"horizontal\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} horizontally.\n * ```\n * \n *     \n * \n * ```\n *\n * @class Row\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Row = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\n\t\torientation: 'horizontal'\n\t})\n));\nRow.displayName = 'Row';\n\nexport default Layout;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\tColumn,\n\tLayout,\n\tLayoutBase,\n\tLayoutDecorator,\n\tRow\n};\n","/*\n * Exports a number of pre-defined arrangers for use with {@link ui/ViewManager}.\n * note: not jsdoc on purpose\n */\n\nimport PropTypes from 'prop-types';\n\nconst slideInOut = (direction, total, orientation) => {\n\tconst p = direction === 'out' ? total : -total;\n\n\treturn\torientation === 'top'    && 'translateY(' + -p + '%)' ||\n\t\t\torientation === 'bottom' && 'translateY(' + p + '%)'  ||\n\t\t\torientation === 'left'   && 'translateX(' + -p + '%)' ||\n\t\t\torientation === 'right'  && 'translateX(' + p + '%)';\n};\n\nexport const arrange = ({duration, node, reverse}, keyframes, options) => {\n\treturn node.animate(keyframes, {\n\t\tduration,\n\t\tdirection: reverse ? 'reverse' : 'normal',\n\t\tfill: 'forwards',\n\t\t...options\n\t});\n};\n\n/**\n * A function that generates an animation for a given transition configuration\n *\n * @callback ArrangerCallback\n * @param {Object} config                                      - Animation configuration object.\n * @param {Number} config.duration                             - Duration of the animation in ms.\n * @param {('forwards'|'backwards'|'both'|'none')} config.fill - Animation effect should be\n *                                                               reflected by previous state or\n *                                                               retained after animation.\n * @param {Number} config.from                                 - Index from which the ViewManager is\n *                                                               transitioning.\n * @param {Node} config.node                                   - DOM node to be animated.\n * @param {Boolean} config.reverse                             - `true` when the animation should be\n *                                                               reversed.\n * @param {Boolean} config.rtl                                 - `true` when the ViewManager was\n *                                                                configured with `rtl` for locales\n *                                                                that use right-to-left reading\n *                                                                order.\n * @param {Number} config.to                                   - Index to which the ViewManager is\n *                                                               transitioning.\n * @returns {Animation} An `Animation`-compatible object\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * An object with callback functions to arrange views within {@link ui/ViewManager.ViewManager}.\n *\n * @typedef {Object} Arranger\n * @property {ArrangerCallback} enter  - Returns an array of keyframes describing the animation when\n *                                       a view is entering the viewport.\n * @property {ArrangerCallback} leave  - Returns an array of keyframes describing the animation when\n *                                       a view is leaving the viewport.\n * @property {ArrangerCallback} [stay] - Returns an array of keyframes describing the animation when\n *                                       a view is remaining in the viewport.\n * @public\n * @memberof ui/ViewManager\n */\n\n/**\n * A basic arranger factory that must be configured with `direction` and optionally an `amount`.\n *\n * @function\n * @memberof ui/ViewManager\n * @param {Object}                          config              - Configuration object.\n * @param {Object}                          [config.amount=100] - Amount, as a whole number, to\n *                                                                \"slide\" where 100 is the entire\n *                                                                size of the node along the axis of\n *                                                                the `direction`.\n * @param {('bottom'|'left'|'right'|'top')} config.direction    - Direction from which the view will\n *                                                                transition.\n * @returns {Arranger}            An arranger\n * @public\n */\nexport const SlideArranger = ({amount = 100, direction}) => ({\n\tenter: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', amount, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t]),\n\tleave: (config) => arrange(config, [\n\t\t{transform: slideInOut('out', 0, direction)},\n\t\t{transform: slideInOut('out', amount, direction)}\n\t]),\n\tstay: (config) => arrange(config, [\n\t\t{transform: slideInOut('in', 0, direction)},\n\t\t{transform: slideInOut('in', 0, direction)}\n\t])\n});\n\n/**\n * An arranger that enters from the left and leaves to the right.\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideRightArranger = SlideArranger({direction: 'right'});\n\n/**\n * An arranger that enters from the right and leaves to the left..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideLeftArranger = SlideArranger({direction: 'left'});\n\n/**\n * An arranger that enters from the bottom and leaves to the top..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideTopArranger = SlideArranger({direction: 'top'});\n\n/**\n * An arranger that enters from the top and leaves to the bottom..\n *\n * @type {Arranger}\n * @memberof ui/ViewManager\n * @public\n */\nexport const SlideBottomArranger = SlideArranger({direction: 'bottom'});\n\n/**\n * propType validation for Arranger transitions\n * @memberof ui/ViewManager\n * @private\n */\nexport const shape = PropTypes.shape({\n\tenter: PropTypes.func,\n\tleave: PropTypes.func\n});\n","/**\n * A internal Picker component.\n *\n * @module agate/internal/Picker\n * @exports Picker\n * @exports PickerDecorator\n */\n\nimport {adaptEvent, forEventProp, forward, handle, oneOf} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Touchable from '@enact/ui/Touchable';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../$L';\nimport Skinnable from '../../Skinnable';\n\nimport css from './Picker.module.less';\n\nconst PickerRoot = Touchable('div');\nconst PickerButtonItem = Spottable('div');\n\nconst handleChange = direction => handle(\n\tadaptEvent(\n\t\t(ev, {min, max, step, value}) => ({\n\t\t\tvalue: clamp(min, max, value + (direction * step))\n\t\t}),\n\t\tforward('onChange')\n\t)\n);\n\nconst increment = handleChange(1);\nconst decrement = handleChange(-1);\n\n/**\n * The base component for {@link agate/internal/Picker.Picker}.\n *\n * @class Picker\n * @memberof agate/internal/Picker\n * @ui\n * @private\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/internal/Picker.Picker.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the picker directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/internal/Picker.Picker.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Children from which to pick\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the decrement button.\n\t\t *\n\t\t * @default 'previous item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The picker id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the increment button.\n\t\t *\n\t\t * @default 'next item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when the control should increment or decrement.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Orientation of the picker.\n\t\t *\n\t\t * Controls whether the buttons are arranged horizontally or vertically around the value.\n\t\t *\n\t\t * * Values: `'horizontal'`, `'vertical'`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Allow the picker to only increment or decrement by a given value.\n\t\t *\n\t\t * A step of `2` would cause a picker to increment from 10 to 12 to 14, etc. It must evenly\n\t\t * divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tstep: 1,\n\t\tvalue: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'picker',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\thandleDecrement: decrement,\n\t\thandleFlick: handle(\n\t\t\tforEventProp('direction', 'vertical'),\n\t\t\t// ignore \"slow\" flicks by filtering out velocity below a threshold\n\t\t\toneOf(\n\t\t\t\t[({velocityY}) => velocityY < 0, increment],\n\t\t\t\t[({velocityY}) => velocityY > 0, decrement]\n\t\t\t)\n\t\t),\n\t\thandleIncrement: increment\n\t},\n\n\tcomputed: {\n\t\tactiveClassName: ({styler}) => styler.join('active', 'item'),\n\t\tclassName: ({orientation, styler}) => styler.append(orientation),\n\t\tcurrentValueText: ({'aria-valuetext': valueText, children: values, value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : values[value]}`;\n\t\t\t} else {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : value}`;\n\t\t\t}\n\t\t},\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, children: values, decrementAriaLabel = $L('previous item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${decrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t\t}\n\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, children: values, incrementAriaLabel = $L('next item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${incrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t\t}\n\t\t},\n\t\tvalueId: ({id}) => `${id}_value`\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\tactiveClassName,\n\t\t\tchildren: values,\n\t\t\tcurrentValueText,\n\t\t\tdecrementAriaLabel,\n\t\t\thandleDecrement,\n\t\t\thandleFlick,\n\t\t\thandleIncrement,\n\t\t\tincrementAriaLabel,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tstep,\n\t\t\tvalue,\n\t\t\tvalueId,\n\t\t\t...rest\n\t\t} = props;\n\t\tconst currentValue = Array.isArray(values) ? values[value] : value;\n\t\tconst decrementValue = clamp(min, max, Array.isArray(values) ? values[value - step] : value - step);\n\t\tconst incrementValue = clamp(min, max, Array.isArray(values) ? values[value + step] : value + step);\n\t\tconst isFirst = value <= min;\n\t\tconst isLast = value >= max;\n\n\t\treturn (\n\t\t\t<PickerRoot {...rest} onFlick={handleFlick}>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isFirst}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.itemDecrement}\n\t\t\t\t\tdisabled={isFirst}\n\t\t\t\t\tonClick={handleDecrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isFirst ? '' : decrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t\t<div\n\t\t\t\t\taria-valuetext={currentValueText}\n\t\t\t\t\tclassName={activeClassName}\n\t\t\t\t\tid={valueId}\n\t\t\t\t\trole=\"spinbutton\"\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{currentValue}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isLast}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.itemIncrement}\n\t\t\t\t\tdisabled={isLast}\n\t\t\t\t\tonClick={handleIncrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isLast ? '' : incrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t</PickerRoot>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PickerBase]{@link agate/Picker.PickerBase}.\n *\n * @hoc\n * @memberof agate/internal/Picker\n * @mixes ui/Changeable.Changeable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PickerDecorator = compose(\n\tIdProvider({generateProp: null}),\n\tChangeable,\n\tSkinnable\n);\n\nconst Picker = PickerDecorator(PickerBase);\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase,\n\tPickerDecorator\n};\n","/*\n * Exports the {@link ui/ViewManager.TransitionGroup} component.\n */\n\n// Using string refs from the source code of ReactTransitionGroup\n/* eslint-disable react/no-string-refs */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport eqBy from 'ramda/src/eqBy';\nimport findIndex from 'ramda/src/findIndex';\nimport identity from 'ramda/src/identity';\nimport prop from 'ramda/src/prop';\nimport propEq from 'ramda/src/propEq';\nimport remove from 'ramda/src/remove';\nimport unionWith from 'ramda/src/unionWith';\nimport useWith from 'ramda/src/useWith';\nimport React from 'react';\n\n/**\n * Returns the index of a child in an array found by `key` matching\n *\n * @param {Object} child React element to find\n * @param {Object[]} children Array of React elements\n * @returns {Number} Index of child\n * @method\n * @private\n */\n// eslint-disable-next-line react-hooks/rules-of-hooks\nconst indexOfChild = useWith(findIndex, [propEq('key'), identity]);\n\n/**\n * Returns an array of non-null children\n *\n * @param  {Object[]} children Array of React children\n *\n * @returns {Object[]}          Array of children\n * @private\n */\nconst mapChildren = function (children) {\n\tconst result = children && React.Children.toArray(children);\n\treturn result ? result.filter(c => !!c) : [];\n};\n\n/**\n * Merges two arrays of children without any duplicates (by `key`)\n *\n * @param {Object[]} a Set of children\n * @param {Object[]} b Set of children\n * @returns {Object[]} Merged set of children\n * @method\n * @private\n */\nconst mergeChildren = unionWith(eqBy(prop('key')));\n\n// Cached event forwarders\nconst forwardOnAppear = forward('onAppear');\nconst forwardOnEnter = forward('onEnter');\nconst forwardOnLeave = forward('onLeave');\nconst forwardOnStay = forward('onStay');\nconst forwardOnTransition = forward('onTransition');\nconst forwardOnWillTransition = forward('onWillTransition');\n\n/**\n * Manages the transition of added and removed child components. Children that are added are\n * transitioned in and those removed are transition out via optional callbacks on the child.\n *\n * Ported from [ReactTransitionGroup]\n * (https://facebook.github.io/react/docs/animation.html#low-level-api-reacttransitiongroup).\n * Currently somewhat specialized for the purposes of ViewManager.\n *\n * @class TransitionGroup\n * @memberof ui/ViewManager\n * @private\n */\n\nclass TransitionGroup extends React.Component {\n\tstatic propTypes = /** @lends ui/ViewManager.TransitionGroup.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Adapts children to be compatible with TransitionGroup\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tchildFactory: PropTypes.func,\n\n\t\t/**\n\t\t * Type of component wrapping the children.\n\t\t *\n\t\t * May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.TransitionGroup#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Current Index the ViewManager is on\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tcurrentIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Maximum number of rendered children.\n\t\t *\n\t\t * Used to limit how many visible transitions are active at any time.\n\t\t * A value of 1 would prevent any exit transitions whereas a value of 2,\n\t\t * the default, would ensure that only 1 view is transitioning on and 1 view is\n\t\t * transitioning off at a time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2\n\t\t */\n\t\tsize: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tchildFactory: identity,\n\t\tcomponent: 'div',\n\t\tsize: 2\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfirstRender: true,\n\t\t\tchildren: []\n\t\t};\n\n\t\tthis.hasMounted = false;\n\t\tthis.currentlyTransitioningKeys = {};\n\t\tthis.keysToEnter = [];\n\t\tthis.keysToLeave = [];\n\t\tthis.keysToStay = [];\n\t\tthis.groupRefs = {};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst children = mapChildren(props.children).slice(0, props.size);\n\n\t\tif (state.firstRender) {\n\t\t\treturn {\n\t\t\t\tactiveChildren: children,\n\t\t\t\tchildren,\n\t\t\t\tfirstRender: false\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tactiveChildren: children,\n\t\t\tchildren: mergeChildren(children, state.children).slice(0, props.size)\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.hasMounted = true;\n\n\t\t// this isn't used by ViewManager or View at the moment but leaving it around for future\n\t\t// flexibility\n\t\tthis.state.children.forEach(child => this.performAppear(child.key));\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tthis.reconcileUnmountedChildren(prevState.children, this.state.children);\n\t\tthis.reconcileChildren(prevState.activeChildren, this.state.activeChildren);\n\t}\n\n\treconcileUnmountedChildren (prevChildMapping, nextChildMapping) {\n\t\tconst nextChildKeys = nextChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevChildMapping.map(c => c.key);\n\n\t\t// `state.children` represents the mounted children. if a view change happens during a\n\t\t// transition causing the View to be unmounted before it fires its callback, the\n\t\t// currentlyTransitioningKeys map will be out of sync. To manage that, we check for keys\n\t\t// that have fallen out of the `children` array and manually clean them up from the map.\n\t\tprevChildKeys\n\t\t\t.filter(key => !nextChildKeys.includes(key))\n\t\t\t.forEach(key => this.completeTransition({key}));\n\t}\n\n\treconcileChildren (prevActiveChildMapping, nextActiveChildMapping) {\n\t\tconst {size} = this.props;\n\n\t\tconst nextChildKeys = nextActiveChildMapping.map(c => c.key);\n\t\tconst prevChildKeys = prevActiveChildMapping.map(c => c.key);\n\t\tconst droppedKeys = prevChildKeys.filter(key => !nextChildKeys.includes(key));\n\n\t\t// if children haven't changed, there's nothing to reconcile\n\t\tif (prevActiveChildMapping.length === nextActiveChildMapping.length && droppedKeys.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t// remove any \"dropped\" children from the list of transitioning children\n\t\tdroppedKeys.forEach(key => this.completeTransition({key}));\n\n\t\t// mark any new child as entering\n\t\tnextChildKeys.forEach((key, index) => {\n\t\t\tconst hasPrev = prevChildKeys.includes(key);\n\n\t\t\tif (!hasPrev || this.currentlyTransitioningKeys[key]) {\n\t\t\t\t// flag a view to enter if it's new (!hasPrev), or if it's not new (hasPrev) but is\n\t\t\t\t// re-entering (is currently transitioning)\n\t\t\t\tthis.keysToEnter.push(key);\n\t\t\t} else if (index < size - 1) {\n\t\t\t\t// keep views that are less than size minus the \"transition out\" buffer\n\t\t\t\tthis.keysToStay.push(key);\n\t\t\t} else {\n\t\t\t\t// everything else is leaving\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\t// mark any previous child not remaining as leaving\n\t\tprevChildKeys.forEach(key => {\n\t\t\tconst hasNext = nextChildKeys.includes(key);\n\t\t\tconst isRendered = Boolean(this.groupRefs[key]);\n\t\t\t// flag a view to leave if it isn't in the new set (!hasNext) and it exists (isRendered)\n\t\t\tif (!hasNext && isRendered) {\n\t\t\t\tthis.keysToLeave.push(key);\n\t\t\t}\n\t\t});\n\n\t\tif (this.keysToEnter.length || this.keysToLeave.length) {\n\t\t\tforwardOnWillTransition(null, this.props);\n\t\t}\n\n\t\t// once the component has been updated, start the enter transition for new children,\n\t\tconst keysToEnter = this.keysToEnter;\n\t\tthis.keysToEnter = [];\n\t\tkeysToEnter.forEach(this.performEnter);\n\n\t\t// ... the stay transition for any children remaining,\n\t\tconst keysToStay = this.keysToStay;\n\t\tthis.keysToStay = [];\n\t\tkeysToStay.forEach(this.performStay);\n\n\t\t// ... and the leave transition for departing children\n\t\tconst keysToLeave = this.keysToLeave;\n\t\tthis.keysToLeave = [];\n\t\tkeysToLeave.forEach(this.performLeave);\n\t}\n\n\tcompleteTransition ({key, noForwarding = false}) {\n\t\tif (key in this.currentlyTransitioningKeys) {\n\t\t\tdelete this.currentlyTransitioningKeys[key];\n\n\t\t\tif (!noForwarding && Object.keys(this.currentlyTransitioningKeys).length === 0) {\n\t\t\t\tforwardOnTransition(null, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tperformAppear = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillAppear) {\n\t\t\tcomponent.componentWillAppear(\n\t\t\t\tthis._handleDoneAppearing.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneAppearing(key);\n\t\t}\n\t};\n\n\t_handleDoneAppearing = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidAppear) {\n\t\t\tcomponent.componentDidAppear();\n\t\t}\n\n\t\tforwardOnAppear({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key, noForwarding: true});\n\n\t\tlet currentChildMapping = mapChildren(this.props.children);\n\n\t\tif (!currentChildMapping || !currentChildMapping.find(child => child.key === key)) {\n\t\t\t// This was removed before it had fully appeared. Remove it.\n\t\t\tthis.performLeave(key);\n\t\t}\n\t};\n\n\tperformEnter = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillEnter) {\n\t\t\tcomponent.componentWillEnter(\n\t\t\t\tthis._handleDoneEntering.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneEntering(key);\n\t\t}\n\t};\n\n\t_handleDoneEntering = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidEnter) {\n\t\t\tcomponent.componentDidEnter();\n\t\t}\n\n\t\tforwardOnEnter({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\t};\n\n\tperformStay = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentWillStay) {\n\t\t\tcomponent.componentWillStay(\n\t\t\t\tthis._handleDoneStaying.bind(this, key)\n\t\t\t);\n\t\t} else {\n\t\t\tthis._handleDoneStaying(key);\n\t\t}\n\t};\n\n\t_handleDoneStaying = (key) => {\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentDidStay) {\n\t\t\tcomponent.componentDidStay();\n\t\t}\n\n\t\tforwardOnStay({\n\t\t\tview: component\n\t\t}, this.props);\n\t};\n\n\tperformLeave = (key) => {\n\t\tthis.currentlyTransitioningKeys[key] = true;\n\n\t\tconst component = this.groupRefs[key];\n\t\tif (component.componentWillLeave) {\n\t\t\tcomponent.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n\t\t} else {\n\t\t\t// Note that this is somewhat dangerous b/c it calls setState()\n\t\t\t// again, effectively mutating the component before all the work\n\t\t\t// is done.\n\t\t\tthis._handleDoneLeaving(key);\n\t\t}\n\t};\n\n\t_handleDoneLeaving = (key) => {\n\t\tconst component = this.groupRefs[key];\n\n\t\tif (component.componentDidLeave) {\n\t\t\tcomponent.componentDidLeave();\n\t\t}\n\n\t\tforwardOnLeave({\n\t\t\tview: component\n\t\t}, this.props);\n\n\t\tthis.completeTransition({key});\n\n\t\tthis.setState(function (state) {\n\t\t\tconst index = indexOfChild(key, state.children);\n\t\t\treturn {children: remove(index, 1, state.children)};\n\t\t});\n\t};\n\n\tstoreRefs = key => node => {\n\t\tthis.groupRefs[key] = node;\n\t};\n\n\trender () {\n\t\t// support wrapping arbitrary children with a component that supports the necessary\n\t\t// lifecycle methods to animate transitions\n\t\tconst childrenToRender = this.state.children.map(child => {\n\t\t\tconst isLeaving = child.props['data-index'] !== this.props.currentIndex && typeof child.props['data-index'] !== 'undefined';\n\n\t\t\treturn React.cloneElement(\n\t\t\t\tthis.props.childFactory(child),\n\t\t\t\t{key: child.key, ref: this.storeRefs(child.key), leaving: isLeaving, appearing: !this.hasMounted}\n\t\t\t);\n\t\t});\n\n\t\t// Do not forward TransitionGroup props to primitive DOM nodes\n\t\tconst props = Object.assign({}, this.props);\n\t\tprops.ref = this.props.componentRef;\n\t\tdelete props.childFactory;\n\t\tdelete props.component;\n\t\tdelete props.componentRef;\n\t\tdelete props.currentIndex;\n\t\tdelete props.onAppear;\n\t\tdelete props.onAppear;\n\t\tdelete props.onEnter;\n\t\tdelete props.onLeave;\n\t\tdelete props.onStay;\n\t\tdelete props.onTransition;\n\t\tdelete props.onWillTransition;\n\t\tdelete props.size;\n\n\t\treturn React.createElement(\n\t\t\tthis.props.component,\n\t\t\tprops,\n\t\t\tchildrenToRender\n\t\t);\n\t}\n}\n\nexport default TransitionGroup;\nexport {TransitionGroup};\n","/*\n * Exports the {@link ui/ViewManager.View} component.\n */\n\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\nimport {shape} from './Arranger';\n\n// If the View was \"appearing\", then entering will always be false and this will not result in a\n// re-render. If the view should enter, state.enter will be true and this will toggle it to false\n// causing a re-render.\nconst clearEntering = ({entering}) => {\n\treturn entering ? {entering: false} : null;\n};\n\n/**\n * A `View` wraps a set of children for {@link ui/ViewManager.ViewManager}.\n * It is not intended to be used directly\n *\n * @class View\n * @memberof ui/ViewManager\n * @private\n */\nclass View extends React.Component {\n\n\tstatic propTypes = /** @lends ui/ViewManager.View.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Set to `true` when the View should 'appear' without transitioning into the viewport\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tappearing: PropTypes.bool,\n\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by passing the\n\t\t * `enteringProp` as `false`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport. When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the currently 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if a view is currently leaving.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\tleaving: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the previously 'active' view.\n\t\t *\n\t\t * @type {Number}\n\t\t */\n\t\tpreviousIndex: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, indicates if the transition should be reversed. The effect depends on how the provided\n\t\t * `arranger` handles reversal.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * When `true`, indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * The effect depends on how the provided `arranger` handles this option.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tappearing: false,\n\t\tenteringDelay: 0,\n\t\tindex: 0,\n\t\treverseTransition: false\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.animation = null;\n\t\tthis.state = {\n\t\t\tentering: !props.appearing\n\t\t};\n\t}\n\n\tshouldComponentUpdate (nextProps) {\n\t\tif (nextProps.leaving) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.changeDirection = this.animation ? this.props.reverseTransition !== prevProps.reverseTransition : false;\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.enteringJob.stop();\n\t\tthis.node = null;\n\t\tif (this.animation) {\n\t\t\tthis.animation.cancel();\n\t\t}\n\t}\n\n\tenteringJob = new Job(() => {\n\t\tthis.setState(clearEntering);\n\t});\n\n\tcomponentWillAppear (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback, true);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidAppear () {\n\t\tthis.setState(clearEntering);\n\t}\n\n\t// This is called at the same time as componentDidMount() for components added to an existing\n\t// TransitionGroup. It will block other animations from occurring until callback is called. It\n\t// will not be called on the initial render of a TransitionGroup.\n\tcomponentWillEnter (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.leave : arranger.enter, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\tcomponentDidEnter () {\n\t\tconst {enteringDelay, enteringProp} = this.props;\n\n\t\tif (enteringProp) {\n\t\t\t// FIXME: `startRafAfter` is a temporary solution using rAF. We need a better way to handle\n\t\t\t// transition cycle and component life cycle to be in sync. See ENYO-4835.\n\t\t\tthis.enteringJob.startRafAfter(enteringDelay);\n\t\t}\n\t}\n\n\tcomponentWillStay (callback) {\n\t\tconst {arranger} = this.props;\n\t\tif (arranger && arranger.stay) {\n\t\t\tthis.prepareTransition(arranger.stay, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t// This is called when the child has been removed from the ReactTransitionGroup. Though the\n\t// child has been removed, ReactTransitionGroup will keep it in the DOM until callback is\n\t// called.\n\tcomponentWillLeave (callback) {\n\t\tconst {arranger, reverseTransition} = this.props;\n\t\tthis.enteringJob.stop();\n\t\tif (arranger) {\n\t\t\tthis.prepareTransition(reverseTransition ? arranger.enter : arranger.leave, callback);\n\t\t} else {\n\t\t\tcallback();\n\t\t}\n\t}\n\n\t/**\n\t * Initiates a new transition\n\t *\n\t * @param\t{Function}\tarranger\t\tArranger function to call (enter, leave)\n\t * @param\t{Function}\tcallback\t\tCompletion callback\n\t * @param\t{Boolean}\t[noAnimation]\t`true` to disable animation for this transition\n\t * @returns {undefined}\n\t * @private\n\t */\n\tprepareTransition = (arranger, callback, noAnimation) => {\n\t\tconst {duration, index, previousIndex = index, reverseTransition, rtl} = this.props;\n\n\t\t// Need to ensure that we have a valid node reference before we animation. Sometimes, React\n\t\t// will replace the node after mount causing a reference cached there to be invalid.\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\tif (this.animation && this.animation.playState !== 'finished' && this.changeDirection) {\n\t\t\tthis.animation.reverse();\n\t\t} else {\n\t\t\tthis.animation = arranger({\n\t\t\t\tfrom: previousIndex,\n\t\t\t\tnode: this.node,\n\t\t\t\treverse: reverseTransition,\n\t\t\t\trtl,\n\t\t\t\tto: index,\n\t\t\t\tfill: 'forwards',\n\t\t\t\tduration\n\t\t\t});\n\t\t}\n\n\t\t// Must set a new handler here to ensure the right callback is invoked\n\t\tthis.animation.onfinish = () => {\n\t\t\tthis.animation = null;\n\t\t\t// Possible for the animation callback to still be fired after the node has been\n\t\t\t// umounted if it finished before the unmount can cancel it so we check for that.\n\t\t\tif (this.node) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\n\t\t// disable animation when the instance or props flag is true\n\t\tif (noAnimation || this.props.noAnimation) {\n\t\t\tthis.animation.finish();\n\t\t}\n\t};\n\n\trender () {\n\t\tconst {enteringProp, children, childProps} = this.props;\n\n\t\tif (enteringProp || childProps) {\n\t\t\tconst props = Object.assign({}, childProps);\n\t\t\tif (enteringProp) {\n\t\t\t\tprops[enteringProp] = this.state.entering;\n\t\t\t}\n\n\t\t\treturn React.cloneElement(children, props);\n\t\t} else {\n\t\t\treturn React.Children.only(children);\n\t\t}\n\t}\n}\n\n// Not a true render method but instead a wrapper for TransitionGroup to wrap arbitrary children\n// with a TransitionGroup-compatible child that supports animation\n//\n// eslint-disable-next-line enact/display-name\nconst wrapWithView = (config) => (child) => {\n\treturn <View {...config}>{child}</View>;\n};\n\nexport default View;\nexport {View, wrapWithView};\n","/**\n * A component that manages the transitions of views.\n *\n * @module ui/ViewManager\n * @exports shape\n * @exports SlideArranger\n * @exports SlideBottomArranger\n * @exports SlideLeftArranger\n * @exports SlideRightArranger\n * @exports SlideTopArranger\n * @exports ViewManager\n * @exports ViewManagerBase\n * @exports ViewManagerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport handle, {adaptEvent, call, forward} from '@enact/core/handle';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {shape} from './Arranger';\nimport TransitionGroup from './TransitionGroup';\nimport {wrapWithView} from './View';\n\n/**\n * The base `ViewManager` component, without\n * [ViewManagerDecorator]{@link ui/ViewManager.ViewManagerDecorator} applied.\n *\n * @class ViewManagerBase\n * @memberof ui/ViewManager\n * @ui\n * @public\n */\nconst ViewManagerBase = class extends React.Component {\n\tstatic displayName = 'ViewManager';\n\n\tstatic propTypes = /** @lends ui/ViewManager.ViewManagerBase.prototype */ {\n\t\t/**\n\t\t * Arranger to control the animation\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Views to be managed.\n\t\t *\n\t\t * May be any renderable component including custom React components or primitive DOM nodes.\n\t\t *\n\t\t * @type {Node}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Type of component wrapping the children. May be a DOM node or a custom React component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/ViewManager.ViewManager#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Time in milliseconds to complete a transition\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 300\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of last visible view.\n\t\t *\n\t\t * Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tend: PropTypes.number,\n\n\t\t/**\n\t\t * Time, in milliseconds, to wait after a view has entered to inform it by pass the\n\t\t * `enteringProp` as false.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tenteringDelay: PropTypes.number,\n\n\t\t/**\n\t\t * Name of the property to pass to the wrapped view to indicate when it is entering the\n\t\t * viewport.\n\t\t *\n\t\t * When `true`, the view has been created but has not transitioned into place.\n\t\t * When `false`, the view has finished its transition.\n\t\t *\n\t\t * The notification can be delayed by setting `enteringDelay`. If not set, the view will not\n\t\t * be notified of the change in transition.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tenteringProp: PropTypes.string,\n\n\t\t/**\n\t\t * Index of active view\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates if the transition should be animated\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when each view is rendered during initial construction.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonAppear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition into the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonEnter: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition out of the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonLeave: PropTypes.func,\n\n\t\t/**\n\t\t * Called when each view completes its transition within the viewport.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonStay: PropTypes.func,\n\n\t\t/**\n\t\t * Called once when all views have completed their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Called once before views begin their transition.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonWillTransition: PropTypes.func,\n\n\t\t/**\n\t\t * Explicitly sets the transition direction.\n\t\t *\n\t\t * If omitted, the direction is determined automaticallly based on the change of index or a\n\t\t * string comparison of the first child's key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\treverseTransition: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the current locale uses right-to-left reading order.\n\t\t *\n\t\t * `rtl` is passed to the `arranger` in order to alter the animation (e.g. reversing the\n\t\t * horizontal direction).\n\t\t *\n\t\t * @type {Boolean}\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of first visible view. Defaults to the current value of `index`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default value of index\n\t\t */\n\t\tstart: PropTypes.number\n\t};\n\n\tstatic defaultProps = {\n\t\tcomponent: 'div',\n\t\tduration: 300,\n\t\tindex: 0\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tprevIndex: null,\n\t\t\treverseTransition: null\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (props.reverseTransition != null) {\n\t\t\treturn {\n\t\t\t\treverseTransition: !!props.reverseTransition\n\t\t\t};\n\t\t} else if (props.index !== state.index) {\n\t\t\treturn {\n\t\t\t\tindex: props.index,\n\t\t\t\tprevIndex: state.index,\n\t\t\t\treverseTransition: state.index > props.index\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tmakeTransitionEvent () {\n\t\treturn {index: this.props.index, previousIndex: this.state.prevIndex};\n\t}\n\n\thandleTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onTransition')\n\t\t)\n\t).bindAs(this, 'handleTransition');\n\n\thandleWillTransition = handle(\n\t\tadaptEvent(\n\t\t\tcall('makeTransitionEvent'),\n\t\t\tforward('onWillTransition')\n\t\t)\n\t).bindAs(this, 'handleWillTransition');\n\n\trender () {\n\t\tconst {arranger, childProps, children, duration, index, noAnimation, enteringDelay, enteringProp, rtl, ...rest} = this.props;\n\t\tlet {end = index, start = index} = this.props;\n\t\tconst {prevIndex: previousIndex, reverseTransition} = this.state;\n\t\tconst childrenList = React.Children.toArray(children);\n\n\t\tif (index > end) end = index;\n\t\tif (index < start) start = index;\n\n\t\tconst childCount = end - start + 1;\n\t\tconst size = (noAnimation || !arranger) ? childCount : childCount + 1;\n\n\t\tconst views = childrenList.slice(start, start + childCount);\n\t\tconst childFactory = wrapWithView({\n\t\t\tarranger,\n\t\t\tduration,\n\t\t\tindex,\n\t\t\tnoAnimation,\n\t\t\tpreviousIndex,\n\t\t\treverseTransition,\n\t\t\tenteringDelay,\n\t\t\tenteringProp,\n\t\t\tchildProps,\n\t\t\trtl: Boolean(rtl)\n\t\t});\n\n\t\tdelete rest.end;\n\t\tdelete rest.reverseTransition;\n\t\tdelete rest.start;\n\n\t\treturn (\n\t\t\t<TransitionGroup\n\t\t\t\t{...rest}\n\t\t\t\tchildFactory={childFactory}\n\t\t\t\tcurrentIndex={index}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t\tsize={size}\n\t\t\t>\n\t\t\t\t{views}\n\t\t\t</TransitionGroup>\n\t\t);\n\t}\n};\n\n/**\n * Applies ViewManager behaviors.\n *\n * @hoc\n * @memberof ui/ViewManager\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst ViewManagerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A `ViewManager` controls the visibility of a configurable number of views, allowing for them to be\n * transitioned on and off the viewport.\n *\n * @class ViewManager\n * @memberof ui/ViewManager\n * @extends ui/ViewManager.ViewManagerBase\n * @mixes ui/ViewManager.ViewManagerDecorator\n * @ui\n * @public\n */\nconst ViewManager = ViewManagerDecorator(ViewManagerBase);\n\nexport default ViewManager;\nexport {\n\tViewManager,\n\tViewManagerBase,\n\tViewManagerDecorator\n};\nexport * from './Arranger';\n","/**\n * Agate styled text block components and behaviors.\n *\n * @example\n * <BodyText centered>Hello Enact!</BodyText>\n *\n * @module agate/BodyText\n * @exports BodyText\n * @exports BodyTextBase\n * @exports BodyTextDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiBodyText from '@enact/ui/BodyText';\nimport Pure from '@enact/ui/internal/Pure';\n\nimport {MarqueeDecorator} from '@enact/ui/Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './BodyText.module.less';\n\n// Create a Marquee using BodyText as the base\nconst MarqueeBodyText = MarqueeDecorator(UiBodyText);\n\n/**\n * A simple text block component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [BodyText]{@link agate/BodyText.BodyText}.\n *\n * @class BodyTextBase\n * @memberof agate/BodyText\n * @extends ui/BodyText.BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'BodyText',\n\n\tpropTypes: /** @lends agate/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Toggles multi-line (`false`) vs single-line (`true`) behavior. `noWrap` mode\n\t\t * automatically enables {@link ui/Marquee} so long text isn't permanently occluded.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoWrap: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the text size to one of the preset sizes.\n\t\t * Available sizes: 'large' (default) and 'small'.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tnoWrap: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: 'bodyText'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noWrap, size, styler}) => styler.append(size, {noWrap})\n\t},\n\n\trender: ({centered, css, noWrap, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\tif (noWrap) {\n\t\t\treturn (\n\t\t\t\t<MarqueeBodyText\n\t\t\t\t\tcomponent=\"div\" // Assign a new component to BodyText, since DIV is not allowed inside a P tag (the default for BodyText)\n\t\t\t\t\tmarqueeOn=\"render\"\n\t\t\t\t\t{...rest}\n\t\t\t\t\talignment={centered ? 'center' : null} // Centering Marquee\n\t\t\t\t\tcentered={centered} // Centering UiBodyText\n\t\t\t\t\tcss={css}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<UiBodyText\n\t\t\t\t{...rest}\n\t\t\t\tcentered={centered}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [BodyText]{@link agate/BodyText.BodyTextBase}.\n *\n * @hoc\n * @memberof agate/BodyText\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst BodyTextDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A simple text block component, ready to use in Agate applications.\n *\n * `BodyText` may be used to display a block of text and is sized and spaced appropriately for a\n * Agate application.\n *\n * Usage:\n * ```\n * <BodyText>\n *  I have a Ham radio. There are many like it, but this one is mine.\n * </BodyText>\n * ```\n *\n * @class BodyText\n * @memberof agate/BodyText\n * @extends agate/BodyText.BodyTextBase\n * @mixes agate/BodyText.BodyTextDecorator\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Provides Agate-themed slider components and behaviors.\n *\n * @example\n * <Slider\n *   defaultValue={-30}\n *   max={100}\n *   min={-100}\n *   step={10}\n * />\n *\n * @module agate/Slider\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\n// TODO: Add 'activated' styling for slider (If 5-way is needed)\n\nimport {forKey, forProp, forward, forwardWithPrevent, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport ProgressBar from '@enact/ui/ProgressBar';\nimport Pure from '@enact/ui/internal/Pure';\nimport Slottable from '@enact/ui/Slottable';\nimport UiSlider from '@enact/ui/Slider';\nimport PropTypes from 'prop-types';\nimport anyPass from 'ramda/src/anyPass';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport SliderBehaviorDecorator from './SliderBehaviorDecorator';\nimport {\n\thandleDecrement,\n\thandleIncrement\n} from './utils';\n\nimport componentCss from './Slider.module.less';\n\n/**\n * Range-selection input component.\n *\n * @class SliderBase\n * @extends ui/Slider.SliderBase\n * @memberof agate/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'Slider',\n\n\tpropTypes: /** @lends agate/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * Activates the component when focused so that it may be manipulated via the directional\n\t\t * input keys.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactivateOnFocus: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Indicates that the slider has gained focus.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down while the slider is focused.\n\t\t *\n\t\t * When a directional key is pressed down and the knob is active (either by first\n\t\t * pressing enter or when `activateOnFocus` is enabled), the Slider will increment or\n\t\t * decrement the current value and emit an `onChange` event. This default behavior can be\n\t\t * prevented by calling `preventDefault()` on the event passed to this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is released while the slider is focused.\n\t\t *\n\t\t * When the enter key is released and `activateOnFocus` is not enabled, the slider will be\n\t\t * activated to enable incrementing or decrementing the value via directional keys. This\n\t\t * default behavior can be prevented by calling `preventDefault()` on the event passed to\n\t\t * this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tactivateOnFocus: false,\n\t\tactive: false,\n\t\tdisabled: false,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonBlur: handle(\n\t\t\tforward('onBlur'),\n\t\t\tforProp('active', true),\n\t\t\tforward('onActivate')\n\t\t),\n\t\tonKeyDown: handle(\n\t\t\tforwardWithPrevent('onKeyDown'),\n\t\t\tanyPass([\n\t\t\t\thandleIncrement,\n\t\t\t\thandleDecrement\n\t\t\t])\n\t\t),\n\t\tonKeyUp: handle(\n\t\t\tforwardWithPrevent('onKeyUp'),\n\t\t\tforProp('activateOnFocus', false),\n\t\t\tforKey('enter'),\n\t\t\tforward('onActivate')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\tclassName: ({activateOnFocus, active, styler}) => styler.append({\n\t\t\tactivateOnFocus,\n\t\t\tactive\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.activateOnFocus;\n\t\tdelete rest.active;\n\t\tdelete rest.focused;\n\t\tdelete rest.knobStep;\n\t\tdelete rest.onActivate;\n\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<ProgressBar css={css} />\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific slider behaviors to apply to [SliderBase]{@link agate/Slider.SliderBase}.\n *\n * @hoc\n * @memberof agate/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @mixes ui/Slottable.Slottable\n * @mixes ui/Slider.SliderDecorator\n * @public\n */\nconst SliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tSliderBehaviorDecorator,\n\tSpottable,\n\tSlottable({slots: ['knob']}),\n\tSkinnable\n);\n\n/**\n * Slider input with Agate styling, [`Spottable`]{@link spotlight/Spottable.Spottable},\n * [Touchable]{@link ui/Touchable} and [`SliderDecorator`]{@link agate/Slider.SliderDecorator}\n * applied.\n *\n * By default, `Slider` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the\n * component, supply a value to `value` at creation time and update it in response to `onChange`\n * events.\n *\n * @class Slider\n * @memberof agate/Slider\n * @mixes agate/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Overrides the `aria-valuetext` for the slider.\n *\n * By default, `aria-valuetext` is set to the current value. This should only be used when\n * the parent controls the value of the slider directly through the props.\n *\n * @name aria-valuetext\n * @memberof agate/Slider.Slider.prototype\n * @type {String|Number}\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","/**\n * Agate styled Header.\n *\n * @example\n * <Header title=\"Profile\" titleAbove=\"Settings\" noLine>\n * \t<Button>Close</Button>\n * </Header>\n *\n * @module agate/Header\n * @exports Header\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Column, Row, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Header.module.less';\n\n/**\n * A header component for a Panel with a `title`, `titleAbove`, `subtitle`\n *\n * @class Header\n * @memberof agate/Header\n * @ui\n * @public\n */\nconst HeaderBase = kind({\n\tname: 'Header',\n\n\tpropTypes: /** @lends agate/Header.Header.prototype */ {\n\t\t/**\n\t\t * Title of the header.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t *  <Header>\n\t\t *  \t<titleAbove>Introducing...</titleAbove>\n\t\t *  \t<title>Example Header Title</title>\n\t\t *  \t<subtitle>The Adventure Continues</subtitle>\n\t\t *  </Header>\n\t\t * ```\n\t\t *\n\t\t * @required\n\t\t * @type {String}\n\t\t */\n\t\ttitle: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `header` - The root class name\n\t\t * * `titleContainer` - The background title container\n\t\t * * `subtitle` - Applied to `subtitle`\n\t\t * * `title` - Applied to `title`\n\t\t * * `titleAbove` - Applied to `titleAbove`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Hides the horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thideLine: PropTypes.bool,\n\n\t\t/**\n\t\t * Text displayed below the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tsubtitle: PropTypes.string,\n\n\t\t/**\n\t\t * Subtitle id of the header.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tsubtitleId: PropTypes.string,\n\n\t\t/**\n\t\t * Text displayed above the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\ttitleAbove: PropTypes.string,\n\n\t\t/**\n\t\t * Title id of the header.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\ttitleId: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'header',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({hideLine, styler}) => styler.append({hideLine, standard: true}),\n\t\tsubtitleComponent: ({css, subtitle, subtitleId}) => {\n\t\t\treturn (subtitle != null && subtitle !== '') ? <h2 className={css.subtitle} id={subtitleId}>{subtitle}</h2> : null;\n\t\t},\n\t\ttitleAboveComponent: ({css, titleAbove}) => {\n\t\t\treturn (titleAbove != null && titleAbove !== '') ? <h2 className={css.titleAbove}>{titleAbove}</h2> : null;\n\t\t}\n\t},\n\n\trender: ({children, css, title, titleId, titleAboveComponent, subtitleComponent, ...rest}) => {\n\t\tdelete rest.hideLine;\n\t\tdelete rest.subtitle;\n\t\tdelete rest.subtitleId;\n\t\tdelete rest.titleAbove;\n\t\tdelete rest.titleId;\n\n\t\treturn (\n\t\t\t<Row component=\"header\" aria-label={title} {...rest}>\n\t\t\t\t<Column className={css.titleContainer}>\n\t\t\t\t\t{titleAboveComponent}\n\t\t\t\t\t<h1 className={css.title} id={titleId}>{title}</h1>\n\t\t\t\t\t{subtitleComponent}\n\t\t\t\t</Column>\n\t\t\t\t{children ? <Layout className={css.endSlot}>{children}</Layout> : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n// Note that we only export this (even as HeaderBase). HeaderBase is not useful on its own.\nconst Header = Slottable({slots: ['subtitle', 'title', 'titleAbove']}, Skinnable(HeaderBase));\n\n// Set up Header so when it's used in a slottable layout (like Panel), it is automatically\n// recognized as this specific slot.\nHeader.defaultSlot = 'header';\n\nexport default Header;\nexport {Header, HeaderBase};\n","/**\n * A component that can transition its children components onto the screen.\n *\n * Transitions whether that's from off the edge of the screen or hidden inside or behind an\n * already-on-screen component. You can switch types of transitions using the `type` property,\n * change the direction they come in from using the `direction` property, or even adjust the\n * transition timing function using `timingFunction`.\n *\n * @example\n * <Transition visible={true} type=\"slide\">\n * \t<div>Set `visible` above to `false` to hide this element.</div>\n * </Transition>\n *\n * @module ui/Transition\n * @exports Transition\n * @exports TransitionBase\n */\n\nimport {forward} from '@enact/core/handle';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {ResizeContext} from '../Resizable';\n\nimport componentCss from './Transition.module.less';\n\nconst forwardTransitionEnd = forward('onTransitionEnd');\nconst forwardOnShow = forward('onShow');\nconst forwardOnHide = forward('onHide');\n\n/**\n * The stateless structure of the component.\n *\n * In case you want to provide all of the state yourself.\n * In general, you'll probably want to use the `Transition` instead of `TransitionBase`.\n *\n * @class TransitionBase\n * @ui\n * @memberof ui/Transition\n * @public\n */\nconst TransitionBase = kind({\n\tname: 'TransitionBase',\n\n\tpropTypes: /** @lends ui/Transition.TransitionBase.prototype */ {\n\t\t/**\n\t\t * Provide a function to get the reference to the child node (the one with the content) at\n\t\t * render time.\n\t\t *\n\t\t *Useful if you need to measure or interact with the node directly.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tchildRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The height of the transition when `type` is set to `'clip'`, used when direction is\n\t\t * 'left' or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipHeight: PropTypes.number,\n\n\t\t/**\n\t\t * The width of the transition when `type` is set to `'clip'`, used when direction is 'left'\n\t\t * or 'right'.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default null\n\t\t * @public\n\t\t */\n\t\tclipWidth: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `transition`     - The root component class\n\t\t * * `inner`          - The element inside the transition. This is the container for the transitioning content.\n\t\t * * `shown`          - Applied when content is present (visible), related to the `visible` prop/state\n\t\t * * `hidden`         - Applied when content is not present (hiding), related to the `visible` prop/state\n\t\t * * `slide`          - Applied when the `slide` `type` is set\n\t\t * * `fade`           - Applied when the `fade` `type` is set\n\t\t * * `clip`           - Applied when the `clip` `type` is set\n\t\t * * `up`             - Applied when the `direction` `up` is set\n\t\t * * `right`          - Applied when the `direction` `right` is set\n\t\t * * `down`           - Applied when the `direction` `down` is set\n\t\t * * `left`           - Applied when the `direction` `left` is set\n\t\t * * `short`          - Applied when the `duration` `short` is set\n\t\t * * `medium`         - Applied when the `duration` `medium` is set\n\t\t * * `long`           - Applied when the `duration` `long` is set\n\t\t * * `ease`           - Applied when the `timingFunction` `ease` is set\n\t\t * * `ease-in`        - Applied when the `timingFunction` `ease-in` is set\n\t\t * * `ease-out`       - Applied when the `timingFunction` `ease-out` is set\n\t\t * * `ease-in-out`    - Applied when the `timingFunction` `ease-in-out` is set\n\t\t * * `ease-in-quart`  - Applied when the `timingFunction` `ease-in-quart` is set\n\t\t * * `ease-out-quart` - Applied when the `timingFunction` `ease-out-quart` is set\n\t\t * * `linear`         - Applied when the `timingFunction` `linear` is set\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the direction of transition. Where the component will move *to*; the destination.\n\t\t * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as milliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t *\n\t\t * * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * Sets the visibility of the component, which determines whether it's on screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'transition',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, direction, duration, noAnimation, timingFunction, type, visible, styler}) => styler.append(\n\t\t\tvisible ? 'shown' : 'hidden',\n\t\t\tdirection && css[direction],\n\t\t\t!noAnimation && duration && css[duration],\n\t\t\t!noAnimation && timingFunction && css[timingFunction],\n\t\t\tcss[type]\n\t\t),\n\t\tinnerStyle: ({clipWidth, direction, type}) => {\n\t\t\tif (type === 'clip' && (direction === 'left' || direction === 'right')) {\n\t\t\t\treturn {\n\t\t\t\t\twidth: clipWidth\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\tstyle: ({css, clipHeight, direction, duration, type, visible, style}) => {\n\t\t\tif (type === 'clip') {\n\t\t\t\tstyle = {\n\t\t\t\t\t...style,\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t};\n\n\t\t\t\tif (visible && (direction === 'up' || direction === 'down')) {\n\t\t\t\t\tstyle.height = clipHeight;\n\t\t\t\t}\n\t\t\t\t// If duration isn't a known named string, assume it is a CSS duration value\n\t\t\t\tif (duration && !css[duration]) {\n\t\t\t\t\t// If it's a number, assume it's miliseconds, if not, assume it's already a CSS duration string (like \"200ms\" or \"2s\")\n\t\t\t\t\tstyle.transitionDuration = (typeof duration === 'number' ? duration + 'ms' : duration);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\t},\n\n\trender: ({css, childRef, children, innerStyle, ...rest}) => {\n\t\tdelete rest.clipHeight;\n\t\tdelete rest.clipWidth;\n\t\tdelete rest.direction;\n\t\tdelete rest.duration;\n\t\tdelete rest.noAnimation;\n\t\tdelete rest.timingFunction;\n\t\tdelete rest.type;\n\t\tdelete rest.visible;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.inner} style={innerStyle} ref={childRef}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst TRANSITION_STATE = {\n\tINIT: 0,\t\t// closed and unmeasured\n\tMEASURE: 1,\t\t// open but need to measure\n\tREADY: 2\t\t// measured and ready\n};\n\n/**\n * A stateful component that allows for applying transitions to its child items via configurable\n * properties and events.\n *\n * @class Transition\n * @ui\n * @memberof ui/Transition\n * @public\n */\nclass Transition extends React.Component {\n\n\tstatic contextType = ResizeContext;\n\n\tstatic propTypes = /** @lends ui/Transition.Transition.prototype */ {\n\t\t/**\n\t\t * The node to be transitioned.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The direction of transition (i.e. where the component will move *to*; the destination).\n\t\t *\n\t\t * * Supported directions are: `'up'`, `'right'`, `'down'`, `'left'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'up'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['up', 'right', 'down', 'left']),\n\n\t\t/**\n\t\t * Controls how long the transition should take.\n\t\t *\n\t\t * * Supported preset durations are: `'short'` (250ms), `'medium'` (500ms), and `'long'` (1s).\n\t\t * `'medium'` (500ms) is default when no others are specified.\n\t\t *\n\t\t * Any valid CSS duration value is also accepted, e.g. \"200ms\" or \"3s\". Pure numeric values\n\t\t * are also supported and treated as miliseconds.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @default 'medium'\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Disables transition animation.\n\t\t *\n\t\t * When `false`, visibility changes animate.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Called after transition for hiding is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHide: PropTypes.func,\n\n\t\t/**\n\t\t * Called after transition for showing is finished.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonShow: PropTypes.func,\n\n\t\t/**\n\t\t * The transition timing function.\n\t\t * Supported function names are: `ease`, `ease-in`, `ease-out`, `ease-in-out`, `ease-in-quart`,\n\t\t * `ease-out-quart`, and `linear`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'ease-in-out'\n\t\t * @public\n\t\t */\n\t\ttimingFunction: PropTypes.oneOf([\n\t\t\t'ease',\n\t\t\t'ease-in',\n\t\t\t'ease-out',\n\t\t\t'ease-in-out',\n\t\t\t'ease-in-quart',\n\t\t\t'ease-out-quart',\n\t\t\t'linear'\n\t\t]),\n\n\t\t/**\n\t\t * The type of transition to affect the content.\n\t\t *\n\t\t * * Supported types are: `'slide'`, `'clip'`, and `'fade'`.\n\t\t *\n\t\t * Details on types:\n\t\t *  * `'slide'` - Typically used for bringing something which is off the edge of the screen,\n\t\t *  \tand not visible, onto the screen. Think of a popup, toast, notification, dialog, or\n\t\t *  \tan overlaying menu. This requires no re-rendering or repainting of the screen during\n\t\t *  \tthe transition, making it very performant. However, this does not affect layout at\n\t\t *  \tall, which makes it less useful for transitioning from a place already on the\n\t\t *  \tscreen.\n\t\t *  * `'clip'` - This is useful for showing a component that transitions-in from a location\n\t\t *  \tthat is already on the screen. Examples would be an expanding header or an\n\t\t *  \taccordion. This type does affects layout, its current size will push other sibling\n\t\t *  \telements to make room for itself. Because of this, repainting the layout does happen\n\t\t *  \tduring transition.\n\t\t *  * `'fade'` - Fade the components onto the screen, from 0 opacity (completely invisible)\n\t\t *  \tto 1 (full visibility). Pretty basic, but useful for fading on/off a tooltip, a\n\t\t *  \tmenu, a panel, or even view contents. This does not affect layout at all.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'slide'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['slide', 'clip', 'fade']),\n\n\t\t/**\n\t\t * The visibility of the component, which determines whether it's on the screen or off.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvisible: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'up',\n\t\tduration: 'medium',\n\t\tnoAnimation: false,\n\t\ttimingFunction: 'ease-in-out',\n\t\ttype: 'slide',\n\t\tvisible: true\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tinitialHeight: null,\n\t\t\tinitialWidth: null,\n\t\t\tprevVisible: props.visible,\n\t\t\trenderState: props.visible ? TRANSITION_STATE.READY : TRANSITION_STATE.INIT\n\t\t};\n\t\tthis.resizeRegistry = null;\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (!state.prevVisible && props.visible) {\n\t\t\treturn {\n\t\t\t\tinitialHeight: null,\n\t\t\t\tinitialWidth: null,\n\t\t\t\tprevVisible: props.visible,\n\t\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tcomponentDidMount () {\n\t\tif (!this.props.visible) {\n\t\t\tthis.measuringJob.idle();\n\t\t} else {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.resizeRegistry = this.context(this.handleResize);\n\t\t}\n\t}\n\n\tshouldComponentUpdate (nextProps, nextState) {\n\t\t// Don't update if only updating the height and we're not visible\n\t\treturn (this.state.initialHeight === nextState.initialHeight) || this.props.visible || nextProps.visible;\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {noAnimation, visible} = this.props;\n\t\tconst {initialHeight, renderState} = this.state;\n\n\t\tif (this.state.renderState === TRANSITION_STATE.MEASURE) {\n\t\t\tthis.measuringJob.stop();\n\t\t}\n\n\t\t// Checking that something changed that wasn't the visibility\n\t\t// or the initialHeight state or checking if component should be visible but doesn't have a height\n\t\tif ((visible === prevProps.visible &&\n\t\t\tinitialHeight === prevState.initialHeight &&\n\t\t\trenderState !== TRANSITION_STATE.INIT) ||\n\t\t\t(initialHeight == null && visible)) {\n\t\t\tthis.measureInner();\n\t\t}\n\n\t\tif (noAnimation) {\n\t\t\tif (!prevProps.visible && visible) {\n\t\t\t\tforwardOnShow({}, this.props);\n\t\t\t} else if (prevProps.visible && !visible) {\n\t\t\t\tforwardOnHide({}, this.props);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.measuringJob.stop();\n\t\tif (this.resizeRegistry) {\n\t\t\tthis.resizeRegistry.unregister();\n\t\t}\n\t}\n\n\tmeasuringJob = new Job(() => {\n\t\tthis.setState({\n\t\t\trenderState: TRANSITION_STATE.MEASURE\n\t\t});\n\t});\n\n\thandleResize = () => {\n\t\t// @TODO oddly, using the setState callback is required here to ensure that the bounds\n\t\t// are remeasured in a separate tick\n\t\tthis.setState({\n\t\t\tinitialHeight: null\n\t\t}, this.measureInner);\n\t};\n\n\thandleTransitionEnd = (ev) => {\n\t\tforwardTransitionEnd(ev, this.props);\n\n\t\tif (ev.target === this.childNode) {\n\t\t\tif (!this.props.visible) {\n\t\t\t\tforwardOnHide(ev, this.props);\n\t\t\t} else if (this.props.visible) {\n\t\t\t\tforwardOnShow(ev, this.props);\n\t\t\t}\n\t\t}\n\t};\n\n\tmeasureInner = () => {\n\t\tif (this.childNode) {\n\t\t\tconst initialHeight = this.childNode.scrollHeight;\n\t\t\tconst initialWidth = this.childNode.scrollWidth;\n\t\t\tif (initialHeight !== this.state.initialHeight || initialWidth !== this.state.initialWidth) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tinitialHeight,\n\t\t\t\t\tinitialWidth,\n\t\t\t\t\trenderState: TRANSITION_STATE.READY\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tchildRef = (node) => {\n\t\tthis.childNode = node;\n\t};\n\n\trender () {\n\t\tlet {visible, ...props} = this.props;\n\t\tdelete props.onHide;\n\t\tdelete props.onShow;\n\t\tdelete props.textSize;\n\n\t\tswitch (this.state.renderState) {\n\t\t\t// If we are deferring children, don't render any\n\t\t\tcase TRANSITION_STATE.INIT: return null;\n\n\t\t\t// If we're transitioning to visible but don't have a measurement yet, create the\n\t\t\t// transition container with its children so we can measure. Measuring will cause a\n\t\t\t// state change to trigger the animation.\n\t\t\tcase TRANSITION_STATE.MEASURE: return (\n\t\t\t\t<TransitionBase {...props} childRef={this.childRef} visible={false} />\n\t\t\t);\n\n\t\t\tcase TRANSITION_STATE.READY: return (\n\t\t\t\t<TransitionBase\n\t\t\t\t\t{...props}\n\t\t\t\t\tchildRef={this.childRef}\n\t\t\t\t\tvisible={visible}\n\t\t\t\t\tclipHeight={this.state.initialHeight}\n\t\t\t\t\tclipWidth={this.state.initialWidth}\n\t\t\t\t\tonTransitionEnd={this.handleTransitionEnd}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default Transition;\nexport {Transition, TransitionBase};\n","/*\n * A higher-order component that adds a FloatingLayer adjacent to wrapped component.\n */\n\nimport {call, forEventProp, oneOf} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Registry from '@enact/core/internal/Registry';\nimport React from 'react';\n\nconst forAction = forEventProp('action');\n\nconst FloatingLayerContext = React.createContext();\n\n/**\n * Default config for {@link ui/FloatingLayer.FloatingLayerDecorator}.\n *\n * @memberof ui/FloatingLayer.FloatingLayerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Element Id of the floatLayer\n\t *\n\t * @type {String}\n\t * @default 'floatLayer'\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\tfloatLayerId: 'floatLayer',\n\n\t/**\n\t * Class name to be applied to wrapped component.\n\n\t * It can be used when you want to only apply\n\t * certain styles to the wrapped component and not to the float layer.\n\t *\n\t * @type {String}\n\t * @default ''\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\twrappedClassName: ''\n};\n\n/**\n * A higher-order component that adds a FloatingLayer adjacent to the wrapped component.\n *\n * Any classes passed to the FloatingLayerDecorator will be applied to a wrapper surrounding the\n * wrapped component and the floating layer. If specified in the config, `wrappedClassName` will be\n * passed as `className` to the wrapped component.\n *\n * @class FloatingLayerDecorator\n * @memberof ui/FloatingLayer\n * @hoc\n * @public\n */\nconst FloatingLayerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {floatLayerId, wrappedClassName} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'FloatingLayerDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.registry = Registry.create(this.handleNotify);\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.notifyMount();\n\t\t}\n\n\t\tgetFloatingLayer = () => {\n\t\t\t// FIXME: if a component that resides in the floating layer is rendered at the same time\n\t\t\t// as the floating layer, this.floatingLayer may not have been initialized yet since\n\t\t\t// componentDidMount runs inside-out. As a fallback, we search by id but this could\n\t\t\t// introduce issues (e.g. for duplicate layer ids).\n\t\t\treturn (\n\t\t\t\tthis.floatingLayer ||\n\t\t\t\t(typeof document !== 'undefined' && document.getElementById(floatLayerId)) ||\n\t\t\t\tnull\n\t\t\t);\n\t\t};\n\n\t\thandleNotify = oneOf(\n\t\t\t[forAction('register'), call('notifyMount')],\n\t\t\t[forAction('closeAll'), call('handleCloseAll')]\n\t\t).bind(this);\n\n\t\thandleCloseAll () {\n\t\t\tthis.registry.notify({action: 'close'});\n\t\t}\n\n\t\tnotifyMount () {\n\t\t\tthis.registry.notify({\n\t\t\t\taction: 'mount',\n\t\t\t\tfloatingLayer: this.getFloatingLayer()\n\t\t\t});\n\t\t}\n\n\t\tsetFloatingLayer = (node) => {\n\t\t\tthis.floatingLayer = node;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {className, ...rest} = this.props;\n\t\t\treturn (\n\t\t\t\t<FloatingLayerContext.Provider value={this.registry.register}>\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t<Wrapped key=\"floatWrapped\" {...rest} className={wrappedClassName} />\n\t\t\t\t\t\t<div id={floatLayerId} key=\"floatLayer\" ref={this.setFloatingLayer} />\n\t\t\t\t\t</div>\n\t\t\t\t</FloatingLayerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default FloatingLayerDecorator;\nexport {\n\tFloatingLayerContext,\n\tFloatingLayerDecorator\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './Scrim.module.less';\n\nconst transparentClassName = css.scrim + ' enact-fit ' + css.transparent;\nconst translucentClassName = css.scrim + ' enact-fit ' + css.translucent;\n\n// Stores references to any Scrim instances whose type is translucent to ensure that only the top-\n// most Scrim is visible to avoid stacking scrims.\nconst scrimStack = [];\n\n/**\n * Pushes a translucent scrim to the top of the stack and hiding the previously top\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to add\n * @returns {undefined}\n * @private\n */\nfunction pushTranslucentScrim (scrim) {\n\tconst last = scrimStack.length - 1;\n\tif (last >= 0) {\n\t\t// if there are other translucent scrims, hide the topmost one assuming the others have been\n\t\t// hidden correctly by previous calls\n\t\tscrimStack[last].hide();\n\t}\n\n\tscrimStack.push(scrim);\n}\n\n/**\n * Removes a translucent scrim from the stack. If the scrim was the top-most, removing it will show\n * the next scrim. If not, it will just be removed\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to remove\n * @returns {undefined}\n * @private\n */\nfunction removeTranslucentScrim (scrim) {\n\tconst index = scrimStack.indexOf(scrim);\n\tconst last = scrimStack.length - 1;\n\tif (index === last) {\n\t\t// if scrim is the top of the stack (most likely case), show the one below it then pop it\n\t\tscrimStack.pop();\n\t\tif (scrimStack.length) {\n\t\t\tscrimStack[scrimStack.length - 1].show();\n\t\t}\n\t} else {\n\t\t// if it's in the middle of the stack, just remove it\n\t\tscrimStack.splice(index, 1);\n\t}\n}\n\n/**\n * {@link ui/FloatingLayer.Scrim} provides an overlay that will prevent taps from propagating\n * to the controls that it covers.\n *\n * @class Scrim\n * @memberof ui/FloatingLayer\n * @ui\n * @private\n */\nclass Scrim extends React.Component {\n\tstatic propTypes = /** @lends ui/FloatingLayer.Scrim.prototype */ {\n\t\t/**\n\t\t * Types of scrim. It can be either `'transparent'` or `'translucent'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default `translucent`\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['transparent', 'translucent'])\n\t};\n\n\tstatic defaultProps = {\n\t\ttype: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tvisible: true\n\t\t};\n\n\t\tif (props.type === 'translucent') {\n\t\t\tpushTranslucentScrim(this);\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps (props) {\n\t\tif (props.type !== 'translucent') {\n\t\t\treturn {\n\t\t\t\tvisible: true\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tif (prevProps.type === 'translucent' && this.props.type !== 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.props.type === 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tshow = () => this.setState({visible: true});\n\n\thide = () => this.setState({visible: false});\n\n\trender () {\n\t\tif (this.state.visible) {\n\t\t\tconst {type, ...rest} = this.props;\n\t\t\tconst className = type === 'transparent' ? transparentClassName : translucentClassName;\n\n\t\t\treturn (\n\t\t\t\t<div {...rest} className={className} />\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default Scrim;\nexport {Scrim};\n","import {on, off} from '@enact/core/dispatcher';\nimport {adaptEvent, forward, forProp, handle, oneOf, stop, forEventProp, call} from '@enact/core/handle';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Cancelable from '../Cancelable';\n\nimport {FloatingLayerContext} from './FloatingLayerDecorator';\nimport Scrim from './Scrim';\n\nconst forwardWithType = type => adaptEvent(\n\t() => ({type}),\n\tforward(type)\n);\n\nconst forwardDismiss = forwardWithType('onDismiss');\nconst forwardClose = forwardWithType('onClose');\nconst forwardOpen = forwardWithType('onOpen');\n\n/**\n * A component that creates an entry point to the new render tree.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayerBase\n * @memberof ui/FloatingLayer\n * @ui\n * @public\n */\nclass FloatingLayerBase extends React.Component {\n\tstatic displayName = 'FloatingLayer';\n\n\tstatic propTypes = /** @lends ui/FloatingLayer.FloatingLayerBase.prototype */ {\n\t\t/**\n\t\t * CSS classes for FloatingLayer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'enact-fit enact-clip enact-untouchable'\n\t\t * @public\n\t\t */\n\t\tfloatLayerClassName: PropTypes.string,\n\n\t\t/**\n\t\t * Element id for floating layer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'floatLayer'\n\t\t * @public\n\t\t */\n\t\tfloatLayerId: PropTypes.string,\n\n\t\t/**\n\t\t * Prevents FloatingLayer from hiding when the user presses `ESC` key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when floating layer is closed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a closing action is invoked.\n\t\t *\n\t\t * These actions may include pressing cancel/back (e.g. `ESC`) key or programmatically closing\n\t\t * by `FloatingLayerDecorator`. When cancel key is pressed, the function will only invoke if\n\t\t * `noAutoDismiss` is set to `false`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Called when floating layer is opened. It will only be invoked for the first render.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Renders the floating layer and its components.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The scrim type that overlays FloatingLayer.\n\t\t *\n\t\t * It can be either `'transparent'`, `'translucent'`, or `'none'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translucent'\n\t\t * @public\n\t\t */\n\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t};\n\n\tstatic contextType = FloatingLayerContext;\n\n\tstatic defaultProps = {\n\t\tfloatLayerClassName: 'enact-fit enact-clip enact-untouchable',\n\t\tfloatLayerId: 'floatLayer',\n\t\tnoAutoDismiss: false,\n\t\topen: false,\n\t\tscrimType: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.node = null;\n\t\tthis.state = {\n\t\t\tnodeRendered: false\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// Must register first in order to obtain the floating layer node reference before tryinging\n\t\t// to render into it\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.controller = this.context(this.handleNotify.bind(this));\n\t\t}\n\n\t\tif (this.props.scrimType === 'none' && this.props.open) {\n\t\t\ton('click', this.handleClick);\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {open, scrimType} = this.props;\n\n\t\tif (prevProps.open && !open) {\n\t\t\t// when open changes to false, forward close\n\t\t\tforwardClose(null, this.props);\n\t\t} else if (!prevProps.open && open && !this.state.nodeRendered) {\n\t\t\t// when open changes to true and node hasn't rendered, render it\n\t\t\tthis.renderNode();\n\t\t} else if (this.state.nodeRendered &&\n\t\t\t(!prevState.nodeRendered || (prevState.nodeRendered && open && !prevProps.open))\n\t\t) {\n\t\t\t// when node has been rendered and either it was just rendered in this update cycle or\n\t\t\t// the open prop changed in this cycle, forward open\n\t\t\tforwardOpen(null, this.props);\n\t\t}\n\n\t\tif (scrimType === 'none') {\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.node && this.floatingLayer) {\n\t\t\tthis.floatingLayer.removeChild(this.node);\n\t\t\tthis.node = null;\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\toff('click', this.handleClick);\n\n\t\tif (this.controller) {\n\t\t\tthis.controller.unregister();\n\t\t}\n\t}\n\n\thandleNotify = oneOf(\n\t\t[forEventProp('action', 'close'), call('handleClose')],\n\t\t[forEventProp('action', 'mount'), call('setFloatingLayer')]\n\t).bind(this);\n\n\tsetFloatingLayer ({floatingLayer}) {\n\t\tconst isNewLayer = !this.floatingLayer && floatingLayer;\n\t\tthis.floatingLayer = floatingLayer;\n\n\t\t// the first time we have a valid floating layer container and this instance is set to open,\n\t\t// we need to render the layer.\n\t\tif (isNewLayer && this.props.open && !this.state.nodeRendered) {\n\t\t\tthis.renderNode();\n\t\t}\n\t}\n\n\thandleClose = handle(\n\t\tforProp('open', true),\n\t\tforwardDismiss\n\t).bind(this);\n\n\thandleClick = handle(\n\t\tforProp('noAutoDismiss', false),\n\t\tforProp('open', true),\n\t\tforward('onDismiss')\n\t).bind(this);\n\n\thandleScroll = (ev) => {\n\t\tconst {currentTarget} = ev;\n\t\tcurrentTarget.scrollTop = 0;\n\t\tcurrentTarget.scrollLeft = 0;\n\t};\n\n\tstopPropagation = (ev) => {\n\t\tev.nativeEvent.stopImmediatePropagation();\n\n\t\tif (this.props.children.props.onClick) {\n\t\t\tthis.props.children.props.onClick();\n\t\t}\n\t};\n\n\trenderNode () {\n\t\tconst {floatLayerClassName} = this.props;\n\n\t\tif (this.node) return;\n\n\t\tinvariant(\n\t\t\tthis.floatingLayer,\n\t\t\t'FloatingLayer cannot be used outside the subtree of a FloatingLayerDecorator'\n\t\t);\n\n\t\tthis.node = document.createElement('div');\n\t\tthis.node.className = floatLayerClassName;\n\t\tthis.node.style.zIndex = 100;\n\n\t\tthis.floatingLayer.appendChild(this.node);\n\t\ton('scroll', this.handleScroll, this.node);\n\n\t\t// render children when this.node is inserted in the DOM tree.\n\t\tthis.setState({nodeRendered: true});\n\t}\n\n\trender () {\n\t\tconst {children, open, scrimType, ...rest} = this.props;\n\n\t\tdelete rest.floatLayerClassName;\n\t\tdelete rest.floatLayerId;\n\t\tdelete rest.noAutoDismiss;\n\t\tdelete rest.onClose;\n\t\tdelete rest.onDismiss;\n\t\tdelete rest.onOpen;\n\n\t\tif (open && this.state.nodeRendered) {\n\t\t\treturn ReactDOM.createPortal(\n\t\t\t\t<div {...rest}>\n\t\t\t\t\t{scrimType !== 'none' ? <Scrim type={scrimType} onClick={this.handleClick} /> : null}\n\t\t\t\t\t{React.cloneElement(children, {onClick: this.stopPropagation})}\n\t\t\t\t</div>,\n\t\t\t\tthis.node\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nconst handleCancel = handle(\n\t// can't use forProp safely since either could be undefined ~= false\n\t(ev, {open, noAutoDismiss, onDismiss}) => open && !noAutoDismiss && onDismiss,\n\tforwardDismiss,\n\tstop\n);\n\n/**\n * FloatingLayer that mixes {@link ui/Cancelable.Cancelable} to handle FloatingLayer dismissal.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayer\n * @memberof ui/FloatingLayer\n * @ui\n * @extends ui/FloatingLayer.FloatingLayerBase\n * @mixes ui/Cancelable.Cancelable\n * @public\n */\nconst FloatingLayer = Cancelable({modal: true, onCancel: handleCancel}, FloatingLayerBase);\n\nexport default FloatingLayer;\nexport {FloatingLayer, FloatingLayerBase};\n","/**\n * FloatingLayer provides a way to render a component into a node outside of its parent component.\n *\n * This is used for modal components such as popups.\n *\n * @module ui/FloatingLayer\n * @exports FloatingLayer\n * @exports FloatingLayerBase\n * @exports FloatingLayerDecorator\n */\n\nimport {FloatingLayer, FloatingLayerBase} from './FloatingLayer';\nimport {FloatingLayerDecorator} from './FloatingLayerDecorator';\nimport {useFloatingLayer} from './useFloatingLayer';\n\nexport default FloatingLayer;\nexport {\n\tFloatingLayer,\n\tFloatingLayerBase,\n\tFloatingLayerDecorator,\n\tuseFloatingLayer\n};\n","/**\n * Unstyled button components and behaviors to be customized by a theme or application.\n *\n * @module ui/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport componentCss from './Button.module.less';\n\n/**\n * A basic button component structure without any behaviors applied to it.\n *\n * @class ButtonBase\n * @memberof ui/Button\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'ui:Button',\n\n\tpropTypes: /** @lends ui/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root component class\n\t\t * * `bg` - The background node of the button\n\t\t * * `client` - The content node of the button\n\t\t * * `hasIcon` - Applied when there is an `icon` present\n\t\t * * `icon` - The icon node, when `icon` is set\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `minWidth` - Applied when `minWidth` prop is `true`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Applies the `disabled` class.\n\t\t *\n\t\t * When `true`, the button is shown as disabled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the Button.\n\t\t *\n\t\t * The icon will be displayed before the natural reading order of the text, regardless\n\t\t * of locale. Any string that is valid for its {@link ui/Button.Button.iconComponent} is\n\t\t * valid here. If `icon` is specified as a string and `iconButton` is undefined, the icon is\n\t\t * not rendered.\n\t\t *\n\t\t * This also supports a custom icon, in the form of a DOM node or a Component,\n\t\t * with the caveat that if you supply a custom icon, you are responsible for sizing and\n\t\t * locale positioning of the custom component.\n\t\t *\n\t\t * Setting this to `true` means the `iconComponent` will be rendered but with empty content.\n\t\t * This may be useful if you've customized the `iconComponent` to render the icon content\n\t\t * externally.\n\t\t *\n\t\t * @type {Node|Boolean}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the [icon]{@link ui/Button.ButtonBase.icon}.\n\t\t *\n\t\t * This component will receive the `icon` class to customize its styling.\n\t\t * If [icon]{@link ui/Button.ButtonBase.icon} is not assigned or is false, this component\n\t\t * will not be rendered.\n\t\t *\n\t\t * If this is a component rather than an HTML element string, this component will also\n\t\t * receive the `size` and `iconFlip` (as `flip`) properties and should be configured to\n\t\t * handle it.\n\t\t *\n\t\t * @type {Component|Node}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * Flips the icon.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon#flip}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonFlip: PropTypes.string,\n\n\t\t/**\n\t\t * Enforces a minimum width for the component.\n\t\t *\n\t\t * Applies the `minWidth` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tminWidth: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is depressed.\n\t\t *\n\t\t * Applies the `pressed` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is selected.\n\t\t *\n\t\t * Applies the `selected` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tminWidth: true,\n\t\tpressed: false,\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'button',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({icon, minWidth, pressed, selected, size, styler}) => styler.append({\n\t\t\thasIcon: (!!icon),\n\t\t\tminWidth,\n\t\t\tpressed,\n\t\t\tselected\n\t\t}, size),\n\t\ticon: ({css, icon, iconComponent, iconFlip, size}) => {\n\t\t\tif (icon == null || icon === false) return;\n\n\t\t\t// Establish the base collection of props for the most basic `iconComponent` type, an\n\t\t\t// HTML element string.\n\t\t\tconst props = {\n\t\t\t\tclassName: css.icon,\n\t\t\t\tcomponent: iconComponent\n\t\t\t};\n\n\t\t\t// Add in additional props that any Component supplied to `iconComponent` should be\n\t\t\t// configured to handle.\n\t\t\tif (typeof iconComponent !== 'string') {\n\t\t\t\tprops.size = size;\n\t\t\t\t// the following inadvertently triggers a linting rule\n\t\t\t\t// eslint-disable-next-line enact/prop-types\n\t\t\t\tprops.flip = iconFlip;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride {...props}>\n\t\t\t\t\t{icon}\n\t\t\t\t</ComponentOverride>\n\t\t\t);\n\t\t}\n\t},\n\n\trender: ({children, css, decoration, disabled, icon, ...rest}) => {\n\t\tdelete rest.iconComponent;\n\t\tdelete rest.iconFlip;\n\t\tdelete rest.minWidth;\n\t\tdelete rest.pressed;\n\t\tdelete rest.selected;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div role=\"button\" {...rest} aria-disabled={disabled} disabled={disabled}>\n\t\t\t\t{decoration ? (\n\t\t\t\t\t<div className={css.decoration}>{decoration}</div>\n\t\t\t\t) : null}\n\t\t\t\t<div className={css.bg} />\n\t\t\t\t<div className={css.client}>{icon}{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to a [ButtonBase]{@link ui/Button.ButtonBase}.\n *\n * @hoc\n * @memberof ui/Button\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ButtonDecorator = Touchable({activeProp: 'pressed'});\n\n/**\n * A minimally-styled button component with touch support.\n *\n * @class Button\n * @extends ui/Button.ButtonBase\n * @memberof ui/Button\n * @mixes ui/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","/**\n * Text block component to be customized by a theme or application.\n *\n * @module ui/BodyText\n * @exports BodyText\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './BodyText.module.less';\n\n/**\n * A simple, unstyled text block component, without\n * [BodyTextDecorator](ui/BodyText.BodyTextDecorator) applied.\n *\n * @class BodyTextBase\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'ui:BodyText',\n\n\tpropTypes: /** @lends ui/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'p', etc.) or a custom component.\n\t\t *\n\t\t * @type {Component}\n\t\t * @default 'p'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/BodyText.BodyText#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t * * `centered` - Applied when `centered` prop is `true`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcomponent: 'p'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'bodyText',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, styler}) => styler.append({centered})\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies BodyText behaviors.\n *\n * @hoc\n * @memberof ui/BodyText\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst BodyTextDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A simple, unstyled text block component.\n *\n * @class BodyText\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Utilities for detecting basic platform capabilities.\n *\n * @module core/platform\n * @exports detect\n * @exports platform\n * @public\n */\n\nimport uniq from 'ramda/src/uniq';\n\nconst hasGesture = () => {\n\treturn Boolean(\n\t\t('ongesturestart' in window) ||\n\t\t('onmsgesturestart' in window && (\n\t\t\twindow.navigator.msMaxTouchPoints > 1 ||\n\t\t\twindow.navigator.maxTouchPoints > 1\n\t\t))\n\t);\n};\n\nconst hasTouch = () => {\n\treturn Boolean(\n\t\t('TouchEvent' in window) ||\n\t\t('ontouchstart' in window) ||\n\t\twindow.navigator.msMaxTouchPoints ||\n\t\t(window.navigator.msManipulationViewsEnabled && window.navigator.maxTouchPoints)\n\t);\n};\n\n// Adapted from https://patrickhlauke.github.io/touch/touchscreen-detection/\n// I've omitted the touch event fallback since that is covered by hasTouch and we're less concerned\n// with legacy browsers used in touchscreen environments.\nconst hasTouchScreen = () => {\n\treturn (\n\t\t// if Pointer Events are supported, just check maxTouchPoints\n\t\t(window.PointerEvent && ('maxTouchPoints' in window.navigator) && window.navigator.maxTouchPoints > 0) ||\n\t\t// check for any-pointer:coarse which mostly means touchscreen\n\t\t(window.matchMedia && window.matchMedia('(any-pointer:coarse)').matches)\n\t);\n};\n\nconst platforms = [\n\t// Windows Phone 7 - 10\n\t{platform: 'windowsPhone', regex: /Windows Phone (?:OS )?(\\d+)[.\\d]+/},\n\t// Android 4+ using Chrome\n\t{platform: 'androidChrome', regex: /Android .* Chrome\\/(\\d+)[.\\d]+/},\n\t// Android 2 - 4\n\t{platform: 'android', regex: /Android(?:\\s|\\/)(\\d+)/},\n\t// Kindle Fire\n\t// Force version to 2, (desktop mode does not list android version)\n\t{platform: 'android', regex: /Silk\\/1./, forceVersion: 2, extra: {silk: 1}},\n\t// Kindle Fire HD (Silk versions 2 or 3)\n\t// Force version to 4\n\t{platform: 'android', regex: /Silk\\/2./, forceVersion: 4, extra: {silk: 2}},\n\t{platform: 'android', regex: /Silk\\/3./, forceVersion: 4, extra: {silk: 3}},\n\t// IE 8 - 10\n\t{platform: 'ie', regex: /MSIE (\\d+)/},\n\t// IE 11\n\t{platform: 'ie', regex: /Trident\\/.*; rv:(\\d+)/},\n\t// Edge\n\t{platform: 'edge', regex: /Edge\\/(\\d+)/},\n\t// iOS 3 - 5\n\t// Apple likes to make this complicated\n\t{platform: 'ios', regex: /iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/},\n\t// LG webOS\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/537.41/, forceVersion: 1},\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/538.2/, forceVersion: 2},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/38/, forceVersion: 3},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/53/, forceVersion: 4},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/68/, forceVersion: 5},\n\t// LG webOS of indeterminate version\n\t{platform: 'webos', regex: /Web0S;/, forceVersion: -1},\n\t// LuneOS\n\t{platform: 'webos', regex: /LuneOS/, forceVersion: -1, extra: {luneos: 1}},\n\t// Palm/HP/Open webOS\n\t{platform: 'webos', regex: /WebAppManager|Isis|webOS\\./, forceVersion: -1, extra: {legacy: 4}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/1/, forceVersion: -1, extra: {legacy: 1}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/2/, forceVersion: -1, extra: {legacy: 2}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/3/, forceVersion: -1, extra: {legacy: 3}},\n\t// desktop Safari\n\t{platform: 'safari', regex: /Version\\/(\\d+)[.\\d]+\\s+Safari/},\n\t// desktop Chrome\n\t{platform: 'chrome', regex: /Chrome\\/(\\d+)[.\\d]+/},\n\t// Firefox on Android\n\t{platform: 'androidFirefox', regex: /Android;.*Firefox\\/(\\d+)/},\n\t// FirefoxOS\n\t{platform: 'firefoxOS', regex: /Mobile;.*Firefox\\/(\\d+)/},\n\t// desktop Firefox\n\t{platform: 'firefox', regex: /Firefox\\/(\\d+)/},\n\t// Blackberry Playbook\n\t{platform: 'blackberry', regex: /PlayBook/i, forceVersion: 2},\n\t// Blackberry 10+\n\t{platform: 'blackberry', regex: /BB1\\d;.*Version\\/(\\d+\\.\\d+)/},\n\t// Tizen\n\t{platform: 'tizen', regex: /Tizen (\\d+)/}\n];\n\nconst ua = () => {\n\treturn window.navigator ? window.navigator.userAgent : '';\n};\n\nlet _platform;\n\nconst parseUserAgent = (userAgent) => {\n\tlet plat = {\n\t\tgesture: hasGesture(),\n\t\tnode: false,\n\t\ttouch: hasTouch(),\n\t\ttouchscreen: hasTouchScreen(),\n\t\tunknown: true\n\t};\n\n\tfor (let i = 0, p, m, v; (p = platforms[i]); i++) {\n\t\tm = p.regex.exec(userAgent);\n\n\t\tif (m) {\n\t\t\tplat.unknown = false;\n\n\t\t\tif ('forceVersion' in p) {\n\t\t\t\tv = p.forceVersion;\n\t\t\t} else {\n\t\t\t\tv = Number(m[1]);\n\t\t\t}\n\t\t\tplat[p.platform] = v;\n\t\t\tif (p.extra) {\n\t\t\t\tplat = {\n\t\t\t\t\t...plat,\n\t\t\t\t\t...p.extra\n\t\t\t\t};\n\t\t\t}\n\t\t\tplat.platformName = p.platform;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn plat;\n};\n\n/**\n * @typedef {Object} PlatformDescription\n * @property {Object} [extra] - Additional information about the detected platform\n * @property {Boolean} gesture - `true` if the platform has native double-finger events\n * @property {Boolean} node - `true` only if `window` is `undefined`\n * @property {String} [platformName] - The name of the platform, if detected\n * @property {Boolean} touch - `true` if the platform has native single-finger events\n * @property {Boolean} touchsreen - `true` if the platform has a touch screen\n * @property {Boolean} unknown - `true` for any unknown system\n *\n * @memberof core/platform\n * @public\n */\n\n/**\n * Returns the {@link core/platform.platform} object.\n *\n * @function detect\n * @returns {PlatformDescription}     The {@link core/platform.platform} object\n * @memberof core/platform\n * @public\n */\nconst detect = () => {\n\tif (_platform) {\n\t\t// if we've already determined the platform, we'll use that determination\n\t\treturn _platform;\n\t} else if (typeof window === 'undefined') {\n\t\treturn {\n\t\t\tgesture: false,\n\t\t\tnode: true,\n\t\t\ttouch: false,\n\t\t\tunknown: true\n\t\t};\n\t}\n\n\tconst userAgent = ua();\n\n\treturn (_platform = parseUserAgent(userAgent));\n};\n\n/**\n * Provides basic information about the running platform.\n *\n * @type {PlatformDescription}\n * @memberof core/platform\n * @public\n */\nconst platform = {};\n\n[\n\t'gesture',\n\t'node',\n\t'platformName',\n\t'touch',\n\t'touchscreen',\n\t'unknown',\n\t...uniq(platforms.map(p => p.platform))\n].forEach(name => {\n\tObject.defineProperty(platform, name, {\n\t\tenumerable: true,\n\t\tget: () => {\n\t\t\tconst p = detect();\n\t\t\treturn p[name];\n\t\t}\n\t});\n});\n\nexport default platform;\nexport {\n\tdetect,\n\tparseUserAgent,\n\tplatform\n};\n","let baseScreen,\n\torientation,\n\triRatio,\n\tscreenType,\n\tworkspaceBounds = {\n\t\twidth: (typeof window === 'object') ? window.innerWidth : 1920,\n\t\theight: (typeof window === 'object') ? window.innerHeight : 1080\n\t},\n\tscreenTypes = [{\n\t\tname: 'standard',\n\t\tpxPerRem: 16,\n\t\twidth: workspaceBounds.width,\n\t\theight: workspaceBounds.height,\n\t\taspectRatioName: 'standard',\n\t\tbase: true\n\t}],\t// Assign one sane type in case defineScreenTypes is never run.\n\tscreenTypeObject,\n\tconfig;\n\n/**\n * Object that stores all of the pixel conversion factors to each keyed unit.\n *\n * @type {Object}\n * @memberof ui/resolution\n * @public\n */\nconst unitToPixelFactors = {\n\t'rem': 12,\n\t'in': 96\n};\n\nconst configDefaults = {\n\torientationHandling: 'normal'\n};\n\n/**\n * Update the common measured boundary object.\n *\n * This object is used as \"what size screen are we looking at\". Providing no arguments has no\n * effect and updates nothing.\n *\n * @function\n * @memberOf ui/resolution\n * @param {Node}    measurementNode    A standard DOM node or the `window` node.\n *\n * @returns {undefined}\n * @private\n */\nconst updateWorkspaceBounds = (measurementNode) => {\n\tif (measurementNode && (measurementNode.clientHeight || measurementNode.clientWidth)) {\n\t\tworkspaceBounds = {height: measurementNode.clientHeight, width: measurementNode.clientWidth};\n\t} else if (measurementNode && (measurementNode.innerHeight || measurementNode.innerWidth)) {\n\t\t// A backup for if measurementNode is actually `window` and not a normal node\n\t\tworkspaceBounds = {height: measurementNode.innerHeight, width: measurementNode.innerWidth};\n\t}\n};\n\n/**\n * Fetch the screenType object\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    The key string for the screen type object. If falsy, the current\n *                             screenType is used\n *\n * @returns {Object}           screenTypeObject\n * @private\n */\nfunction getScreenTypeObject (type) {\n\ttype = type || screenType;\n\tif (screenTypeObject && screenTypeObject.name === type) {\n\t\treturn screenTypeObject;\n\t}\n\treturn screenTypes.filter(function (elem) {\n\t\treturn (type === elem.name);\n\t})[0];\n}\n\n/**\n * Sets up screen resolution scaling capabilities by defining an array of all the screens\n * being used.\n *\n * These should be listed in order from smallest to largest, according to\n * width.\n *\n * The `name`, `pxPerRem`, `width`, and `aspectRatioName` properties are required for\n * each screen type in the array. Setting `base: true` on a screen type marks it as the\n * default resolution, upon which everything else will be based.\n *\n * Executing this method also initializes the rest of the resolution-independence code.\n *\n * Example:\n * ```\n * import ri from 'enact/ui/resolution';\n *\n * ri.defineScreenTypes([\n * \t{name: 'vga',     pxPerRem: 8,  width: 640,  height: 480,  aspectRatioName: 'standard'},\n * \t{name: 'xga',     pxPerRem: 16, width: 1024, height: 768,  aspectRatioName: 'standard'},\n * \t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n * \t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n * \t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n * \t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n * ]);\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {Object[]}    types    An array of objects containing screen configuration data, as in the\n *                            preceding example.\n * @returns {undefined}\n * @public\n */\nfunction defineScreenTypes (types) {\n\tif (types) screenTypes = types;\n\tfor (let i = 0; i < screenTypes.length; i++) {\n\t\tif (screenTypes[i]['base']) baseScreen = screenTypes[i];\n\t}\n\tinit();\n}\n\n/**\n * Fetches the name of the screen type that best matches the current screen size.\n *\n * The best match is defined as the screen type that is the closest to the screen resolution without\n * going over. (\"The Price is Right\" style.)\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    rez    Optional measurement scheme. Must include `height` and `width` properties.\n * @returns {String}         Screen type (e.g., `'fhd'`, `'uhd'`, etc.)\n * @public\n */\nfunction getScreenType (rez) {\n\trez = rez || workspaceBounds;\n\n\tconst types = screenTypes;\n\tlet bestMatch = types[types.length - 1].name; // Blindly set the first screen type, in case no matches are found later.\n\n\torientation = 'landscape';\n\n\tif (rez.height > rez.width) {\n\t\torientation = 'portrait';\n\t\tconst swap = rez.width;\n\t\trez.width = rez.height;\n\t\trez.height = swap;\n\t}\n\n\t// Loop through resolutions, last->first, largest->smallest\n\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t// Does the current resolution fit inside this screenType definition? If so, save it as the current best match.\n\t\tif (rez.height <= types[i].height && rez.width <= types[i].width) {\n\t\t\tbestMatch = types[i].name;\n\t\t}\n\t}\n\t// Return the name of the closest fitting set of dimensions.\n\treturn bestMatch;\n}\n\n/**\n * Calculate the base rem font size.\n *\n * This is how the magic happens. This accepts an optional `screenType` name. If one isn't provided,\n * the currently detected screen type is used. This uses the config option `orientationHandling`,\n * which when set to \"scale\" and the screen is in portrait orientation, will dynamically calculate\n * what the base font size should be, if the width were proportionally scaled down to fit in the portrait space.\n *\n * To use, put the following in your application code:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * ri.config.orientationHandling = 'scale';\n * ri.init();\n * ```\n *\n * This has no effect if the screen is in landscape, or if `orientationHandling` is unset.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type to base size the calculation on. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The calculated pixel size (with unit suffix. Ex: \"24px\").\n * @public\n */\nfunction calculateFontSize (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tlet size;\n\n\tif (orientation === 'portrait' && config.orientationHandling === 'scale') {\n\t\tsize = scrObj.height / scrObj.width * scrObj.pxPerRem;\n\t} else {\n\t\tsize = scrObj.pxPerRem;\n\t}\n\treturn size + 'px';\n}\n\n/**\n * @function\n * @memberof ui/resolution\n * @param {String}    size     A valid CSS measurement to be applied as the base document font size.\n * @private\n * @returns {undefined}\n */\nfunction updateBaseFontSize (size) {\n\tif (typeof window === 'object') {\n\t\tdocument.documentElement.style.fontSize = size;\n\t}\n}\n\n/**\n * Returns the CSS classes for the given `type`.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n * @returns {String}          CSS class names\n * @public\n */\nfunction getResolutionClasses (type = screenType) {\n\tconst classes = [];\n\tif (orientation) {\n\t\tclasses.push('enact-orientation-' + orientation);\n\t}\n\tif (type) {\n\t\tclasses.push('enact-res-' + type.toLowerCase());\n\t\tconst scrObj = getScreenTypeObject(type);\n\t\tif (scrObj.aspectRatioName) {\n\t\t\tclasses.push('enact-aspect-ratio-' + scrObj.aspectRatioName.toLowerCase());\n\t\t}\n\t}\n\treturn classes.join(' ');\n}\n\n/**\n * Returns the ratio of pixels per rem for the given `type` to the pixels per rem for the base type.\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    Screen type\n *\n * @returns {Number}           ratio\n */\nfunction getRiRatio (type = screenType) {\n\tif (type && baseScreen) {\n\t\tconst ratio = getUnitToPixelFactors(type) / getUnitToPixelFactors(baseScreen.name);\n\t\tif (type === screenType) {\n\t\t\t// cache this if it's for our current screen type.\n\t\t\triRatio = ratio;\n\t\t}\n\t\treturn ratio;\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the pixels per rem for the given `type`.\n *\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n *\n * @returns {Number}          pixels per rem\n */\nfunction getUnitToPixelFactors (type = screenType) {\n\tif (type) {\n\t\treturn getScreenTypeObject(type).pxPerRem;\n\t}\n\treturn 1;\n}\n\n/**\n * Calculates the aspect ratio of the specified screen type.\n *\n * If no screen type is provided, the current screen type is used.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio will be calculated. If no screen\n *                            type is provided, the current screen type is used.\n * @returns {Number}          The calculated screen ratio (e.g., `1.333`, `1.777`, `2.333`, etc.)\n * @public\n */\nfunction getAspectRatio (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tif (scrObj.width && scrObj.height) {\n\t\treturn (scrObj.width / scrObj.height);\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the name of the aspect ratio for a specified screen type, or for the default\n * screen type if none is provided.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio name will be returned. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The name of the screen type's aspect ratio\n * @public\n */\nfunction getAspectRatioName (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\treturn scrObj.aspectRatioName || 'standard';\n}\n\n/**\n * Takes a provided pixel value and performs a scaling operation based on the current\n * screen type.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    px    The quantity of standard-resolution pixels to scale to the\n *                          current screen resolution.\n * @returns {Number}        The scaled value based on the current screen scaling factor\n * @public\n */\nfunction scale (px) {\n\treturn (riRatio || getRiRatio()) * px;\n}\n\n/**\n * Convert to various unit formats.\n *\n * Useful for converting pixels to a resolution-independent\n * measurement method, like \"rem\". Other units are available if defined in the\n * {@link ui/resolution.unitToPixelFactors} object.\n *\n * Example:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * // Do calculations and get back the desired CSS unit.\n * var frameWidth = 250,\n *     frameWithMarginInches = ri.unit( 10 + frameWidth + 10, 'in' ), // '2.8125in' == frameWithMarginInches\n *     frameWithMarginRems = ri.unit( 10 + frameWidth + 10, 'rem' ); // '22.5rem' == frameWithMarginRems\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|Number}     pixels    The pixels or math to convert to the unit (\"px\" suffix in String\n *                                       format is permitted. ex: `'20px'`)\n * @param {String}            toUnit    The name of the unit to convert to.\n *\n * @returns {String|undefined}          Resulting conversion in CSS safe format, in case of malformed input, `undefined`\n * @public\n */\nfunction unit (pixels, toUnit) {\n\tif (!toUnit || !unitToPixelFactors[toUnit]) return;\n\tif (typeof pixels === 'string' && pixels.substr(-2) === 'px') pixels = parseInt(pixels.substr(0, pixels.length - 2));\n\tif (typeof pixels !== 'number') return;\n\n\treturn (pixels / unitToPixelFactors[toUnit]) + '' + toUnit;\n}\n\n/**\n * Shorthand for when you know you need to scale some pixel value and have it converted to \"rem\" for\n * proper scaling.\n *\n * This runs {@link ui/resolution.scale} and {@link ui/resolution.unit} together.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    pixels    The quantity of standard-resolution pixels to scale to rems\n *\n * @returns {String|undefined}  Resulting conversion or, in case of malformed input, `undefined`\n * @public\n */\nconst scaleToRem = (pixels) => unit(scale(pixels), 'rem');\n\n/**\n * The default configurable options for {@link ui/resolution.selectSrc}. Additional resolutions\n * may be added.\n *\n * @typedef {Object} selectSrcOptions\n * @memberof ui/resolution\n * @property {String}    [hd]    HD / 720p Resolution image asset source URI/URL\n * @property {String}    [fhd]   FHD / 1080p Resolution image asset source URI/URL\n * @property {String}    [uhd]   UHD / 4K Resolution image asset source URI/URL\n */\n\n/**\n * Selects the ideal image asset from a set of assets, based on various screen\n * resolutions: HD (720p), FHD (1080p), UHD (4k).\n *\n * When a `src` argument is provided, `selectSrc()` will choose the best image with\n * respect to the current screen resolution. `src` may be either the traditional\n * string, which will pass straight through, or a hash/object of screen types and\n * their asset sources (keys:screen and values:src). The image sources will be used\n * when the screen resolution is less than or equal to the provided screen types.\n *\n * Example:\n * ```\n * // Take advantage of the multi-res mode\n * import {Image} from '@enact/ui/Image';\n *\n * const src = {\n *     'hd': 'http://lorempixel.com/64/64/city/1/',\n *     'fhd': 'http://lorempixel.com/128/128/city/1/',\n *     'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n * ...\n * <Image src={src} ... />\n * ...\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|ui/resolution.selectSrcSrcOptions} src       A string containing a single image\n *                                                             source or a key/value hash/object\n *                                                             containing keys representing screen\n *                                                             types (`'hd'`, `'fhd'`, `'uhd'`,\n *                                                             etc.) and values containing the asset\n *                                                             source for that target screen\n *                                                             resolution.\n *\n * @returns {String}                                           The chosen source, given the string\n *                                                             or hash provided\n * @public\n */\nfunction selectSrc (src) {\n\tif (typeof src != 'string' && src) {\n\t\tlet newSrc = src.fhd || src.uhd || src.hd;\n\t\tconst types = screenTypes;\n\n\t\t// loop through resolutions\n\t\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t\tlet t = types[i].name;\n\t\t\tif (screenType === t && src[t]) newSrc = src[t];\n\t\t}\n\t\tsrc = newSrc;\n\t}\n\treturn src;\n}\n\n/**\n * This will need to be re-run any time the screen size changes, so all the values can be re-cached.\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    args    A hash of options. The key `measurementNode` is used to as the node,\n *                            typically the root element, to measure and use as the dimensions for\n *                            the `screenType`.\n *\n * @returns {undefined}\n * @public\n */\nfunction init (args = {}) {\n\tconst {measurementNode} = args;\n\tupdateWorkspaceBounds(measurementNode);\n\tscreenType = getScreenType();\n\tscreenTypeObject = getScreenTypeObject();\n\tunitToPixelFactors.rem = getUnitToPixelFactors();\n\triRatio = getRiRatio();\n\tupdateBaseFontSize(calculateFontSize());\n}\n\n/**\n * The current configuration\n *\n * @type {Object}\n * @memberof ui/resolution\n * @private\n */\nconfig = Object.assign({}, configDefaults);\n\nexport {\n\tcalculateFontSize,\n\tconfig,\n\tdefineScreenTypes,\n\tgetAspectRatio,\n\tgetAspectRatioName,\n\tgetResolutionClasses,\n\tgetScreenTypeObject,\n\tgetScreenType,\n\tinit,\n\tscale,\n\tscaleToRem,\n\tselectSrc,\n\tunit,\n\tunitToPixelFactors\n};\n","/*\n * Exports the {@link ui/resolution.ResolutionDecorator} higher-order component (HOC).\n *\n * not jsdoc module on purpose\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport hoc from '@enact/core/hoc';\n\nimport {init, defineScreenTypes, getResolutionClasses} from './resolution';\n\n/**\n * Default config for `ResolutionDecorator`.\n *\n * @memberof ui/resolution.ResolutionDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Attaches an event listener to the window to listen for resize events.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tdynamic: true,\n\n\t/**\n\t * An array of objects containing declarations for screen types to add to the list of known\n\t * screen types.\n\t *\n\t * @type {Object[]}\n\t * @default null\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tscreenTypes: null\n};\n\n/**\n * A higher-order component that configures resolution support for its wrapped component tree.\n *\n * Configuration options:\n *\t* `dynamic: true` - when `true`, updates the resolution classes when the window resizes\n *\t* `screenTypes: null` - defines a set of screen types to support\n *\n * Example:\n * ```\n *\t// Will have the resolution classes and will be updated when the window resizes\n *\tconst AppWithResolution = ResolutionDecorator(App);\n *\t// Will have the resolution classes for the screen at the time of render only\n *\tconst AppWithStaticResolution = ResolutionDecorator({dynamic: false}, App);\n *\tconst AppWithScreenTypes = ResolutionDecorator({screenTypes: [\n *\t\t{name: 'hd', pxPerRem: 16, width: 1280, height: 720, aspectRatioName: 'hdtv', base: true}\n *\t]}, App);\n * ```\n * @class ResolutionDecorator\n * @memberof ui/resolution\n * @hoc\n * @public\n */\nconst ResolutionDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tif (config.screenTypes) {\n\t\tdefineScreenTypes(config.screenTypes);\n\t}\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResolutionDecorator';\n\n\t\tstatic propTypes = /** @lends ui/resolution.ResolutionDecorator.prototype */ {\n\t\t\tclassName: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tinit({measurementNode: (typeof window !== 'undefined' && window)});\n\t\t\tthis.state = {\n\t\t\t\tresolutionClasses: ''\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (config.dynamic) window.addEventListener('resize', this.handleResize);\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.rootNode = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (config.dynamic) window.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tconst classNames = this.didClassesChange();\n\n\t\t\tif (classNames) {\n\t\t\t\tthis.setState({resolutionClasses: classNames});\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Compare our current version of the resolved resolution class names with a fresh\n\t\t * initialization of RI.\n\t\t *\n\t\t * @returns {String|undefined} A string of new class names or undefined when there is no change.\n\t\t * @private\n\t\t */\n\t\tdidClassesChange () {\n\t\t\tconst prevClassNames = getResolutionClasses();\n\t\t\tinit({measurementNode: this.rootNode});\n\t\t\tconst classNames = getResolutionClasses();\n\t\t\tif (prevClassNames !== classNames) {\n\t\t\t\treturn classNames;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\t// Check if the classes are different from our previous classes\n\t\t\tlet classes = getResolutionClasses();\n\n\t\t\tif (this.props.className) classes += (classes ? ' ' : '') + this.props.className;\n\t\t\treturn <Wrapped {...this.props} className={classes} />;\n\t\t}\n\t};\n});\n\nexport default ResolutionDecorator;\nexport {ResolutionDecorator};\n","/**\n * Exports a number of useful methods for resolution independence.\n *\n * The default export is an object containing the resolution independence methods.\n *\n * @module ui/resolution\n * @exports ResolutionDecorator\n */\n\nimport * as ri from './resolution';\nimport ResolutionDecorator from './ResolutionDecorator';\n\nexport default ri;\nexport * from './resolution';\nexport {ResolutionDecorator};\n","// ilib doesn't load the non-Gregorian calendars and dates initially. To ensure they are packaged\n// by Enact CLI, we've added explicit requires for each Date (which in turn requires the relevant\n// Calendar). This is only necessary for builds not using the library-mode build of i18n which\n// would have included everything\n\nrequire('ilib/lib/GregorianDate');   // not required (rimshot) but included for completeness\nrequire('ilib/lib/CopticDate');\nrequire('ilib/lib/EthiopicDate');\nrequire('ilib/lib/GregorianDate');\nrequire('ilib/lib/HanDate');\nrequire('ilib/lib/HebrewDate');\nrequire('ilib/lib/IslamicDate');\nrequire('ilib/lib/JulianDate');\nrequire('ilib/lib/PersianDate');\nrequire('ilib/lib/PersianAlgoDate');\nrequire('ilib/lib/ThaiSolarDate');\n","/*\n * packedbuffer.js - represent a packed buffer of bytes\n *\n * Copyright  2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * Represents a binary buffer of unsigned bytes that will be parsed in various ways. The buffer\n * can be decoded by reading various lengths of bytes and interpreting them as longs\n * or unsigned bytes, etc. The bytes are interpreted in big-endian (network) format.\n * @constructor\n * @param {string} buffer the binary buffer represented as a string\n */\nconst PackedBuffer = function (buffer) {\n\tthis.buffer = buffer;\n\tthis.index = 0;\n};\n\n/**\n * Return the specified number of signed long integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many longs as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of longs to return\n * @returns {Array.<number>} the array of signed long integers\n */\nPackedBuffer.prototype.getLongs = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index + 3 < this.buffer.length; i++) {\n\t\t\tlet longnum = this.buffer[this.index] << 24 |\n\t\t\t\tthis.buffer[this.index + 1] << 16 |\n\t\t\t\tthis.buffer[this.index + 2] << 8 |\n\t\t\t\tthis.buffer[this.index + 3];\n\t\t\tresult.push(longnum);\n\t\t\tthis.index += 4;\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed long integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a long if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the long at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a long\n */\nPackedBuffer.prototype.getLong = function () {\n\tconst longs = this.getLongs(1);\n\tif (longs && longs.length > 0) {\n\t\treturn longs[0];\n\t}\n};\n\n/**\n * Return the specified number of signed byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number|undefined} num The number of bytes to return\n * @returns {Array.<number>} the array of signed byte integers\n */\nPackedBuffer.prototype.getBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tlet bytenum = this.buffer[this.index++];\n\t\t\tif (bytenum & 0x80) {\n\t\t\t\tbytenum -= 0x100;\n\t\t\t}\n\t\t\tresult.push(bytenum);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a signed byte integer from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return a byte if it is available in the buffer, otherwise\n * it will return undefined.\n *\n * @returns {number} the byte at the current point in the buffer, or undefined if\n * there is not enough bytes left in the buffer to form a byte\n */\nPackedBuffer.prototype.getByte = function () {\n\tconst bytes = this.getBytes(1);\n\tif (bytes && bytes.length > 0) {\n\t\treturn bytes[0];\n\t}\n};\n\n/**\n * Return the specified number of unsigned byte integers from the current location in\n * the buffer as an array of numbers and advance the current pointer in the buffer.\n * This method will only return as many bytes as are available in the rest of the\n * buffer.\n *\n * @param {number} num The number of bytes to return\n * @returns {Array.<number>} the array of unsigned byte integers\n */\nPackedBuffer.prototype.getUnsignedBytes = function (num) {\n\tlet result;\n\tif (this.buffer && this.index < this.buffer.length) {\n\t\tresult = [];\n\t\tfor (let i = 0; i < num && this.index < this.buffer.length; i++) {\n\t\t\tresult.push(this.buffer[this.index++]);\n\t\t}\n\t}\n\treturn result;\n};\n\n/**\n * Return a string made out of the given number of bytes and convert\n * from UTF-8 to UTF-16.\n *\n * @param {number} num The number of bytes to make a string out of\n * @returns {string} a string made out of the given bytes\n */\nPackedBuffer.prototype.getString = function (num) {\n\tconst arr = this.getUnsignedBytes(num);\n\tlet str = '';\n\tfor (let i = 0; i < arr.length; i++) {\n\t\tstr += String.fromCharCode(arr[i]);\n\t}\n\treturn str;\n};\n\n/**\n * Advance the current pointer in the buffer by the specified number of\n * bytes in the string.\n *\n * @param {number} num The number of bytes to skip\n * @returns {void}\n */\nPackedBuffer.prototype.skip = function (num) {\n\tthis.index += num;\n};\n\nmodule.exports = PackedBuffer;\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useRef} from 'react';\n\nconst useEventKey = () => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import Spotlight from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport ri from '@enact/ui/resolution';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useCallback, useEffect} from 'react';\n\nimport {useEventKey} from './useEvent';\nimport {useSpotlightConfig} from './useSpotlight';\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollContainerRef, scrollContentHandle, scrollContentRef} = instances;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, instances);\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey();\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(() => {\n\t\t\t\t\tsetContainerDisabled(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\tuseEffect(() => {\n\t\treturn () => setContainerDisabled(false);\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst {onUpdate} = props;\n\n\t\tif (onUpdate) {\n\t\t\tonUpdate();\n\t\t}\n\t});\n\n\t// Functions\n\n\t/**\n\t * Returns the first spotlight container between `node` and the scroller\n\t *\n\t * @param {Node} node A DOM node\n\t *\n\t * @returns {Node|Null} Spotlight container for `node`\n\t * @private\n\t */\n\tfunction getSpotlightContainerForNode (node) {\n\t\tdo {\n\t\t\tif (node.dataset.spotlightId && node.dataset.spotlightContainer && !node.dataset.expandableContainer) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t} while ((node = node.parentNode) && node !== scrollContentRef.current);\n\t}\n\n\t/**\n\t * Calculates the \"focus bounds\" of a node. If the node is within a spotlight container, that\n\t * container is scrolled into view rather than just the element.\n\t *\n\t * @param {Node} node Focused node\n\t *\n\t * @returns {Object} Bounds as returned by `getBoundingClientRect`\n\t * @private\n\t */\n\tfunction getFocusedItemBounds (node) {\n\t\tnode = getSpotlightContainerForNode(node) || node;\n\t\treturn node.getBoundingClientRect();\n\t}\n\n\t/**\n\t * Calculates the new `scrollTop`.\n\t *\n\t * @param {Node} item Focused item node\n\t *\n\t * @returns {Number} Calculated `scrollTop`\n\t * @private\n\t */\n\tfunction calculateScrollTop (item) {\n\t\tconst threshold = ri.scale(48);\n\t\tconst roundToStart = (sb, st) => {\n\t\t\t// round to start\n\t\t\tif (st < threshold) return 0;\n\n\t\t\treturn st;\n\t\t};\n\t\tconst roundToEnd = (sb, st, sh) => {\n\t\t\t// round to end\n\t\t\tif (sh - (st + sb.height) < threshold) return sh - sb.height;\n\n\t\t\treturn st;\n\t\t};\n\t\t// adding threshold into these determinations ensures that items that are within that are\n\t\t// near the bounds of the scroller cause the edge to be scrolled into view even when the\n\t\t// item itself is in view (e.g. due to margins)\n\t\tconst isItemBeforeView = (ib, sb, d) => ib.top + d - threshold < sb.top;\n\t\tconst isItemAfterView = (ib, sb, d) => ib.top + d + ib.height + threshold > sb.top + sb.height;\n\t\tconst canItemFit = (ib, sb) => ib.height <= sb.height;\n\t\tconst calcItemAtStart = (ib, sb, st, d) => ib.top + st + d - sb.top;\n\t\tconst calcItemAtEnd = (ib, sb, st, d) => ib.top + ib.height + st + d - (sb.top + sb.height);\n\t\tconst calcItemInView = (ib, sb, st, sh, d) => {\n\t\t\tif (isItemBeforeView(ib, sb, d)) {\n\t\t\t\treturn roundToStart(sb, calcItemAtStart(ib, sb, st, d));\n\t\t\t} else if (isItemAfterView(ib, sb, d)) {\n\t\t\t\treturn roundToEnd(sb, calcItemAtEnd(ib, sb, st, d), sh);\n\t\t\t}\n\t\t\treturn st;\n\t\t};\n\n\t\tconst container = getSpotlightContainerForNode(item);\n\t\tconst scrollerBounds = scrollContentRef.current.getBoundingClientRect();\n\t\tlet {scrollHeight, scrollTop} = scrollContentRef.current;\n\t\tlet scrollTopDelta = 0;\n\n\t\tconst adjustScrollTop = (v) => {\n\t\t\tscrollTopDelta = scrollTop - v;\n\t\t\tscrollTop = v;\n\t\t};\n\n\t\tif (container) {\n\t\t\tconst containerBounds = container.getBoundingClientRect();\n\n\t\t\t// if the entire container fits in the scroller, scroll it into view\n\t\t\tif (canItemFit(containerBounds, scrollerBounds)) {\n\t\t\t\treturn calcItemInView(containerBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t\t\t}\n\n\t\t\t// if the container doesn't fit, adjust the scroll top ...\n\t\t\tif (containerBounds.top > scrollerBounds.top) {\n\t\t\t\t// ... to the top of the container if the top is below the top of the scroller\n\t\t\t\tadjustScrollTop(calcItemAtStart(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t}\n\t\t\t// removing support for \"snap to bottom\" for 2.2.8\n\t\t\t// } else if (containerBounds.top + containerBounds.height < scrollerBounds.top + scrollerBounds.height) {\n\t\t\t// \t// ... to the bottom of the container if the bottom is above the bottom of the\n\t\t\t// \t// scroller\n\t\t\t// \tadjustScrollTop(calcItemAtEnd(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t// }\n\n\t\t\t// N.B. if the container covers the scrollable area (its top is above the top of the\n\t\t\t// scroller and its bottom is below the bottom of the scroller), we need not adjust the\n\t\t\t// scroller to ensure the container is wholly in view.\n\t\t}\n\n\t\tconst itemBounds = item.getBoundingClientRect();\n\n\t\treturn calcItemInView(itemBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t}\n\n\t/**\n\t * Calculates the new `scrollLeft`.\n\t *\n\t * @param {Node} focusedItem node\n\t * @param {Number} scrollPosition last target position, passed when scroll animation is ongoing\n\t *\n\t * @returns {Number} Calculated `scrollLeft`\n\t * @private\n\t */\n\tfunction calculateScrollLeft (item, scrollPosition) {\n\t\tconst scrollContentNode = scrollContentRef.current;\n\t\tconst {\n\t\t\tleft: itemLeft,\n\t\t\twidth: itemWidth\n\t\t} = getFocusedItemBounds(item);\n\n\t\tconst\n\t\t\t{rtl} = props,\n\t\t\t{clientWidth} = scrollContentHandle.current.scrollBounds,\n\t\t\trtlDirection = rtl ? -1 : 1,\n\t\t\t{left: containerLeft} = scrollContentNode.getBoundingClientRect(),\n\t\t\tscrollLastPosition = scrollPosition ? scrollPosition : scrollContentHandle.current.scrollPos.left,\n\t\t\tcurrentScrollLeft = rtl ? (scrollContentHandle.current.scrollBounds.maxLeft - scrollLastPosition) : scrollLastPosition,\n\t\t\t// calculation based on client position\n\t\t\tnewItemLeft = scrollContentNode.scrollLeft + (itemLeft - containerLeft);\n\t\tlet nextScrollLeft = scrollContentHandle.current.scrollPos.left;\n\n\t\tif (newItemLeft + itemWidth > (clientWidth + currentScrollLeft) && itemWidth < clientWidth) {\n\t\t\t// If focus is moved to an element outside of view area (to the right), scroller will move\n\t\t\t// to the right just enough to show the current `focusedItem`. This does not apply to\n\t\t\t// `focusedItem` that has a width that is bigger than `scrollBounds.clientWidth`.\n\t\t\tnextScrollLeft += rtlDirection * ((newItemLeft + itemWidth) - (clientWidth + currentScrollLeft));\n\t\t} else if (newItemLeft < currentScrollLeft) {\n\t\t\t// If focus is outside of the view area to the left, move scroller to the left accordingly.\n\t\t\tnextScrollLeft += rtlDirection * (newItemLeft - currentScrollLeft);\n\t\t}\n\n\t\treturn nextScrollLeft;\n\t}\n\n\t/**\n\t * Calculates the new top and left position for scroller based on focusedItem.\n\t *\n\t * @param {Node} item node\n\t * @param {Number} scrollPosition last target position, passed scroll animation is ongoing\n\t *\n\t * @returns {Object} with keys {top, left} containing calculated top and left positions for scroll.\n\t * @private\n\t */\n\tfunction calculatePositionOnFocus ({item, scrollPosition}) {\n\t\tconst containerNode = scrollContentRef.current;\n\t\tconst horizontal = scrollContentHandle.current.isHorizontal();\n\t\tconst vertical = scrollContentHandle.current.isVertical();\n\n\t\tif (!vertical && !horizontal || !item || !utilDOM.containsDangerously(containerNode, item)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst containerRect = getRect(containerNode);\n\t\tconst itemRect = getRect(item);\n\n\t\tif (horizontal && !(itemRect.left >= containerRect.left && itemRect.right <= containerRect.right)) {\n\t\t\tscrollContentHandle.current.scrollPos.left = calculateScrollLeft(item, scrollPosition);\n\t\t}\n\n\t\tif (vertical && !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom)) {\n\t\t\tscrollContentHandle.current.scrollPos.top = calculateScrollTop(item);\n\t\t}\n\n\t\treturn scrollContentHandle.current.scrollPos;\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\tSpotlight.focus(node);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t};\n};\n\nconst useThemeScroller = (props) => {\n\tconst {scrollContainerRef, scrollContentHandle, ...rest} = props;\n\tconst {scrollContentRef} = rest;\n\n\tdelete rest.onUpdate;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.setThemeScrollContentHandle;\n\tdelete rest.spotlightId;\n\n\t// Hooks\n\n\tconst {calculatePositionOnFocus, focusOnNode, setContainerDisabled} = useSpottable(props, {scrollContainerRef, scrollContentHandle, scrollContentRef});\n\n\tprops.setThemeScrollContentHandle({\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t});\n\n\t// Render\n\n\treturn rest;\n};\n\nexport default useThemeScroller;\nexport {\n\tuseThemeScroller\n};\n","import Spotlight from '@enact/spotlight';\nimport {useEffect} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\tconst {scrollContentHandle} = instances;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction handleLeaveContainer ({direction, target}) {\n\t\t\t// ensure we only scroll to boundary from the contents and not a scroll button which\n\t\t\t// lie outside of scrollContentRef but within the spotlight container\n\t\t\tif (props.scrollContainerContainsDangerously(target)) {\n\t\t\t\tconst\n\t\t\t\t\t{scrollBounds: {maxLeft, maxTop}, scrollPos: {left, top}} = scrollContentHandle.current,\n\t\t\t\t\tisVerticalDirection = (direction === 'up' || direction === 'down'),\n\t\t\t\t\tpos = isVerticalDirection ? top : left,\n\t\t\t\t\tmax = isVerticalDirection ? maxTop : maxLeft;\n\n\t\t\t\t// If max is equal to 0, it means scroller can not scroll to the direction.\n\t\t\t\tif (pos >= 0 && pos <= max && max !== 0) {\n\t\t\t\t\tprops.scrollAndFocusScrollbarButton(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props.spotlightId, {\n\t\t\t\tonLeaveContainer: handleLeaveContainer,\n\t\t\t\tonLeaveContainerFail: handleLeaveContainer\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, scrollContentHandle]);\n};\n\nexport {\n\tuseSpotlightConfig\n};\n","/**\n * Provides Agate-themed scroller components and behaviors.\n *\n * @example\n * <Scroller>\n * \t<div style={{height: '300px'}}>\n * \t\t<p>San Francisco</p>\n * \t\t<p>Seoul</p>\n * \t\t<p>Bangalore</p>\n * \t\t<p>New York</p>\n * \t\t<p>London</p>\n * \t</div>\n * </Scroller>\n *\n * @module agate/Scroller\n * @exports Scroller\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport useThemeScroller from './useThemeScroller';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled Scroller, useScroll applied.\n *\n * Usage:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof agate/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nlet Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\tconst themeScrollContentProps = useThemeScroller(scrollContentProps);\n\n\t// Render\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiScrollerBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'Scroller';\n\nScroller.propTypes = /** @lends agate/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the scroller could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `Scroller` is within a [Panel]{@link agate/Panels.Panel}, the\n\t * `Scroller` will store its scroll position and restore that position when returning to the\n\t * `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'none'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {('native'|'translate')}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.oneOf(['native', 'translate']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tScroller\n\t\t)\n\t)\n);\n\nScroller.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpreventBubblingOnKeyDown: 'none',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller\n};\n","import IString from 'ilib/lib/IString';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options) {\n\tconst opts = {\n\t\ttype: 'html',\n\t\tname: 'strings',\n\t\tlengthen: true,\t\t// if pseudo-localizing, this tells it to lengthen strings\n\t\t...options\n\t};\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Retrieves an IString from a resource bundle by key.\n *\n * If the bundle doesn't exist, the key is returned wrapped by IString.\n *\n * @param {String|Object} str Key for localized string\n * @param {ResBundl} rb ilib resource bundle\n * @returns\t{IString} The string value wrapped by an IString\n */\nfunction getIStringFromBundle (str, rb) {\n\tconst isObject = typeof str === 'object';\n\tif (rb) {\n\t\treturn isObject ? rb.getString(str.value, str.key) : rb.getString(str);\n\t}\n\n\treturn new IString(isObject ? str.value : str);\n}\n\nexport {\n\tclearResBundle,\n\tcreateResBundle,\n\tgetIStringFromBundle,\n\tgetResBundle,\n\tsetResBundle\n};\n","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport React from 'react';\n\nconst STATE = {\n\tinactive: 0,\t// Marquee is not necessary (render or focus not happened)\n\tactive: 1,\t\t// Marquee in progress, awaiting complete\n\tready: 2\t\t// Marquee completed or not needed, but state is active\n};\n\nconst MarqueeControllerContext = React.createContext(null);\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeController}.\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeController\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, any `onFocus` events that bubble to the controller will start the contained\n\t * `Marquee` instances. This is useful when a component contains `Marquee` instances that need to be\n\t * started when sibling components are focused.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof ui/Marquee.MarqueeController.defaultConfig\n\t */\n\tmarqueeOnFocus: false\n};\n\n/**\n * A higher-order component that synchronizes contained `Marquee`s.\n *\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeController = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {marqueeOnFocus} = config;\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardFocus = forward('onFocus');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'MarqueeController';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.controlled = [];\n\t\t\tthis.isFocused = false;\n\t\t\tthis.childContext = {\n\t\t\t\tcancel: this.handleCancel,\n\t\t\t\tcomplete: this.handleComplete,\n\t\t\t\tenter: this.handleEnter,\n\t\t\t\tleave: this.handleLeave,\n\t\t\t\tregister: this.handleRegister,\n\t\t\t\tstart: this.handleStart,\n\t\t\t\tunregister: this.handleUnregister\n\t\t\t};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.cancelJob.stop();\n\t\t}\n\n\t\tcancelJob = new Job(() => this.doCancel(), 30);\n\n\t\t/*\n\t\t * Registers `component` with a set of handlers for `start` and `stop`.\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA component, typically a React component instance, on\n\t\t *\t\t\t\t\t\t\t\t\twhich handlers will be dispatched.\n\t\t * @param\t{Object}\thandlers\tAn object containing `start` and `stop` functions\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\thandleRegister = (component, handlers) => {\n\t\t\tconst needsStart = !this.allInactive() || this.isFocused;\n\n\t\t\tthis.controlled.push({\n\t\t\t\t...handlers,\n\t\t\t\tstate: STATE.inactive,\n\t\t\t\tcomponent\n\t\t\t});\n\n\t\t\tif (needsStart) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Unregisters `component` for synchronization\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleUnregister = (component) => {\n\t\t\tlet wasRunning = false;\n\t\t\tfor (let i = 0; i < this.controlled.length; i++) {\n\t\t\t\tif (this.controlled[i].component === component) {\n\t\t\t\t\twasRunning = this.controlled[i].state === STATE.active;\n\t\t\t\t\tthis.controlled.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (wasRunning && !this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `start` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleStart = (component) => {\n\t\t\tthis.cancelJob.stop();\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start', component);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `cancel` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleCancel = () => {\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t};\n\n\t\tdoCancel = () => {\n\t\t\tif (this.isHovered || this.isFocused) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.markAll(STATE.inactive);\n\t\t\tthis.dispatch('stop');\n\t\t};\n\n\t\t/*\n\t\t * Handler for the `complete` context function\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\thandleComplete = (component) => {\n\t\t\tconst complete = this.markReady(component);\n\t\t\tif (complete) {\n\t\t\t\tthis.markAll(STATE.ready);\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = () => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t};\n\n\t\thandleLeave = () => {\n\t\t\tthis.isHovered = false;\n\t\t\tthis.cancelJob.start();\n\t\t};\n\n\t\t/*\n\t\t * Handler for the focus event\n\t\t */\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.anyRunning()) {\n\t\t\t\tthis.dispatch('start');\n\t\t\t}\n\t\t\tthis.cancelJob.stop();\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Handler for the blur event\n\t\t */\n\t\thandleBlur = (ev) => {\n\t\t\tthis.isFocused = false;\n\t\t\tif (this.anyRunning()) {\n\t\t\t\tthis.cancelJob.start();\n\t\t\t}\n\t\t\tforwardBlur(ev, this.props);\n\t\t};\n\n\t\t/*\n\t\t * Invokes the `action` handler for each synchronized component except the invoking\n\t\t * `component`.\n\t\t *\n\t\t * @param\t{String}\taction\t\t`'start'` or `'stop'`\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tdispatch (action, component) {\n\t\t\tthis.controlled.forEach((controlled) => {\n\t\t\t\tconst {component: controlledComponent, [action]: handler} = controlled;\n\t\t\t\tif (component !== controlledComponent && typeof handler === 'function') {\n\t\t\t\t\tconst complete = handler.call(controlledComponent);\n\n\t\t\t\t\t// Returning `true` from a start request means that the marqueeing is\n\t\t\t\t\t// unnecessary and is therefore not awaiting a finish\n\t\t\t\t\tif (action === 'start' && complete) {\n\t\t\t\t\t\tcontrolled.state = STATE.ready;\n\t\t\t\t\t} else if (action === 'start') {\n\t\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t\t}\n\t\t\t\t} else if ((action === 'start') && (component === controlledComponent)) {\n\t\t\t\t\tcontrolled.state = STATE.active;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks all components with the passed-in state\n\t\t *\n\t\t * @param\t{Enum}\tstate\tThe state to set\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tmarkAll (state) {\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tc.state = state;\n\t\t\t});\n\t\t}\n\n\t\t/*\n\t\t * Marks `component` as ready for next marquee action\n\t\t *\n\t\t * @param\t{Object}\tcomponent\tA previously registered component\n\t\t *\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if no components are STATE.active\n\t\t */\n\t\tmarkReady (component) {\n\t\t\tlet complete = true;\n\t\t\tthis.controlled.forEach(c => {\n\t\t\t\tif (c.component === component) {\n\t\t\t\t\tc.state = STATE.ready;\n\t\t\t\t}\n\n\t\t\t\tcomplete = complete && (c.state !== STATE.active);\n\t\t\t});\n\n\t\t\treturn complete;\n\t\t}\n\n\t\t/*\n\t\t * Checks that all components are inactive\n\t\t *\n\t\t * @returns {Boolean} `true` if any components should be running\n\t\t */\n\t\tallInactive () {\n\t\t\tconst activeOrReady = this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || !(component.state === STATE.inactive);\n\t\t\t}, false);\n\t\t\treturn !activeOrReady;\n\t\t}\n\n\t\t/*\n\t\t * Checks for any components currently marqueeing\n\t\t *\n\t\t * @returns {Boolean} `true` if any component is marqueeing\n\t\t */\n\t\tanyRunning () {\n\t\t\treturn this.controlled.reduce((res, component) => {\n\t\t\t\treturn res || (component.state === STATE.active);\n\t\t\t}, false);\n\t\t}\n\n\t\trender () {\n\t\t\tlet props = this.props;\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\tprops = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<MarqueeControllerContext.Provider value={this.childContext}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</MarqueeControllerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n\n});\n\nexport default MarqueeController;\nexport {\n\tMarqueeController,\n\tMarqueeControllerContext\n};\n","import direction from 'direction';\nimport {on, off} from '@enact/core/dispatcher';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport shallowEqual from 'recompose/shallowEqual';\n\nimport {scale} from '../resolution';\nimport {ResizeContext} from '../Resizable';\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeControllerContext} from './MarqueeController';\n\n/**\n * Default configuration parameters for {@link ui/Marquee.MarqueeDecorator}\n *\n * @type {Object}\n * @memberof ui/Marquee.MarqueeDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onBlur'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tblur: 'onBlur',\n\n\t/**\n\t * Optional CSS class name to customize the marquee `component`\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * The base marquee component wrapping the content.\n\t *\n\t * @type {Component}\n\t * @default ui/Marquee.Marquee\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tcomponent: MarqueeBase,\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseEnter'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tenter: 'onMouseEnter',\n\n\t/**\n\t * Property containing the callback to start the animation when `marqueeOn` is `'focus'`\n\t *\n\t * @type {String}\n\t * @default 'onFocus'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tfocus: 'onFocus',\n\n\t/**\n\t* Invalidate the distance if any property (like 'inline') changes.\n\t* Expects an array of props which on change trigger invalidateMetrics.\n\t*\n\t* @type {String[]}\n\t* @default ['remeasure']\n\t* @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t*/\n\tinvalidateProps: ['remeasure'],\n\n\t/**\n\t * Property containing the callback to stop the animation when `marqueeOn` is `'hover'`\n\t *\n\t * @type {String}\n\t * @default 'onMouseLeave'\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tleave: 'onMouseLeave',\n\n\t/**\n\t * A function that determines the text directionality of a string.\n\t *\n\t * Returns:\n\t * * `'rtl'` if the text should marquee to the right\n\t * * `'ltr'` if the text should marquee to the left\n\t *\n\t * @type {Function}\n\t * @kind member\n\t * @memberof ui/Marquee.MarqueeDecorator.defaultConfig\n\t */\n\tmarqueeDirection: (str) => direction(str) === 'rtl' ? 'rtl' : 'ltr'\n};\n\n/*\n * Checks whether any of the invalidateProps has changed or not\n *\n * @param {String[]} propList An array of invalidateProps\n * @param {Object} prev Previous props\n * @param {Object} next Next props\n * @returns {Boolean} `true` if any of the props changed\n * @private\n */\nconst didPropChange = (propList, prev, next) => {\n\tconst hasPropsChanged = propList.map(i => prev[i] !== next[i]);\n\treturn hasPropsChanged.indexOf(true) !== -1;\n};\n\n/*\n * There's only one timer shared for Marquee so we need to keep track of what we may be using it\n * for. We may need to clean up certain things as we move among states.\n */\nconst TimerState = {\n\tCLEAR: 0,\t\t\t\t// No timers pending\n\tSTART_PENDING: 1,\t\t// A start request is pending\n\tRESET_PENDING: 2,\t\t// Marquee finished, waiting for reset delay\n\tSYNCSTART_PENDING: 3\t// Waiting to alert Controller that we want to start marqueeing\n};\n\n/**\n * A higher-order component that provides marquee functionalities.\n *\n * Note: This HoC passes additional properties to the wrapped component and wraps the `children`\n * prop with an additional component necessary for rendering the marquee.\n *\n * @class MarqueeDecorator\n * @memberof ui/Marquee\n * @hoc\n * @public\n */\nconst MarqueeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {blur, className: configClassName, component: MarqueeComponent, enter, focus, invalidateProps, leave, marqueeDirection} = config;\n\n\t// Generate functions to forward events to containers\n\tconst forwardBlur = forward(blur);\n\tconst forwardFocus = forward(focus);\n\tconst forwardEnter = forward(enter);\n\tconst forwardLeave = forward(leave);\n\n\tconst determineTextDirection = (node, rtl, forceDirection) => {\n\t\t// Text directionality is a function of locale direction (rtl), content (node.textContent),\n\t\t// and props (forceDirection) in increasing order of significance.\n\t\tif (forceDirection) {\n\t\t\trtl = forceDirection === 'rtl';\n\t\t} else if (node) {\n\t\t\trtl = marqueeDirection(node.textContent) === 'rtl';\n\t\t}\n\n\t\treturn rtl;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ui:MarqueeDecorator';\n\n\t\tstatic propTypes = /** @lends ui/Marquee.MarqueeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Text alignment value of the marquee. Valid values are `'left'`, `'right'` and `'center'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t\t/**\n\t\t\t * Children to be marqueed\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Passed through to the wrapped component.\n\t\t\t *\n\t\t\t * Does not affect Marquee behavior except that components that are `marqueeOn=\"focus\"`\n\t\t\t * will be treated as if they were `marqueeOn=\"hover\"`, to allow disabled (and thus,\n\t\t\t * unfocusable) components to marquee.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Forces the `direction` of the marquee.\n\t\t\t *\n\t\t\t * Valid values are `'rtl'` and `'ltr'`. This includes non-text elements as well.\n\t\t\t * The default behavior, if this prop is unset, is to evaluate the text content for\n\t\t\t * directionality using {@link i18n/util.isRtlText}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tforceDirection: PropTypes.oneOf(['rtl', 'ltr']),\n\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee when `marqueeOn` is `'hover'` or\n\t\t\t * `'focus'` or before restarting any marquee.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disables all marquee behavior and removes supporting markup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t */\n\t\t\tmarqueeDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Determines what triggers the marquee to start its animation.\n\t\t\t *\n\t\t\t * @type {('focus'|'hover'|'render')}\n\t\t\t * @default 'focus'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOn: PropTypes.oneOf(['focus', 'hover', 'render']),\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before starting marquee the first time.\n\t\t\t *\n\t\t\t * Has no effect if `marqueeOn` is not `'render'`\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeOnRenderDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Number of milliseconds to wait before resetting the marquee position after it\n\t\t\t * finishes.\n\t\t\t *\n\t\t\t * A minimum of 40 milliseconds is enforced.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 1000\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeResetDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Amount of spacing between the instances of the content when animating.\n\t\t\t *\n\t\t\t * May either be a number indicating the number of pixels or a string indicating the\n\t\t\t * percentage relative to the width of the component.\n\t\t\t *\n\t\t\t * *Note:* When using a number, the value should be based on 1920x1080 display and\n\t\t\t * will be scaled automatically for the current resolution using {@link ui/resolution}.\n\t\t\t *\n\t\t\t * @type {String | Number}\n\t\t\t * @default '50%'\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpacing: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t\t/**\n\t\t\t * Rate of marquee measured in pixels/second.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 60\n\t\t\t * @public\n\t\t\t */\n\t\t\tmarqueeSpeed: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Used to signal for a remeasurement inside of marquee.\n\t\t\t *\n\t\t\t * The value must change for the remeasurement to take place. The value\n\t\t\t * type is `any` because it does not matter. It is only used to check for changes.\n\t\t\t *\n\t\t\t * @private\n\t\t\t */\n\t\t\tremeasure: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Indicates the text directionality of the current locale is right-to-left\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\trtl: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmarqueeDelay: 1000,\n\t\t\tmarqueeOn: 'focus',\n\t\t\tmarqueeOnRenderDelay: 1000,\n\t\t\tmarqueeResetDelay: 1000,\n\t\t\tmarqueeSpacing: '50%',\n\t\t\tmarqueeSpeed: 60\n\t\t};\n\n\t\tstatic contextType = MarqueeControllerContext;\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tanimating: false,\n\t\t\t\toverflow: 'ellipsis',\n\t\t\t\tpromoted: false,\n\t\t\t\trtl: determineTextDirection(null, props.rtl, props.forceDirection)\n\t\t\t};\n\t\t\tthis.sync = false;\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\tthis.distance = null;\n\t\t\tthis.contentFits = false;\n\t\t\tthis.resizeRegistry = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && this.context.register) {\n\t\t\t\tthis.sync = true;\n\t\t\t\tthis.context.register(this, {\n\t\t\t\t\tstart: this.start,\n\t\t\t\t\tstop: this.stop\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (this.props.marqueeOn === 'render') {\n\t\t\t\tthis.startAnimation(this.props.marqueeOnRenderDelay);\n\t\t\t}\n\t\t\ton('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tshouldComponentUpdate (nextProps, nextState) {\n\t\t\treturn (\n\t\t\t\t!shallowEqual(this.state, nextState) ||\n\t\t\t\t!shallowEqual(this.props, nextProps)\n\t\t\t);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {children, disabled, forceDirection, locale, marqueeOn, marqueeDisabled, marqueeSpacing, marqueeSpeed, rtl} = this.props;\n\n\t\t\tlet forceRestartMarquee = false;\n\n\t\t\tif (\n\t\t\t\tprevProps.locale !== locale ||\n\t\t\t\tprevProps.rtl !== rtl ||\n\t\t\t\tprevProps.marqueeSpacing !== marqueeSpacing ||\n\t\t\t\t!shallowEqual(prevProps.children, children) ||\n\t\t\t\t(invalidateProps && didPropChange(invalidateProps, prevProps, this.props))\n\t\t\t) {\n\t\t\t\t// restart marqueeOn=\"render\" marquees or synced marquees that were animating\n\t\t\t\tforceRestartMarquee = marqueeOn === 'render' || (\n\t\t\t\t\tthis.sync && (this.state.animating || this.timerState > TimerState.CLEAR)\n\t\t\t\t);\n\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (\n\t\t\t\tprevProps.marqueeOn !== marqueeOn ||\n\t\t\t\tprevProps.marqueeDisabled !== marqueeDisabled ||\n\t\t\t\tprevProps.marqueeSpeed !== marqueeSpeed ||\n\t\t\t\tprevProps.forceDirection !== forceDirection\n\t\t\t) {\n\t\t\t\tthis.cancelAnimation();\n\t\t\t} else if (disabled && this.isHovered && marqueeOn === 'focus' && this.sync) {\n\t\t\t\tthis.context.enter(this);\n\t\t\t}\n\n\t\t\tthis.validateTextDirection();\n\t\t\tif (forceRestartMarquee || this.shouldStartMarquee()) {\n\t\t\t\tthis.tryStartingAnimation(this.props.marqueeOn === 'render' ? this.props.marqueeOnRenderDelay : this.props.marqueeDelay);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTimeout();\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.demoteJob.stop();\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.unregister(this);\n\t\t\t}\n\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister(this.handleResize);\n\t\t\t}\n\n\t\t\toff('keydown', this.handlePointerHide);\n\t\t}\n\n\t\tpromoteJob = new Job(() => {\n\t\t\tif (!this.contentFits) {\n\t\t\t\tthis.setState(state => state.promoted ? null : {promoted: true});\n\t\t\t}\n\t\t});\n\n\t\tdemoteJob = new Job(() => {\n\t\t\tthis.setState(state => (!state.animating && state.promoted) ? {promoted: false} : null);\n\t\t});\n\n\t\tdemote () {\n\t\t\tthis.promoteJob.stop();\n\t\t\tif (this.state.promoted) {\n\t\t\t\tthis.demoteJob.idle();\n\t\t\t}\n\t\t}\n\n\t\tpromote (delay = this.props.marqueeDelay) {\n\t\t\tthis.demoteJob.stop();\n\t\t\tthis.promoteJob.startAfter(Math.max(0, delay - 200));\n\t\t}\n\n\t\t/*\n\t\t * Clears the timer\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tclearTimeout () {\n\t\t\tif (window && this.timer) {\n\t\t\t\twindow.clearTimeout(this.timer);\n\t\t\t\tthis.timer = null;\n\t\t\t}\n\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t}\n\n\t\t/*\n\t\t * Starts a new timer\n\t\t *\n\t\t * @param {Function} fn   Callback\n\t\t * @param {Number}   time Delay in milliseconds\n\t\t * @returns {undefined}\n\t\t */\n\t\tsetTimeout (fn, time = 0, state = TimerState.CLEAR) {\n\t\t\tthis.clearTimeout();\n\t\t\tif (window) {\n\t\t\t\tthis.timerState = state;\n\t\t\t\tthis.timer = window.setTimeout(() => {\n\t\t\t\t\tthis.timerState = TimerState.CLEAR;\n\t\t\t\t\tfn();\n\t\t\t\t}, time);\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Checks to see if the children changed during a condition that should cause us to re-check\n\t\t * the animation state\n\t\t *\n\t\t * @returns {Boolean} - `true` if a possible marquee condition exists\n\t\t */\n\t\tshouldStartMarquee () {\n\t\t\tconst {disabled, marqueeDisabled, marqueeOn} = this.props;\n\t\t\treturn !marqueeDisabled && (\n\t\t\t\tmarqueeOn === 'render' ||\n\t\t\t\t!this.sync && (\n\t\t\t\t\t(this.isFocused && marqueeOn === 'focus' && !disabled) ||\n\t\t\t\t\t(this.isHovered && (marqueeOn === 'hover' || marqueeOn === 'focus' && disabled))\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\n\t\t/*\n\t\t * Invalidates marquee metrics requiring them to be recalculated\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tinvalidateMetrics () {\n\t\t\tthis.spacing = 0;\n\t\t\t// Null distance is the special value to allow recalculation\n\t\t\tthis.distance = null;\n\t\t\t// Assume the marquee does not fit until calculations show otherwise\n\t\t\tthis.contentFits = false;\n\n\t\t\tthis.setState(state => {\n\t\t\t\tif (state.overflow === 'ellipsis' && state.promoted === false) return null;\n\n\t\t\t\treturn {\n\t\t\t\t\toverflow: 'ellipsis',\n\t\t\t\t\tpromoted: false\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\n\t\tmoveChildren (from, to) {\n\t\t\twhile (from.childNodes.length) {\n\t\t\t\tto.appendChild(from.childNodes.item(0));\n\t\t\t}\n\t\t}\n\n\t\tmeasureWidths () {\n\t\t\t// move all the children into the wrapper node ...\n\t\t\tconst wrapper = document.createElement('span');\n\t\t\tthis.moveChildren(this.node, wrapper);\n\t\t\tthis.node.appendChild(wrapper);\n\n\t\t\t// measure it to find the precise floating point width of the content ...\n\t\t\tconst {width: scrollWidth} = wrapper.getBoundingClientRect();\n\t\t\tconst {width} = this.node.getBoundingClientRect();\n\n\t\t\t// and move all the children back and remove the wrapper\n\t\t\tthis.node.removeChild(wrapper);\n\t\t\tthis.moveChildren(wrapper, this.node);\n\n\t\t\treturn {scrollWidth, width};\n\t\t}\n\n\t\t/*\n\t\t* Determines if the component should marquee and the distance to animate\n\t\t*\n\t\t* @returns {undefined}\n\t\t*/\n\t\tcalculateMetrics () {\n\t\t\tconst node = this.node;\n\n\t\t\t// TODO: absolute showing check (or assume that it won't be rendered if it isn't showing?)\n\t\t\tif (node && this.distance == null && !this.props.marqueeDisabled) {\n\t\t\t\tconst {width, scrollWidth} = this.measureWidths();\n\n\t\t\t\tthis.spacing = this.getSpacing(width);\n\t\t\t\tthis.distance = this.calculateDistance(width, scrollWidth, this.spacing);\n\t\t\t\tthis.contentFits = !this.shouldAnimate(this.distance);\n\n\t\t\t\tconst overflow = this.calculateTextOverflow(this.distance);\n\t\t\t\tthis.setState(state => {\n\t\t\t\t\treturn state.overflow === overflow ? null : {overflow};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Calculates the distance the marquee must travel to reveal all of the content\n\t\t *\n\t\t * @param\t{Number}  width        Width of the node\n\t\t * @param\t{Number}  scrollWidth  Width of the node if it were unbounded\n\t\t * @param\t{Number}  spacing      Horizontal spacing\n\t\t * @returns\t{Number}               Distance to travel in pixels\n\t\t */\n\t\tcalculateDistance (width, scrollWidth, spacing) {\n\t\t\tconst overflow = scrollWidth - width;\n\n\t\t\tif (this.shouldAnimate(overflow)) {\n\t\t\t\treturn scrollWidth + spacing;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\t/*\n\t\t * A custom overflow-determining method to reflect real-world truncation/ellipsis\n\t\t * calculation. This catches an edge case that the browser typically does not, where the\n\t\t * size of the text area is the same size as the container (zero distance difference), but\n\t\t * the browser still inserts an ellipsis due to a non-visible part of the last glyph's\n\t\t * render box overflowing the parent container size.\n\t\t * This scenario should not induce a marquee animation or ellipsis, so we directly set\n\t\t * Marquee to not use an ellipsis, and instead just clip the non-visible part of the glyph.\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{String}\t\t\t\ttext-overflow value\n\t\t */\n\t\tcalculateTextOverflow (distance) {\n\t\t\treturn distance === 0 ? 'clip' : 'ellipsis';\n\t\t}\n\n\t\tgetSpacing (width) {\n\t\t\tconst {marqueeSpacing} = this.props;\n\n\t\t\tif (typeof marqueeSpacing === 'string') {\n\t\t\t\tif (/^\\d+(\\.\\d+)?%$/.test(marqueeSpacing)) {\n\t\t\t\t\treturn width * Number.parseFloat(marqueeSpacing) / 100;\n\t\t\t\t}\n\n\t\t\t\t// warning for invalid string value;\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\treturn scale(marqueeSpacing);\n\t\t}\n\n\t\t/*\n\t\t * Calculates if the marquee should animate\n\t\t *\n\t\t * @param\t{Number}\tdistance\tAmount of overflow in pixels\n\t\t * @returns\t{Boolean}\t\t\t\t`true` if it should animated\n\t\t */\n\t\tshouldAnimate (distance) {\n\t\t\treturn distance > 0;\n\t\t}\n\n\t\t/*\n\t\t * Starts the animation without synchronizing\n\t\t *\n\t\t * @param\t{Number}\t[delay]\tMilliseconds to wait before animating\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstart = (delay = this.props.marqueeDelay) => {\n\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t// if marquee isn't necessary, do not set `animating` but return `true` to mark it\n\t\t\t\t// complete if it's synchronized so it doesn't block other instances.\n\t\t\t\treturn true;\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\t// Don't need to worry about this.timerState because if we're sync, we were just\n\t\t\t\t// told to start, so our state is correct already. If we're not sync, this will\n\t\t\t\t// restart us anyhow. If we were waiting to tell sync to start us, someone else in\n\t\t\t\t// our group already did it.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.calculateMetrics();\n\t\t\t\t\tif (!this.contentFits) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tpromoted: true,\n\t\t\t\t\t\t\tanimating: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (this.sync) {\n\t\t\t\t\t\tthis.context.complete(this);\n\t\t\t\t\t}\n\t\t\t\t}, delay, TimerState.START_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Stops the animation\n\t\t *\n\t\t * @returns\t{undefined}\n\t\t */\n\t\tstop = () => {\n\t\t\tthis.clearTimeout();\n\n\t\t\tif (this.state.animating) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tanimating: false\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.demote();\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization, if not already animating and a timer is\n\t\t * not already active to start.\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\ttryStartingAnimation = (delay) => {\n\t\t\tif (this.state.animating || this.timerState !== TimerState.CLEAR) return;\n\n\t\t\tthis.startAnimation(delay);\n\t\t};\n\n\t\t/*\n\t\t * Starts marquee animation with synchronization\n\t\t *\n\t\t * @param {Number} [delay] Milliseconds to wait before animating\n\t\t * @returns {undefined}\n\t\t */\n\t\tstartAnimation = (delay) => {\n\t\t\tthis.promote(delay);\n\t\t\tif (this.sync) {\n\t\t\t\t// If we're running a timer for anything, we should let that finish, unless it's\n\t\t\t\t// another syncstart request.  We should probably check to see if the start request\n\t\t\t\t// is further in the future than we are so we can choose the nearer one. But, we're\n\t\t\t\t// assuming the condition is we're waiting on render delay and someone just hovered\n\t\t\t\t// us, so we can start with the (hopefully) faster hover delay.\n\t\t\t\tif (this.timerState !== TimerState.CLEAR &&\n\t\t\t\t\t\tthis.timerState !== TimerState.SYNCSTART_PENDING) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.context.start();\n\t\t\t\t}, delay, TimerState.SYNCSTART_PENDING);\n\t\t\t} else {\n\t\t\t\tthis.start(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets the marquee and restarts it after `marqueeDelay` milliseconds.\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\trestartAnimation = (delay) => {\n\t\t\tthis.setState({\n\t\t\t\tanimating: false\n\t\t\t});\n\t\t\t// synchronized Marquees defer to the controller to restart them\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.complete(this);\n\t\t\t} else if (!this.state.animating) {\n\t\t\t\tthis.startAnimation(delay);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Resets and restarts the marquee after `marqueeResetDelay` milliseconds\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tresetAnimation = () => {\n\t\t\tconst delay = Math.max(40, this.props.marqueeResetDelay + this.props.marqueeDelay);\n\t\t\t// If we're already timing a start action, don't reset.  Start actions will clear us if\n\t\t\t// sync.\n\t\t\tif (this.timerState === TimerState.CLEAR) {\n\t\t\t\t// If invoked immediately, the setState call in restartAnimation is batched and will\n\t\t\t\t// break any non-marquee-on-render instances because the subsequent startAnimation\n\t\t\t\t// isn't invoked. By setting a brief timeout, we decouple from the `onTransitionEnd`\n\t\t\t\t// event and setState is synchronous allowing the startAnimation to be called\n\t\t\t\t// immediately.\n\t\t\t\t//\n\t\t\t\t// This would be better moved into componentDidUpdate with more expansive state\n\t\t\t\t// values to indicate we need to reset an animation vs starting fresh.\n\t\t\t\tthis.setTimeout(() => {\n\t\t\t\t\tthis.restartAnimation(delay);\n\t\t\t\t}, 0, TimerState.RESET_PENDING);\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Cancels the marquee\n\t\t *\n\t\t * @returns {undefined}\n\t\t */\n\t\tcancelAnimation = () => {\n\t\t\tif (this.sync) {\n\t\t\t\tthis.context.cancel(this);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.stop();\n\t\t};\n\n\t\thandleResize = () => {\n\t\t\tif (this.node && !this.props.marqueeDisabled) {\n\t\t\t\tthis.invalidateMetrics();\n\t\t\t\tif (this.state.animating) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t\tthis.resetAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleMarqueeComplete = () => {\n\t\t\tthis.resetAnimation();\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tthis.isFocused = true;\n\t\t\tif (!this.sync) {\n\t\t\t\tif (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardFocus(ev, this.props);\n\t\t};\n\n\t\thandleBlur = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tforwardBlur(ev, this.props);\n\t\t\tif (this.isFocused) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (!this.sync && !(this.isHovered && this.props.marqueeOn === 'hover')) {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tthis.isHovered = true;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.enter(this);\n\t\t\t\t} else if (!this.state.animating) {\n\t\t\t\t\tthis.startAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t\tforwardEnter(ev, this.props);\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tthis.promoteJob.stop();\n\t\t\tthis.handleUnhover();\n\t\t\tforwardLeave(ev, this.props);\n\t\t};\n\n\t\thandlePointerHide = ({keyCode}) => {\n\t\t\tif (is('pointerHide', keyCode)) {\n\t\t\t\tthis.handleUnhover();\n\t\t\t}\n\t\t};\n\n\t\thandleUnhover () {\n\t\t\tthis.isHovered = false;\n\t\t\tif (this.props.marqueeOn === 'hover') {\n\t\t\t\tif (this.sync) {\n\t\t\t\t\tthis.context.leave(this);\n\t\t\t\t} else {\n\t\t\t\t\tthis.cancelAnimation();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcacheNode = (node) => {\n\t\t\tthis.node = node;\n\t\t};\n\n\t\tvalidateTextDirection () {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst rtl = determineTextDirection(this.node, props.rtl, props.forceDirection);\n\t\t\t\treturn state.rtl === rtl ? null : {rtl};\n\t\t\t});\n\t\t}\n\n\t\trenderMarquee () {\n\t\t\tconst {\n\t\t\t\talignment,\n\t\t\t\tchildren,\n\t\t\t\tdisabled,\n\t\t\t\tmarqueeOn,\n\t\t\t\tmarqueeSpeed,\n\t\t\t\t...rest\n\t\t\t} = this.props;\n\n\t\t\tconst marqueeOnFocus = marqueeOn === 'focus';\n\t\t\tconst marqueeOnHover = marqueeOn === 'hover';\n\t\t\tconst marqueeOnRender = marqueeOn === 'render';\n\n\t\t\tif (marqueeOnFocus) {\n\t\t\t\trest[focus] = this.handleFocus;\n\t\t\t}\n\n\t\t\t// TODO: cancel others on hover\n\t\t\tif (marqueeOnHover || marqueeOnFocus) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t\trest[leave] = this.handleLeave;\n\t\t\t}\n\n\t\t\tif (marqueeOnRender) {\n\t\t\t\trest[enter] = this.handleEnter;\n\t\t\t}\n\n\t\t\tdelete rest.forceDirection;\n\t\t\tdelete rest.locale;\n\t\t\tdelete rest.marqueeCentered;\n\t\t\tdelete rest.marqueeDelay;\n\t\t\tdelete rest.marqueeDisabled;\n\t\t\tdelete rest.marqueeOnRenderDelay;\n\t\t\tdelete rest.marqueeSpacing;\n\t\t\tdelete rest.marqueeResetDelay;\n\t\t\tdelete rest.marqueeSpeed;\n\t\t\tdelete rest.remeasure;\n\t\t\tdelete rest.rtl;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...rest} onBlur={this.handleBlur} disabled={disabled}>\n\t\t\t\t\t<MarqueeComponent\n\t\t\t\t\t\talignment={alignment}\n\t\t\t\t\t\tanimating={this.state.animating}\n\t\t\t\t\t\tclassName={configClassName}\n\t\t\t\t\t\tclientRef={this.cacheNode}\n\t\t\t\t\t\tdistance={this.distance}\n\t\t\t\t\t\tonMarqueeComplete={this.handleMarqueeComplete}\n\t\t\t\t\t\toverflow={this.state.overflow}\n\t\t\t\t\t\tspacing={this.spacing}\n\t\t\t\t\t\trtl={this.state.rtl}\n\t\t\t\t\t\tspeed={marqueeSpeed}\n\t\t\t\t\t\twillAnimate={this.state.promoted}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</MarqueeComponent>\n\t\t\t\t</Wrapped>\n\t\t\t);\n\t\t}\n\n\t\trenderWrapped () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tdelete props.alignment;\n\t\t\tdelete props.forceDirection;\n\t\t\tdelete props.locale;\n\t\t\tdelete props.marqueeCentered;\n\t\t\tdelete props.marqueeDelay;\n\t\t\tdelete props.marqueeDisabled;\n\t\t\tdelete props.marqueeOn;\n\t\t\tdelete props.marqueeOnRenderDelay;\n\t\t\tdelete props.marqueeSpacing;\n\t\t\tdelete props.marqueeResetDelay;\n\t\t\tdelete props.marqueeSpeed;\n\t\t\tdelete props.remeasure;\n\t\t\tdelete props.rtl;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<ResizeContext.Consumer>\n\t\t\t\t\t{(register) => {\n\t\t\t\t\t\tif (!this.resizeRegistry && register) {\n\t\t\t\t\t\t\tthis.resizeRegistry = register(this.handleResize);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.props.marqueeDisabled) {\n\t\t\t\t\t\t\treturn this.renderWrapped();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn this.renderMarquee();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t</ResizeContext.Consumer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default MarqueeDecorator;\nexport {\n\tMarqueeDecorator\n};\n","/**\n * A component that will marquee its overflowing contents.\n *\n * @module ui/Marquee\n * @exports Marquee\n * @exports MarqueeBase\n * @exports MarqueeController\n * @exports MarqueeDecorator\n */\n\n// Marquee is unique in the framework in that its base component, Marquee, is used by its behavioral\n// HOC, MarqueeDecorator. In other cases, the behavioral HOC would receive the base component as\n// Wrapped but in this case is designed to receive a third-party component instead.\n//\n// This file avoids circular dependencies between Marquee.js (which would normally import its\n// decorator) and MarqueeDecorator (which needs to import Marquee.js).\n\nimport MarqueeBase from './MarqueeBase';\nimport {MarqueeController} from './MarqueeController';\nimport MarqueeDecorator from './MarqueeDecorator';\n\n/**\n * A minimally-styled marquee component.\n *\n * @class Marquee\n * @extends ui/Marquee.MarqueeBase\n * @memberof ui/Marquee\n * @mixes ui/Marquee.MarqueeDecorator\n * @ui\n * @public\n */\nconst Marquee = MarqueeDecorator({component: MarqueeBase}, 'div');\n\nexport default Marquee;\nexport {\n\tMarquee,\n\tMarqueeBase,\n\tMarqueeController,\n\tMarqueeDecorator\n};\n","/**\n * Unstyled image item components and behaviors to be customized by a theme or application.\n *\n * @module ui/ImageItem\n * @exports ImageItem\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Image from '../Image';\nimport {Cell, Column, Row} from '../Layout';\n\nimport componentCss from './ImageItem.module.less';\n\n// Adapts ComponentOverride to work within Cell since both use the component prop\nfunction ImageOverride ({imageComponent, ...rest}) {\n\treturn ComponentOverride({\n\t\tcomponent: imageComponent,\n\t\t...rest\n\t});\n}\n\n/**\n * A basic image item without any behavior.\n *\n * @class ImageItem\n * @memberof ui/ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ui:ImageItem',\n\n\tpropTypes: /** @lends ui/ImageItem.ImageItem.prototype */ {\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"\n\t\t * * `image` - The image component class\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The component used to render the image component.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\timageComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a selected visual effect to the image.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\timageComponent: Image,\n\t\torientation: 'vertical',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, selected, styler}) => styler.append({\n\t\t\tselected,\n\t\t\thorizontal: orientation === 'horizontal',\n\t\t\tvertical: orientation === 'vertical'\n\t\t})\n\t},\n\n\trender: ({children, css, imageComponent, orientation, placeholder, src, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\tconst isHorizontal = orientation === 'horizontal';\n\t\tconst Component = isHorizontal ? Row : Column;\n\n\t\treturn (\n\t\t\t<Component {...rest}>\n\t\t\t\t<Cell\n\t\t\t\t\tclassName={css.image}\n\t\t\t\t\tcomponent={ImageOverride}\n\t\t\t\t\timageComponent={imageComponent}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tshrink={isHorizontal}\n\t\t\t\t\tsrc={src}\n\t\t\t\t/>\n\t\t\t\t{children ? (\n\t\t\t\t\t<Cell\n\t\t\t\t\t\tclassName={css.caption}\n\t\t\t\t\t\tshrink={!isHorizontal}\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\talign={isHorizontal ? 'center' : undefined}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\nexport default ImageItemBase;\nexport {\n\tImageItemBase as ImageItem,\n\tImageItemBase\n};\n","/**\n * Agate styled ImageItem.\n *\n * @module agate/ImageItem\n * @exports ImageItem\n * @exports ImageItemBase\n * @exports ImageItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {ImageItem as UiImageItem} from '@enact/ui/ImageItem';\nimport {MarqueeDecorator, MarqueeController} from '@enact/ui/Marquee';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ImageBase from '../Image';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ImageItem.module.less';\n\nconst MarqueeImageItem = MarqueeDecorator(UiImageItem);\n\n/**\n * An Agate styled ImageItem.\n *\n * @class ImageItemBase\n * @memberof agate/ImageItem\n * @extends ui/ImageItem.ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ImageItem',\n\n\tpropTypes: /** @lends agate/ImageItem.ImageItemBase.prototype */ {\n\t\t/**\n\t\t * Sets the position for caption.\n\t\t * Available positions: 'below' (default) and 'overlay'.\n\t\t *\n\t\t * @type {('below'|'overlay')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tcaptionPosition: PropTypes.oneOf(['below', 'overlay']),\n\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"`\n\t\t * * `image` - The image component class\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tcaptionPosition: 'below'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({captionPosition, styler}) => styler.append({\n\t\t\tcaptionOverlay: captionPosition === 'overlay'\n\t\t})\n\t},\n\n\trender: ({captionPosition, children, css,  src, ...rest}) => {\n\t\tconst [Component, marqueeProps] = (children && (captionPosition === 'below')) ? [MarqueeImageItem, {\n\t\t\talignment: 'center'\n\t\t}] : [UiImageItem, null];\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{...rest}\n\t\t\t\t{...marqueeProps}\n\t\t\t\tcss={css}\n\t\t\t\timageComponent={ImageBase}\n\t\t\t\tsrc={src}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [ImageItemBase]{@link agate/ImageItem.ImageItemBase}\n *\n * @hoc\n * @memberof agate/ImageItem\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @public\n */\nconst ImageItemDecorator = compose(\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable,\n\tSpottable\n);\n\n/**\n * An Agate styled ImageItem with built-in support for marqueed text, and Spotlight focus.\n *\n * @class ImageItem\n * @memberof agate/ImageItem\n * @extends agate/ImageItem.ImageItemBase\n * @mixes agate/ImageItem.ImageItemDecorator\n * @public\n */\nconst ImageItem = ImageItemDecorator(ImageItemBase);\n\nexport default ImageItem;\nexport {\n\tImageItem,\n\tImageItemBase,\n\tImageItemDecorator\n};\n","/**\n * Agate styled Dropdown.\n *\n * @example\n * <Dropdown\n * \t\tdefaultSelected={2}\n *\t\ttitle=\"Dropdown\"\n * >\n *   {['Option 1', 'Option 2', 'Option 3', 'Option 4']}\n * </Dropdown>\n *\n * @module agate/Dropdown\n * @exports Dropdown\n * @exports DropdownBase\n * @exports DropdownDecorator\n */\n\nimport {handle, forward, forProp} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport RadioItem from '../RadioItem';\nimport Scroller from '../Scroller';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Dropdown.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\nconst isSelectedValid = ({children, selected}) => Array.isArray(children) && children[selected] != null;\n\n/**\n * A stateless Dropdown component.\n *\n * @class DropdownBase\n * @memberof agate/Dropdown\n * @ui\n * @public\n */\nconst DropdownBase = kind({\n\tname: 'Dropdown',\n\n\tpropTypes: /** @lends agate/Dropdown.DropdownBase.prototype */ {\n\t\t/**\n\t\t * The selections for Dropdown\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String), children: (String|Component)}>}\n\t\t */\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The direction where the dropdown list appears.\n\t\t *\n\t\t * @type {('left'|'right'|'down'|'up')}\n\t\t * @default 'down'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n\t\t/**\n\t\t * Disables Dropdown and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the Dropdown is closing.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the Dropdown is opening.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Called when an item is selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Displays the items.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the selected item.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.number,\n\n\t\t/**\n\t\t * The current skin for this component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The primary title text of Dropdown.\n\t\t *\n\t\t * The title will be replaced with the selected item, if set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'down',\n\t\topen: false\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onSelect'),\n\t\t\tforward('onClose')\n\t\t),\n\t\tonOpen: handle(\n\t\t\tforProp('open', false),\n\t\t\tforward('onOpen')\n\t\t)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dropdown',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbuttonClassName: ({open, styler}) => styler.append({open}),\n\t\ttransitionContainerClassname: ({css, open, direction, styler}) => styler.join(css.transitionContainer, {openTransitionContainer: open, upTransitionContainer: direction === 'up'} ),\n\t\tdropdownButtonClassname: ({css, direction, styler}) => styler.join(css.dropdownButton, {upDropdownButton: direction === 'up'} ),\n\t\tdropdownListClassname: ({children, css, styler}) => styler.join(css.dropdownList, {dropdownListWithScroller: children.length > 4}),\n\t\ttitle: ({children, selected, title}) => {\n\t\t\tif (isSelectedValid({children, selected})) {\n\t\t\t\tconst child = children[selected];\n\t\t\t\treturn typeof child === 'object' ? child.children : child;\n\t\t\t}\n\n\t\t\treturn title;\n\t\t},\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t},\n\t\thasChildren: ({children}) => {\n\t\t\treturn children.length > 0;\n\t\t}\n\t},\n\n\trender: ({buttonClassName, children, css, dropdownButtonClassname, dropdownListClassname, disabled, hasChildren, onClose, onOpen, onSelect, open, selected, skin, transitionContainerClassname, transitionDirection, title, ...rest}) => {\n\t\tconst opened = !disabled && open;\n\t\tconst [DropDownButton, wrapperProps, skinVariants, groupProps] = (skin === 'silicon') ? [\n\t\t\tButton,\n\t\t\t{className: dropdownButtonClassname},\n\t\t\t{'night': false},\n\t\t\t{childComponent: RadioItem, itemProps: {size: 'small', className: css.dropDownListItem, css}, selectedProp: 'selected'}\n\t\t] : [\n\t\t\tItem,\n\t\t\t{},\n\t\t\t{},\n\t\t\t{childComponent: Item, itemProps: {size: 'small'}}\n\t\t];\n\n\t\treturn (\n\t\t\t<div {...rest} >\n\t\t\t\t<div {...wrapperProps}>\n\t\t\t\t\t<DropDownButton\n\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\tdisabled={hasChildren ? disabled : true}\n\t\t\t\t\t\tonClick={opened ? onClose : onOpen}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon slot=\"slotAfter\" className={css.icon} size=\"small\">{open ? 'arrowlargeup' : 'arrowlargedown'}</Icon>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</DropDownButton>\n\t\t\t\t\t<Transition\n\t\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\t\tvisible={opened}\n\t\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContainerDiv className={dropdownListClassname} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t\t<Scroller skinVariants={skinVariants} className={css.scroller}>\n\t\t\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t{...groupProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{children || []}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t\t</ContainerDiv>\n\t\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DropdownBase]{@link agate/Dropdown.DropdownBase}.\n *\n * @hoc\n * @memberof agate/Dropdown\n * @mixes agate/Dropdown.DropdownDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DropdownDecorator = compose(\n\tToggleable({toggle: null, prop: 'open', activate: 'onOpen', deactivate: 'onClose'}),\n\tChangeable({change: 'onSelect', prop: 'selected'}),\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate Dropdown component.\n *\n * By default, `Dropdown` maintains the state of its `selected` property. Supply the\n * `defaultSelected` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `selected` at creation time and update it in response to\n * `onSelect` events.\n *\n * @class Dropdown\n * @memberof agate/Dropdown\n * @extends agate/Dropdown.DropdownBase\n * @mixes agate/Dropdown.DropdownDecorator\n * @ui\n * @public\n */\nconst Dropdown = DropdownDecorator(DropdownBase);\n\nexport default Dropdown;\nexport {\n\tDropdown,\n\tDropdownBase,\n\tDropdownDecorator\n};\n","var map = {\n\t\"./BodyText.js\": 1965,\n\t\"./Button.js\": 1967,\n\t\"./Checkbox.js\": 1968,\n\t\"./CheckboxItem.js\": 1969,\n\t\"./ColorPicker.js\": 1970,\n\t\"./ContextualPopupDecorator.js\": 1984,\n\t\"./DateTimePicker.js\": 1985,\n\t\"./Drawer.js\": 1986,\n\t\"./Dropdown.js\": 1989,\n\t\"./Header.js\": 1990,\n\t\"./Heading.js\": 1991,\n\t\"./Icon.js\": 1992,\n\t\"./ImageItem.js\": 1993,\n\t\"./ImageItemKitchenSink.js\": 1994,\n\t\"./IncrementSlider.js\": 1995,\n\t\"./Input.js\": 2003,\n\t\"./Item.js\": 2004,\n\t\"./ItemKitchenSink.js\": 2005,\n\t\"./LabeledIcon.js\": 2006,\n\t\"./LabeledIconButton.js\": 2007,\n\t\"./Panel.js\": 2008,\n\t\"./Panels.js\": 2009,\n\t\"./Picker.js\": 2010,\n\t\"./Popup.js\": 2011,\n\t\"./PopupMenu.js\": 2012,\n\t\"./ProgressBar.js\": 2013,\n\t\"./RadioItem.js\": 2014,\n\t\"./RangePicker.js\": 2015,\n\t\"./Scroller.js\": 2016,\n\t\"./Slider.js\": 2017,\n\t\"./SliderButton.js\": 2018,\n\t\"./Spinner.js\": 2019,\n\t\"./SwitchItem.js\": 2020,\n\t\"./TabbedPanels.js\": 2021,\n\t\"./Thumbnail.js\": 2022,\n\t\"./ThumbnailItem.js\": 2023,\n\t\"./ToggleButton.js\": 2024,\n\t\"./TooltipDecorator.js\": 2025,\n\t\"./VirtualList.js\": 2026,\n\t\"./icons.js\": 83\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1964;","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiBodyText from '@enact/ui/BodyText';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText, {BodyTextBase} from '@enact/agate/BodyText';\n\nBodyText.displayName = 'BodyText';\nconst Config = mergeComponentMetadata('BodyText', UiBodyText, BodyText, BodyTextBase);\n\nconst prop = {\n\tsizes: ['', 'large', 'small']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'BodyText',\n\t\t() => (\n\t\t\t<BodyText\n\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\tnoWrap={boolean('noWrap', Config)}\n\t\t\t\tsize={select('size', prop.sizes, Config)}\n\t\t\t>\n\t\t\t\t{text('children', BodyText, 'This is a body text')}\n\t\t\t</BodyText>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Body Text'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\n\nimport icons from './icons';\n\nButton.displayName = 'Button';\nconst Config = mergeComponentMetadata('Button', UiButton, ButtonBase, Button);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\tcasing: ['preserve', 'sentence', 'word', 'upper'],\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\ticons: ['', ...icons],\n\tjoinedPosition: ['', 'left', 'center', 'right']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Button',\n\t\t() => (\n\t\t\t<Button\n\t\t\t\tanimateOnRender={boolean('animateOnRender', Config)}\n\t\t\t\tanimationDelay={number('animationDelay', Config)}\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tbadge={text('badge', Config)}\n\t\t\t\tbadgeColor={select('badgeColor', prop.colors, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', prop.icons, Config)}\n\t\t\t\tjoinedPosition={select('joinedPosition', prop.joinedPosition, Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttype={select('type', ['standard', 'grid'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</Button>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Button'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Checkbox from '@enact/agate/Checkbox';\n\nCheckbox.displayName = 'Checkbox';\nconst Config = mergeComponentMetadata('Checkbox', Checkbox);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Checkbox',\n\t\t() => (\n\t\t\t<Checkbox\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of Checkbox'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport CheckboxItem from '@enact/agate/CheckboxItem';\n\nCheckboxItem.displayName = 'CheckboxItem';\nconst Config = mergeComponentMetadata('CheckboxItem', CheckboxItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'CheckboxItem',\n\t\t() => (\n\t\t\t<CheckboxItem\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello CheckboxItem')}\n\t\t\t</CheckboxItem>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of CheckboxItem'\n\t\t\t}\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ColorPicker, {ColorPickerBase} from '@enact/agate/ColorPicker';\n\nColorPicker.displayName = 'ColorPicker';\nconst Config = mergeComponentMetadata('ColorPicker', ColorPicker, ColorPickerBase);\n\nconst prop = {\n\tdirection: ['up', 'right', 'down', 'left'],\n\tpresets: {\n\t\t'Default': ['green', 'yellow', 'orange', 'red', 'black', 'gray', 'white', '#cc5500', 'maroon', 'brown'],\n\t\t'Duck Tales': ['lavender', 'red', 'blue', 'green']\n\t}\n};\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ColorPicker',\n\t\t() => {\n\t\t\tconst direction = select('direction', prop.direction, Config, 'right'); // moved out of component to force order of knobs in the story\n\t\t\tconst colors = prop.presets[\n\t\t\t\tselect('color palette', Object.keys(prop.presets), StoryOptions, 'Default')\n\t\t\t];\n\t\t\treturn (\n\t\t\t\t<ColorPicker\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\tdefaultValue={colors[0]}\n\t\t\t\t>\n\t\t\t\t\t{colors}\n\t\t\t\t</ColorPicker>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic ColorPicker'\n\t\t}\n\t);\n","import {ContextualPopupDecorator} from '@enact/agate/ContextualPopupDecorator';\nimport BodyText from '@enact/agate/BodyText';\nimport Button from '@enact/agate/Button';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\n\nconst ContextualButton = ContextualPopupDecorator(Button);\nContextualButton.displayName = 'ContextualButton';\n\nconst Config = mergeComponentMetadata('ContextualPopupDecorator', Button, ContextualButton);\n\n// NOTE: Something about the HOC is inhibiting accessing its defaultProps, so we're adding them here\n// manually. This can (should) be revisited later to find out why and a solution.\nConfig.defaultProps = {\n\tdirection: 'below center',\n\topen: false,\n\tspotlightRestrict: 'self-first'\n};\n\nconst renderPopup = () => (\n\t<div>{text('popup string', {groupId: 'Popup'}, 'Hello Contextual Popup')}</div>\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ContextualPopupDecorator',\n\t\t() => (\n\t\t\t<div style={{textAlign: 'center', marginTop: ri.scaleToRem(99)}}>\n\t\t\t\t<ContextualButton\n\t\t\t\t\tdirection={select('direction', ['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom'], Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tpopupComponent={renderPopup}\n\t\t\t\t\tshowCloseButton={boolean('showCloseButton', Config)}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['none', 'self-first', 'self-only'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('button string', Config, 'Hello Contextual Button')}\n\t\t\t\t</ContextualButton>\n\t\t\t\t<BodyText centered>Use KNOBS to interact with the ContextualPopup.</BodyText>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of ContextualPopupDecorator'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata, removeProps} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport DateTimePicker from '@enact/agate/DateTimePicker';\n\nconst Config = mergeComponentMetadata('DateTimePicker', DateTimePicker);\nremoveProps(Config, 'year defaultOpen day maxDays maxMonths month onChangeDate onChangeMonth onChangeYear order');\n\nDateTimePicker.displayName = 'DateTimePicker';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'DateTimePicker',\n\t\t() => (\n\t\t\t<DateTimePicker\n\t\t\t\tonChange={action('onChange')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic DateTimePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport BodyText from '@enact/ui/BodyText';\nimport {boolean, number, select, text} from '@enact/storybook-utils/addons/knobs';\nimport convert from 'color-convert';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Drawer, {DrawerBase} from '@enact/agate/Drawer';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Drawer.module.less';\n\nDrawer.displayName = 'Drawer';\nconst Config = mergeComponentMetadata('Drawer', Drawer, DrawerBase);\nconst HeadingConfig = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nconst headingValues = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nconst {colors: drawerColors} = headingValues;\n\nconst opacityRange = {\n\trange: true,\n\tmin: 0,\n\tmax: 1,\n\tstep: 0.1\n};\n\nconst convertToRGBa = (hex, opacity) => `rgba(${convert.hex.rgb(hex)},${opacity})`;\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Drawer',\n\t\t() => {\n\t\t\tconst noDrawerAnimation = boolean('noAnimation', Config); // moved out of component to force order of knobs in the story\n\t\t\tconst drawerBackgroundColor = select('Drawer background color', drawerColors, StoryOptions);\n\t\t\tconst drawerBackgroundOpacity = number('Drawer background opacity', StoryOptions, opacityRange, 0.85);\n\t\t\tconst drawerStyle = {};\n\n\t\t\tif (drawerBackgroundColor && drawerBackgroundOpacity) {\n\t\t\t\tdrawerStyle.background = convertToRGBa(drawerBackgroundColor, drawerBackgroundOpacity);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<BodyText>\n\t\t\t\t\tUse the <em>open</em> knob to show or hide the Drawer.<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<span className={css.galliumNote}>\n\t\t\t\t\t\tThe styling in the Gallium skin does not set a background color for the Drawer,\n\t\t\t\t\t\ttherefore it will inherit the value that &lt;body&gt; has.  In some cases it\n\t\t\t\t\t\tmay be difficult to see the contents clearly.<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tYou can override the background color for the Drawer in the Story Options or\n\t\t\t\t\t\tchoose a different skin (or night mode) from the Global Knobs to see!\n\t\t\t\t\t</span>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tnoAnimation={noDrawerAnimation}\n\t\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\t\tstyle={drawerStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\tcolor={select('color', headingValues.colors, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tshowLine={boolean('showLine', HeadingConfig)}\n\t\t\t\t\t\t\t\tsize={select('size', headingValues.sizes, HeadingConfig, '')}\n\t\t\t\t\t\t\t\tspacing={select('spacing', headingValues.spacings, HeadingConfig, '')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{text('header', Config, '[insert witty header text]')}\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tThis Drawer is using a <a href=\"./?path=/story/agate--heading\">Heading</a> component\n\t\t\t\t\t\t\tin the <em>header</em> slot and plain text for the <em>footer</em> slot.<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe Heading props can be adjusted in Story Options.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t{text('footer', Config, '')}\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t</Drawer>\n\t\t\t\t</BodyText>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Drawer'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, text} from  '@enact/storybook-utils/addons/knobs';\nimport {action} from '@storybook/addon-actions';\nimport {storiesOf} from '@storybook/react';\nimport React from 'react';\n\nimport Dropdown, {DropdownBase} from '@enact/agate/Dropdown';\nimport ri from '@enact/ui/resolution';\n\nconst Config = mergeComponentMetadata('Dropdown', Dropdown, DropdownBase);\nDropdown.displayName = 'Dropdown';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Dropdown',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\ttitle={text('title', Config, 'Please select')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Dropdown', module)\n\t.add(\n\t\t'with 4 directions',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, right: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Left dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Right dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: '50%', transform: 'translateX(-50%)', width:'25%'}}\n\t\t\t\t\t\ttitle=\"Down dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"up\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: ri.scaleToRem(440),  width:'25%'}}\n\t\t\t\t\t\ttitle=\"Up dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Header, HeaderBase} from '@enact/agate/Header';\n\nHeader.displayName = 'Header';\nconst Config = mergeComponentMetadata('Header', HeaderBase, Header);\n\n// Set up some defaults for children knob\nconst prop = {\n\tchildren: {\n\t\t'no buttons': null,\n\t\t'1 button': <Button icon=\"home\" />,\n\t\t'2 buttons': (\n\t\t\t<React.Fragment>\n\t\t\t\t<Button>A Button</Button>\n\t\t\t\t<Button icon=\"home\" />\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Header',\n\t\t() => {\n\t\t\tconst childrenSelection = select('children', ['no buttons', '1 button', '2 buttons'], Config);\n\t\t\tconst children = prop.children[childrenSelection];\n\n\t\t\tconst story = (\n\t\t\t\t<Header\n\t\t\t\t\thideLine={boolean('hideLine', Config)}\n\t\t\t\t\tsubtitle={text('subtitle', Config, 'Sub Title')}\n\t\t\t\t\ttitle={text('title', Config, 'Main Title')}\n\t\t\t\t\ttitleAbove={text('titleAbove', Config, '')}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Header>\n\t\t\t);\n\t\t\treturn story;\n\t\t},\n\t\t{\n\t\t\ttext: 'A block to use as a screen\\'s title and description. Supports additional buttons, subtitle and title above.'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/ui/BodyText';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Heading.module.less';\n\nHeading.displayName = 'Heading';\nconst Config = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst prop = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Heading',\n\t\t() => {\n\t\t\tconst knobProps = {\n\t\t\t\tcolor: select('color', prop.colors, Config),\n\t\t\t\tshowLine: boolean('showLine', Config),\n\t\t\t\tsize: select('size', prop.sizes, Config),\n\t\t\t\tspacing: select('spacing', prop.spacings, Config)\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Heading {...knobProps}>\n\t\t\t\t\t\t{text('children', Heading, 'Heading Text')}\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<BodyText\n\t\t\t\t\t\tcentered\n\t\t\t\t\t\tclassName={css.spacingIndicator}\n\t\t\t\t\t>\n\t\t\t\t\t\tThis <a href=\"https://enactjs.com/docs/modules/ui/BodyText/\">BodyText</a> component is rendered immediately after the Heading component and is<br />\n\t\t\t\t\t\tmeant to provide a visual indicator of the effects of changing the <code>spacing</code> prop.\n\t\t\t\t\t\t<span className={css.spacingNote}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<strong>Note</strong>: The <code>spacing</code> prop will have no effect when using the Gallium skin.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tChoose a different skin from the Global Knobs to see!\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{(knobProps.size === 'title' || typeof knobProps.color === 'undefined') ? null : (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Note</strong>: The <code>color</code> prop only applies when the <code>size</code> prop is &quot;title&quot;.\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BodyText>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Heading'\n\t\t}\n\t);\n","import {emptify, mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {iconList, iconListSilicon} from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Skinnable from '@enact/agate/Skinnable';\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport Heading from '@enact/agate/Heading';\n\n// import icons\nimport docs from '../../images/icon-enact-docs.png';\nimport factory from '../../images/icon-enact-factory.svg';\nimport logo from '../../images/icon-enact-logo.svg';\n\nIcon.displayName = 'Icon';\nconst Config = mergeComponentMetadata('Icon', UiIcon, IconBase, Icon);\n\nconst SkinnedIcon = Skinnable(\n\t{prop: 'skin'},\n\t({skin, ...rest}) => {\n\t\tlet iconNames;\n\t\tconst flip = select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '');\n\t\tconst size = select('size', ['smallest', 'small', 'large', 'huge'], Config, 'large');\n\t\tconst spriteCount = number('spriteCount', Config, {min: 1}, 1);\n\n\t\tswitch (skin) {\n\t\t\tcase 'silicon':  {\n\t\t\t\ticonNames = iconListSilicon; break;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ticonNames = iconList;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Icon\n\t\t\t\t\t{...rest}\n\t\t\t\t\tflip={flip}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t>\n\t\t\t\t\t{emptify(select('src', ['', docs, factory, logo], Icon, '')) + emptify(select('icon', ['', ...iconNames], Icon, 'home')) + emptify(text('custom icon', Icon, ''))}\n\t\t\t\t</Icon>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<Heading>All Icons</Heading>\n\t\t\t\t{iconNames.map((icon, index) => <Icon key={index} size={size} title={icon}>{icon}</Icon>)}\n\t\t\t</>\n\t\t);\n\t}\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Icon',\n\t\t() => (\n\t\t\t<SkinnedIcon />\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Icon'\n\t\t}\n\t);\n","import ri from '@enact/ui/resolution';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ImageItem, {ImageItemBase} from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nconst Config = mergeComponentMetadata('ImageItem', ImageItem, ImageItemBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ImageItem',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\t\tcaptionPosition={select('captionPosition', ['below', 'overlay'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'caption')}\n\t\t\t\t</ImageItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ImageItem'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Image', module)\n\t.add(\n\t\t'without children',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t);\n","import ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport ImageItem from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nstoriesOf('Agate QA.ImageItem', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<Heading showline>ImageItem</Heading>\n\t\t\t\t<ImageItem src=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\" />\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport IncrementSlider, {IncrementSliderBase} from '@enact/agate/IncrementSlider';\n\nimport {decrementIcons, incrementIcons} from './icons';\n\nIncrementSlider.displayName = 'IncrementSlider';\nconst Config = mergeComponentMetadata('IncrementSlider', IncrementSliderBase, IncrementSlider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'IncrementSlider',\n\t\t() => (\n\t\t\t<IncrementSlider\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdecrementIcon={select('decrementIcon', decrementIcons, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tincrementIcon={select('incrementIcon', incrementIcons, Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tnoFill={boolean('noFill', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonDragEnd={action('onDragEnd')}\n\t\t\t\tonDragStart={action('onDragStart')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic IncrementSlider'\n\t\t}\n\t);\n","/**\n * Agate styled button components and behaviors.\n *\n * @example\n * <Button>Hello Enact!</Button>\n *\n * @module agate/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport Spottable from '@enact/spotlight/Spottable';\nimport {ButtonBase as UiButtonBase, ButtonDecorator as UiButtonDecorator} from '@enact/ui/Button';\nimport ComponentOverride from '@enact/ui/ComponentOverride';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport {IconBase} from '../Icon';\n// import {MarqueeDecorator} from '../Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Button.module.less';\n\n// Make a basic Icon in case we need it later. This cuts `Pure` out of icon for a small gain.\nconst Icon = Skinnable(IconBase);\n\n/**\n * A button component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Button]{@link agate/Button.Button}.\n *\n * @class ButtonBase\n * @memberof agate/Button\n * @extends ui/Button.ButtonBase\n * @omit minWidth\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'Button',\n\n\tpropTypes: /** @lends agate/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Animate when this component renders.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimateOnRender: PropTypes.bool,\n\n\t\t/**\n\t\t * The delay before the button is animated, in milliseconds.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tanimationDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The background opacity of this button.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'opaque'`,\n\t\t * * `'lightOpaque'`, and\n\t\t * * `'transparent'`.\n\t\t *\n\t\t * @type {('opaque'|'lightOpaque'|'transparent')}\n\t\t * @public\n\t\t */\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\n\t\t/**\n\t\t * A small message overlaid onto the button.\n\t\t *\n\t\t * @type {Number|String}\n\t\t * @public\n\t\t */\n\t\tbadge: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n\t\t/**\n\t\t * A custom color for the badge element.\n\t\t *\n\t\t * This prop is only visible if the `badge` prop is also set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tbadgeColor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root class name\n\t\t * * `bg` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a button specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {Component}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * The position of this button in relation to other buttons.\n\t\t *\n\t\t * To create a collection of buttons that appear as one entity: buttons that butt up against\n\t\t * each other. Specify where the button is in the arrangement: 'left', 'center', or 'right'.\n\t\t * This prop is not recommended for use on a lonely button with no other buttons nearby.\n\t\t * Not specifying this optional prop leaves the button behaving normally.\n\t\t *\n\t\t * @type {('left'|'center'|'right')}\n\t\t * @public\n\t\t */\n\t\tjoinedPosition: PropTypes.oneOf(['left', 'center', 'right']),\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image of the `icon` being supplied. This prop has no effect without `icon`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @default 'standard'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard'])\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundOpacity: 'opaque',\n\t\ticonComponent: Icon,\n\t\tsize: 'large',\n\t\ttype: 'standard'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({animateOnRender, backgroundOpacity, highlighted, joinedPosition, selected, type, size, styler}) => styler.append(\n\t\t\tbackgroundOpacity,\n\t\t\tsize,\n\t\t\ttype,\n\t\t\t(joinedPosition && 'joined' + cap(joinedPosition)),  // If `joinedPosition` is present, prepend the word \"joined\" to the variable, so the classes are clearer.\n\t\t\t{\n\t\t\t\tanimateOnRender,\n\t\t\t\thighlighted,\n\t\t\t\tselected\n\t\t\t}\n\t\t),\n\t\tdecoration: ({badge, css, decoration}) => {\n\t\t\tif (!badge) return decoration;\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className={css.badge}>{badge}</div>\n\t\t\t\t\t{decoration}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t},\n\t\ticonComponent: ({iconComponent, spriteCount}) => {\n\t\t\t// Don't burden basic HTML elements with the spriteCount prop (or other Icon-specific props)\n\t\t\tif (typeof iconComponent === 'string') return iconComponent;\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={iconComponent}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\tstyle: ({animationDelay, badgeColor, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-button-animation-delay': animationDelay,\n\t\t\t'--agate-button-badge-bg-color': badgeColor\n\t\t}),\n\t\tminWidth: ({children}) => (React.Children.count(children) === 0 || children === '')\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.animateOnRender;\n\t\tdelete rest.animationDelay;\n\t\tdelete rest.backgroundOpacity;\n\t\tdelete rest.badge;\n\t\tdelete rest.badgeColor;\n\t\tdelete rest.highlighted;\n\t\tdelete rest.joinedPosition;\n\t\tdelete rest.selected;\n\t\tdelete rest.spriteCount;\n\t\tdelete rest.type;\n\n\t\treturn UiButtonBase.inline({\n\t\t\t'data-webos-voice-intent': 'Select',\n\t\t\t...rest,\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [Button]{@link agate/Button.ButtonBase} components.\n *\n * @hoc\n * @memberof agate/Button\n * @mixes ui/Button.ButtonDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ButtonDecorator = compose(\n\tPure,\n\t// MarqueeDecorator({className: componentCss.marquee}),\n\tUiButtonDecorator,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * A button component, ready to use in Agate applications.\n *\n * Usage:\n * ```\n * <Button\n * \tbackgroundOpacity=\"translucent\"\n * \tcolor=\"blue\"\n * >\n * \tPress me!\n * </Button>\n * ```\n *\n * @class Button\n * @memberof agate/Button\n * @extends agate/Button.ButtonBase\n * @mixes agate/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport icons from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Input, {InputBase} from '@enact/agate/Input';\n\nconst iconNames = ['', ...icons];\n\nconst Config = mergeComponentMetadata('Input', InputBase, Input);\nInput.displayName = 'Input';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Input',\n\t\t() => (\n\t\t\t<Input\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tdismissOnEnter={boolean('dismissOnEnter', Config)}\n\t\t\t\ticonAfter={select('iconAfter', iconNames, Config)}\n\t\t\t\ticonBefore={select('iconBefore', iconNames, Config)}\n\t\t\t\tinvalid={boolean('invalid', Config)}\n\t\t\t\tinvalidMessage={text('invalidMessage', Config)}\n\t\t\t\tonBlur={action('onBlur')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonFocus={action('onFocus')}\n\t\t\t\tplaceholder={text('placeholder', Config, 'Input text here')}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\ttype={text('type', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Input'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiItem, {ItemBase as UiItemBase} from '@enact/ui/Item';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {icons} from '@enact/agate/Icon';\nimport Item, {ItemBase} from '@enact/agate/Item';\n\nconst Config = mergeComponentMetadata('Item', UiItemBase, UiItem, ItemBase, Item);\nItem.displayName = 'Item';\n\nconst iconList = [null, ...Object.keys(icons)];\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Item',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfterIcon = select('slotAfter Icon', iconList, Config);\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfterIcon ? <slotAfter>\n\t\t\t\t\t\t<Icon>{slotAfterIcon}</Icon>\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'Basic usage of Item'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'with icons and a text in slotAfter',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfter = [\n\t\t\t\tselect('slotAfter Icon 1', iconList, Config),\n\t\t\t\tselect('slotAfter Icon 2', iconList, Config),\n\t\t\t\ttext('slotAfter Text', Config, 'Sub Text')\n\t\t\t].filter(subText => !!subText).map(subText => (iconList.indexOf(subText) > 0 ? <Icon key={subText}>{subText}</Icon> : subText));\n\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfter.length > 0 ? <slotAfter>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t}\n\t);\n","import React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\n\nItem.displayName = 'Item';\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<>\n\t\t\t\t<Heading showLine>Item variations</Heading>\n\t\t\t\t<Item>Default Item</Item>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>All Items inlined</Heading>\n\t\t\t\t<Item inline>Default Item</Item>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t</>\n\t\t),\n\t\t{\n\t\t\ttext: 'Item Kitchen Sink'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport LabeledIcon from '@enact/agate/LabeledIcon';\n\nimport iconNames from './icons';\n\nLabeledIcon.displayName = 'LabeledIcon';\n\nconst Config = mergeComponentMetadata('LabeledIcon', UiLabeledIconBase, UiLabeledIcon, UiIcon, IconBase, Icon, LabeledIcon);\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIcon',\n\t\t() => (\n\t\t\t<LabeledIcon\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tflip={select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '')}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIcon')}\n\t\t\t</LabeledIcon>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIcon'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('LabeledIconButton', UiLabeledIconBase, UiLabeledIcon, LabeledIconButton);\nConfig.displayName = 'LabeledIconButton';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIconButton',\n\t\t() => (\n\t\t\t<LabeledIconButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['', 'opaque', 'lightOpaque', 'transparent'], Config, '')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\tspriteCount={number('spriteCount', Config, {min: 1}, 1)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIconButton')}\n\t\t\t</LabeledIconButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIconButton'\n\t\t}\n\t);\n","import {text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Header from '@enact/agate/Header';\nimport {Panel} from '@enact/agate/Panels';\n\nPanel.displayName = 'Panel';\nconst HeaderConfig = mergeComponentMetadata('Header', Header);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Panel',\n\t\t() => (\n\t\t\t<Panel>\n\t\t\t\t<Header\n\t\t\t\t\tsubtitle={text('subtitle', HeaderConfig, 'Header Subtitle')}\n\t\t\t\t\ttitle={text('title', HeaderConfig, 'Header Title')}\n\t\t\t\t/>\n\t\t\t\t<Button>Click me</Button>\n\t\t\t</Panel>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true,\n\t\t\t\tnoPanel: true\n\t\t\t},\n\t\t\ttext: 'The basic Panel'\n\t\t}\n\t);\n","/* eslint-disable react/jsx-no-bind */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\n\nimport Button from '@enact/agate/Button';\nimport Header from '@enact/agate/Header';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\n\nPanels.displayName = 'Panels';\nconst Config = mergeComponentMetadata('Panels', Panels);\n\nconst FirstPanel = kind({\n\tname: 'FirstPanel',\n\n\tpropTypes: {\n\t\tonClick: PropTypes.func\n\t},\n\n\trender: ({onClick, ...rest}) => (\n\t\t<Panel {...rest}>\n\t\t\t<Header title=\"First Panel\" />\n\t\t\t<Button onClick={onClick}>Click me</Button>\n\t\t</Panel>\n\t)\n});\n\nconst SecondPanel = kind({\n\tname: 'SecondPanel',\n\n\trender: (props) => (\n\t\t<Panel {...props}>\n\t\t\t<Header title=\"Second Panel\" />\n\t\t\t<Button>Click me</Button>\n\t\t</Panel>\n\t)\n});\n\nconst BasicPanels = () => {\n\tconst [index, setIndex] = React.useState(0);\n\tconst goNext = () => setIndex(clamp(0, 2, index + 1));\n\tconst goPrevious = () => setIndex(clamp(0, 2, index - 1));\n\n\treturn (\n\t\t<Panels\n\t\t\tindex={index}\n\t\t\tnoAnimation={boolean('noAnimation', Config, false)}\n\t\t\tnoCloseButton={boolean('noCloseButton', Config, false)}\n\t\t\tonApplicationClose={action('onClose')}\n\t\t\tonBack={goPrevious}\n\t\t>\n\t\t\t<FirstPanel onClick={goNext} />\n\t\t\t<SecondPanel />\n\t\t</Panels>\n\t);\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Panels',\n\t\t() => (<BasicPanels />),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true,\n\t\t\t\tnoPanels: true\n\t\t\t},\n\t\t\ttext: 'The basic Panels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport Picker from '@enact/agate/Picker';\n\nconst Config = mergeComponentMetadata('Picker', Picker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Picker',\n\t\t() => (\n\t\t\t<div style={{padding: '0 20%'}}>\n\t\t\t\t<Picker\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{['LO', '16\\xB0', '17\\xB0', '18\\xB0', '19\\xB0', 'HI']}\n\t\t\t\t</Picker>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Picker'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Popup, PopupBase} from '@enact/agate/Popup';\n\nconst Config = mergeComponentMetadata('Popup', PopupBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Popup',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Popup'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Popup', module)\n\t.add(\n\t\t'with buttons',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Button>Button</Button>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t\t<buttons>\n\t\t\t\t\t\t<Button>NO</Button>\n\t\t\t\t\t\t<Button>YES</Button>\n\t\t\t\t\t</buttons>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t)\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React, {useState} from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport CheckboxItem from '@enact/agate/CheckboxItem';\nimport Input from '@enact/agate/Input';\nimport Picker from '@enact/agate/Picker';\nimport PopupMenu from '@enact/agate/PopupMenu';\n\nimport css from './PopupMenu.module.less';\n\nconst Config = mergeComponentMetadata('PopupMenu', PopupMenu);\n\nconst Story = ({children: {props, type: Component}, ...rest}) => {\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\n\tfunction onClose () {\n\t\tsetMenuOpen(false);\n\t}\n\n\tfunction onOpen () {\n\t\tsetMenuOpen(true);\n\t}\n\n\treturn (\n\t\t<div {...rest}>\n\t\t\t{menuOpen ? null : (<Button onClick={onOpen}>Open Menu</Button>)}\n\t\t\t<Component\n\t\t\t\t{...props}\n\t\t\t\tonClose={onClose}\n\t\t\t\topen={menuOpen}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nstoriesOf('Agate', module).add(\n\t'PopupMenu',\n\t() => {\n\t\tconst closeButton = boolean('closeButton', Config);\n\t\tconst noAutoDismiss = boolean('noAutoDismiss', Config);\n\n\t\treturn (\n\t\t\t<Story>\n\t\t\t\t<PopupMenu\n\t\t\t\t\tcloseButton={closeButton}\n\t\t\t\t\tcloseButtonLabel={text('closeButtonLabel', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\torientation={select('orientation', ['horizontal'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t{!(noAutoDismiss && !closeButton) ? null : (\n\t\t\t\t\t\t<h2 className={css.cannotClose}>\n\t\t\t\t\t\t\tWarning! With <code>closeButton=false</code> and <code>noAutoDismiss=true</code> it will be impossible to close this menu.\n\t\t\t\t\t\t</h2>)}\n\t\t\t\t\t<Picker>\n\t\t\t\t\t\t{['Crunchy', 'Smooth']}\n\t\t\t\t\t</Picker>\n\t\t\t\t\t<Input placeholder=\"How many?\" type=\"number\" />\n\t\t\t\t\t<CheckboxItem>\n\t\t\t\t\t\tRush delivery\n\t\t\t\t\t</CheckboxItem>\n\t\t\t\t</PopupMenu>\n\t\t\t</Story>\n\t\t);\n\t},\n\t{\n\t\ttext: 'Basic usage of PopupMenu'\n\t}\n);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ProgressBar, {ProgressBarBase} from '@enact/agate/ProgressBar';\n\nProgressBar.displayName = 'ProgressBar';\nconst Config = mergeComponentMetadata('ProgressBar', UiProgressBar, ProgressBarBase, ProgressBar);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ProgressBar',\n\t\t() => (\n\t\t\t<ProgressBar\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogress={number('progress', Config, {range: true, min: 0, max: 1, step: 0.01}, 0.4)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ProgressBar'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport RadioItem from '@enact/agate/RadioItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('RadioItem', RadioItem);\nRadioItem.displayName = 'RadioItem';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RadioItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<RadioItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</RadioItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic RadioItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport RangePicker from '@enact/agate/RangePicker';\n\nconst Config = mergeComponentMetadata('RangePicker', RangePicker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RangePicker',\n\t\t() => (\n\t\t\t<RangePicker\n\t\t\t\tdefaultValue={5}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tmax={number('max', Config, 20)}\n\t\t\t\tmin={number('min', Config, 0)}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of RangePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/agate/BodyText';\nimport Scroller from '@enact/agate/Scroller';\n\nconst prop = {\n\tdirection: ['both', 'horizontal', 'vertical'],\n\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\tscrollModeOption: ['native', 'translate']\n};\n\nconst ScrollerConfig = mergeComponentMetadata('Scroller', UiScrollerBasic, Scroller);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Scroller',\n\t\t() => (\n\t\t\t<Scroller\n\t\t\t\tdirection={select('direction', prop.direction, ScrollerConfig)}\n\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', ScrollerConfig)}\n\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', ScrollerConfig)}\n\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', ScrollerConfig, false)}\n\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: ri.scaleToRem(2004),\n\t\t\t\t\t\twidth: ri.scaleToRem(4002)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<BodyText>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.<br />\n\t\t\t\t\t\tAenean id blandit nunc. Donec lacinia nisi vitae mi dictum, eget pulvinar nunc tincidunt. Integer vehicula tempus rutrum. Sed efficitur neque in arcu dignissim cursus.\n\t\t\t\t\t</BodyText>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: ri.scaleToRem(1602)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tMauris blandit sollicitudin mattis. Fusce commodo arcu vitae risus consectetur sollicitudin. Aliquam eget posuere orci. Cras pellentesque lobortis sapien non lacinia.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Scroller>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of Scroller'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Slider, {SliderBase} from '@enact/agate/Slider';\n\nSlider.displayName = 'Slider';\nconst Config = mergeComponentMetadata('Slider', SliderBase, Slider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Slider',\n\t\t() => (\n\t\t\t<Slider\n\t\t\t\tactivateOnFocus={boolean('activateOnFocus', Config)}\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonKeyDown={action('onKeyDown')}\n\t\t\t\tonKeyUp={action('onKeyUp')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config, 'horizontal')}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Slider'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SliderButton, {SliderButtonBase} from '@enact/agate/SliderButton';\nimport {icons} from '@enact/agate/Icon';\n\nSliderButton.displayName = 'SliderButton';\nconst Config = mergeComponentMetadata('SliderButton', SliderButtonBase, SliderButton);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\ticons: ['', ...Object.keys(icons)],\n\t3: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed'\n\t],\n\t5: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed',\n\t\t'Bananas Speed',\n\t\t'OK Enough Speed'\n\t]\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SliderButton',\n\t\t() => (\n\t\t\t<SliderButton\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t>\n\t\t\t\t{prop[select('options', [3, 5], Config, '3')]}\n\t\t\t</SliderButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SliderButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport UiSpinner, {SpinnerBase as UiSpinnerBase} from '@enact/ui/Spinner';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Spinner, {SpinnerBase} from '@enact/agate/Spinner';\n\nSpinner.displayName = 'Spinner';\nconst Config = mergeComponentMetadata('Spinner', UiSpinnerBase, UiSpinner, SpinnerBase, Spinner);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Spinner',\n\t\t() => (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tpadding: ri.unit(90, 'rem'),\n\t\t\t\t\tbackgroundColor: 'rgba(0, 187, 187, 0.5)'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\theight: ri.unit(180, 'rem')\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<label\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0, 128, 128, 0.5)',\n\t\t\t\t\t\t\tcolor: '#0bb',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttransform: 'translateY(-100%)',\n\t\t\t\t\t\t\tborderBottomWidth: 0,\n\t\t\t\t\t\t\tpadding: '0.1em 1em',\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\t\t\tfontSize: ri.unit(15, 'rem')\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Container</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Spinner\n\t\t\t\t\t\tblockClickOn={select('blockClickOn', [null, 'container', 'screen'], Config)}\n\t\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\t\tcolor={select('color', ['dark', 'light'], Config, 'light')}\n\t\t\t\t\t\tpaused={boolean('paused', Config)}\n\t\t\t\t\t\tscrim={boolean('scrim', Config)}\n\t\t\t\t\t\tsize={select('size', ['huge', 'large', 'small', 'smallest'], Config)}\n\t\t\t\t\t\ttype={select('type', ['loading', 'searching'], Config, 'searching')}\n\t\t\t\t\t\ttransparent={boolean('transparent', Config)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Spinner'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SwitchItem from '@enact/agate/SwitchItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('SwitchItem', SwitchItem);\nSwitchItem.displayName = 'SwitchItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SwitchItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<SwitchItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'music')}\n\t\t\t\t\toffText={text('offText', Config)}\n\t\t\t\t\tonText={text('onText', Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</SwitchItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SwitchItem'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\nimport {Panel, TabbedPanels} from '@enact/agate/Panels';\nimport {TabbedPanelsBase} from '@enact/agate/Panels/TabbedPanels';\nimport $L from '@enact/i18n/$L';\n\nconst Config = mergeComponentMetadata('TabbedPanels', TabbedPanelsBase);\n// `paddingBottom: '56.25%'` is a trick to impose 16:9 aspect ratio on the component, since padding percentage is based on the width, not the height.\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TabbedPanels',\n\t\t() => {\n\t\t\tconst [panelIndex, setIndex] = React.useState(Config.defaultProps.index || 0);\n\t\t\tconst onSelect = (e) => {\n\t\t\t\tsetIndex(e.index);\n\t\t\t\taction('onSelect')(e);\n\t\t\t};\n\t\t\tconst onBeforeTabs = () => {\n\t\t\t\tsetIndex(Math.max(panelIndex - 1, 0));\n\t\t\t};\n\t\t\tconst onAfterTabs = () => {\n\t\t\t\tsetIndex(Math.min(panelIndex + 1, 2));\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<div style={{paddingBottom: '56.25%'}}>\n\t\t\t\t\t<TabbedPanels\n\t\t\t\t\t\tduration={number('duration', Config, 500)}\n\t\t\t\t\t\tonClick={action('onClick')}\n\t\t\t\t\t\tindex={panelIndex}\n\t\t\t\t\t\tnoCloseButton={boolean('noCloseButton', Config)}\n\t\t\t\t\t\tonSelect={onSelect} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config, 'vertical')}\n\t\t\t\t\t\ttabPosition={select('tabPosition', ['before', 'after'], Config, 'before')}\n\t\t\t\t\t\ttabs={[\n\t\t\t\t\t\t\t{title: 'Button', icon: 'netbook'},\n\t\t\t\t\t\t\t{title: 'Item', icon: 'aircirculation'},\n\t\t\t\t\t\t\t{title: 'LabeledIconButton', icon: 'temperature'}\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<beforeTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\taria-label={$L('Previous Tab')}\n\t\t\t\t\t\t\t\ticon=\"arrowlargeleft\"\n\t\t\t\t\t\t\t\tonClick={onBeforeTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</beforeTabs>\n\t\t\t\t\t\t<afterTabs>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\taria-label={$L('Next Tab')}\n\t\t\t\t\t\t\t\ticon=\"arrowlargeright\"\n\t\t\t\t\t\t\t\tonClick={onAfterTabs} // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\ttype=\"grid\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</afterTabs>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Button icon=\"netbook\">Click me!</Button>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<Item label=\"label\" labelPosition=\"before\" slotBefore={<Icon>aircirculation</Icon>}>Hello Item</Item>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel className=\"enact-fit\">\n\t\t\t\t\t\t\t<LabeledIconButton\n\t\t\t\t\t\t\t\tlabelPosition=\"after\"\n\t\t\t\t\t\t\t\ticon=\"temperature\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tHello LabeledIconButton\n\t\t\t\t\t\t\t</LabeledIconButton>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t\t<Panel>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\tA simple view with no associated tab\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</TabbedPanels>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic TabbedPanels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\nThumbnailItem.displayName = 'ThumbnailItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<ThumbnailItem\n\t\t\t\t\tsrc={text('src', Config, 'https://dummyimage.com/64/e048e0/0011ff')}\n\t\t\t\t>\n\t\t\t\t\tAn image!\n\t\t\t\t</ThumbnailItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select, boolean} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nThumbnailItem.displayName = 'ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<ThumbnailItem\n\t\t\t\tsrc=\"https://dummyimage.com/64/e048e0/0011ff\"\n\t\t\t\tlabel={text('label', Config, 'Sub Content')}\n\t\t\t\ttype={select('type', ['normal', 'styled'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Main Content')}\n\t\t\t</ThumbnailItem>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UIButton, {ButtonBase as UIButtonBase} from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport ToggleButton, {ToggleButtonBase} from '@enact/agate/ToggleButton';\n\nimport iconNames from './icons';\n\nToggleButton.displayName = 'ToggleButton';\nconst Config = mergeComponentMetadata('ToggleButton', UIButtonBase, UIButton, ButtonBase, Button, ToggleButtonBase, ToggleButton);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ToggleButton',\n\t\t() => (\n\t\t\t<ToggleButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdefaultSelected={boolean('defaultSelected', Config, true)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttoggleOffLabel={text('toggleOffLabel', Config, 'Off')}\n\t\t\t\ttoggleOnLabel={text('toggleOnLabel', Config, 'On')}\n\t\t\t\ttype={select('type', ['grid', 'standard'], Config, 'standard')}\n\t\t\t\tunderline={boolean('underline', Config, true)}\n\t\t\t>\n\t\t\t\t{text('children', ToggleButton, 'Click me')}\n\t\t\t</ToggleButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ToggleButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {storiesOf} from '@storybook/react';\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport TooltipDecorator from '@enact/agate/TooltipDecorator';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\n\nButton.displayName = 'TooltipDecorator';\nconst Config = mergeComponentMetadata('TooltipDecorator', UiButton, ButtonBase, Button);\nconst TooltipButton = TooltipDecorator({tooltipDestinationProp: 'decoration'}, Button);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TooltipDecorator',\n\t\t() => (\n\t\t\t<TooltipButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttooltipText={text('tooltip', Config, 'Tooltip')}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</TooltipButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic TooltipDecorator'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {storiesOf} from '@storybook/react';\nimport {VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\n\nimport Item from '@enact/agate/Item';\nimport VirtualList from '@enact/agate/VirtualList';\n\nconst\n\twrapOption = {\n\t\tfalse: false,\n\t\ttrue: true,\n\t\t'&quot;noAnimation&quot;': 'noAnimation'\n\t},\n\tprop = {\n\t\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\t\tscrollModeOption: ['native', 'translate']\n\t},\n\titems = [],\n\tdefaultDataSize = 1000,\n\t// eslint-disable-next-line enact/prop-types, enact/display-name\n\trenderItem = (size) => ({index, ...rest}) => {\n\t\tconst itemStyle = {\n\t\t\tborderBottom: ri.unit(6, 'rem') + ' solid #202328',\n\t\t\tboxSizing: 'border-box',\n\t\t\theight: ri.unit(size, 'rem')\n\t\t};\n\n\t\treturn (\n\t\t\t<Item {...rest} style={itemStyle}>\n\t\t\t\t{items[index]}\n\t\t\t</Item>\n\t\t);\n\t};\n\nconst updateDataSize = (dataSize) => {\n\tconst\n\t\titemNumberDigits = dataSize > 0 ? ((dataSize - 1) + '').length : 0,\n\t\theadingZeros = Array(itemNumberDigits).join('0');\n\n\titems.length = 0;\n\n\tfor (let i = 0; i < dataSize; i++) {\n\t\titems.push('Item ' + (headingZeros + i).slice(-itemNumberDigits));\n\t}\n\n\treturn dataSize;\n};\n\nupdateDataSize(defaultDataSize);\n\nconst VirtualListConfig = mergeComponentMetadata('VirtualList', UiVirtualListBasic, VirtualList);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'VirtualList',\n\t\t() => {\n\t\t\treturn (\n\t\t\t\t<VirtualList\n\t\t\t\t\tdataSize={updateDataSize(number('dataSize', VirtualListConfig, defaultDataSize))}\n\t\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', VirtualListConfig)}\n\t\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\titemRenderer={renderItem(ri.scale(number('itemSize', VirtualListConfig, 144)))}\n\t\t\t\t\titemSize={ri.scale(number('itemSize', VirtualListConfig, 144))}\n\t\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', VirtualListConfig)}\n\t\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tspacing={ri.scale(number('spacing', VirtualListConfig))}\n\t\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', VirtualListConfig, false)}\n\t\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\twrap={wrapOption[select('wrap', ['false', 'true', '\"noAnimation\"'], VirtualListConfig)]}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of VirtualList'\n\t\t}\n\t);\n","/**\n * Provides Agate-themed item components and behaviors. Useful for content in lists.\n *\n * @example\n * <Item>Hello Enact!</Item>\n *\n * @module agate/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport Slottable from '@enact/ui/Slottable';\nimport {ItemBase as UiItemBase, ItemDecorator as UiItemDecorator} from '@enact/ui/Item';\nimport {Cell, Layout, Row} from '@enact/ui/Layout';\nimport {Marquee, MarqueeController} from '@enact/ui/Marquee';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Item.module.less';\nimport Skinnable from '../Skinnable';\n\nconst ItemContent = kind({\n\tname: 'ItemContent',\n\tpropTypes: {\n\t\tcontent: PropTypes.any,\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.any,\n\t\tlabelPosition: PropTypes.any\n\t},\n\tdefaultProps: {\n\t\tlabelPosition: 'below'\n\t},\n\tstyles: {\n\t\tclassName: 'itemContent',\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['label']\n\t},\n\tcomputed: {\n\t\tclassName: ({label, labelPosition, styler}) => styler.append({\n\t\t\thasLabel: Boolean(label),\n\t\t\tlabelAbove: labelPosition === 'above',\n\t\t\tlabelAfter: labelPosition === 'after',\n\t\t\tlabelBefore: labelPosition === 'before',\n\t\t\tlabelBelow: labelPosition === 'below'\n\t\t}),\n\t\torientation: ({labelPosition}) => {\n\t\t\treturn (labelPosition === 'above' || labelPosition === 'below') ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\trender: ({orientation, content, css, label, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\n\t\t// Due to flex-box sizing (used in Layout/Cell), in a vertical orientation with no height\n\t\t// specified, all of the cells should be set to `shrink` so their height is summed to define\n\t\t// the height of the entire Layout. Without this, a cell will collapse, causing unwanted overlap.\n\t\tconst contentElement = (\n\t\t\t<Cell component={Marquee} className={css.content} shrink={(label != null && orientation === 'vertical')}>\n\t\t\t\t{content}\n\t\t\t</Cell>\n\t\t);\n\n\t\tif (label == null) return contentElement;\n\n\t\treturn (\n\t\t\t<Cell {...rest}>\n\t\t\t\t<Layout orientation={orientation}>\n\t\t\t\t\t{contentElement}\n\t\t\t\t\t<Cell component={Marquee} className={css.label} shrink>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Cell>\n\t\t);\n\t}\n});\n\n/**\n * Renders an Agate-styled Item without any behavior.\n *\n * @class ItemBase\n * @memberof agate/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'Item',\n\tpropTypes: /** @lends agate/Item.ItemBase.prototype */ {\n\t\tcomponentRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.node,\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below']),\n\t\tselected: PropTypes.bool,\n\t\tslotAfter: PropTypes.node,\n\t\tslotBefore: PropTypes.node\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['item', 'label', 'slotAfter', 'slotBefore']\n\t},\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected})\n\t},\n\trender: ({children, componentRef, css, label, labelPosition, slotAfter, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<UiItemBase {...rest} css={css} align=\"center\" component={Row} ref={componentRef}>\n\t\t\t\t{slotBefore ? (\n\t\t\t\t\t<Cell className={css.slotBefore} shrink>\n\t\t\t\t\t\t{slotBefore}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t\t<ItemContent\n\t\t\t\t\tcontent={children}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t/>\n\t\t\t\t{slotAfter ? (\n\t\t\t\t\t<Cell className={css.slotAfter} shrink>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</UiItemBase>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [Item]{@link agate/Item.ItemBase}.\n *\n * @hoc\n * @memberof agate/Item\n * @mixes ui/Item.ItemDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tSlottable({slots: ['label', 'slotAfter', 'slotBefore']}),\n\tPure,\n\tUiItemDecorator,\n\tSpottable,\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable\n);\n\n/**\n * An item component with Agate behaviors applied.\n *\n * @class Item\n * @memberof agate/Item\n * @extends agate/Item.ItemBase\n * @mixes agate/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\n\n/**\n * An {@link agate/ApplicationCloseButton.ApplicationCloseButton} with `closex` icon. It is used in\n * {@link agate/Panels.Panels} positioned at the top right corner.\n * `onApplicationClose` callback function should be specified to close your app. The recommended\n * action to take with the event is `window.close()`, but you may also want to also do operations\n * like save user work or close database connections.\n *\n * @class ApplicationCloseButton\n * @memberof agate/Panels\n * @private\n */\nconst ApplicationCloseButton = kind({\n\tname: 'ApplicationCloseButton',\n\n\tpropTypes: /** @lends agate/Panels.ApplicationCloseButton.prototype */ {\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @memberof agate/Panels.ApplicationCloseButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when app close button is clicked\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': ariaLabel}) => ariaLabel == null ? $L('Exit app') : ariaLabel\n\t},\n\n\trender: ({onApplicationClose, ...rest}) => {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tonTap={onApplicationClose}\n\t\t\t\tsize=\"small\"\n\t\t\t\ticon=\"closex\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default ApplicationCloseButton;\nexport {\n\tApplicationCloseButton\n};\n","import kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ApplicationCloseButton from './ApplicationCloseButton';\n\nimport css from './Panels.module.less';\n\n/**\n * Group of controls shared across Panel instances\n *\n * @class ControlsBase\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst ControlsBase = kind({\n\tname: 'Controls',\n\n\tpropTypes: /** @lends agate/Panels.ControlsBase.prototype */ {\n\t\t/**\n\t\t * Additional controls displayed before the close button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called with a reference to the root DOM node of this component.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @public\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'controls'\n\t},\n\n\trender: ({children, closeButtonAriaLabel, forwardRef, noCloseButton, onApplicationClose, ...rest}) => {\n\t\tif (!children && noCloseButton) return null;\n\n\t\treturn (\n\t\t\t<div {...rest} ref={forwardRef}>\n\t\t\t\t{children}\n\t\t\t\t{noCloseButton ? null : (\n\t\t\t\t\t<ApplicationCloseButton\n\t\t\t\t\t\taria-label={closeButtonAriaLabel}\n\t\t\t\t\t\tclassName={css.close}\n\t\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Group of controls shared across Panel instances.\n *\n * ```\n * // remove the close button and use a star icon button\n * <Controls noCloseButton>\n *   <Button icon=\"star\" />\n * </Controls>\n * ```\n *\n * @class Controls\n * @mixes spotlight/SpotlightContainerDecorator\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst Controls = ForwardRef(SpotlightContainerDecorator(ControlsBase));\n\nexport default Controls;\nexport {\n\tControls,\n\tControlsBase\n};\n","import classnames from 'classnames';\nimport {forward, handle} from '@enact/core/handle';\nimport Spotlight from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport ViewManager, {shape, SlideBottomArranger as VerticalArranger, SlideRightArranger as HorizontalArranger} from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport SharedStateDecorator, {SharedState} from './SharedStateDecorator';\n\nimport css from './Panels.module.less';\n\n/**\n * The container for a set of Panels\n *\n * @class Viewport\n * @memberof agate/Panels\n * @private\n */\nconst ViewportBase = class extends React.Component {\n\tstatic displayName = 'Viewport';\n\n\tstatic contextType = SharedState;\n\n\tstatic propTypes = /** @lends agate/Panels.Viewport.prototype */ {\n\n\t\t/**\n\t\t * A function that generates a globally-unique identifier for a panel index\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * Panels to be rendered\n\t\t *\n\t\t * @type {Panel}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disable panel transitions\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string\n\t};\n\n\tstatic defaultProps = {\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false\n\t};\n\n\tconstructor () {\n\t\tsuper();\n\n\t\tthis.paused = new Pause('Viewport');\n\t\tthis.state = {\n\t\t\tprevIndex: -1,\n\t\t\tdirection: 'forward'\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\treturn {\n\t\t\tprevIndex: props.index,\n\t\t\tdirection: state.prevIndex > props.index ? 'backward' : 'forward'\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tfor (let i = prevProps.index; this.context && i > this.props.index; i--) {\n\t\t\tthis.context.delete(i);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.paused.resume();\n\t}\n\n\taddTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.add(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tremoveTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.remove(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tpause = () => this.paused.pause();\n\n\tresume = () => this.paused.resume();\n\n\thandle = handle.bind(this);\n\n\thandleTransition = this.handle(\n\t\tforward('onTransition'),\n\t\tthis.removeTransitioningClass,\n\t\tthis.resume\n\t);\n\n\thandleWillTransition = this.handle(\n\t\tforward('onWillTransition'),\n\t\tthis.addTransitioningClass,\n\t\tthis.pause\n\t);\n\n\tmapChildren = (children, generateId) => React.Children.map(children, (child, index) => {\n\t\tif (child) {\n\t\t\tconst {spotlightId = generateId(index, 'panel-container', Spotlight.remove)} = child.props;\n\t\t\tconst props = {\n\t\t\t\tspotlightId,\n\t\t\t\t'data-index': index\n\t\t\t};\n\n\t\t\tif (child.props.autoFocus == null && this.state.direction === 'forward') {\n\t\t\t\tprops.autoFocus = 'default-element';\n\t\t\t}\n\n\t\t\treturn React.cloneElement(child, props);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tgetArranger = () => {\n\t\tconst {arranger, orientation} = this.props;\n\n\t\tif (arranger) return arranger;\n\t\tif (orientation === 'vertical') return VerticalArranger;\n\t\telse return HorizontalArranger;\n\t};\n\n\tgetEnteringProp = (noAnimation) => noAnimation ? null : 'hideChildren';\n\n\trender () {\n\t\tconst {children, duration, generateId, index, noAnimation, ...rest} = this.props;\n\t\tconst arranger = this.getArranger();\n\t\tconst enteringProp = this.getEnteringProp(noAnimation);\n\t\tconst mappedChildren = this.mapChildren(children, generateId);\n\t\tconst className = classnames(css.viewport, rest.className);\n\n\t\tconst count = React.Children.count(mappedChildren);\n\t\tinvariant(\n\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t);\n\n\t\tdelete rest.arranger;\n\t\tdelete rest.orientation;\n\n\t\treturn (\n\t\t\t<ViewManager\n\t\t\t\t{...rest}\n\t\t\t\tarranger={arranger}\n\t\t\t\tclassName={className}\n\t\t\t\tcomponent=\"main\"\n\t\t\t\tduration={duration}\n\t\t\t\tenteringDelay={100} // TODO: Can we remove this?\n\t\t\t\tenteringProp={enteringProp}\n\t\t\t\tindex={index}\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t>\n\t\t\t\t{mappedChildren}\n\t\t\t</ViewManager>\n\t\t);\n\t}\n};\n\nconst Viewport = SharedStateDecorator(ViewportBase);\n\nexport default Viewport;\nexport {\n\tViewport,\n\tViewportBase\n};\n","import kind from '@enact/core/kind';\nimport Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport CancelDecorator from './CancelDecorator';\nimport Controls from './Controls';\nimport IdProvider from './IdProvider';\nimport Viewport from './Viewport';\n\nimport componentCss from './Panels.module.less';\n\nconst getControlsId = (id) => id && `${id}-controls`;\n\n/**\n * Basic Panels component without breadcrumbs or default [arranger]{@link ui/ViewManager.Arranger}\n *\n * @class Panels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelsBase = kind({\n\tname: 'Panels',\n\n\tpropTypes: /** @lends agate/Panels.Panels.prototype */ {\n\t\t/**\n\t\t * Function that generates unique identifiers for Panel instances.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport.\n\t\t *\n\t\t * @see {@link ui/ViewManager.SlideRightArranger}\n\t\t * @type {ui/ViewManager.Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object whose keys will used as props for each child\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A slot to insert additional Panels-level buttons into the global-navigation area.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tcontrols: PropTypes.node,\n\n\t\t/**\n\t\t * The measurement bounds of the controls node\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsMeasurements: PropTypes.object,\n\n\t\t/**\n\t\t * The method which receives the reference node to the controls element, used to determine\n\t\t * the `controlsMeasurements`.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * The portion of the screen that this `Panels` instance should cover.\n\t\t *\n\t\t * @type {('full'|'partial')}\n\t\t * @default 'full'\n\t\t * @public\n\t\t */\n\t\tcover: PropTypes.oneOf(['full', 'partial']),\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Unique identifier for the Panels instance.\n\t\t *\n\t\t * When defined, `Panels` will manage the presentation state of `Panel` instances in order\n\t\t * to restore it when returning to the `Panel`. See\n\t\t * [noSharedState]{@link agate/Panels.Panels.noSharedState} for more details on shared\n\t\t * state.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disables panel transitions.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents maintaining shared state for framework components within this `Panels` instance.\n\t\t *\n\t\t * When `false`, each `Panel` will track the state of some framework components in order to\n\t\t * restore that state when the Panel is recreated. For example, the scroll position of a\n\t\t * `agate/Scroller` within a `Panel` will be saved and restored when returning to that\n\t\t * `Panel`.\n\t\t *\n\t\t * This only applied when navigating \"back\" (to a lower index) to `Panel`. When navigating\n\t\t * \"forwards\" (to a higher index), the `Panel` and its contained components will use their\n\t\t * default state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoSharedState: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called with cancel/back key events.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonBack: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical'])\n\t},\n\n\tdefaultProps: {\n\t\tcover: 'full',\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false,\n\t\tnoCloseButton: false,\n\t\tnoSharedState: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panels',\n\t\tpublicClassNames: 'panels enact-fit'\n\t},\n\n\tcomputed: {\n\t\tchildProps: ({childProps, controls, id, noCloseButton}) => {\n\t\t\tif ((noCloseButton && !controls) || !id) {\n\t\t\t\treturn childProps;\n\t\t\t}\n\n\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\tconst controlsId = getControlsId(id);\n\t\t\tconst owns = updatedChildProps['aria-owns'];\n\n\t\t\tif (owns) {\n\t\t\t\tupdatedChildProps['aria-owns'] = `${owns} ${controlsId}`;\n\t\t\t} else {\n\t\t\t\tupdatedChildProps['aria-owns'] = controlsId;\n\t\t\t}\n\n\t\t\treturn updatedChildProps;\n\t\t},\n\n\t\tclassName: ({controls, cover, noCloseButton, styler}) => styler.append(cover, {\n\t\t\t'agate-panels-hasControls': (!noCloseButton || !!controls) // If there is a close button or controls were specified\n\t\t}),\n\n\t\tstyle: ({controlsMeasurements, style = {}}) => (controlsMeasurements ? {\n\t\t\t...style,\n\t\t\t'--agate-panels-controls-width': controlsMeasurements.width + 'px'\n\t\t} : style),\n\n\t\tviewportId: ({id}) => id && `${id}-viewport`\n\t},\n\n\trender: ({\n\t\tarranger,\n\t\tchildProps,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcontrols,\n\t\tcontrolsRef,\n\t\tduration,\n\t\tgenerateId,\n\t\tid,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tnoSharedState,\n\t\tonApplicationClose,\n\t\torientation,\n\t\tviewportId,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.controlsMeasurements;\n\t\tdelete rest.cover;\n\t\tdelete rest.onBack;\n\n\t\tconst controlsId = getControlsId(id);\n\n\t\treturn (\n\t\t\t<div {...rest} id={id}>\n\t\t\t\t<Controls\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tid={controlsId}\n\t\t\t\t\tspotlightId={controlsId}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tref={controlsRef}\n\t\t\t\t>\n\t\t\t\t\t{controls}\n\t\t\t\t</Controls>\n\t\t\t\t<Viewport\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\tid={viewportId}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoSharedState={noSharedState}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Viewport>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst PanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tCancelDecorator({cancel: 'onBack'}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tIdProvider,\n\tSkinnable\n);\n\nconst Panels = PanelsDecorator(PanelsBase);\n\nexport default Panels;\nexport {\n\tPanels,\n\tPanelsBase\n};\n","/**\n * Provides the `deprecate` method\n *\n * @module core/internal/deprecate\n * @private\n */\n\n// Utility method to format deprecate message\nconst formatMsg = ({message, name, until, replacedBy, since}) => {\n\tlet msg = 'DEPRECATED:';\n\n\tif (name) {\n\t\tmsg += ` ${name}`;\n\t}\n\tif (since) {\n\t\tmsg += ` since ${since}`;\n\t}\n\tif (until) {\n\t\tif (name || since) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Will be removed in ${until}`;\n\t}\n\tif (replacedBy) {\n\t\tif (name || since || until) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Replaced by ${replacedBy}`;\n\t}\n\tif (name || since || until || replacedBy) {\n\t\tmsg += '.';\n\t}\n\tif (message) {\n\t\tmsg += ` ${message}.`;\n\t}\n\treturn msg;\n};\n\n// Utility method for console warning\nconst warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Marks a function, component or property (via `propTypes`) as deprecated. Deprecated items will\n * log a message on first invocation. Can also be used 'stand-alone' to issue a deprecation warning.\n * In stand-alone mode it currently will log every time.  In production mode, the deprecation\n * warning disappears.\n *\n * @function\n * @param {*} thing - The thing to be wrapped, or the deprecation config in stand-alone\n * @param {Object?} config - The deprecation config\n * @param {String?} config.name - An optional name for the deprecated item\n * @param {String?} config.message - An optional message to display\n * @param {String?} config.since - The version where deprecation started (optional)\n * @param {String?} config.until - The version where the functionality will be removed (optional)\n * @param {String?} config.replacedBy - An optional alternative\n * @param {Boolean?} config.alwaysWarn - If `true`, a warning will be issued for every access\n * @returns {*} Either a wrapped version of `thing` or an unwrapped version of `thing` in\n *\tproduction or stand-alone mode\n * @memberof core/internal/deprecate\n * @private\n */\nconst deprecate = function (thing, config) {\n\tif (__DEV__) {\n\t\tif (!config) {\t// If no config, config only invocation, just log message\n\t\t\tconst msg = formatMsg(thing);\n\t\t\twarn(msg);\n\t\t\treturn thing;\n\t\t} else {\n\t\t\tlet displayed, msg;\n\t\t\treturn (...args) => {\n\t\t\t\tif (!displayed || config.alwaysWarn) {\n\t\t\t\t\tif (!msg) {\n\t\t\t\t\t\tmsg = formatMsg(config);\n\t\t\t\t\t}\n\t\t\t\t\twarn(msg);\n\t\t\t\t\tdisplayed = true;\n\t\t\t\t}\n\t\t\t\treturn thing(...args);\n\t\t\t};\n\t\t}\n\t} else {\n\t\treturn thing;\n\t}\n};\n\nexport default deprecate;\nexport {deprecate};\n","import PropTypes from 'prop-types';\n\nimport {isRenderable} from '../../util';\n\nimport deprecate from '../deprecate';\n\nconst isRequired = (fn) => {\n\tfn.isRequired = function (props, key, componentName, location, propFullName, ...rest) {\n\t\tconst propValue = props[key];\n\t\tif (typeof propValue === 'undefined') {\n\t\t\treturn new Error(\n\t\t\t\t`'${propFullName}' is required for '${componentName}' but was undefined.`\n\t\t\t);\n\t\t}\n\n\t\treturn fn(propValue, key, componentName, location, propFullName, ...rest);\n\t};\n\n\treturn fn;\n};\n\nconst renderable = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && !isRenderable(propValue)) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a renderable value but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst component = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && (typeof propValue === 'string' || !isRenderable(propValue))) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a function but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst renderableOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\trenderable\n]);\n\nconst componentOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\tcomponent\n]);\n\nconst ref = PropTypes.oneOfType([PropTypes.shape({\n\tcurrent: PropTypes.any\n}), PropTypes.func]);\n\n/*\n * Wrap a prop type validator with a deprecation warning when the prop has a non-null value\n *\n * @param {Function} base Prop type validator\n * @param {Object} config deprecatioon configuration\n */\nconst deprecated = (base, config) => {\n\t// Wrap in a no-op so deprecate only warns once\n\tconst warn = deprecate(() => true, config);\n\treturn (props, key, ...rest) => {\n\t\t// Warn on a non-null value for the prop\n\t\tif (props[key] != null) warn();\n\n\t\t// Pass on to the prop type validator\n\t\treturn base(props, key, ...rest);\n\t};\n};\n\nconst EnactPropTypes = {\n\tcomponent,\n\tcomponentOverride,\n\tref,\n\tdeprecated,\n\trenderable,\n\trenderableOverride\n};\n\nexport default EnactPropTypes;\n","/**\n * Exports the {@link i18n/locale.isNonLatinLocale}, {@link i18n/locale.isRtlLocale} and\n * {@link i18n/locale.updateLocale} functions.\n *\n * @module i18n/locale\n * @private\n */\n\nimport ilib from 'ilib';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport ScriptInfo from 'ilib/lib/ScriptInfo';\n\nimport {initCaseMappers} from '../src/case';\n\n// Returns `true` if a locale list is provided and it includes either the language (the first part\n// of the spec e.g. ko) or the entire spec (e.g. ko-KR)\nconst includesLocale = (localeList, locale) => Array.isArray(localeList) && (\n\tlocaleList.includes(locale.getLanguage()) ||\n\tlocaleList.includes(locale.toString())\n);\n\n/**\n * Tell whether or not the given locale is considered a non-Latin locale for webOS purposes. This\n * controls which fonts are used in various places to show the various languages. An undefined spec\n * parameter means to test the current locale.\n *\n * @memberof i18n/locale\n * @param {ilib.Locale|string|undefined} spec locale specifier or locale object of the locale to\n *\ttest, or undefined to test the current locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isNonLatinLocale (spec, options = {}) {\n\tconst {onLoad, latinLanguageOverrides, nonLatinLanguageOverrides, ...rest} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(spec, {\n\t\t...rest,\n\t\tonLoad: (li) => {\n\t\t\tconst locale = li.getLocale();\n\n\t\t\tonLoad(\n\t\t\t\t// the language actually is non-latin and should not be treated as latin\n\t\t\t\t(li.getScript() !== 'Latn' && !includesLocale(latinLanguageOverrides, locale)) ||\n\t\t\t\t// the language is latin but should be treated as non-latin\n\t\t\t\tincludesLocale(nonLatinLanguageOverrides, locale)\n\t\t\t);\n\t\t}\n\t});\n}\n\n/**\n * Determines if current locale is a right-to-left locale.\n *\n * @memberof i18n/locale\n * @param {Object} [options] An object configuring the request. Must include an `onLoad` member to\n *                           receive the result.\n */\nfunction isRtlLocale (options = {}) {\n\tconst {onLoad, sync} = options;\n\n\tif (!onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew LocaleInfo(ilib.getLocale(), {\n\t\t...options,\n\t\tonLoad: (li) => {\n\t\t\tconst scriptName = li.getScript();\n\t\t\t// eslint-disable-next-line no-new\n\t\t\tnew ScriptInfo(scriptName, {\n\t\t\t\tsync,\n\t\t\t\tonLoad: (script) => {\n\t\t\t\t\tonLoad(script.getScriptDirection() === 'rtl');\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * This Enact hook lets us know that the system locale has changed and gives\n * us a chance to update the iLib locale before Enact broadcasts its\n * `onlocalechange` signal.\n * Provide a locale string, like 'en-US' or 'ja-JP', to conveniently set\n * that locale immediately. Provide nothing, and reset the locale back to the\n * browser's default language.\n *\n * @memberof i18n/locale\n * @param {String} locale Locale identifier\n * @returns {undefined}\n */\nconst updateLocale = function (locale) {\n\t// blow away the cache to force it to reload the manifest files for the new app\n\t// eslint-disable-next-line no-undefined\n\tif (ilib._load) ilib._load.manifest = undefined;\n\t// remove the cache of the platform name to allow transition between snapshot and browser\n\tdelete ilib._platform;\n\t// load any external ilib/resbundle data\n\tilib.data = global.ilibData || ilib.data;\n\tilib.data.cache = ilib.data.cache || {};\n\tilib.data.cache['ResBundle-strings'] = global.resBundleData || {};\n\t// ilib handles falsy values and automatically uses local locale when encountered which\n\t// is expected and desired\n\tilib.setLocale(locale);\n\tconst newLocale = ilib.getLocale();\n\t// Recreate the case mappers to use the just-recently-set locale\n\tinitCaseMappers();\n\n\treturn newLocale;\n};\n\nexport {\n\tisNonLatinLocale,\n\tisRtlLocale,\n\tupdateLocale\n};\n","const calcProportion = (min, max, value) => {\n\tif (value <= min) {\n\t\treturn 0;\n\t} else if (value >= max) {\n\t\treturn 1;\n\t} else {\n\t\treturn (value - min) / (max - min);\n\t}\n};\n\nexport {\n\tcalcProportion\n};\n","import clamp from 'ramda/src/clamp';\nimport {adaptEvent, forKey, forProp, forward, handle, oneOf, stop} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {calcProportion} from '@enact/ui/Slider/utils';\n\nconst calcStep = (knobStep, step) => {\n\tlet s;\n\n\tif (knobStep != null) {\n\t\ts = knobStep;\n\t} else if (step != null) {\n\t\ts = step;\n\t}\n\n\t// default to a step of 1 if neither are set or are set to 0\n\t// otherwise, increment/decrement would be no-ops\n\treturn s || 1;\n};\n\nconst isIncrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('up', keyCode) : is('right', keyCode);\n};\n\nconst isDecrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('down', keyCode) : is('left', keyCode);\n};\n\nconst isNotMax = (ev, {value, max}) => {\n\treturn value !== max;\n};\n\nconst isNotMin = (ev, {min, value = min}) => {\n\treturn value !== min;\n};\n\nconst emitChange = (direction) =>  adaptEvent(\n\t(ev, {knobStep, max, min, step, value = min}) => {\n\t\tconst newValue = clamp(min, max, value + (calcStep(knobStep, step) * direction));\n\n\t\treturn {\n\t\t\tvalue: newValue,\n\t\t\tproportion: calcProportion(min, max, newValue),\n\t\t\ttype: 'onChange'\n\t\t};\n\t},\n\tforward('onChange')\n);\n\nconst isActive = (ev, props) => {\n\treturn props.active || props.activateOnFocus;\n};\n\nconst handleIncrement = handle(\n\tisActive,\n\tisIncrement,\n\tstop,\n\tisNotMax,\n\temitChange(1)\n);\n\nconst handleDecrement = handle(\n\tisActive,\n\tisDecrement,\n\tstop,\n\tisNotMin,\n\temitChange(-1)\n);\n\nconst either = (a, b) => (...args) => a(...args) || b(...args);\nconst atMinimum = (ev, {min, value = min}) => value <= min;\nconst atMaximum = (ev, {max, min, value = min}) => value >= max;\nconst forwardOnlyType = (type) => adaptEvent(() => ({type}), forward(type));\n\nconst forwardSpotlightEvents = oneOf(\n\t[forKey('left'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMinimum),\n\t\tforwardOnlyType('onSpotlightLeft')\n\t)],\n\t[forKey('right'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMaximum),\n\t\tforwardOnlyType('onSpotlightRight')\n\t)],\n\t[forKey('down'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMinimum),\n\t\tforwardOnlyType('onSpotlightDown')\n\t)],\n\t[forKey('up'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMaximum),\n\t\tforwardOnlyType('onSpotlightUp')\n\t)]\n);\n\nexport {\n\tforwardSpotlightEvents,\n\temitChange,\n\thandleDecrement,\n\thandleIncrement\n};\n","import {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport {onWindowReady} from '@enact/core/snapshot';\nimport {clamp} from '@enact/core/util';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport {constants} from '@enact/ui/useScroll';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst {animationDuration, epsilon, isPageDown, isPageUp, paginationPageMultiplier, scrollWheelPageMultiplierForMaxPixel} = constants;\nlet lastPointer = {x: 0, y: 0};\n\nconst useEventFocus = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {scrollContainerHandle, scrollContainerRef, scrollContentRef, spottable, themeScrollContentHandle} = instances;\n\tconst {alertScrollbarTrack} = context;\n\n\t// Functions\n\n\tconst startScrollOnFocus = (pos) => {\n\t\tif (pos) {\n\t\t\tconst\n\t\t\t\t{top, left} = pos,\n\t\t\t\tbounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: (animationDuration > 0) && spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction calculateAndScrollTo () {\n\t\tconst\n\t\t\tpositionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n\t\t\tscrollContentNode = scrollContentRef.current,\n\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\tif (spotItem && positionFn && utilDOM.containsDangerously(scrollContentNode, spotItem)) {\n\t\t\tconst lastPos = spottable.current.lastScrollPositionOnFocus;\n\t\t\tlet pos;\n\n\t\t\t// If scroll animation is ongoing, we need to pass last target position to\n\t\t\t// determine correct scroll position.\n\t\t\tif (lastPos & (\n\t\t\t\tscrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() ||\n\t\t\t\tscrollMode === 'native' && scrollContainerHandle.current.scrolling\n\t\t\t)) {\n\t\t\t\tconst\n\t\t\t\t\tcontentRect = getRect(scrollContentNode),\n\t\t\t\t\titemRect = getRect(spotItem);\n\t\t\t\tlet scrollPosition;\n\n\t\t\t\tif (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n\t\t\t\t\tscrollPosition = lastPos.left;\n\t\t\t\t} else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n\t\t\t\t\tscrollPosition = lastPos.top;\n\t\t\t\t}\n\n\t\t\t\tpos = positionFn({item: spotItem, scrollPosition});\n\t\t\t} else {\n\t\t\t\tpos = positionFn({item: spotItem});\n\t\t\t}\n\n\t\t\tif (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n\t\t\t\tstartScrollOnFocus(pos);\n\t\t\t}\n\n\t\t\t// update `scrollHeight`\n\t\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t\t}\n\t}\n\n\tfunction handleFocus (ev) {\n\t\tconst shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ?\n\t\t\tthemeScrollContentHandle.current.shouldPreventScrollByFocus() :\n\t\t\tfalse;\n\n\t\tif (spottable.current.isWheeling) {\n\t\t\tscrollContainerHandle.current.stop();\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tspottable.current.animateOnFocus = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\talertScrollbarTrack();\n\t\t}\n\n\t\tif (!(shouldPreventScrollByFocus || Spotlight.getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n\t\t\tconst\n\t\t\t\titem = ev.target,\n\t\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\t\tif (item && item === spotItem) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t} else if (themeScrollContentHandle.current.setLastFocusedNode) {\n\t\t\tthemeScrollContentHandle.current.setLastFocusedNode(ev.target);\n\t\t}\n\t}\n\n\tfunction hasFocus () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && scrollContainerRef.current) {\n\t\t\treturn utilDOM.containsDangerously(scrollContainerRef, current);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculateAndScrollTo,\n\t\thandleFocus,\n\t\thasFocus\n\t};\n};\n\nconst useEventKey = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, spottable, scrollContentRef, scrollContainerHandle} = instances;\n\tconst {hasFocus, isContent} = context;\n\n\t// Functions\n\n\tfunction handleKeyDown (ev) {\n\t\tconst {keyCode, repeat, target} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\n\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && hasFocus()) {\n\t\t\tlet direction = null;\n\n\t\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\tif (props.direction === 'vertical' || props.direction === 'both') {\n\t\t\t\t\tdirection = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\t\t\tif (isContent(target)) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tscrollByPage(direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (getDirection(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !Spotlight.getPointerMode())) {\n\t\t\t\tscrollContainerHandle.current.lastInputType = 'arrowKey';\n\t\t\t\tdirection = getDirection(keyCode);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction scrollByPage (direction) {\n\t\tconst\n\t\t\t{scrollTop} = scrollContainerHandle.current,\n\t\t\tfocusedItem = Spotlight.getCurrent(),\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tisUp = direction === 'up',\n\t\t\tdirectionFactor = isUp ? -1 : 1,\n\t\t\tpageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n\t\tlet scrollPossible = false;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n\t\t} else {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n\t\t}\n\n\t\tscrollContainerHandle.current.lastInputType = 'pageKey';\n\n\t\tif (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = directionFactor;\n\t\t}\n\n\t\tif (scrollPossible) {\n\t\t\tif (focusedItem) {\n\t\t\t\tconst contentNode = scrollContentRef.current;\n\n\t\t\t\t// Should do nothing when focusedItem is paging control button of Scrollbar\n\t\t\t\tif (utilDOM.containsDangerously(contentNode, focusedItem)) {\n\t\t\t\t\tconst\n\t\t\t\t\t\tcontentRect = contentNode.getBoundingClientRect(),\n\t\t\t\t\t\tclientRect = focusedItem.getBoundingClientRect(),\n\t\t\t\t\t\tyAdjust = isUp ? 1 : -1,\n\t\t\t\t\t\tx = clamp(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n\t\t\t\t\tlet y = 0;\n\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\ty = bounds.maxTop <= scrollTop + pageDistance || 0 >= scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentRect[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentNode.getBoundingClientRect()[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tfocusedItem.blur();\n\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.pauseSpotlight(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.pointToFocus = {direction, x, y};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspottable.current.pointToFocus = {direction, x: lastPointer.x, y: lastPointer.y};\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true);\n\t\t}\n\t}\n\n\tfunction scrollByPageOnPointerMode (ev) {\n\t\tconst {keyCode, repeat} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\t\tev.preventDefault();\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n\t\t\tconst direction = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\tscrollByPage(direction);\n\n\t\t\treturn true; // means consumed\n\t\t}\n\n\t\treturn false; // means to be propagated\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleKeyDown,\n\t\tlastPointer,\n\t\tscrollByPageOnPointerMode\n\t};\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nconst scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nconst pointerTracker = (ev) => {\n\tlastPointer.x = ev.clientX;\n\tlastPointer.y = ev.clientY;\n};\n\nconst pageKeyHandler = (ev) => {\n\tconst {keyCode} = ev;\n\n\tif (Spotlight.getPointerMode() && !Spotlight.getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n\t\tconst\n\t\t\t{x, y} = lastPointer,\n\t\t\telem = document.elementFromPoint(x, y);\n\n\t\tif (elem) {\n\t\t\tfor (const [key, value] of scrollers) {\n\t\t\t\tif (utilDOM.containsDangerously(value, elem)) {\n\t\t\t\t\t/* To handle page keys in nested scrollable components,\n\t\t\t\t\t * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n\t\t\t\t\t * This approach assumes that an inner scrollable component is\n\t\t\t\t\t * mounted earlier than an outer scrollable component.\n\t\t\t\t\t */\n\t\t\t\t\tif (key.scrollByPageOnPointerMode(ev)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useEventMonitor = (props, instances, context) => {\n\tconst {scrollContainerRef} = instances;\n\tconst {lastPointer: lastPointerProp, scrollByPageOnPointerMode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({pageKeyHandlerObj: {scrollByPageOnPointerMode}});\n\n\tlastPointer = lastPointerProp;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst setMonitorEventTarget = (target) => {\n\t\t\tscrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n\t\t};\n\n\t\tconst deleteMonitorEventTarget = () => {\n\t\t\tscrollers.delete(mutableRef.current.pageKeyHandlerObj);\n\t\t};\n\n\t\tsetMonitorEventTarget(scrollContainerRef.current);\n\n\t\treturn () => {\n\t\t\t// TODO: Replace `this` to something.\n\t\t\tdeleteMonitorEventTarget();\n\t\t};\n\t}, [scrollContainerRef]);\n};\n\nonWindowReady(() => {\n\tutilEvent('mousemove').addEventListener(document, pointerTracker);\n\tutilEvent('keydown').addEventListener(document, pageKeyHandler);\n});\n\nconst useEventMouse = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContainerHandle} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleDragEnd () {\n\t\tscrollContainerHandle.current.isDragging = false;\n\n\t\tif (!scrollContainerHandle.current.isFlicked) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\tfunction handleDragStart () {\n\t\tscrollContainerHandle.current.isDragging = true;\n\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t}\n\n\tfunction handleFlick ({direction}) {\n\t\tconst\n\t\t\t{canScrollHorizontally, canScrollVertically} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tfocusedItem = Spotlight.getCurrent();\n\n\t\tscrollContainerHandle.current.isFlicked = true;\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif ((\n\t\t\tdirection === 'vertical' && canScrollVertically(bounds) ||\n\t\t\tdirection === 'horizontal' && canScrollHorizontally(bounds)\n\t\t) && !props['data-spotlight-container-disabled']) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t}\n\t}\n\n\tfunction handleMouseDown (ev) {\n\t\tif (isScrollButtonFocused()) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tif (props['data-spotlight-container-disabled']) {\n\t\t\tev.preventDefault();\n\t\t} else if (scrollMode === 'native') {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleMouseDown\n\t};\n};\n\nconst useEventTouch = (props, instnaces, context) => {\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleTouchStart () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (!Spotlight.isPaused() && focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleTouchStart\n\t};\n};\n\nconst useEventVoice = (props, instances, context) => {\n\tconst {scrollContainerRef, scrollContainerHandle} = instances;\n\tconst {onScrollbarButtonClick} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisVoiceControl: false,\n\t\tvoiceControlDirection: 'vertical'\n\t});\n\n\t// Functions\n\n\tconst updateFocusAfterVoiceControl = () => {\n\t\tconst\n\t\t\tspotItem = Spotlight.getCurrent(),\n\t\t\tscrollContainerNode = scrollContainerRef.current;\n\n\t\tif (utilDOM.containsDangerously(scrollContainerNode, spotItem)) {\n\t\t\tconst\n\t\t\t\tviewportBounds = scrollContainerNode.getBoundingClientRect(),\n\t\t\t\tspotItemBounds = spotItem.getBoundingClientRect(),\n\t\t\t\tnodes = Spotlight.getSpottableDescendants(scrollContainerNode.dataset.spotlightId),\n\t\t\t\tfirst = mutableRef.current.voiceControlDirection === 'vertical' ? 'top' : 'left',\n\t\t\t\tlast = mutableRef.current.voiceControlDirection === 'vertical' ? 'bottom' : 'right';\n\n\t\t\tif (spotItemBounds[last] < viewportBounds[first] || spotItemBounds[first] > viewportBounds[last]) {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tconst nodeBounds = nodes[i].getBoundingClientRect();\n\n\t\t\t\t\tif (nodeBounds[first] > viewportBounds[first] && nodeBounds[last] < viewportBounds[last]) {\n\t\t\t\t\t\tSpotlight.focus(nodes[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction stopVoice () {\n\t\tif (mutableRef.current.isVoiceControl) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t\tupdateFocusAfterVoiceControl();\n\t\t}\n\t}\n\n\tconst isReachedEdge = (scrollPos, ltrBound, rtlBound, isRtl = false) => {\n\t\tconst bound = isRtl ? rtlBound : ltrBound;\n\t\treturn (bound === 0 && scrollPos === 0) || (bound > 0 && scrollPos >= bound - 1);\n\t};\n\n\tconst handleVoice = (e) => {\n\t\tconst\n\t\t\tisHorizontal = (props.direction === 'horizontal'),\n\t\t\tisRtl = scrollContainerHandle.current.rtl,\n\t\t\t{scrollTop, scrollLeft} = scrollContainerHandle.current,\n\t\t\t{maxLeft, maxTop} = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tverticalDirection = ['up', 'down', 'top', 'bottom'],\n\t\t\thorizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n\t\t\tmovement = ['previous', 'next', 'first', 'last'];\n\t\tlet\n\t\t\tscroll = e && e.detail && e.detail.scroll,\n\t\t\tindex = movement.indexOf(scroll);\n\n\t\tif (index > -1) {\n\t\t\tscroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n\t\t}\n\n\t\tmutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n\t\t// Case 1. Invalid direction\n\t\tif (mutableRef.current.voiceControlDirection === null) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t// Case 2. Cannot scroll\n\t\t} else if (\n\t\t\t(['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0)) ||\n\t\t\t(['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop)) ||\n\t\t\t(['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl)) ||\n\t\t\t(['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl))\n\t\t) {\n\t\t\tif (window.webOSVoiceReportActionResult) {\n\t\t\t\twindow.webOSVoiceReportActionResult({voiceUi: {exception: 'alreadyCompleted'}});\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t// Case 3. Can scroll\n\t\t} else {\n\t\t\tmutableRef.current.isVoiceControl = true;\n\n\t\t\tif (['up', 'down', 'left', 'right'].includes(scroll)) {\n\t\t\t\tconst isPreviousScrollButton = (scroll === 'up') || (scroll === 'left' && !isRtl) || (scroll === 'right' && isRtl);\n\t\t\t\tonScrollbarButtonClick({isPreviousScrollButton, isVerticalScrollBar: verticalDirection.includes(scroll)});\n\t\t\t} else { // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n\t\t\t\tscrollContainerHandle.current.scrollTo({align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'});\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t};\n\n\tfunction addVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n\t\t}\n\t}\n\n\tfunction removeVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.removeAttribute('data-webos-voice-intent');\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t};\n};\n\nconst useEventWheel = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle, spottable} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleWheel ({delta}) {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\tspottable.current.isWheeling = true;\n\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * wheel event handler;\n\t * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t * - for vertical scroll, supports wheel action on scrollbars only\n\t */\n\tfunction handleWheelNative (ev) {\n\t\tconst\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tcanScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds),\n\t\t\tcanScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds),\n\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\tlet\n\t\t\tdelta = 0,\n\t\t\tneedToHideScrollbarTrack = false;\n\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.document.activeElement.blur();\n\t\t}\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\n\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\tif (canScrollVertically) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollTop > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollTop < bounds.maxTop) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\tif ((horizontalScrollbarHandle.current && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target)) ||\n\t\t\t\t\t(verticalScrollbarHandle.current && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target))) {\n\t\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t} else if (canScrollHorizontally) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollLeft > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\t/* prevent native scrolling feature for vertical direction */\n\t\t\tev.preventDefault();\n\n\t\t\tconst direction = Math.sign(delta);\n\n\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\tif (direction !== scrollContainerHandle.current.wheelDirection) {\n\t\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically);\n\t\t}\n\n\t\tif (needToHideScrollbarTrack) {\n\t\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n\t};\n};\n\nexport {\n\tuseEventFocus,\n\tuseEventKey,\n\tuseEventMonitor,\n\tuseEventMouse,\n\tuseEventTouch,\n\tuseEventVoice,\n\tuseEventWheel\n};\n","import {constants} from '@enact/ui/useScroll';\n\nconst {paginationPageMultiplier} = constants;\n\nconst useScrollbar = (props, instances) => {\n\tconst {horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle} = instances;\n\n\tconst scrollbarProps = {\n\t\tcbAlertScrollbarTrack: alertScrollbarTrack,\n\t\tonNextScroll: onScrollbarButtonClick,\n\t\tonPrevScroll: onScrollbarButtonClick\n\t};\n\n\t// Functions\n\n\tfunction isScrollButtonFocused () {\n\t\treturn (\n\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.isOneOfScrollButtonsFocused() ||\n\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.isOneOfScrollButtonsFocused()\n\t\t);\n\t}\n\n\tfunction onScrollbarButtonClick ({isPreviousScrollButton, isVerticalScrollBar}) {\n\t\tconst\n\t\t\t{wheelDirection} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tdirection = isPreviousScrollButton ? -1 : 1,\n\t\t\tpageDistance = direction * (isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tscrollContainerHandle.current.lastInputType = 'scrollbarButton';\n\n\t\tif (direction !== wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t}\n\n\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, isVerticalScrollBar);\n\t}\n\n\tfunction focusOnScrollButton (scrollbarHandle, isPreviousScrollButton) {\n\t\tif (scrollbarHandle.current) {\n\t\t\tscrollbarHandle.current.focusOnButton(isPreviousScrollButton);\n\t\t}\n\t}\n\n\tfunction scrollAndFocusScrollbarButton (direction) {\n\t\tif (scrollContainerHandle.current) {\n\t\t\tconst\n\t\t\t\t{rtl} = scrollContainerHandle.current,\n\t\t\t\tisPreviousScrollButton = direction === 'up' || (rtl ? direction === 'right' : direction === 'left'),\n\t\t\t\tisHorizontalDirection = direction === 'left' || direction === 'right',\n\t\t\t\tisVerticalDirection = direction === 'up' || direction === 'down',\n\t\t\t\tcanScrollHorizontally = isHorizontalDirection && (props.direction === 'horizontal' || props.direction === 'both'),\n\t\t\t\tcanScrollingVertically = isVerticalDirection && (props.direction === 'vertical' || props.direction === 'both');\n\n\t\t\tif (canScrollHorizontally || canScrollingVertically) {\n\t\t\t\tonScrollbarButtonClick({\n\t\t\t\t\tisPreviousScrollButton,\n\t\t\t\t\tisVerticalScrollBar: canScrollingVertically\n\t\t\t\t});\n\n\t\t\t\tif (props.focusableScrollbar) {\n\t\t\t\t\tfocusOnScrollButton(\n\t\t\t\t\t\tcanScrollingVertically ? verticalScrollbarHandle : horizontalScrollbarHandle,\n\t\t\t\t\t\tisPreviousScrollButton\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction alertScrollbarTrack () {\n\t\tconst bounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t}\n\n\t// Return\n\n\treturn {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t};\n};\n\nexport default useScrollbar;\nexport {\n\tuseScrollbar\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useContext, useEffect, useLayoutEffect} from 'react';\n\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport scrollbarCss from './Scrollbar.module.less';\n\nconst navigableFilter = (elem) => {\n\tif (\n\t\t!Spotlight.getPointerMode() &&\n\t\t// ignore containers passed as their id\n\t\ttypeof elem !== 'string' &&\n\t\tutilDOM.containsDangerously(elem.classList, scrollbarCss.scrollButton)\n\t) {\n\t\treturn false;\n\t}\n};\n\nconst useSpotlightConfig = (props) => {\n\t// Hooks\n\n\tuseLayoutEffect(() => {\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props['data-spotlight-id'], {\n\t\t\t\tnavigableFilter: props.focusableScrollbar ? null : navigableFilter\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props]);\n};\n\nconst useSpotlightRestore = (props, instances) => {\n\tconst {scrollContainerHandle} = instances;\n\tconst context = useContext(SharedState);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\t// Only intended to be used within componentDidMount, this method will fetch the last stored\n\t\t// scroll position from SharedState and scroll (without animation) to that position\n\t\tfunction restoreScrollPosition () {\n\t\t\tconst {id} = props;\n\t\t\tif (id && context && context.get) {\n\t\t\t\tconst scrollPosition = context.get(`${id}.scrollPosition`);\n\n\t\t\t\tif (scrollPosition) {\n\t\t\t\t\tscrollContainerHandle.current.scrollTo({\n\t\t\t\t\t\tposition: scrollPosition,\n\t\t\t\t\t\tanimate: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trestoreScrollPosition();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","/**\n * Agate-themed scrollable hook and behaviors.\n *\n * @module agate/useScroll\n * @exports dataIndexAttribute\n * @exports useScroll\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport Spotlight from '@enact/spotlight';\nimport {spottableClass} from '@enact/spotlight/Spottable';\nimport {getTargetByDirectionFromPosition} from '@enact/spotlight/src/target';\nimport {getRect, intersects} from '@enact/spotlight/src/utils';\nimport {useScrollBase} from '@enact/ui/useScroll';\nimport {assignPropertiesOf} from '@enact/ui/useScroll';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useContext, useRef} from 'react';\n\nimport $L from '../internal/$L';\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport {useThemeScrollContentHandle} from './useThemeScrollContentHandle';\nimport {\n\tuseEventFocus, useEventKey, useEventMonitor, useEventMouse,\n\tuseEventTouch, useEventVoice, useEventWheel\n} from './useEvent';\nimport useScrollbar from './useScrollbar';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst\n\treverseDirections = {\n\t\tdown: 'up',\n\t\tup: 'down'\n\t};\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link agate/VirtualList.VirtualList} or\n * [VirtualGridList]{@link agate/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof agate/useScroll\n * @type {String}\n * @private\n */\nconst dataIndexAttribute = 'data-index';\n\nconst isIntersecting = (elem, container) => elem && intersects(getRect(container), getRect(elem));\nconst getIntersectingElement = (elem, container) => isIntersecting(elem, container) && elem;\nconst getTargetInViewByDirectionFromPosition = (direction, position, container) => {\n\tconst target = getTargetByDirectionFromPosition(direction, position, Spotlight.getActiveContainer());\n\treturn getIntersectingElement(target, container);\n};\n\nconst useThemeScroll = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContentRef, scrollContainerHandle, scrollContainerRef} = instances;\n\tconst contextSharedState = useContext(SharedState);\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tanimateOnFocus: false,\n\t\tindexToFocus: null,\n\t\tisWheeling: false,\n\t\tlastScrollPositionOnFocus: null,\n\t\tnodeToFocus: null,\n\t\tpointToFocus: null\n\t});\n\n\t// Hooks\n\n\tconst {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t} = useScrollbar(props, instances);\n\n\tuseSpotlightConfig(props);\n\n\tuseSpotlightRestore(props, instances);\n\n\tconst {handleWheel} = useEventWheel(props, {...instances, spottable: mutableRef}, {isScrollButtonFocused});\n\n\tconst {calculateAndScrollTo, handleFocus, hasFocus} = useEventFocus(props, {...instances, spottable: mutableRef}, {alertScrollbarTrack});\n\n\tconst {handleKeyDown, lastPointer, scrollByPageOnPointerMode} = useEventKey(props, {...instances, spottable: mutableRef}, {hasFocus, isContent});\n\n\tuseEventMonitor({}, instances, {lastPointer, scrollByPageOnPointerMode});\n\n\tconst {handleDragEnd, handleDragStart, handleFlick, handleMouseDown} = useEventMouse({}, instances, {isScrollButtonFocused});\n\n\tconst {handleTouchStart} = useEventTouch({}, instances, {isScrollButtonFocused});\n\n\tconst {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t} = useEventVoice(props, instances, {onScrollbarButtonClick});\n\n\t// Functions\n\n\tfunction isContent (element) {\n\t\treturn (element && utilDOM.containsDangerously(scrollContentRef, element));\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tmutableRef.current.indexToFocus = (opt.focus && typeof opt.index === 'number') ? opt.index : null;\n\t\tmutableRef.current.nodeToFocus = (opt.focus && opt.node instanceof Object && opt.node.nodeType === 1) ? opt.node : null;\n\t}\n\n\tfunction start (animate) {\n\t\tif (scrollMode === 'native' && !animate) {\n\t\t\tfocusOnItem();\n\t\t}\n\t}\n\n\tfunction stop () {\n\t\tif (mutableRef.current.isDragging && !mutableRef.current.isFlicked) return;\n\n\t\tif (!props['data-spotlight-container-disabled'] || mutableRef.current.isFlicked || mutableRef.current.isWheeling) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\n\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\tthemeScrollContentHandle.current.pauseSpotlight(false);\n\t\t}\n\n\t\tfocusOnItem();\n\t\tmutableRef.current.lastScrollPositionOnFocus = null;\n\t\tmutableRef.current.isFlicked = false;\n\t\tmutableRef.current.isWheeling = false;\n\t\tstopVoice();\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tstop();\n\t}\n\n\tfunction focusOnItem () {\n\t\tif (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n\t\t\tmutableRef.current.indexToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n\t\t\tmutableRef.current.nodeToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.pointToFocus !== null) {\n\t\t\t// no need to focus on pointer mode\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tconst\n\t\t\t\t\t{direction, x, y} = mutableRef.current.pointToFocus,\n\t\t\t\t\tposition = {x, y},\n\t\t\t\t\telemFromPoint = document.elementFromPoint(x, y),\n\t\t\t\t\ttarget =\n\t\t\t\t\t\telemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(`.${spottableClass}`), scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n\t\t\t\tif (target) {\n\t\t\t\t\tSpotlight.focus(target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.pointToFocus = null;\n\t\t}\n\t}\n\n\tfunction handleScroll (ev) {\n\t\tconst\n\t\t\t{scrollLeft: x, scrollTop: y} = ev,\n\t\t\t{id} = props;\n\n\t\tforward('onScroll', ev, props);\n\n\t\tif (id && contextSharedState && contextSharedState.set) {\n\t\t\tcontextSharedState.set(ev, props);\n\t\t\tcontextSharedState.set(`${id}.scrollPosition`, {x, y});\n\t\t}\n\t}\n\n\t// Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\tfunction handleScrollerUpdate () {\n\t\tif (scrollContainerHandle.current.scrollToInfo === null) {\n\t\t\tconst scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n\t\t\tif (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t}\n\n\t\t// oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n\t\t// updated in calculateAndScrollTo but we might not have made it to that point), it will be\n\t\t// out of date when we land back in this method next time.\n\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t}\n\n\tfunction handleResizeWindow () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').addEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\taddVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').removeEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\tremoveVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll,\n\t\tscrollTo,\n\t\tstart,\n\t\tstop\n\t};\n};\n\n/**\n * A custom hook that passes Agate-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScroll = (props) => {\n\tconst\n\t\t{\n\t\t\t'data-spotlight-container': spotlightContainer,\n\t\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t\t'data-spotlight-id': spotlightId,\n\t\t\tfocusableScrollbar,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tscrollDownAriaLabel,\n\t\t\tscrollLeftAriaLabel,\n\t\t\tscrollMode,\n\t\t\tscrollRightAriaLabel,\n\t\t\tscrollUpAriaLabel,\n\t\t\t...rest\n\t\t} = props,\n\t\tdownButtonAriaLabel = scrollDownAriaLabel == null ? $L('scroll down') : scrollDownAriaLabel,\n\t\tupButtonAriaLabel = scrollUpAriaLabel == null ? $L('scroll up') : scrollUpAriaLabel,\n\t\trightButtonAriaLabel = scrollRightAriaLabel == null ? $L('scroll right') : scrollRightAriaLabel,\n\t\tleftButtonAriaLabel = scrollLeftAriaLabel == null ? $L('scroll left') : scrollLeftAriaLabel;\n\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef();\n\tconst scrollContentHandle = useRef();\n\tconst scrollContentRef = useRef();\n\tconst itemRefs = useRef([]);\n\n\tconst horizontalScrollbarHandle = useRef();\n\tconst verticalScrollbarHandle = useRef();\n\n\t// Handles\n\n\tconst [themeScrollContentHandle, setThemeScrollContentHandle] = useThemeScrollContentHandle();\n\n\tconst scrollContainerHandle = useRef({\n\t\tanimator: null,\n\t\tbounds: null,\n\t\tcalculateDistanceByWheel: null,\n\t\tcanScrollHorizontally: null,\n\t\tcanScrollVertically: null,\n\t\tgetScrollBounds: null,\n\t\tisDragging: null,\n\t\tisFlicked: null,\n\t\tisScrollAnimationTargetAccumulated: null,\n\t\tlastInputType: null,\n\t\trtl: null,\n\t\tscrollBounds: null,\n\t\tscrollHeight: null,\n\t\tscrolling: null,\n\t\tscrollLeft: null,\n\t\tscrollPos: null,\n\t\tscrollTo: null,\n\t\tscrollToAccumulatedTarget: null,\n\t\tscrollToInfo: null,\n\t\tscrollTop: null,\n\t\tshowScrollbarTrack: null,\n\t\tstart: null,\n\t\tstartHidingScrollbarTrack: null,\n\t\tstop: null,\n\t\twheelDirection: null\n\t});\n\n\tconst setScrollContainerHandle = (handle) => {\n\t\tscrollContainerHandle.current = handle;\n\t};\n\n\t// Hooks\n\n\tconst instance = {\n\t\t// Ref\n\t\tscrollContainerRef,\n\t\tscrollContentRef,\n\n\t\t// Handle\n\t\tthemeScrollContentHandle,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\thorizontalScrollbarHandle,\n\t\tverticalScrollbarHandle\n\t};\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties),\n\t\tscrollProps = {};\n\n\tconst {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll, // scrollMode 'native'\n\t\tscrollTo,\n\t\tstart, // scrollMode 'native'\n\t\tstop // scrollMode 'translate'\n\t} = useThemeScroll(props, instance);\n\n\t// Render\n\n\tif (scrollMode === 'translate') {\n\t\tscrollProps.stop = stop;\n\t} else {\n\t\tscrollProps.scrollStopOnScroll = scrollStopOnScroll;\n\t\tscrollProps.start = start;\n\t}\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...rest,\n\t\t...scrollProps,\n\t\tassignProperties,\n\t\tnoScrollByDrag: !platform.touchscreen,\n\t\taddEventListeners,\n\t\thandleResizeWindow,\n\t\thorizontalScrollbarHandle,\n\t\tonDragEnd: handleDragEnd,\n\t\tonDragStart: handleDragStart,\n\t\tonFlick: handleFlick,\n\t\tonKeyDown: handleKeyDown,\n\t\tonMouseDown: handleMouseDown,\n\t\tonScroll: handleScroll,\n\t\tonWheel: handleWheel,\n\t\tremoveEventListeners,\n\t\tscrollTo,\n\t\tsetScrollContainerHandle,\n\t\tscrollMode,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tscrollContainerRef,\n\t\tspotlightContainerDisabled,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {\n\t\t'data-spotlight-container': spotlightContainer,\n\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t'data-spotlight-id': spotlightId,\n\t\tonTouchStart: handleTouchStart,\n\t\tref: scrollContainerRef\n\t});\n\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tonUpdate: handleScrollerUpdate,\n\t\tscrollContainerRef,\n\t\tscrollAndFocusScrollbarButton,\n\t\tsetThemeScrollContentHandle,\n\t\tspotlightId,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\tscrollContentRef\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: downButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: upButtonAriaLabel,\n\t\tscrollbarHandle: verticalScrollbarHandle\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: rightButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: leftButtonAriaLabel,\n\t\tscrollbarHandle: horizontalScrollbarHandle\n\t});\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tdataIndexAttribute,\n\tuseScroll\n};\n","import {useRef} from 'react';\n\nconst useThemeScrollContentHandle = () => {\n\t// Mutable value\n\n\tconst themeScrollContentHandle = useRef({\n\t\tcalculatePositionOnFocus: null,\n\t\tfocusByIndex: null,\n\t\tfocusOnNode: null,\n\t\tgetScrollBounds: null,\n\t\tpauseSpotlight: null,\n\t\tsetContainerDisabled: null,\n\t\tsetLastFocusedNode: null,\n\t\tshouldPreventScrollByFocus: null\n\t});\n\n\t// Functions\n\n\tconst setThemeScrollContentHandle = (handle) => {\n\t\tthemeScrollContentHandle.current = handle;\n\t};\n\n\t// Return\n\n\treturn [themeScrollContentHandle, setThemeScrollContentHandle];\n};\n\nexport {\n\tuseThemeScrollContentHandle\n};\n","/**\n * Agate styled ToggleButton components and behaviors.\n *\n * @example\n * <ToggleButton underline>Hello Enact!</ToggleButton>\n *\n * @module agate/ToggleButton\n * @exports ToggleButton\n * @exports ToggleButtonBase\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport Toggleable from '@enact/ui/Toggleable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ToggleButton.module.less';\n\n/**\n * A stateless [Button]{@link agate/Button.Button} that can be toggled by changing its\n * `selected` property.\n *\n * @class ToggleButtonBase\n * @memberof agate/ToggleButton\n * @extends agate/Button.Button\n * @ui\n * @public\n */\nconst ToggleButtonBase = kind({\n\tname: 'ToggleButton',\n\n\tpropTypes: /** @lends agate/ToggleButton.ToggleButtonBase.prototype */ {\n\t\t/**\n\t\t * The string to be displayed as the main content of the toggle button.\n\t\t *\n\t\t * If `toggleOffLabel` and/or `toggleOnLabel` are provided, they will be used for the\n\t\t * respective states.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the button is currently in an \"on\" or \"off\" state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * Button text displayed in the 'off' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'off' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOffLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Button text displayed in the 'on' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'on' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOnLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard']),\n\n\t\t/**\n\t\t * Shows toggle indicator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tunderline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tselected: false,\n\t\tsize: 'large',\n\t\ttoggleOffLabel: '',\n\t\ttoggleOnLabel: '',\n\t\tunderline: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'toggleButton',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler, underline}) => styler.append({selected, underline}),\n\t\tchildren: ({children, selected, toggleOnLabel, toggleOffLabel}) => {\n\t\t\tlet c = children;\n\t\t\tif (selected && toggleOnLabel) {\n\t\t\t\tc = toggleOnLabel;\n\t\t\t} else if (!selected && toggleOffLabel) {\n\t\t\t\tc = toggleOffLabel;\n\t\t\t}\n\t\t\treturn c;\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tdelete props.underline;\n\t\tdelete props.toggleOffLabel;\n\t\tdelete props.toggleOnLabel;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...props}\n\t\t\t\taria-pressed={props.selected}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * A toggleable button.\n *\n * By default, `ToggleButton` maintains the state of its `selected` property.\n * Supply the `defaultSelected` property to control its initial value. If you\n * wish to directly control updates to the component, supply a value to `selected` at creation time\n * and update it in response to `onToggle` events.\n *\n * @class ToggleButton\n * @memberof agate/ToggleButton\n * @extends agate/ToggleButton.ToggleButtonBase\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ToggleButton = Pure(\n\tToggleable(\n\t\t{prop: 'selected', toggleProp: 'onTap'},\n\t\tSkinnable(\n\t\t\tToggleButtonBase\n\t\t)\n\t)\n);\n\nexport default ToggleButton;\nexport {\n\tToggleButton,\n\tToggleButtonBase\n};\n","/* eslint-disable jsx-a11y/alt-text */\n/**\n * Provides an Agate-themed thumbnail item.\n *\n * @example\n * <ThumbnailItem src=\"https://dummyimage.com/64/e048e0/0011ff\">An image!</ThumbnailItem>\n *\n * @module agate/ThumbnailItem\n * @exports ThumbnailItem\n * @exports ThumbnailItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Image from '../Image';\nimport Item from '../Item';\n\nimport componentCss from './ThumbnailItem.module.less';\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItemBase\n * @memberof agate/ThumbnailItem\n * @extends agate/Item.Item\n * @ui\n * @public\n */\nconst ThumbnailItemBase = kind({\n\tname: 'ThumbnailItem',\n\n\tpropTypes: /** @lends agate/ThumbnailItem.ThumbnailItemBase.prototype */ {\n\t\t/**\n\t\t * The main content displayed with the thumbnail.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `thumbnailItem` - The root component class\n\t\t * * `content` - The content component class\n\t\t * * `subContent` - The subContent component class\n\t\t * * `roundThumbnail` - Applied when `roundThumbnail=\"true\"`\n\t\t * * `thumbnail` - The thumbnail component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies `selected` className.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * Nodes to be inserted before `children`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tslotBefore: PropTypes.node,\n\n\t\t/**\n\t\t * String value used to determine which thumbnail will appear on a specific screenSize.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.string,\n\n\t\t/**\n\t\t * The thumbnail type.\n\t\t *\n\t\t * @type {('normal'|'styled')}\n\t\t * @default 'normal'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['normal', 'styled'])\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'normal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'thumbnailItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({type, selected, styler}) => styler.append(type, {selected})\n\t},\n\n\trender: ({css, children, src, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<slotBefore>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName={css.thumbnail}\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t/>\n\t\t\t\t\t{slotBefore}\n\t\t\t\t</slotBefore>\n\t\t\t\t<div className={css.content}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\nconst ThumbnailItem = Slottable({slots: ['img', 'slotBefore']}, ThumbnailItemBase);\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItem\n * @memberof agate/ThumbnailItem\n * @extends agate/ThumbnailItem.ThumbnailItemBase\n * @ui\n * @public\n */\n\nexport default ThumbnailItem;\nexport {\n\tThumbnailItem,\n\tThumbnailItemBase\n};\n","import kind from '@enact/core/kind';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '../Button';\n\nimport css from './Scrollbar.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} used within\n * a [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @class ScrollButton\n * @memberof agate/useScroll\n * @extends agate/Button.Button\n * @ui\n * @private\n */\nconst ScrollButtonBase = kind({\n\tname: 'ScrollButton',\n\n\tpropTypes: /** @lends agate/useScroll.ScrollButton.prototype */ {\n\t\t/**\n\t\t * Name of icon.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Sets the `aria-label`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the scroll bar button.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/useScroll.ScrollButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Returns a ref to the root node of the scroll button\n\t\t *\n\t\t * See: https://github.com/facebook/prop-types/issues/240\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t])\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'scrollButton'\n\t},\n\n\thandlers: {\n\t\tforwardRef: (node, {forwardRef}) => {\n\t\t\t// Allowing findDOMNode in the absence of a means to retrieve a node ref through Button\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tconst current = ReactDOM.findDOMNode(node);\n\n\t\t\t// Safely handle old ref functions and new ref objects\n\t\t\tswitch (typeof forwardRef) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tforwardRef.current = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\tforwardRef(current);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({active, 'aria-label': ariaLabel}) => (active ? null : ariaLabel)\n\t},\n\n\trender: ({forwardRef, ...rest}) => {\n\t\tdelete rest.active;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\tref={forwardRef}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst ScrollButton = ForwardRef(ScrollButtonBase);\n\nexport default ScrollButton;\nexport {\n\tScrollButton\n};\n","import {forward} from '@enact/core/handle';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport React, {useState, useEffect} from 'react';\nimport ReactDOM from 'react-dom';\n\nconst\n\tnop = () => {},\n\tprepareButton = (isPrev) => (isVertical) => {\n\t\tlet direction;\n\n\t\tif (isVertical) {\n\t\t\tdirection = isPrev ? 'up' : 'down';\n\t\t} else {\n\t\t\tdirection = isPrev ? 'left' : 'right';\n\t\t}\n\n\t\treturn 'arrowlarge' + direction;\n\t},\n\tpreparePrevButton = prepareButton(true),\n\tprepareNextButton = prepareButton(false),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tconsumeEvent = (ev) => {\n\t\tev.preventDefault();\n\t\tev.stopPropagation();\n\t};\n\n/**\n * A custom hook that returns Agate-themed scroll buttons behavior. It is used in [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @function useScrollButtons\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScrollButtons = (props) => {\n\tconst [prevButtonDisabled, setPrevButtonDisabled] = useState(true);\n\tconst [nextButtonDisabled, setNextButtonDisabled] = useState(true);\n\n\tconst nextButtonRef = React.createRef();\n\tconst prevButtonRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tutilEvent('keydown').addEventListener(nextButtonRef, onKeyDownNext);\n\t\tutilEvent('keydown').addEventListener(prevButtonRef, onKeyDownPrev);\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(nextButtonRef, onKeyDownNext);\n\t\t\tutilEvent('keydown').removeEventListener(prevButtonRef, onKeyDownPrev);\n\t\t};\n\t}, []);\t// eslint-disable-line react-hooks/exhaustive-deps\n\n\tconst updateButtons = (bounds) => {\n\t\tconst\n\t\t\t{vertical} = props,\n\t\t\tcurrentPos = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tmaxPos = vertical ? bounds.maxTop : bounds.maxLeft,\n\t\t\tshouldDisablePrevButton = currentPos <= 0,\n\t\t\t/* If a scroll size or a client size is not integer,\n\t\t\t   browser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t\tshouldDisableNextButton = maxPos - currentPos <= 1,\n\t\t\tupdatePrevButton = (prevButtonDisabled !== shouldDisablePrevButton),\n\t\t\tupdateNextButton = (nextButtonDisabled !== shouldDisableNextButton);\n\n\t\tif (updatePrevButton) {\n\t\t\tsetPrevButtonDisabled(shouldDisablePrevButton);\n\t\t}\n\t\tif (updateNextButton) {\n\t\t\tsetNextButtonDisabled(shouldDisableNextButton);\n\t\t}\n\t};\n\n\tfunction isOneOfScrollButtonsFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\t\treturn current === prevButtonRef.current || current === nextButtonRef.current;\n\t}\n\n\tfunction onClickPrev (ev) {\n\t\tconst {onPrevScroll = nop, vertical} = props;\n\t\tonPrevScroll({...ev, isPreviousScrollButton: true, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction onClickNext (ev) {\n\t\tconst {onNextScroll = nop, vertical} = props;\n\t\tonNextScroll({...ev, isPreviousScrollButton: false, isVerticalScrollBar: vertical});\n\t}\n\n\tfunction focusOnButton (isPrev) {\n\t\tSpotlight.focus(isPrev ? prevButtonRef.current : nextButtonRef.current);\n\t}\n\n\tfunction focusOnOppositeScrollButton (ev, direction) {\n\t\tconst buttonNode = (ev.target === nextButtonRef.current) ? prevButtonRef.current : nextButtonRef.current;\n\n\t\tif (!Spotlight.focus(buttonNode)) {\n\t\t\tSpotlight.move(direction);\n\t\t}\n\t}\n\n\tfunction onKeyDownButton (ev, position) {\n\t\tconst\n\t\t\t{focusableScrollButtons, vertical, preventBubblingOnKeyDown} = props,\n\t\t\t{keyCode} = ev,\n\t\t\tdirection = getDirection(ev.keyCode),\n\t\t\tpreventBubbling = preventBubblingOnKeyDown === 'programmatic',\n\t\t\tisNextButton = position === 'next',\n\t\t\tisPrevButton = position === 'prev',\n\t\t\tnextButton = {\n\t\t\t\tdisabled: nextButtonDisabled,\n\t\t\t\tref: nextButtonRef.current,\n\t\t\t\tclick: onClickNext\n\t\t\t},\n\t\t\tprevButton = {\n\t\t\t\tdisabled: prevButtonDisabled,\n\t\t\t\tref: prevButtonRef.current,\n\t\t\t\tclick: onClickPrev\n\t\t\t},\n\t\t\tcurrentButton = isPrevButton ? prevButton : nextButton,\n\t\t\toppositeButton = isPrevButton ? nextButton : prevButton;\n\n\t\tif (isPageDown(keyCode) || isPageUp(keyCode)) {\n\t\t\tif (!vertical) {\n\t\t\t\t// should not call stopPropagation() here\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isPrevButton && isPageDown(keyCode) || isNextButton && isPageUp(keyCode)) {\n\t\t\t\tif (focusableScrollButtons && !Spotlight.getPointerMode()) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\tSpotlight.focus(ReactDOM.findDOMNode(oppositeButton.ref)); // eslint-disable-line react/no-find-dom-node\n\t\t\t\t} else if (!oppositeButton.disabled) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\toppositeButton.click(ev);\n\t\t\t\t}\n\t\t\t} else if (!currentButton.disabled) {\n\t\t\t\tconsumeEvent(ev);\n\t\t\t\tcurrentButton.click(ev);\n\t\t\t}\n\t\t} else if (direction) {\n\t\t\tconst\n\t\t\t\t{rtl} = props,\n\t\t\t\tisDown = direction === 'down',\n\t\t\t\tisLeftMovement = direction === (rtl ? 'right' : 'left'),\n\t\t\t\tisRightMovement = direction === (rtl ? 'left' : 'right'),\n\t\t\t\tisUp = direction === 'up',\n\t\t\t\tfromNextToPrev = vertical ? isUp : isLeftMovement,\n\t\t\t\tfromPrevToNext = vertical ? isDown : isRightMovement;\n\n\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\tif (isNextButton && fromNextToPrev || isPrevButton && fromPrevToNext) {\n\t\t\t\tif (focusableScrollButtons) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tfocusOnOppositeScrollButton(ev, direction);\n\t\t\t\t\tif (!preventBubbling) {\n\t\t\t\t\t\tforward('onKeyDownButton', ev, props);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t// If it is vertical Scroller, move focus to the left for ltr or to the right for rtl\n\t\t\t\t\t// If is is horizontal Scroller, move focus to the up\n\t\t\t\t\tdirectionToContent = !vertical && 'up' || rtl && 'right' || 'left',\n\t\t\t\t\tisLeavingDown = vertical && isNextButton && isDown,\n\t\t\t\t\tisLeavingUp = vertical && isPrevButton && isUp,\n\t\t\t\t\tisLeavingLeft = !vertical && isPrevButton && isLeftMovement,\n\t\t\t\t\tisLeavingRight = !vertical && isNextButton && isRightMovement,\n\t\t\t\t\tisDirectionToLeave =\n\t\t\t\t\t\t(vertical && isRightMovement || isLeavingUp || isLeavingDown) ||\n\t\t\t\t\t\t(!vertical && isDown || isLeavingLeft || isLeavingRight);\n\n\t\t\t\tif (isDirectionToLeave) {\n\t\t\t\t\tif (!focusableScrollButtons && !getTargetByDirectionFromElement(direction, ev.target)) {\n\t\t\t\t\t\tif (preventBubbling && isLeavingDown || isLeavingUp || isLeavingLeft || isLeavingRight) {\n\t\t\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// move focus into contents and allow bubbling\n\t\t\t\t\t\tSpotlight.move(directionToContent);\n\t\t\t\t\t}\n\t\t\t\t} else if (preventBubbling) {\n\t\t\t\t\t// move focus directly to stop bubbling\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.move(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onKeyDownPrev (ev) {\n\t\tonKeyDownButton(ev, 'prev');\n\t}\n\n\tfunction onKeyDownNext (ev) {\n\t\tonKeyDownButton(ev, 'next');\n\t}\n\n\treturn {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon: prepareNextButton(props.vertical),\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon: preparePrevButton(props.vertical),\n\t\tupdateButtons\n\t};\n};\n\nexport default useScrollButtons;\nexport {\n\tuseScrollButtons\n};\n","import {ScrollbarTrack as UiScrollbarTrack} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef, useEffect} from 'react';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollbar track with agate behavior\n *\n * @class ScrollbarTrack\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef(({cbAlertScrollbarTrack, ...rest}, ref) => {\n\tuseEffect (() => {\n\t\tcbAlertScrollbarTrack();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn <UiScrollbarTrack {...rest} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends agate/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * Called when [ScrollbarTrack]{@link agate/useScroll.ScrollbarTrack} is updated.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tcbAlertScrollbarTrack: PropTypes.func\n};\n\nScrollbarTrack.defaultProps = {\n\tcbAlertScrollbarTrack: nop\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import {useScrollbar as useScrollbarBase} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect} from 'react';\n\nimport ScrollButton from './ScrollButton';\nimport useScrollButtons from './ScrollButtons';\nimport ScrollbarTrack from './ScrollbarTrack';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst useThemeScrollbar = (props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbarBase(props);\n\n\tconst {\n\t\tcbAlertScrollbarTrack,\n\t\tdisabled,\n\t\tfocusableScrollButtons,\n\t\tnextButtonAriaLabel,\n\t\tonKeyDownButton,\n\t\tonNextScroll,\n\t\tonPrevScroll,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel,\n\t\trtl,\n\t\t...rest\n\t} = restProps;\n\n\tconst {vertical} = scrollbarTrackProps;\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps: {\n\t\t\tdisabled,\n\t\t\tfocusableScrollButtons,\n\t\t\tnextButtonAriaLabel,\n\t\t\tonKeyDownButton,\n\t\t\tonNextScroll,\n\t\t\tonPrevScroll,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tpreviousButtonAriaLabel,\n\t\t\trtl,\n\t\t\tvertical\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\t...scrollbarTrackProps,\n\t\t\tcbAlertScrollbarTrack\n\t\t}\n\t};\n};\n\n/**\n * An Agate-styled scrollbar base component.\n *\n * @class ScrollbarBase\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarBase = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps,\n\t\tscrollbarTrackProps\n\t} = useThemeScrollbar(props);\n\n\tconst {\n\t\tfocusOnButton,\n\t\tisOneOfScrollButtonsFocused,\n\t\tnextButtonDisabled,\n\t\tnextButtonRef,\n\t\tnextIcon,\n\t\tonClickNext,\n\t\tonClickPrev,\n\t\tprevButtonDisabled,\n\t\tprevButtonRef,\n\t\tprevIcon,\n\t\tupdateButtons\n\t} = useScrollButtons(scrollbarButtonsProps);\n\n\tconst {disabled, nextButtonAriaLabel, previousButtonAriaLabel, rtl, vertical} = scrollbarButtonsProps;\n\n\tuseEffect(() => {\n\t\tconst {scrollbarHandle} = props;\n\t\tconst {update: uiUpdate} = scrollbarHandle.current;\n\n\t\tscrollbarHandle.current.update = (bounds) => {\n\t\t\tupdateButtons(bounds);\n\t\t\tuiUpdate(bounds);\n\t\t};\n\n\t\tscrollbarHandle.current.focusOnButton = focusOnButton;\n\t\tscrollbarHandle.current.isOneOfScrollButtonsFocused = isOneOfScrollButtonsFocused;\n\t});\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? nextButtonAriaLabel : previousButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || prevButtonDisabled}\n\t\t\t\tonClick={onClickPrev}\n\t\t\t\tonHoldPulse={onClickPrev}\n\t\t\t\tref={prevButtonRef}\n\t\t\t\ticon={prevIcon}\n\t\t\t/>\n\t\t\t<ScrollbarTrack\n\t\t\t\t{...scrollbarTrackProps}\n\t\t\t/>\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? previousButtonAriaLabel : nextButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || nextButtonDisabled}\n\t\t\t\tonClick={onClickNext}\n\t\t\t\tonHoldPulse={onClickNext}\n\t\t\t\tref={nextButtonRef}\n\t\t\t\ticon={nextIcon}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nScrollbarBase.displayName = 'ScrollbarBase';\n\nScrollbarBase.propTypes = /** @lends agate/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * If `true`, add the corner between vertical and horizontal scrollbars.\n\t *\n\t * @type {Booelan}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * Specifies to reflect scrollbar's disabled property to the paging controls.\n\t * When it is `true`, both prev/next buttons are going to be disabled.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tdisabled: PropTypes.bool,\n\n\t/**\n\t * When it is `true`, it allows 5 way navigation to the ScrollButtons.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tfocusableScrollButtons: PropTypes.bool,\n\n\t/**\n\t * The minimum size of the thumb.\n\t * This value will be applied ri.scale.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tnextButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * Called when the scrollbar's button is pressed and needs to be bubbled.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tonKeyDownButton: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's down/right button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonNextScroll: PropTypes.func,\n\n\t/**\n\t * Called when the scrollbar's up/left button is pressed.\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tonPrevScroll: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the scroll bar.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tpreviousButtonAriaLabel: PropTypes.string,\n\n\t/**\n\t * `true` if rtl, `false` if ltr.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\trtl: PropTypes.bool,\n\n\t/**\n\t * The scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarBase.defaultProps = {\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\n/**\n * An Agate-styled scroll bar.\n *\n * @class Scrollbar\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = Skinnable(ScrollbarBase);\n\nScrollbar.displayName = 'Scrollbar';\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbarBase\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopup\":\"ContextualPopup_contextualPopup__nPYMY\",\"container\":\"ContextualPopup_container__Y29Ih\",\"none\":\"ContextualPopup_none__1HCEQ\",\"fixedSize\":\"ContextualPopup_fixedSize__2CDmW\",\"closeButton\":\"ContextualPopup_closeButton__xocnQ\",\"bg\":\"ContextualPopup_bg___AwW8\",\"arrow\":\"ContextualPopup_arrow__24gRy\",\"above\":\"ContextualPopup_above__3XYBq\",\"left\":\"ContextualPopup_left__2cemN\",\"right\":\"ContextualPopup_right__EFxZ8\",\"icon\":\"ContextualPopup_icon__2DT7r\",\"reserveClose\":\"ContextualPopup_reserveClose__QEzDu\",\"arrowFill\":\"ContextualPopup_arrowFill__JCpGT\"};","import hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SharedState = React.createContext(null);\n\nconst defaultConfig = {\n\tidProp: 'id',\n\tupdateOnMount: false\n};\n\n/**\n * Adds shared state to a component.\n *\n * The purpose of shared state is to store framework component state at significant container\n * boundaries in order to restore it when the \"same\" component is mounted later.\n *\n * \"Sameness\" is determined by the `idProp` config member (defaults to \"id\"). If multiple\n * descendants have the same `idProp` within the subtree, SharedStateDecorator will not distinguish\n * between them and will allow each to read from and write over each other's data.\n *\n * For example, Panels and Panel are considered \"significant container boundaries\" since they are\n * key building blocks for applications. When components are rendered within a Panel, we may want to\n * store those components state on unmount so that we can restore it when returning to the panel.\n * Panel can (and does) use SharedStateDecorator to establish a shared state which can be used by\n * contained components.\n *\n * It's important to note that SharedStateDecorator doesn't prescribe how or what is stored nor how\n * the data is managed. That is left to the consuming component to determine. Also, unlike React\n * state or third-party state management solutions like Redux, updating shared state will not\n * initiate an update cycle in React. The intent is only to restore state on mount.\n *\n * If shared state is used in the render method for a component, it may be necessary to use the\n * `updateOnMount` config member which will initiate an update cycle within React once the data is\n * available from an upstream shared state.\n *\n * @hoc\n * @memberof agate/Panels\n * @private\n */\nconst SharedStateDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {idProp, updateOnMount} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SharedStateDecorator';\n\n\t\tstatic contextType = SharedState;\n\n\t\tstatic propTypes = /** @lends agate/Panels.SharedStateDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Prevents the component from setting or restoring any framework shared state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoSharedState: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.data = {};\n\t\t\tthis.sharedState = this.initSharedState();\n\t\t\tthis.state = {\n\t\t\t\tupdateOnMount: false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.loadFromContext();\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.noSharedState && this.props.noSharedState) {\n\t\t\t\tthis.data = {};\n\t\t\t} else if (prevProps.noSharedState && !this.props.noSharedState) {\n\t\t\t\tthis.loadFromContext();\n\t\t\t}\n\t\t}\n\n\t\tisUpdateable () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\treturn !noSharedState && (id || id === 0);\n\t\t}\n\n\t\tinitSharedState () {\n\t\t\treturn {\n\t\t\t\tset: (key, value) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable()) {\n\t\t\t\t\t\tthis.data[id] = this.data[id] || {};\n\t\t\t\t\t\tthis.data[id][key] = value;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tget: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\treturn (this.isUpdateable() && this.data[id]) ? this.data[id][key] : null;\n\t\t\t\t},\n\n\t\t\t\tdelete: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable() && this.data[id]) {\n\t\t\t\t\t\tdelete this.data[id][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tloadFromContext () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\tif (!noSharedState && this.context && this.context.get) {\n\t\t\t\tconst data = this.context.get(id);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.data = data;\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.set(id, this.data);\n\t\t\t\t}\n\n\t\t\t\tif (updateOnMount) {\n\t\t\t\t\tthis.setState({updateOnMount: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst {...props} = this.props;\n\n\t\t\tdelete props.noSharedState;\n\n\t\t\treturn (\n\t\t\t\t<SharedState.Provider value={this.sharedState}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</SharedState.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SharedStateDecorator;\nexport {\n\tSharedState,\n\tSharedStateDecorator\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIconButton icon=\"star\">Hello Enact!</LabeledIconButton>\n *\n * @module agate/LabeledIconButton\n * @exports LabeledIconButton\n * @exports LabeledIconButtonBase\n * @exports LabeledIconButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIconButton.module.less';\n\nconst Button = Skinnable(ButtonBase);\n\n/**\n * An icon button component with a label.\n *\n * @class LabeledIconButtonBase\n * @memberof agate/LabeledIconButton\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconButtonBase = kind({\n\tname: 'LabeledIconButton',\n\n\tpropTypes: /** @lends agate/LabeledIconButton.LabeledIconButtonBase.prototype */ {\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIconButton` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `label` - The label component class\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a LabeledIconButton specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately.It\n\t\t * will also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t// forwarded from Spottable\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Selects the component.\n\t\t *\n\t\t * Setting `selected` may be useful when the component represents a toggleable option. The\n\t\t * visual effect may be customized using the\n\t\t * [css]{@link agate/LabeledIconButton.LabeledIconButtonBase.css} prop.\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t\t// TODO: spriteCount prop bleeds!  Is this cruft?\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIconButton',\n\t\tpublicClassNames: true\n\t},\n\n\trender: ({\n\t\tbackgroundOpacity,\n\t\tcss,\n\t\ticon,\n\t\ticonComponent,\n\t\thighlighted,\n\t\tpressed,\n\t\tselected,\n\t\tspriteCount,\n\t\t...rest\n\t}) => {\n\t\treturn UiLabeledIconBase.inline({\n\t\t\t...rest,\n\t\t\ticon: (\n\t\t\t\t<Button\n\t\t\t\t\tbackgroundOpacity={backgroundOpacity}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ticonComponent={iconComponent}\n\t\t\t\t\thighlighted={highlighted}\n\t\t\t\t\tpressed={pressed}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconButtonBase]{@link agate/LabeledIconButton.LabeledIconButtonBase}.\n *\n * @hoc\n * @memberof agate/LabeledIconButton\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @public\n */\nconst LabeledIconButtonDecorator = compose(\n\tUiLabeledIconDecorator,\n\tButtonDecorator\n);\n\n/**\n * An Agate-styled icon button component with a label.\n *\n * Usage:\n * ```\n * <LabeledIconButton icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIconButton>\n * ```\n *\n * @class LabeledIconButton\n * @memberof agate/LabeledIconButton\n * @extends agate/LabeledIconButton.LabeledIconButtonBase\n * @mixes agate/LabeledIconButton.LabeledIconButtonDecorator\n * @ui\n * @public\n */\nconst LabeledIconButton = LabeledIconButtonDecorator(LabeledIconButtonBase);\n\nexport default LabeledIconButton;\nexport {\n\tLabeledIconButton,\n\tLabeledIconButtonBase,\n\tLabeledIconButtonDecorator\n};\n","\nimport kind from '@enact/core/kind';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\n\nimport css from './Input.module.less';\n\n/**\n * The stateless functional base component for {@link agate/Input.InputDecoratorIcon}.\n *\n * @class InputDecoratorIconBase\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIconBase = kind({\n\tname: 'InputDecoratorIcon',\n\n\tpropTypes: /** @lends agate/Input.InputDecoratorIconBase.prototype */ {\n\t\t/**\n\t\t * The position of the icon. Either `before` or `after`.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t */\n\t\tposition: PropTypes.oneOf(['before', 'after']).isRequired,\n\n\t\t/**\n\t\t * The icon to be displayed.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon#children}\n\t\t * @type {String|Object}\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'icon'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({position, styler}) => {\n\t\t\treturn styler.append('icon' + (position === 'before' ? 'Before' : 'After'));\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.position;\n\n\t\treturn children ? (\n\t\t\t<Icon {...rest}>{children}</Icon>\n\t\t) : null;\n\t}\n});\n\n/**\n * An icon displayed either before or after the input field of an {@link agate/Input.Input}.\n *\n * @class InputDecoratorIcon\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIcon = onlyUpdateForKeys(['children', 'size'])(InputDecoratorIconBase);\n\nexport default InputDecoratorIcon;\nexport {\n\tInputDecoratorIcon,\n\tInputDecoratorIconBase\n};\n","import {handle, preventDefault, returnsTrue, stop} from '@enact/core/handle';\n\nlet active;\nlet capturedDown = false;\n\n// if there is a focused input (there should be) and the target is not the input\nconst shouldCapture = ({target}) => active && target !== active;\nconst isCapturing = () => capturedDown && active;\nconst setCapturing = (capturing) => returnsTrue(() => (capturedDown = capturing));\n\nconst handlePointerDown = handle(\n\tshouldCapture,\t\t\t\t// If we should capture the click\n\tpreventDefault,\t\t\t\t// prevent the down event bubbling\n\tstop,\t\t\t\t\t\t// (and stop propagation to support touch)\n\tsetCapturing(true)\t\t\t// and flag that we've started capturing a down event\n);\n\nconst handlePointerUp = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tpreventDefault,\t\t\t\t// prevent the up event bubbling\n\tstop\t\t\t\t\t\t// (and stop propagation to support touch)\n);\n\n// This is attached to both click and touchend. On some systems (e.g. Chrome), click events are\n// fired when you touch anything but other systems (e.g. iOS) will only emit click events when you\n// touch a clickable component (something with a tabindex). By attaching the same handler to both,\n// we ensure that we do not leave this module in an unstable state where it thinks capturing is\n// active but focus is not on the input.\nconst handleTap = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tstop,\t\t\t\t\t\t// prevent the click event from propagating\n\tpreventDefault,\t\t\t\t// prevent touchend from triggering a click after releasing lock\n\tsetCapturing(false),\t\t// clear the capturing flag\n\t() => active.blur()\t\t\t// and blur the active node\n);\n\nconst handleTouchStart = handle(\n\tshouldCapture,                // If we should capture the click\n\tstop,                         // prevent other components from handling this event\n\tsetCapturing(true)            // and flag that we've started capturing a down event\n);\n\n// Lock the pointer from emitting click events until released\nconst lockPointer = (target) => {\n\tactive = target;\n\tdocument.addEventListener('mousedown', handlePointerDown, {capture: true});\n\tdocument.addEventListener('mouseup', handlePointerUp, {capture: true});\n\tdocument.addEventListener('touchstart', handleTouchStart, {capture: true});\n\tdocument.addEventListener('touchend', handleTap, {capture: true});\n\tdocument.addEventListener('click', handleTap, {capture: true});\n};\n\n// Release the pointer and allow subsequent click events\nconst releasePointer = (target) => {\n\tif (target === active) {\n\t\tactive = null;\n\t\tdocument.removeEventListener('mousedown', handlePointerDown, {capture: true});\n\t\tdocument.removeEventListener('mouseup', handlePointerUp, {capture: true});\n\t\tdocument.removeEventListener('touchstart', handleTouchStart, {capture: true});\n\t\tdocument.removeEventListener('touchend', handleTap, {capture: true});\n\t\tdocument.removeEventListener('click', handleTap, {capture: true});\n\t}\n};\n\nexport {\n\tlockPointer,\n\treleasePointer\n};\n","import {call, forward, forwardWithPrevent, handle, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {getDirection, Spotlight} from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {lockPointer, releasePointer} from './pointer';\n\nconst isBubbling = (ev) => ev.currentTarget !== ev.target;\n\n// A regex to check for input types that allow selectionStart\nconst SELECTABLE_TYPES = /text|password|search|tel|url/;\n\nconst isSelectionAtLocation = (target, location) => {\n\tif (SELECTABLE_TYPES.test(target.type)) {\n\t\treturn target.selectionStart === location;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nconst handleKeyDown = handle(\n\tforwardWithPrevent('onKeyDown'),\n\tcall('onKeyDown')\n);\n\n/**\n * Default config for [InputSpotlightDecorator]{@link agate/Input.InputSpotlightDecorator}.\n *\n * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Suppress the pointer lock behavior of agate input\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.defaultConfig\n\t*/\n\tnoLockPointer: false\n};\n\n/**\n * A higher-order component that manages the\n * spotlight behavior for an {@link agate/Input.Input}\n *\n * @class InputSpotlightDecorator\n * @memberof agate/Input/InputSpotlightDecorator\n * @hoc\n * @private\n */\nconst InputSpotlightDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noLockPointer} = config;\n\tconst Component = Spottable({emulateMouse: false}, Wrapped);\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardMouseDown = forward('onMouseDown');\n\tconst forwardFocus = forward('onFocus');\n\tconst forwardKeyUp = forward('onKeyUp');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'InputSpotlightDecorator';\n\n\t\tstatic propTypes = /** @lends agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Focuses the <input> when the decorator is focused via 5-way.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tautoFocus: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Applies a disabled style and the control becomes non-interactive.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> is focused.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonActivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> loses focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDeactivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Disables spotlight navigation into the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tfocused: null,\n\t\t\t\tnode: null\n\t\t\t};\n\n\t\t\tthis.paused = new Pause('InputSpotlightDecorator');\n\t\t\tthis.handleKeyDown = handleKeyDown.bind(this);\n\t\t}\n\n\t\tcomponentDidUpdate (_, prevState) {\n\t\t\tthis.updateFocus(prevState);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst {onSpotlightDisappear} = this.props;\n\n\t\t\t\tif (onSpotlightDisappear) {\n\t\t\t\t\tonSpotlightDisappear();\n\t\t\t\t}\n\n\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\treleasePointer(this.state.node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateFocus = (prevState) => {\n\t\t\tif (this.state.node) {\n\t\t\t\tif (Spotlight.getCurrent() !== this.state.node) {\n\t\t\t\t\tthis.state.node.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst focusChanged = this.state.focused !== prevState.focused;\n\t\t\tif (focusChanged) {\n\t\t\t\tif (this.state.focused === 'input') {\n\t\t\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\tlockPointer(this.state.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.pause();\n\t\t\t\t} else if (prevState.focused === 'input') {\n\t\t\t\t\tforward('onDeactivate', {type: 'onDeactivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\treleasePointer(prevState.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.resume();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfocus = (focused, node) => {\n\t\t\tthis.setState({focused, node});\n\t\t};\n\n\t\tblur = () => {\n\t\t\tthis.setState((state) => (\n\t\t\t\tstate.focused || state.node ? {focused: null, node: null} : null\n\t\t\t));\n\t\t};\n\n\t\tfocusDecorator = (decorator) => {\n\t\t\tthis.focus('decorator', decorator);\n\t\t};\n\n\t\tfocusInput = (decorator) => {\n\t\t\tthis.focus('input', decorator.querySelector('input'));\n\t\t};\n\n\t\tonBlur = (ev) => {\n\t\t\tif (!this.props.autoFocus) {\n\t\t\t\tif (isBubbling(ev)) {\n\t\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if (!ev.currentTarget.contains(ev.relatedTarget)) {\n\t\t\t\t\t// Blurring decorator but not focusing input\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t} else if (isBubbling(ev)) {\n\t\t\t\tif (this.state.focused === 'input' && this.state.node === ev.target && ev.currentTarget !== ev.relatedTarget) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tonMouseDown = (ev) => {\n\t\t\tconst {disabled, spotlightDisabled} = this.props;\n\n\t\t\tthis.setDownTarget(ev);\n\t\t\t// focus the <input> whenever clicking on any part of the component to ensure both that\n\t\t\t// the <input> has focus and Spotlight is paused.\n\t\t\tif (!disabled && !spotlightDisabled) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t}\n\n\t\t\tforwardMouseDown(ev, this.props);\n\t\t};\n\n\t\tonFocus = (ev) => {\n\t\t\tforwardFocus(ev, this.props);\n\n\t\t\t// when in autoFocus mode, focusing the decorator directly will cause it to\n\t\t\t// forward the focus onto the <input>\n\t\t\tif (!isBubbling(ev) && (this.props.autoFocus && this.state.focused === null && !Spotlight.getPointerMode())) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tonKeyDown (ev) {\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// cache the target if this is the first keyDown event to ensure the component had focus\n\t\t\t// when the key interaction started\n\t\t\tthis.setDownTarget(ev);\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst isDown = is('down', keyCode);\n\t\t\t\tconst isLeft = is('left', keyCode);\n\t\t\t\tconst isRight = is('right', keyCode);\n\t\t\t\tconst isUp = is('up', keyCode);\n\n\t\t\t\t// move spotlight\n\t\t\t\tconst shouldSpotlightMove = (\n\t\t\t\t\t// on left + at beginning of selection\n\t\t\t\t\t(isLeft && isSelectionAtLocation(target, 0)) ||\n\t\t\t\t\t// on right + at end of selection (note: fails on non-selectable types usually)\n\t\t\t\t\t(isRight && isSelectionAtLocation(target, target.value.length)) ||\n\t\t\t\t\t// on up\n\t\t\t\t\tisUp ||\n\t\t\t\t\t// on down\n\t\t\t\t\tisDown\n\t\t\t\t);\n\n\t\t\t\t// prevent modifying the value via 5-way for numeric fields\n\t\t\t\tif ((isUp || isDown) && target.type === 'number') {\n\t\t\t\t\tpreventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (shouldSpotlightMove) {\n\t\t\t\t\tconst direction = getDirection(keyCode);\n\t\t\t\t\tconst {getPointerMode, move, setPointerMode} = Spotlight;\n\n\t\t\t\t\tif (getPointerMode()) {\n\t\t\t\t\t\tsetPointerMode(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t\tthis.paused.resume();\n\n\t\t\t\t\t// Move spotlight in the keypress direction\n\t\t\t\t\tif (move(direction)) {\n\t\t\t\t\t\t// if successful, reset the internal state\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if there is no other spottable elements, focus `InputDecorator` instead\n\t\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t} else if (isLeft || isRight) {\n\t\t\t\t\t// prevent 5-way nav for left/right keys within the <input>\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tonKeyUp = (ev) => {\n\t\t\tconst {dismissOnEnter} = this.props;\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// verify that we have a matching pair of key down/up events to avoid adjusting focus\n\t\t\t// when the component received focus mid-press\n\t\t\tif (target === this.downTarget) {\n\t\t\t\tthis.downTarget = null;\n\n\t\t\t\tif (this.state.focused === 'input' && dismissOnEnter && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t// prevent Enter onKeyPress which triggers an onMouseDown via Spotlight\n\t\t\t\t\tpreventDefault();\n\t\t\t\t} else if (this.state.focused !== 'input' && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusInput(currentTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tforwardKeyUp(ev, this.props);\n\t\t};\n\n\t\tsetDownTarget (ev) {\n\t\t\tconst {repeat, target} = ev;\n\n\t\t\tif (!repeat) {\n\t\t\t\tthis.downTarget = target;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.autoFocus;\n\t\t\tdelete props.onActivate;\n\t\t\tdelete props.onDeactivate;\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{...props}\n\t\t\t\t\tfocused={this.state.focused === 'input'}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tonMouseDown={this.onMouseDown}\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.onKeyUp}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default InputSpotlightDecorator;\nexport {InputSpotlightDecorator};\n","/**\n * Agate styled input components.\n *\n * @example\n * <Input placeholder=\"Enter text here\" />\n *\n * @module agate/Input\n * @exports Input\n * @exports InputBase\n */\n\nimport kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport InputDecoratorIcon from './InputDecoratorIcon';\nimport InputSpotlightDecorator from './InputSpotlightDecorator';\nimport {extractInputProps} from './util';\n\nimport componentCss from './Input.module.less';\n\n/**\n * An input component\n *\n * @class InputBase\n * @memberof agate/Input\n * @ui\n * @public\n */\nconst InputBase = kind({\n\tname: 'Input',\n\n\tpropTypes: /** @lends agate/Input.InputBase.prototype */ {\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `decorator` - The root class name\n\t\t * * `input` - The <input> class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables Input and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t/**\n\t\t * Adds a `focused` class to the input decorator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to be placed at the end of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonAfter: PropTypes.string,\n\n\t\t/**\n\t\t * The icon to be placed at the beginning of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonBefore: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates [value]{@link agate/Input.InputBase.value} is invalid and shows\n\t\t * [invalidMessage]{@link agate/Input.InputBase.invalidMessage}, if set.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinvalid: PropTypes.bool,\n\n\t\t/**\n\t\t * The tooltip text to be displayed when the input is\n\t\t * [invalid]{@link agate/Input.InputBase.invalid}.\n\t\t *\n\t\t * If this value is *falsy*, the tooltip will not be shown.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tinvalidMessage: PropTypes.string,\n\n\t\t/**\n\t\t * Called when blurred.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonBlur: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the input value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called when clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when focused.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonFocus: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Text to display when [value]{@link agate/Input.InputBase.value} is not set.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the input field icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * The type of input.\n\t\t *\n\t\t * Accepted values correspond to the standard HTML5 input types.\n\t\t *\n\t\t * @type {String}\n\t\t * @see [MDN input types doc]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types}\n\t\t * @default 'text'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string,\n\n\t\t/**\n\t\t * The value of the input.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tdismissOnEnter: false,\n\t\tinvalid: false,\n\t\tplaceholder: '',\n\t\ttype: 'text'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'decorator',\n\t\tpublicClassNames: ['decorator', 'input']\n\t},\n\n\thandlers: {\n\t\tonChange: (ev, {onChange}) => {\n\t\t\tif (onChange) {\n\t\t\t\tonChange({value: ev.target.value});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t// 'aria-label': ({placeholder, type, value}) => {\n\t\t// \tconst title = (value == null || value === '') ? placeholder : '';\n\t\t// \treturn calcAriaLabel(title, type, value);\n\t\t// },\n\t\tclassName: ({focused, invalid, styler}) => styler.append({focused, invalid}),\n\t\t// ensure we have a value so the internal <input> is always controlled\n\t\tvalue: ({value}) => typeof value === 'number' ? value : (value || '')\n\t},\n\n\trender: ({css, disabled, iconAfter, iconBefore, onChange, placeholder, size, type, value, ...rest}) => {\n\t\tconst inputProps = extractInputProps(rest);\n\t\tdelete rest.dismissOnEnter;\n\t\tdelete rest.focused;\n\t\tdelete rest.invalid;\n\t\tdelete rest.invalidMessage;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<InputDecoratorIcon position=\"before\" size={size}>\n\t\t\t\t\t{iconBefore}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\taria-disabled={disabled}\n\t\t\t\t\tclassName={css.input}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<InputDecoratorIcon position=\"after\" size={size}>\n\t\t\t\t\t{iconAfter}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A Spottable, Agate styled input component with embedded icon support.\n *\n * By default, `Input` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Input\n * @memberof agate/Input\n * @extends agate/Input.InputBase\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst Input = Pure(\n\tChangeable(\n\t\tInputSpotlightDecorator(\n\t\t\tSkinnable(\n\t\t\t\tInputBase\n\t\t\t)\n\t\t)\n\t)\n);\n\nexport default Input;\nexport {\n\textractInputProps,\n\tInput,\n\tInputBase\n};\n","// import $L from '../internal/$L';\n\n/**\n * Determines the `aria-label` for an Input\n *\n * @method\n * @memberof agate/Input\n * @param   {String}  prefix   Text to precede the value in the aria-label\n * @param   {String}  type     `type` of the Input\n * @param   {String}  [value]  Current value of the input\n * @returns {String}           `aria-label` value\n * @private\n */\n// const calcAriaLabel = function (prefix, type, value = '') {\n// \tconst hint = $L('Input field');\n//\n// \tif (type === 'password' && value) {\n// \t\tconst character = value.length > 1 ? $L('characters') : $L('character');\n// \t\tvalue = `${value.length} ${character}`;\n// \t}\n//\n// \treturn `${prefix} ${value} ${hint}`;\n// };\n\n/**\n * Removes `<input>` related props from `props` and returns them in a new object.\n *\n * Useful when redirecting `<input>` related props from a non-input root element to the `<input>`\n * element.\n *\n * @method\n * @memberof agate/Input\n * @param   {Object} props  Props object\n * @returns {Object}        input related props\n * @private\n */\nconst extractInputProps = function (props) {\n\tconst inputProps = {};\n\tObject.keys(props).forEach(key => {\n\t\tswitch (key) {\n\t\t\tcase 'autoComplete':\n\t\t\tcase 'list':\n\t\t\tcase 'maxLength':\n\t\t\tcase 'minLength':\n\t\t\tcase 'pattern':\n\t\t\tcase 'required':\n\t\t\tcase 'size':\n\t\t\t\tinputProps[key] = props[key];\n\t\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn inputProps;\n};\n\nexport {\n\t// calcAriaLabel,\n\textractInputProps\n};\n","import classNames from 'classnames';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './UiVirtualList.module.less';\n\nconst\n\tnop = () => {},\n\tJS = 'JS',\n\tNative = 'Native';\n\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListCore\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseFactory = (type) => {\n\treturn class VirtualListCore extends Component {\n\t\t/* No displayName here. We set displayName to returned components of this factory function. */\n\n\t\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBase.prototype */ {\n\t\t\t/**\n\t\t\t * The rendering function called for each item in the list.\n\t\t\t *\n\t\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t\t * due to performance optimization.\n\t\t\t *\n\t\t\t * Example:\n\t\t\t * ```\n\t\t\t * renderItem = ({index, ...rest}) => {\n\t\t\t * \tdelete rest.data;\n\t\t\t *\n\t\t\t * \treturn (\n\t\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t\t * \t);\n\t\t\t * }\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object}     event\n\t\t\t * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t\t * @param {Number}     event.index    The index number of the component to render\n\t\t\t * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n\t\t\t *\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t\t *\n\t\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSize: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tgridListItemSizeShape\n\t\t\t]).isRequired,\n\n\t\t\t/**\n\t\t\t * The render function for the items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemsRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * Callback method of scrollTo.\n\t\t\t * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tcbScrollTo: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Additional props included in the object passed to the `itemsRenderer` callback.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @property {Number}    clientHeight    The client height of the list.\n\t\t\t * @property {Number}    clientWidth    The client width of the list.\n\t\t\t * @public\n\t\t\t */\n\t\t\tclientSize: PropTypes.shape({\n\t\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t\t}),\n\n\t\t\t/**\n\t\t\t * Activates the component for voice control.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The voice control group label.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The number of items of data the list contains.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataSize: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The layout direction of the list.\n\t\t\t *\n\t\t\t * Valid values are:\n\t\t\t * * `'horizontal'`, and\n\t\t\t * * `'vertical'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @default 'vertical'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t\t/**\n\t\t\t * Called to get the props for list items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tgetComponentProps: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The array for individually sized items.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * Called when the range of items has updated.\n\t\t\t *\n\t\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tonUpdateItems: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Number of spare DOM node.\n\t\t\t * `3` is good for the default value experimentally and\n\t\t\t * this value is highly recommended not to be changed by developers.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 3\n\t\t\t * @private\n\t\t\t */\n\t\t\toverhang: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @private\n\t\t\t */\n\t\t\tpageScroll: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * `true` if RTL, `false` if LTR.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The spacing between items.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tspacing: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tupdateStatesAndBounds: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tcbScrollTo: nop,\n\t\t\tdataSize: 0,\n\t\t\tdirection: 'vertical',\n\t\t\toverhang: 3,\n\t\t\tpageScroll: false,\n\t\t\tspacing: 0\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tlet nextState = null;\n\n\t\t\tsuper(props);\n\n\t\t\tthis.containerRef = React.createRef();\n\t\t\tthis.contentRef = React.createRef();\n\t\t\tthis.itemContainerRef = React.createRef();\n\n\t\t\tif (props.clientSize) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t\t}\n\n\t\t\tthis.state = {\n\t\t\t\tfirstIndex: 0,\n\t\t\t\tnumOfItems: 0,\n\t\t\t\tprevChildProps: null,\n\t\t\t\tprevFirstIndex: 0,\n\t\t\t\tupdateFrom: 0,\n\t\t\t\tupdateTo: 0,\n\t\t\t\t...nextState\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst\n\t\t\t\tshouldInvalidate = (\n\t\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t\t),\n\t\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\t\treturn {\n\t\t\t\t...nextUpdateFromAndTo,\n\t\t\t\tprevChildProps: props.childProps,\n\t\t\t\tprevFirstIndex: state.firstIndex\n\t\t\t};\n\t\t}\n\n\t\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\t\tcomponentDidMount () {\n\t\t\tif (!this.props.clientSize) {\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t} else {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tthis.setContainerSize();\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tlet deferScrollTo = false;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tthis.shouldUpdateBounds = false;\n\n\t\t\t// TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n\t\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\t// When an item expands or shrinks,\n\t\t\t// we need to calculate the item position again and\n\t\t\t// the item needs to scroll into view if the item does not show fully.\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t\t} else {\n\t\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\t\tconst\n\t\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t\t) {\n\t\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\t\tthis.updateScrollPosition({\n\t\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t\t});\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (this.hasDataSizeChanged) {\n\t\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(newState);\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\t}\n\n\t\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\n\t\t\tif (!deferScrollTo && this.scrollPosition > maxPos) {\n\t\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\t}\n\t\t}\n\n\t\tscrollBounds = {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxLeft: 0,\n\t\t\tmaxTop: 0\n\t\t};\n\n\t\tmoreInfo = {\n\t\t\tfirstVisibleIndex: null,\n\t\t\tlastVisibleIndex: null\n\t\t};\n\n\t\tprimary = null;\n\t\tsecondary = null;\n\n\t\tisPrimaryDirectionVertical = true;\n\t\tisItemSized = false;\n\n\t\tshouldUpdateBounds = false;\n\n\t\tdimensionToExtent = 0;\n\t\tthreshold = 0;\n\t\tmaxFirstIndex = 0;\n\t\tcurDataSize = 0;\n\t\thasDataSizeChanged = false;\n\t\tcc = [];\n\t\tscrollPosition = 0;\n\t\tscrollPositionTarget = 0;\n\n\t\t// For individually sized item\n\t\titemPositions = [];\n\t\tindexToScrollIntoView = -1;\n\n\t\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\t\tif (type === Native) {\n\t\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t\t} else {\n\t\t\t\tthis.setScrollPosition(x, y, rtl, x, y);\n\t\t\t}\n\t\t};\n\n\t\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\t\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\t\tgetScrollBounds = () => this.scrollBounds;\n\n\t\tgetMoreInfo = () => this.moreInfo;\n\n\t\tgetGridPosition (index) {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\t\tlet primaryPosition;\n\n\t\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t\t// Cache individually sized item positions\n\t\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\n\t\t\treturn {primaryPosition, secondaryPosition};\n\t\t}\n\n\t\t// For individually sized item\n\t\tgetItemBottomPosition = (index) => {\n\t\t\tconst\n\t\t\t\titemPosition = this.itemPositions[index],\n\t\t\t\titemSize = this.props.itemSizes[index];\n\n\t\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\t\treturn itemPosition.position + itemSize;\n\t\t\t} else {\n\t\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t\t}\n\t\t};\n\n\t\t// For individually sized item\n\t\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t\t};\n\n\t\tgetItemPosition = (index, stickTo = 'start') => {\n\t\t\tconst\n\t\t\t\t{primary} = this,\n\t\t\t\tposition = this.getGridPosition(index);\n\t\t\tlet  offset = 0;\n\n\t\t\tif (stickTo === 'start') {\n\t\t\t\toffset = 0;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\toffset = primary.clientSize - this.props.itemSizes[index];\n\t\t\t} else {\n\t\t\t\toffset = primary.clientSize - primary.itemSize;\n\t\t\t}\n\n\t\t\tposition.primaryPosition -= offset;\n\n\t\t\treturn this.gridPositionToItemPosition(position);\n\t\t};\n\n\t\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\t\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\t\tgetClientSize = (node) => ({\n\t\t\tclientWidth: node.clientWidth,\n\t\t\tclientHeight: node.clientHeight\n\t\t});\n\n\t\temitUpdateItems () {\n\t\t\tconst {dataSize} = this.props;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tforward('onUpdateItems', {\n\t\t\t\tfirstIndex: firstIndex,\n\t\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t\t}, this.props);\n\t\t}\n\n\t\tcalculateMetrics (props) {\n\t\t\tconst\n\t\t\t\t{clientSize, direction, itemSize, overhang, spacing} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = (clientSize || this.getClientSize(node)),\n\t\t\t\theightInfo = {\n\t\t\t\t\tclientSize: clientHeight,\n\t\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t},\n\t\t\t\twidthInfo = {\n\t\t\t\t\tclientSize: clientWidth,\n\t\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t};\n\t\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\tprimary = heightInfo;\n\t\t\t\tsecondary = widthInfo;\n\t\t\t} else {\n\t\t\t\tprimary = widthInfo;\n\t\t\t\tsecondary = heightInfo;\n\t\t\t}\n\t\t\tdimensionToExtent = 1;\n\n\t\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t\t// by the minimum item width plus the spacing\n\t\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t\t// the actual item height is related to the item width\n\t\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t\t}\n\n\t\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\t\tthis.primary = primary;\n\t\t\tthis.secondary = secondary;\n\n\t\t\t// reset\n\t\t\tthis.scrollPosition = 0;\n\t\t\tif (type === JS && this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = null;\n\t\t\t}\n\t\t}\n\n\t\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\t\tconst\n\t\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t\t// so that setState() in didScroll() could be called to override state.\n\t\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t\t// So `shouldUpdateBounds` is true here.\n\t\t\tthis.shouldUpdateBounds = true;\n\n\t\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\t\tthis.curDataSize = dataSize;\n\n\t\t\t// reset children\n\t\t\tthis.cc = [];\n\t\t\tthis.itemPositions = []; // For individually sized item\n\t\t\tthis.calculateScrollBounds(props);\n\t\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\t\tnumOfItems,\n\t\t\t\tdataSize,\n\t\t\t\tmoreInfo\n\t\t\t}))) {\n\t\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\t\tnumOfItems: numOfItems\n\t\t\t};\n\t\t};\n\n\t\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\t\tconst\n\t\t\t\t{overhang} = props,\n\t\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t\t{gridSize} = primary;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\t\tconst\n\t\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t\t}\n\t\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t\t}\n\n\t\t\treturn newFirstIndex;\n\t\t}\n\n\t\tcalculateScrollBounds (props) {\n\t\t\tconst\n\t\t\t\t{clientSize} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\t\tlet maxPos;\n\n\t\t\tscrollBounds.clientWidth = clientWidth;\n\t\t\tscrollBounds.clientHeight = clientHeight;\n\t\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t\t// correct position\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t}\n\n\t\tsetContainerSize = () => {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t\t}\n\t\t};\n\n\t\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\t\tif (dataSize <= 0) {\n\t\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\t\tlastVisibleIndex = null;\n\t\t\t\t}\n\n\t\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t\t} else {\n\t\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t\t}\n\t\t}\n\n\t\tsyncThreshold (maxPos) {\n\t\t\tconst {threshold} = this;\n\n\t\t\tif (threshold.max > maxPos) {\n\t\t\t\tif (maxPos < threshold.base) {\n\t\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\t\tthreshold.min = -Infinity;\n\t\t\t\t} else {\n\t\t\t\t\tthreshold.max = maxPos;\n\t\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Native only\n\t\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\t\tif (this.containerRef.current) {\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = y;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = x;\n\t\t\t\t}\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t\t}\n\n\t\t\t\tthis.containerRef.current.scrollTo(x, y);\n\t\t\t}\n\t\t}\n\n\t\t// JS only\n\t\tsetScrollPosition (x, y, rtl = this.props.rtl, targetX = 0, targetY = 0) {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\n\t\t\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t\t\t// To know the position when stopping scrolling here, `targetX` and `targetY` are passed and cached in `this.scrollPositionTarget`.\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = targetX;\n\t\t\t\t}\n\n\t\t\t\tthis.didScroll(x, y);\n\t\t\t}\n\t\t}\n\n\t\tdidScroll (x, y) {\n\t\t\tconst\n\t\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tpos = y;\n\t\t\t} else {\n\t\t\t\tpos = x;\n\t\t\t}\n\n\t\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\t\tif (index < dataSize) {\n\t\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t\t} else {\n\t\t\t\t\tconst\n\t\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t\t}\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t\tthis.scrollPosition = pos;\n\t\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tcalculateAndCacheItemPosition (index) {\n\t\t\tconst {itemSizes} = this.props;\n\n\t\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\t\tconst\n\t\t\t\t\t{spacing} = this.props,\n\t\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\t\tthis.itemPositions[index] = {position};\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tapplyItemPositionToDOMElement (index) {\n\t\t\tconst\n\t\t\t\t{direction, rtl} = this.props,\n\t\t\t\t{numOfItems} = this.state,\n\t\t\t\t{itemPositions} = this,\n\t\t\t\tchildNode = this.itemContainerRef.current.children[index % numOfItems];\n\n\t\t\tif (childNode && itemPositions[index]) {\n\t\t\t\tconst position = itemPositions[index].position;\n\t\t\t\tif (direction === 'vertical') {\n\t\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t\t} else {\n\t\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateThresholdWithItemPosition () {\n\t\t\tconst\n\t\t\t\t{overhang} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{maxFirstIndex} = this,\n\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateScrollBoundsWithItemPositions () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t\t} else {\n\t\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\t\tif (!nextInfo) {\n\t\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t\t}\n\n\t\t// For individually sized item\n\t\tadjustItemPositionWithItemSize () {\n\t\t\tif (this.itemContainerRef.current) {\n\t\t\t\tconst\n\t\t\t\t\t{dataSize} = this.props,\n\t\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\t// and adjust item DOM element positions\n\t\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t\t}\n\n\t\t\t\t// Update threshold based on this.itemPositions\n\t\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t\t// Set container size based on this.scrollbounds\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t\t}\n\t\t}\n\n\t\tgetItemNode = (index) => {\n\t\t\tconst ref = this.itemContainerRef.current;\n\n\t\t\treturn ref ? ref.children[index % this.state.numOfItems] : null;\n\t\t};\n\n\t\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\t\tconst\n\t\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\t\tstyle = {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t\t};\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.height = height;\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\n\t\tapplyStyleToNewNode = (index, ...rest) => {\n\t\t\tconst\n\t\t\t\t{itemRenderer, getComponentProps} = this.props,\n\t\t\t\tkey = index % this.state.numOfItems,\n\t\t\t\titemElement = itemRenderer({\n\t\t\t\t\t...this.props.childProps,\n\t\t\t\t\tkey,\n\t\t\t\t\tindex\n\t\t\t\t}),\n\t\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {};\n\n\t\t\tthis.cc[key] = React.cloneElement(itemElement, {\n\t\t\t\t...componentProps,\n\t\t\t\tclassName: classNames(css.listItem, itemElement.props.className),\n\t\t\t\tstyle: {...itemElement.props.style, ...(this.composeStyle(...rest))}\n\t\t\t});\n\t\t};\n\n\t\tapplyStyleToHideNode = (index) => {\n\t\t\tconst key = index % this.state.numOfItems;\n\t\t\tthis.cc[key] = <div key={key} style={{display: 'none'}} />;\n\t\t};\n\n\t\tpositionItems () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\t\tlet\n\t\t\t\thideTo = 0,\n\t\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\t\tif (updateFrom >= updateTo) {\n\t\t\t\treturn;\n\t\t\t} else if (updateTo > dataSize) {\n\t\t\t\thideTo = updateTo;\n\t\t\t\tupdateTo = dataSize;\n\t\t\t}\n\n\t\t\tlet\n\t\t\t\twidth, height,\n\t\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t\t// positioning items\n\t\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tj = 0;\n\t\t\t\t} else {\n\t\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\t\tthis.applyStyleToHideNode(i);\n\t\t\t}\n\t\t}\n\n\t\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() : this.scrollBounds.clientHeight);\n\n\t\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\t\tgetVirtualScrollDimension = () => {\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t\t{spacing} = this.props;\n\n\t\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t\t}\n\t\t};\n\n\t\tsyncClientSize = () => {\n\t\t\tconst\n\t\t\t\t{props} = this,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!props.clientSize && !node) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t\t{scrollBounds} = this;\n\n\t\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\t\tthis.setContainerSize();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// render\n\n\t\tgetContainerClasses (className) {\n\t\t\tlet containerClass = null;\n\n\t\t\tif (type === Native) {\n\t\t\t\tcontainerClass = this.isPrimaryDirectionVertical ? css.vertical : css.horizontal;\n\t\t\t}\n\n\t\t\treturn classNames(css.virtualList, containerClass, className);\n\t\t}\n\n\t\tgetContentClasses () {\n\t\t\treturn type === Native ? null : css.content;\n\t\t}\n\n\t\trender () {\n\t\t\tconst\n\t\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, itemsRenderer, style, ...rest} = this.props,\n\t\t\t\t{cc, itemContainerRef, primary} = this,\n\t\t\t\tcontainerClasses = this.getContainerClasses(className),\n\t\t\t\tcontentClasses = this.getContentClasses();\n\n\t\t\tdelete rest.cbScrollTo;\n\t\t\tdelete rest.childProps;\n\t\t\tdelete rest.clientSize;\n\t\t\tdelete rest.dataSize;\n\t\t\tdelete rest.direction;\n\t\t\tdelete rest.getComponentProps;\n\t\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\t\tdelete rest.isVerticalScrollbarVisible;\n\t\t\tdelete rest.itemRenderer;\n\t\t\tdelete rest.itemSize;\n\t\t\tdelete rest.itemSizes;\n\t\t\tdelete rest.onUpdate;\n\t\t\tdelete rest.onUpdateItems;\n\t\t\tdelete rest.overhang;\n\t\t\tdelete rest.pageScroll;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.spacing;\n\t\t\tdelete rest.updateStatesAndBounds;\n\n\t\t\tif (primary) {\n\t\t\t\tthis.positionItems();\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} ref={this.containerRef} style={style}>\n\t\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef}>\n\t\t\t\t\t\t{itemsRenderer({cc, itemContainerRef, primary})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n};\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nconst VirtualListBase = VirtualListBaseFactory(JS);\nVirtualListBase.displayName = 'ui:VirtualListBase';\n\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseNative = VirtualListBaseFactory(Native);\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {index} - Index of specific item. (`0` or positive integer)\n *   This option is available for only `VirtualList` kind.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the list.\n *\n * @name noScrollByWheel\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default VirtualListBase;\nexport {\n\tVirtualListBase as UiVirtualListBase,\n\tVirtualListBaseNative as UiVirtualListBaseNative\n};\n","import classNames from 'classnames';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport {clamp} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './VirtualList.module.less';\n\nconst nop = () => {};\n\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number} minWidth The minimum width of the grid list item.\n * @property {Number} minHeight The minimum height of the grid list item.\n * @public\n */\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The shape for the list different item size\n * in a list for [VirtualList]{@link ui/VirtualList.VirtualList}.\n *\n * @typedef {Object} itemSizesShape\n * @memberof ui/VirtualList\n * @property {Number} minSize The minimum size of the list item.\n * @property {Number[]} size An array of the list item size. If it is not defined, the list items will render with the `minSize` size.\n * @public\n */\nconst itemSizesShape = PropTypes.shape({\n\tminSize: PropTypes.number.isRequired,\n\tsize: PropTypes.arrayOf(PropTypes.number)\n});\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBasic\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nclass VirtualListBasic extends Component {\n\tdisplayName = 'ui:VirtualListBasic';\n\n\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBasic.prototype */ {\n\t\t/**\n\t\t * The rendering function called for each item in the list.\n\t\t *\n\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t * due to performance optimization.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t * renderItem = ({index, ...rest}) => {\n\t\t *\n\t\t * \treturn (\n\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t * \t);\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.data-index It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t * @param {Number} event.index The index number of the component to render\n\t\t *\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t *\n\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\titemSize: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tgridListItemSizeShape\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, useScroll should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Additional props included in the object passed to the `itemRenderer` callback.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t *\n\t\t * @type {Object}\n\t\t * @property {Number} clientHeight The client height of the list.\n\t\t * @property {Number} clientWidth The client width of the list.\n\t\t * @public\n\t\t */\n\t\tclientSize: PropTypes.shape({\n\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t}),\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * The number of items of data the list contains.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tdataSize: PropTypes.number,\n\n\t\t/**\n\t\t * The layout direction of the list.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Called to get the scroll affordance from themed component.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetAffordance: PropTypes.func,\n\n\t\t/**\n\t\t * Called to get the props for list items.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetComponentProps: PropTypes.func,\n\n\t\t/**\n\t\t * Ref for items\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\titemRefs: PropTypes.object,\n\n\t\t/**\n\t\t * The array for individually sized items.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @private\n\t\t */\n\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t/**\n\t\t * Called when the range of items has updated.\n\t\t *\n\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonUpdateItems: PropTypes.func,\n\n\t\t/**\n\t\t * Number of spare DOM node.\n\t\t * `3` is good for the default value experimentally and\n\t\t * this value is highly recommended not to be changed by developers.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 3\n\t\t * @private\n\t\t */\n\t\toverhang: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @private\n\t\t */\n\t\tpageScroll: PropTypes.bool,\n\n\t\t/**\n\t\t * The render function for the placeholder elements.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tplaceholderRenderer: PropTypes.func,\n\n\t\t/**\n\t\t * The ARIA role for the list.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'list'\n\t\t * @public\n\t\t */\n\t\trole: PropTypes.string,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Specifies how to scroll.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'translate'`,\n\t\t * * `'native'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translate'\n\t\t * @public\n\t\t */\n\t\tscrollMode: PropTypes.string,\n\n\t\t/**\n\t\t * The spacing between items.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tupdateStatesAndBounds: PropTypes.func\n\t};\n\n\tstatic defaultProps = {\n\t\tcbScrollTo: nop,\n\t\tdataSize: 0,\n\t\tdirection: 'vertical',\n\t\tgetAffordance: () => (0),\n\t\toverhang: 3,\n\t\tpageScroll: false,\n\t\tscrollMode: 'translate',\n\t\tspacing: 0\n\t};\n\n\tconstructor (props) {\n\t\tlet nextState = null;\n\n\t\tsuper(props);\n\n\t\tthis.contentRef = React.createRef();\n\t\tthis.itemContainerRefs = [];\n\n\t\tif (props.clientSize) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tfirstIndex: 0,\n\t\t\tnumOfItems: 0,\n\t\t\tprevChildProps: null,\n\t\t\tprevFirstIndex: 0,\n\t\t\tupdateFrom: 0,\n\t\t\tupdateTo: 0,\n\t\t\t...nextState\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst\n\t\t\tshouldInvalidate = (\n\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t),\n\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\treturn {\n\t\t\t...nextUpdateFromAndTo,\n\t\t\tprevChildProps: props.childProps,\n\t\t\tprevFirstIndex: state.firstIndex\n\t\t};\n\t}\n\n\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\tcomponentDidMount () {\n\t\tif (!this.props.clientSize) {\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t} else {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\tif (this.props.itemSizes) {\n\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t} else {\n\t\t\tthis.setContainerSize();\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tlet deferScrollTo = false;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tthis.shouldUpdateBounds = false;\n\n\t\t// TODO: remove `this.hasDataSizeChanged` and fix useScroll\n\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\t// When an item expands or shrinks,\n\t\t// we need to calculate the item position again and\n\t\t// the item needs to scroll into view if the item does not show fully.\n\t\tif (this.props.itemSizes) {\n\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\tconst\n\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t) {\n\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\tthis.setContainerSize();\n\n\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\tthis.updateScrollPosition({\n\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t});\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (this.hasDataSizeChanged) {\n\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(newState);\n\t\t\tthis.setContainerSize();\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t}\n\n\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\t\tlet currentPos = this.scrollPosition;\n\n\t\tif (this.props.scrollMode === 'native' && this.scrollToPositionTarget >= 0) {\n\t\t\tcurrentPos = this.scrollToPositionTarget;\n\t\t}\n\n\t\tif (!deferScrollTo && currentPos > maxPos) {\n\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\tthis.scrollToPositionTarget = -1;\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tmoreInfo = {\n\t\tfirstVisibleIndex: null,\n\t\tlastVisibleIndex: null\n\t};\n\n\tprimary = null;\n\tsecondary = null;\n\n\tisPrimaryDirectionVertical = true;\n\tisItemSized = false;\n\n\tshouldUpdateBounds = false;\n\n\tdimensionToExtent = 0;\n\tthreshold = 0;\n\tmaxFirstIndex = 0;\n\tcurDataSize = 0;\n\thasDataSizeChanged = false;\n\tcc = [];\n\tscrollPosition = 0;\n\tscrollPositionTarget = 0;\n\tscrollToPositionTarget = -1;\n\n\t// For individually sized item\n\titemPositions = [];\n\tindexToScrollIntoView = -1;\n\n\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\tif (this.props.scrollMode === 'native') {\n\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t} else {\n\t\t\tthis.setScrollPositionTarget (x, y);\n\t\t\tthis.setScrollPosition(x, y, rtl);\n\t\t}\n\t};\n\n\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetMoreInfo = () => this.moreInfo;\n\n\tgetGridPosition (index) {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\tlet primaryPosition;\n\n\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\t\t} else {\n\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t}\n\n\t\treturn {primaryPosition, secondaryPosition};\n\t}\n\n\t// For individually sized item\n\tgetItemBottomPosition = (index) => {\n\t\tconst\n\t\t\titemPosition = this.itemPositions[index],\n\t\t\titemSize = this.props.itemSizes[index];\n\n\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\treturn itemPosition.position + itemSize;\n\t\t} else {\n\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t}\n\t};\n\n\t// For individually sized item\n\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t};\n\n\tgetItemPosition = (index, stickTo = 'start', optionalOffset = 0) => {\n\t\tconst {isPrimaryDirectionVertical, primary, scrollBounds} = this;\n\t\tconst maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tconst position = this.getGridPosition(index);\n\t\tlet offset = 0;\n\n\t\tif (stickTo === 'start') {\n\t\t\toffset = optionalOffset;\n\t\t} else if (this.props.itemSizes) {\n\t\t\toffset = primary.clientSize - this.props.itemSizes[index] - optionalOffset;\n\t\t} else {\n\t\t\toffset = primary.clientSize - primary.itemSize - optionalOffset;\n\t\t}\n\n\t\tposition.primaryPosition = clamp(0, maxPos, position.primaryPosition - offset);\n\n\t\treturn this.gridPositionToItemPosition(position);\n\t};\n\n\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\tgetClientSize = (node) => ({\n\t\tclientWidth: node.clientWidth,\n\t\tclientHeight: node.clientHeight\n\t});\n\n\temitUpdateItems () {\n\t\tconst {dataSize} = this.props;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tforward('onUpdateItems', {\n\t\t\tfirstIndex: firstIndex,\n\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t}, this.props);\n\t}\n\n\tcalculateMetrics (props) {\n\t\tconst\n\t\t\t{clientSize, direction, itemSize, overhang, scrollMode, spacing} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node),\n\t\t\theightInfo = {\n\t\t\t\tclientSize: clientHeight,\n\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\titemSize: itemSize\n\t\t\t},\n\t\t\twidthInfo = {\n\t\t\t\tclientSize: clientWidth,\n\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\titemSize: itemSize\n\t\t\t};\n\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tprimary = heightInfo;\n\t\t\tsecondary = widthInfo;\n\t\t} else {\n\t\t\tprimary = widthInfo;\n\t\t\tsecondary = heightInfo;\n\t\t}\n\t\tdimensionToExtent = 1;\n\n\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\tif (this.isItemSized) {\n\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t// by the minimum item width plus the spacing\n\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t// the actual item height is related to the item width\n\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t}\n\n\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\tthis.primary = primary;\n\t\tthis.secondary = secondary;\n\n\t\t// reset\n\t\tthis.scrollPosition = 0;\n\t\tthis.scrollToPositionTarget = -1;\n\t\tif (scrollMode === 'translate' && this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = null;\n\t\t} else if (scrollMode === 'native' && node) {\n\t\t\tnode.style.scrollBehavior = null;\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\tnode.style.scrollBehavior = 'smooth';\n\t\t}\n\t}\n\n\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\tconst\n\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t// so that setState() in didScroll() could be called to override state.\n\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t// So `shouldUpdateBounds` is true here.\n\t\tthis.shouldUpdateBounds = true;\n\n\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\tthis.curDataSize = dataSize;\n\n\t\t// reset children\n\t\tthis.cc = [];\n\t\tthis.itemPositions = []; // For individually sized item\n\t\tthis.calculateScrollBounds(props);\n\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\tnumOfItems,\n\t\t\tdataSize,\n\t\t\tmoreInfo\n\t\t}))) {\n\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t}\n\n\t\treturn {\n\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\tnumOfItems: numOfItems\n\t\t};\n\t};\n\n\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\tconst\n\t\t\t{overhang} = props,\n\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t{gridSize} = primary;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\tconst\n\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t}\n\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t}\n\n\t\treturn newFirstIndex;\n\t}\n\n\tcalculateScrollBounds (props) {\n\t\tconst\n\t\t\t{clientSize} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\tlet maxPos;\n\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t// correct position\n\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\tthis.syncThreshold(maxPos);\n\t}\n\n\tsetContainerSize = () => {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t}\n\t};\n\n\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\tconst\n\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\tif (dataSize <= 0) {\n\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t} else if (this.props.itemSizes) {\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\tlastVisibleIndex = null;\n\t\t\t}\n\n\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t} else {\n\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t}\n\t}\n\n\tsyncThreshold (maxPos) {\n\t\tconst {threshold} = this;\n\n\t\tif (threshold.max > maxPos) {\n\t\t\tif (maxPos < threshold.base) {\n\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\tthreshold.min = -Infinity;\n\t\t\t} else {\n\t\t\t\tthreshold.max = maxPos;\n\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.props.scrollContentRef.current && this.props.scrollContentRef.current.scrollTo) {\n\t\t\tif (rtl) {\n\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t}\n\n\t\t\tthis.props.scrollContentRef.current.scrollTo(x, y);\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tsetScrollToPositionTarget (x, y) {\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollToPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollToPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPositionTarget (x, y) {\n\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t// To know the position when stopping scrolling properly, `x` and `y` are passed and cached in `this.scrollPositionTarget`.\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\t\t\tthis.didScroll(x, y);\n\t\t}\n\t}\n\n\tdidScroll (x, y) {\n\t\tconst\n\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\tif (isPrimaryDirectionVertical) {\n\t\t\tpos = y;\n\t\t} else {\n\t\t\tpos = x;\n\t\t}\n\n\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\tif (index < dataSize) {\n\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t}\n\n\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t}\n\n\t\tthis.syncThreshold(maxPos);\n\t\tthis.scrollPosition = pos;\n\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t}\n\t}\n\n\t// For individually sized item\n\tcalculateAndCacheItemPosition (index) {\n\t\tconst {itemSizes} = this.props;\n\n\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\tconst\n\t\t\t\t{spacing} = this.props,\n\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\tthis.itemPositions[index] = {position};\n\t\t}\n\t}\n\n\t// For individually sized item\n\tapplyItemPositionToDOMElement (index) {\n\t\tconst\n\t\t\t{direction, rtl} = this.props,\n\t\t\t{numOfItems} = this.state,\n\t\t\t{itemPositions} = this,\n\t\t\tchildNode = this.itemContainerRefs[index % numOfItems];\n\n\t\tif (childNode && itemPositions[index]) {\n\t\t\tconst position = itemPositions[index].position;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t} else {\n\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// For individually sized item\n\tupdateThresholdWithItemPosition () {\n\t\tconst\n\t\t\t{overhang} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{maxFirstIndex} = this,\n\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t}\n\n\t// For individually sized item\n\tupdateScrollBoundsWithItemPositions () {\n\t\tconst\n\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t} else {\n\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\tif (!nextInfo) {\n\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t}\n\n\t// For individually sized item\n\tadjustItemPositionWithItemSize () {\n\t\tif (this.cc.length) {\n\t\t\tconst\n\t\t\t\t{dataSize} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t// Cache individually sized item positions\n\t\t\t// and adjust item DOM element positions\n\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t}\n\n\t\t\t// Update threshold based on this.itemPositions\n\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t// Set container size based on this.scrollbounds\n\t\t\tthis.setContainerSize();\n\n\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t}\n\t}\n\n\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\tconst\n\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\tstyle = {\n\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t};\n\n\t\tif (this.isItemSized) {\n\t\t\tstyle.width = width;\n\t\t\tstyle.height = height;\n\t\t}\n\n\t\treturn style;\n\t}\n\n\tapplyStyleToNewNode = (index, ...rest) => {\n\t\tconst\n\t\t\t{childProps, itemRefs, itemRenderer, getComponentProps} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {},\n\t\t\titemContainerRef = (ref) => {\n\t\t\t\tif (ref === null) {\n\t\t\t\t\titemRefs.current[key] = ref;\n\t\t\t\t} else {\n\t\t\t\t\tconst itemNode = ref.children[0];\n\n\t\t\t\t\titemRefs.current[key] = (parseInt(itemNode.dataset.index) === index) ?\n\t\t\t\t\t\titemNode :\n\t\t\t\t\t\tref.querySelector(`[data-index=\"${index}\"]`);\n\n\t\t\t\t\tthis.itemContainerRefs[key] = ref;\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis.cc[key] = (\n\t\t\t<div className={css.listItem} key={key} ref={itemContainerRef} style={this.composeStyle(...rest)}>\n\t\t\t\t{itemRenderer({...childProps, ...componentProps, index})}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tapplyStyleToHideNode = (index) => {\n\t\tconst\n\t\t\t{itemRefs} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\titemContainerRef = () => (itemRefs.current[key] = null);\n\n\t\tthis.cc[key] = <div key={key} ref={itemContainerRef} style={{display: 'none'}} />;\n\t};\n\n\tpositionItems () {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\tlet\n\t\t\thideTo = 0,\n\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\tif (updateFrom >= updateTo) {\n\t\t\treturn;\n\t\t} else if (updateTo > dataSize) {\n\t\t\thideTo = updateTo;\n\t\t\tupdateTo = dataSize;\n\t\t}\n\n\t\tlet\n\t\t\twidth, height,\n\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t// positioning items\n\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t} else {\n\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\tthis.applyStyleToHideNode(i);\n\t\t}\n\t}\n\n\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() + this.props.getAffordance() : this.scrollBounds.clientHeight);\n\n\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\tgetVirtualScrollDimension = () => {\n\t\tif (this.props.itemSizes) {\n\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t} else {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t{spacing} = this.props;\n\n\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t}\n\t};\n\n\tsyncClientSize = () => {\n\t\tconst\n\t\t\t{props} = this,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!props.clientSize && !node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\tthis.setContainerSize();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t// render\n\n\trender () {\n\t\tconst\n\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, 'data-webos-voice-disabled': voiceDisabled, placeholderRenderer, role, style, scrollMode, ...rest} = this.props,\n\t\t\t{cc, isPrimaryDirectionVertical, primary} = this,\n\t\t\tscrollModeNative = scrollMode === 'native',\n\t\t\tcontainerClasses = classNames(\n\t\t\t\tcss.virtualList,\n\t\t\t\tisPrimaryDirectionVertical ? css.vertical : css.horizontal,\n\t\t\t\t{[css.native]: scrollModeNative},\n\t\t\t\tclassName\n\t\t\t),\n\t\t\tcontentClasses = scrollModeNative ? null : css.content;\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.childProps;\n\t\tdelete rest.clientSize;\n\t\tdelete rest.dataSize;\n\t\tdelete rest.direction;\n\t\tdelete rest.getAffordance;\n\t\tdelete rest.getComponentProps;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.itemRefs;\n\t\tdelete rest.itemRenderer;\n\t\tdelete rest.itemSize;\n\t\tdelete rest.itemSizes;\n\t\tdelete rest.onUpdate;\n\t\tdelete rest.onUpdateItems;\n\t\tdelete rest.overhang;\n\t\tdelete rest.pageScroll;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\t\tdelete rest.spacing;\n\t\tdelete rest.updateStatesAndBounds;\n\n\t\tif (primary) {\n\t\t\tthis.positionItems();\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} data-webos-voice-disabled={voiceDisabled} ref={this.props.scrollContentRef} style={style}>\n\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef} role={role}>\n\t\t\t\t\t{[...cc, placeholderRenderer && placeholderRenderer(primary)]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default VirtualListBasic;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tVirtualListBasic\n};\n","/**\n * Unstyled virtual list components and behaviors to be customized by a theme or application.\n *\n * @module ui/VirtualList\n * @exports gridListImageSizeShape\n * @exports itemSizesShape\n * @exports VirtualGridList\n * @exports VirtualList\n * @exports VirtualListBase\n * @exports VirtualListBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport {UiVirtualListBase, UiVirtualListBaseNative} from './UiVirtualListBase';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic} from './VirtualListBasic';\n\nconst nop = () => {};\n\n/**\n * An unstyled scrollable virtual list component with touch support.\n *\n * @class VirtualList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualList = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Render\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'ui:VirtualList';\n\nVirtualList.propTypes = /** @lends ui/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\n/**\n * An unstyled scrollable virtual grid list component with touch support.\n *\n * @class VirtualGridList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualGridList = (props) => {\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'ui:VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends ui/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualGridList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default VirtualList;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tUiVirtualListBase as VirtualListBase, // to support legacy VirtualListBase\n\tUiVirtualListBaseNative as VirtualListBaseNative, // to support legacy VirtualListBaseNative\n\tVirtualGridList,\n\tVirtualList,\n\tVirtualListBasic\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollFill\":\"useScroll_scrollFill__3sWM5\",\"scroll\":\"useScroll_scroll__1hjH-\",\"scrollInnerContainer\":\"useScroll_scrollInnerContainer__2cjfl\",\"scrollContentWrapper\":\"useScroll_scrollContentWrapper__3y4Yr\",\"scrollContentWrapperNative\":\"useScroll_scrollContentWrapperNative__2gw3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picker\":\"Picker_picker__UUvjv\",\"horizontal\":\"Picker_horizontal__Dj--W\",\"label\":\"Picker_label__3t76Q\",\"item\":\"Picker_item__3x94p\",\"itemDecrement\":\"Picker_itemDecrement__2DM0p\",\"itemIncrement\":\"Picker_itemIncrement__1r4Cn\",\"active\":\"Picker_active__1Heyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"VirtualList_virtualList__27okt\",\"content\":\"VirtualList_content__2N_2e\",\"vertical\":\"VirtualList_vertical__2m96z\",\"native\":\"VirtualList_native__2Aj3i\",\"listItem\":\"VirtualList_listItem__3onfo\",\"horizontal\":\"VirtualList_horizontal__1ehoY\"};","import curry from 'ramda/src/curry';\n\n/*\n * The singleton map of names to keyCodes. If a name doesn't have any keyCodes mapped to it, it will\n * not exist in this map. If it does, its value will be an array of its keyCodes.\n *\n * @type {Object}\n * @private\n */\nconst map = {};\n\n/*\n * Safely converts keymap name to lowercase.\n *\n * @function\n * @param   {String} name  Name for keyCode\n *\n * @returns {String}       Name for keyCode in lowercase\n * @memberof core/keymap\n * @private\n */\nconst toLowerCase = (name) => name ? name.toLowerCase() : '';\n\n/*\n * Iterates over `set` and invokes `fn` with the key and value of each item.\n *\n * @function\n * @param   {Function}  fn   Function to invoke\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @memberof core/keymap\n * @private\n */\nconst forEachObj = curry(function (fn, set) {\n\tObject.keys(set).forEach(name => fn(name, set[name]));\n});\n\n/*\n * Invokes `fn` with `name` and `keyCode` for each key code provided.\n *\n * @function\n * @param   {Function}        fn       Function to invoke\n * @param   {String}          name     Name for the key codes\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst oneOrArray = curry(function (fn, name, keyCode) {\n\tif (Array.isArray(keyCode)) {\n\t\tkeyCode.forEach(fn(name));\n\t} else {\n\t\tfn(name, keyCode);\n\t}\n});\n\n/*\n * Adds `keyCode` to `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst addOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst index = map[name].indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tmap[name].push(keyCode);\n\t\t}\n\t} else if (name) {\n\t\tmap[name] = [keyCode];\n\t}\n});\n\n/*\n * Removes `keyCode` from `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst removeOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst keys = map[name];\n\t\tconst index = keys.indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tdelete map[name];\n\t\t} else {\n\t\t\tkeys.splice(index, 1);\n\t\t}\n\t}\n});\n\n/**\n * Registers `keyCode` for `name`.\n *\n * @function add\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst add = oneOrArray(addOne);\n\n/**\n * Registers a set of key codes.\n *\n * @function addAll\n * @param   {Object<String,Number|Number[]>}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst addAll = forEachObj(add);\n\n/**\n * Unregisters `keyCode` from `name`.\n *\n * @function remove\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst remove = oneOrArray(removeOne);\n\n/**\n * Unregisters a set of key codes.\n *\n * @function removeAll\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst removeAll = forEachObj(remove);\n\n/**\n * Determines if `keyCode` is mapped to `name`.\n *\n * @function is\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {Boolean}            `true` if `keyCode` is mapped to `name`\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst is = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\treturn name in map && map[name].indexOf(keyCode) >= 0;\n});\n\nexport {\n\tadd,\n\taddAll,\n\tis,\n\tremove,\n\tremoveAll\n};\n","/**\n * Manages a map of names to key codes to simplify event handlers\n *\n * Example:\n * ```\n * import {add, is} from '@enact/core/keymap';\n *\n * add('enter', 13);\n * const isEnter = is('enter');\n *\n * // within event handler\n * if (isEnter(ev.keyCode)) {\n *   // handle enter\n * }\n * ```\n *\n * @module core/keymap\n * @exports add\n * @exports addAll\n * @exports is\n * @exports remove\n * @exports removeAll\n */\n\n// keymap uses a singleton object, map, to manage the keymap. since webpack may make multiple copies\n// of the module available if the import path is different, we ensure a consistent import path for\n// the singleton instance by facading it with this module.\n\nimport {addAll} from './keymap';\n\n// Add the default 5-way navigation key codes\naddAll({\n\tenter: [13, 16777221],\n\tleft: 37,\n\tup: 38,\n\tright: 39,\n\tdown: 40,\n\tpageUp: 33,\n\tpageDown: 34\n});\n\nexport * from './keymap';\n","import CaseMapper from 'ilib/lib/CaseMapper';\n\nlet toLowerCaseMapper, toUpperCaseMapper;\n\n/**\n * Set CaseMapper object references to ilib's current locale (its most recently set, by default)\n *\n * @returns {undefined}\n */\nfunction initCaseMappers () {\n\ttoLowerCaseMapper = new CaseMapper({direction: 'tolower'});\n\ttoUpperCaseMapper = new CaseMapper({direction: 'toupper'});\n}\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @function\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n */\nconst toLowerCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toLowerCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @function\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n */\nconst toUpperCase = function (inString) {\n\tif (inString != null) {\n\t\treturn toUpperCaseMapper.map(inString.toString());\n\t}\n\treturn inString;\n};\n\nexport {\n\tinitCaseMappers,\n\ttoLowerCase,\n\ttoUpperCase\n};\n","/**\n * An unstyled icon component to be customized by a theme or application.\n *\n * @module ui/Icon\n * @exports Icon\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ri from '../resolution';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Merges consumer styles with the image `src` resolved through the resolution independence module.\n *\n * @function\n * @param\t{Object}\t\tstyle\tStyle object\n * @param\t{String|Object}\tsrc\t\tURI to image or object of URIs\n *\n * @returns\t{Object}\t\t\t\tOriginal style object with backgroundImage updated\n * @private\n */\nconst mergeStyle = function (style, src) {\n\tlet updated = Object.assign({}, style);\n\tlet source = ri.selectSrc(src);\n\tif (src && src !== 'none' && src !== 'inherit' && src !== 'initial') {\n\t\tsource = `url(${source})`;\n\t}\n\n\tupdated.backgroundImage = source;\n\treturn updated;\n};\n\n/**\n * Tests if a string appears to be a URI/URL.\n *\n * @function\n * @param\t{String}\tc\tCharacter to test\n *\n * @returns\t{Boolean}\t\t`true` if c looks like a URL\n * @private\n */\nconst isUri = function (c) {\n\treturn (c.indexOf('/') > -1) || (c.indexOf('.') > -1);\n};\n\n/**\n * A basic icon component structure without any behaviors applied to it.\n *\n * @class Icon\n * @memberof ui/Icon\n * @ui\n * @public\n */\nconst Icon = kind({\n\tname: 'ui:Icon',\n\n\tpropTypes: /** @lends ui/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root component class\n\t\t * * `dingbat` - Applied when the value of [`icon`]{@link ui/Icon.Icon.icon} is not\n\t\t *   found in [iconList]{@link ui/Icon.Icon.iconList}\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The full list (hash) of supported icons.\n\t\t *\n\t\t * The keys of this hash are the unique names of each icon. The values are the unicode\n\t\t * characters to insert in the icon. These will typically map to glyphs in your icon-font.\n\t\t * The format of the keys can be character, glyph, or entity reference that correctly\n\t\t * renders in a React + JSX string.\n\t\t *\n\t\t * @type {Object}\n\t\t * @default {}\n\t\t * @public\n\t\t */\n\t\ticonList: PropTypes.object,\n\n\t\t/**\n\t\t * Applies the `pressed` CSS class.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'small'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ticonList: {},\n\t\tpressed: false,\n\t\tsize: 'small'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'icon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children: icon, flip, iconList, pressed, size, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\t{\n\t\t\t\t\t// If the icon isn't in our known set, apply our custom font class\n\t\t\t\t\tdingbat: !(icon in iconList),\n\t\t\t\t\tpressed\n\t\t\t\t},\n\t\t\t\tflip ? `flip${cap(flip)}` : null,\n\t\t\t\tsize\n\t\t\t);\n\t\t},\n\t\ticonProps: ({children: iconProp, iconList, style}) => {\n\t\t\tlet icon = iconList[iconProp];\n\n\t\t\tif (!icon) {\n\t\t\t\tif (typeof iconProp == 'string') {\n\t\t\t\t\tif (iconProp.indexOf('&#x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in HTML entity form: &#x99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(3, -1), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('&#') === 0) {\n\t\t\t\t\t\t// Convert an HTML entity: &#99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2, -1));\n\t\t\t\t\t} else if (iconProp.indexOf('\\\\u') === 0) {\n\t\t\t\t\t\t// Convert a unicode reference: \\u99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('0x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in string form\n\t\t\t\t\t\ticon = String.fromCodePoint(iconProp);\n\t\t\t\t\t} else if (!isUri(iconProp)) {\n\t\t\t\t\t\t// A \"simple\" string is assumed to be an icon-name string\n\t\t\t\t\t\ticon = iconProp;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// for a path or URI, add it to style\n\t\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof iconProp === 'object') {\n\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof icon == 'number') {\n\t\t\t\t// Converts a hex reference in number form\n\t\t\t\ticon = String.fromCodePoint(icon);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tchildren: icon,\n\t\t\t\tstyle\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({iconProps, ...rest}) => {\n\t\tdelete rest.iconList;\n\t\tdelete rest.pressed;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\t{...rest}\n\t\t\t\t{...iconProps}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default Icon;\nexport {\n\tIcon\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__3W3lA\",\"vertical\":\"Scrollbar_vertical__3N5Az\",\"horizontal\":\"Scrollbar_horizontal__1D2oU\",\"scrollbarButtonNoCompositeLayer\":\"Scrollbar_scrollbarButtonNoCompositeLayer__1eW87\",\"scrollButton\":\"Scrollbar_scrollButton__1UONg\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__2YqOy\",\"corner\":\"Scrollbar_corner__OHydB\"};","/**\n * A basic progress bar component that can display the progress of something in a horizontal,\n * vertical, or radial bar format.\n *\n * A secondary independent progress indicator can be displayed, to indicate\n * an additional degree of information, often used as a background loading progress.\n *\n * @module ui/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {validateRange} from '../internal/validators';\n\nimport componentCss from './ProgressBar.module.less';\n\nconst progressToProportion = (value) => clamp(0, 1, value);\nconst calcBarStyle = (prop, anchor, value = anchor, startProp, endProp) => {\n\tlet start = Math.min(anchor, value);\n\tlet end = Math.max(anchor, value) - start;\n\n\tif (__DEV__) {\n\t\tvalidateRange(start, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t\tvalidateRange(end, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t}\n\n\treturn {\n\t\t[startProp]: progressToProportion(start),\n\t\t[endProp]: progressToProportion(end)\n\t};\n};\n\n/**\n * An unstyled progress bar component that can be customized by a theme or application.\n *\n * @class ProgressBar\n * @memberof ui/ProgressBar\n * @ui\n * @public\n */\nconst ProgressBar = kind({\n\tname: 'ui:ProgressBar',\n\n\tpropTypes: /** @lends ui/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * The proportion of the loaded portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * The contents to be displayed with progress bar.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t * * `bar`         - The background node (the empty part of the progressBar)\n\t\t * * `fill`        - The foreground of the progress bar (`progress`)\n\t\t * * `load`        - The `backgroundProgress` node\n\t\t * * `horizontal`  - Applied when `orientation` is `'horizontal'`\n\t\t * * `vertical`    - Applied when `orientation` is `'vertical'`\n\t\t * * `radial`      - Applied when `orientation` is `'radial'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t *\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t * * `'radial'` - A circular orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * The proportion of the filled portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the progress bar is filled.\n\t\t *\n\t\t * Applies to both the progress bar's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the progress bar to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the progress bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tprogressAnchor: 0\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'progressBar',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({backgroundProgress, orientation, progress, styler}) => styler.append(orientation, {\n\t\t\tfillOverHalf: (progress > 0.5),\n\t\t\tloadOverHalf: (backgroundProgress > 0.5)\n\t\t}),\n\t\tstyle: ({backgroundProgress, progress, progressAnchor, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-progressbar-proportion-anchor': progressAnchor,\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'backgroundProgress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tbackgroundProgress,\n\t\t\t\t\t'--ui-progressbar-proportion-start-background',\n\t\t\t\t\t'--ui-progressbar-proportion-end-background'\n\t\t\t\t),\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'progress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tprogress,\n\t\t\t\t\t'--ui-progressbar-proportion-start',\n\t\t\t\t\t'--ui-progressbar-proportion-end'\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, css, ...rest}) => {\n\t\tdelete rest.backgroundProgress;\n\t\tdelete rest.orientation;\n\t\tdelete rest.progress;\n\t\tdelete rest.progressAnchor;\n\n\t\treturn (\n\t\t\t<div role=\"progressbar\" {...rest}>\n\t\t\t\t<div className={css.bar}>\n\t\t\t\t\t<div className={css.load} />\n\t\t\t\t\t<div className={css.fill} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ProgressBar;\nexport {\n\tProgressBar\n};\n","import FloatingLayer from '@enact/ui/FloatingLayer';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst OpenState = {\n\tCLOSED: 0,\n\tOPENING: 1,\n\tOPEN: 2\n};\n\nconst forwardHide = forward('onHide');\n\nconst PopupState = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PopupState';\n\n\t\tstatic propTypes = {\n\t\t\tnoAnimation: PropTypes.bool,\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\t\t\tonClose: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tnoAnimation: false,\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tscrimType: 'translucent'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tfloatLayerOpen: this.props.open,\n\t\t\t\tpopupOpen: this.props.open ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\tprevOpen: this.props.open\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.open !== state.prevOpen) {\n\t\t\t\tif (props.open) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: props.noAnimation || state.floatLayerOpen ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: true,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: state.popupOpen !== OpenState.CLOSED ? !props.noAnimation : false,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\thandleFloatingLayerOpen = () => {\n\t\t\tif (!this.props.noAnimation && this.state.popupOpen !== OpenState.OPEN) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpopupOpen: OpenState.OPENING\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\thandlePopupHide = () => {\n\t\t\tforwardHide(null, this.props);\n\n\t\t\tthis.setState({\n\t\t\t\tfloatLayerOpen: false,\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {noAutoDismiss, onClose, scrimType, ...rest} = this.props;\n\t\t\tdelete rest.spotlightRestrict;\n\n\t\t\treturn (\n\t\t\t\t<FloatingLayer\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\topen={this.state.floatLayerOpen}\n\t\t\t\t\tonOpen={this.handleFloatingLayerOpen}\n\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\topen={this.state.popupOpen >= OpenState.OPENING}\n\t\t\t\t\t\tonClose={onClose}\n\t\t\t\t\t\tonHide={this.handlePopupHide}\n\t\t\t\t\t/>\n\t\t\t\t</FloatingLayer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PopupState;\nexport {PopupState};\n","/**\n * A repeater component.\n *\n * @module ui/Repeater\n * @exports Repeater\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\n/**\n * A stateless component that stamps out copies of `childComponent`, without\n * [RepeaterDecorator](ui/Repeater.RepeaterDecorator) applied.\n *\n * @class RepeaterBase\n * @memberof ui/Repeater\n * @ui\n * @public\n */\nconst RepeaterBase = kind({\n\tname: 'Repeater',\n\n\tpropTypes: /** @lends ui/Repeater.RepeaterBase.prototype */ {\n\t\t/**\n\t\t * Component type to repeat.\n\t\t *\n\t\t * This can be a React component or a string describing a DOM node (e.g. `'div'`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\t\t *\n\t\t * This supports two data types. If an array of strings is provided, the strings will be used\n\t\t * in the generated `childComponent` as the readable text. If an array of objects is provided,\n\t\t * each object will be spread onto the generated `childComponent` with no interpretation.\n\t\t * You'll be responsible for setting properties like `disabled`, `className`, and setting the\n\t\t * text content using the `children` key.\n\t\t *\n\t\t * > **NOTE**: When an array of objects is provided, make sure a unique `key` is assigned to each\n\t\t * data. See https://fb.me/react-warning-keys for more information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * Component type to wrap around all of the repeated elements.\n\t\t *\n\t\t * This can be a string describing a DOM node or React component (e.g. `'div'` or `Layout`).\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'span'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Repeater.Repeater#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item in the `Repeater`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tcomponent: 'span',\n\t\tindexProp: 'data-index'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({childComponent: Component, children, childProp, indexProp, itemProps}) => {\n\t\t\treturn children.map((data, index) => {\n\t\t\t\tlet props = {};\n\t\t\t\tif (typeof data === 'object') {\n\t\t\t\t\tprops = {...itemProps, ...data};\n\t\t\t\t} else if (childProp) {\n\t\t\t\t\tprops = {key: index, ...itemProps, [childProp]: data};\n\t\t\t\t}\n\t\t\t\tif (indexProp) props[indexProp] = index;\n\n\t\t\t\treturn <Component {...props} />;\n\t\t\t});\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.childComponent;\n\t\tdelete rest.childProp;\n\t\tdelete rest.indexProp;\n\t\tdelete rest.itemProps;\n\n\t\treturn <Component ref={componentRef} role=\"list\" {...rest} />;\n\t}\n});\n\n/**\n * Applies Repeater behaviors.\n *\n * @hoc\n * @memberof ui/Repeater\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst RepeaterDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that stamps out copies of `childComponent`.\n *\n * @class Repeater\n * @memberof ui/Repeater\n * @extends ui/Repeater.RepeaterBase\n * @mixes ui/Repeater.RepeaterDecorator\n * @ui\n * @public\n */\nconst Repeater = RepeaterDecorator(RepeaterBase);\n\nexport default Repeater;\nexport {\n\tRepeater,\n\tRepeaterBase\n};\n","import curry from 'ramda/src/curry';\n\n/**\n * Determines if `item` is selected\n *\n * @param\t{*}\t\t\titem\t\tUsually a number but could be anything within the `selected` list\n * @param\t{*|Array}\tselected\tOne or many selected items\n *\n * @returns\t{Boolean}\t\t\t\t`true` if item is equal to or contained in `selected`\n * @private\n */\nconst isSelected = curry(function (item, selected) {\n\treturn item === selected || Array.isArray(selected) && selected.indexOf(item) >= 0;\n});\n\n/**\n * Selects or deselects an `item` based on the `mode` and returns a copy of `selected` with the new\n * selected state.\n *\n * `single` - Toggles the selection state of `item`. Always returns either `item` or null.\n * `radio` - Always selects `item`\n * `multiple` - Toggles the selection state `item` like `single` but doesn't replace other selected\n * items.\n *\n * @param\t{String}\tmode\t\tSelection mode (`single`, `radio`, or `multiple`)\n * @param\t{*}\t\t\titem\t\tThe selected item\n * @param\t{*|Array}\tselected\tThe current selection\n *\n * @returns {*|Array}\t\t\t\tThe updated selection\n * @private\n */\nconst select = curry(function (mode, item, selected) {\n\tif (mode === 'radio') {\n\t\t// When selection is disabled, when selecting only 1, or when selecting the\n\t\t// first of multiple, we can forward the source event as is.\n\t\treturn item;\n\t} else if (mode === 'single') {\n\t\t// When selecting 0 or 1, we have to unselect it if selected\n\t\treturn isSelected(item, selected) ? null : item;\n\t} else if (selected == null) {\n\t\t// When selection 0 or n but no prior selection, wrap item in an array\n\t\treturn [item];\n\t} else {\n\t\t// Otherwise we're selecting multiple so we have to either deselect it if\n\t\t// already selected or select it if not.\n\t\tlet updated = Array.isArray(selected) ? selected.slice() : [selected];\n\t\tconst index = updated.indexOf(item);\n\t\tif (index >= 0) {\n\t\t\tif (updated.length === 1) {\n\t\t\t\t// item should be deselected and is the only item in the array so return null\n\t\t\t\tupdated = null;\n\t\t\t} else {\n\t\t\t\t// otherwise there are multiple selected so remove item\n\t\t\t\tupdated.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\t// insert and sort\n\t\t\tupdated.push(item);\n\t\t\tupdated = updated.sort((a, b) => a - b);\n\t\t}\n\n\t\treturn updated;\n\t}\n});\n\nexport {\n\tisSelected,\n\tselect\n};\n","/*\n * Exports the {@link ui/Group.GroupItem} and {@link ui/Group.GroupItemBase}\n * components as well as the `pickGroupItemProps` method.  The default export is {@link ui/Group.GroupItem}.\n * `GroupItem` is stateless and is the same as `GroupItemBase`.\n * NOTE: not jsdoc on purpose.\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\n\nimport {isSelected, select as selectItem} from '../internal/selection';\n\n/**\n * Pick the `GroupItem`-specific props into a [private]{@link /developer-guide/glossary/#private} `itemProps` key to be extracted by\n * `GroupItem` before passing the remaining on to the repeated `childComponent`\n *\n * @function\n * @param {Object} props `Group` props\n * @returns {Object} `GroupItem` props\n * @private\n */\nconst pickGroupItemProps = (props) => ({\n\t$$GroupItem: {\n\t\tchildComponent: props.childComponent,\n\t\tchildProp: props.childProp,\n\t\tchildSelect: props.childSelect,\n\t\tindexProp: props.indexProp,\n\t\tonSelect: props.onSelect,\n\t\tselect: props.select,\n\t\tselected: props.selected,\n\t\tselectedEventProp: props.selectedEventProp,\n\t\tselectedProp: props.selectedProp\n\t}\n});\n\n/**\n * {@link ui/Group.GroupItem} is a stateless component that is used within a\n * {@link ui/Group.Group}.  It supports passing the configurable selected property and\n * handler to its configured `childComponent`.\n *\n * **Note**: It receives its properties through the `$$GroupItem` property passed from `Group`'s\n * {@link ui/Repeater.Repeater}.\n *\n * @class GroupItemBase\n * @memberof ui/Group\n * @ui\n * @private\n */\nconst GroupItemBase = kind({\n\tname: 'GroupItem',\n\t// TODO: Add propTypes\n\t/* eslint-disable enact/prop-types */\n\n\thandlers: {\n\t\thandleSelect: (ev, props) => {\n\t\t\tconst {\n\t\t\t\t$$GroupItem: {\n\t\t\t\t\tchildProp,\n\t\t\t\t\tindexProp,\n\t\t\t\t\tonSelect,\n\t\t\t\t\tselect,\n\t\t\t\t\tselected,\n\t\t\t\t\tselectedEventProp\n\t\t\t\t}\n\t\t\t} = props;\n\n\t\t\tif (onSelect) {\n\t\t\t\tconst index = props[indexProp];\n\n\t\t\t\tonSelect({\n\t\t\t\t\t[selectedEventProp]: props[childProp],\n\t\t\t\t\tselected: selectItem(select, index, selected)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\t$$GroupItem: {\n\t\t\t\tchildComponent: Component,\n\t\t\t\tchildSelect,\n\t\t\t\tindexProp,\n\t\t\t\tselected,\n\t\t\t\tselectedProp\n\t\t\t},\n\t\t\thandleSelect,\n\t\t\t...rest\n\t\t} = props;\n\n\t\tif (selectedProp) {\n\t\t\tconst index = rest[indexProp];\n\t\t\trest[selectedProp] = isSelected(index, selected);\n\t\t}\n\n\t\tif (childSelect) {\n\t\t\trest[childSelect] = handleSelect;\n\t\t}\n\n\t\treturn <Component {...rest} />;\n\t}\n});\n\nexport default GroupItemBase;\nexport {GroupItemBase as GroupItem, GroupItemBase, pickGroupItemProps};\n","/**\n * Provides a component that renders a group of components given a set of data.\n *\n * @module ui/Group\n * @exports Group\n * @exports GroupBase\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Changeable from '../Changeable';\nimport Repeater from '../Repeater';\n\nimport {GroupItem, pickGroupItemProps} from './GroupItem';\n\n/**\n * A stateless component that supports selection of its child items via configurable\n * properties and events.\n *\n * @class GroupBase\n * @memberof ui/Group\n * @ui\n * @public\n */\nconst GroupBase = kind({\n\tname: 'Group',\n\n\tpropTypes: /** @lends ui/Group.Group.prototype */ {\n\t\t/**\n\t\t * Component type to repeat. This can be a React component or a string describing a DOM\n\t\t * node (e.g. `'div'`)\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildComponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * An array of data to be mapped onto the `childComponent`.\n\n\t\t * This supports two data types. If an array of strings is provided, the strings will be\n\t\t * used in the generated `childComponent` as the content (i.e. passed as `children`). If\n\t\t * an array of objects is provided, each object will be spread onto the generated\n\t\t * `childComponent` with no interpretation. You'll be responsible for setting properties\n\t\t * like `disabled`, `className`, and setting the content using `children`.\n\t\t *\n\t\t * NOTE: When providing an array of objects be sure a unique `key` is assigned to each\n\t\t * item. [Read about keys](https://reactjs.org/docs/lists-and-keys.html#keys) for more\n\t\t * information.\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String)}>}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([\n\t\t\tPropTypes.arrayOf(PropTypes.string),\n\t\t\tPropTypes.arrayOf(PropTypes.shape({\n\t\t\t\tkey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n\t\t\t}))\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the data in `children`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'children'\n\t\t * @public\n\t\t */\n\t\tchildProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the event that triggers activation.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'onClick'\n\t\t * @public\n\t\t */\n\t\tchildSelect: PropTypes.string,\n\n\t\t/**\n\t\t * The property on each `childComponent` that receives the index of the item\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-index'\n\t\t * @public\n\t\t */\n\t\tindexProp: PropTypes.string,\n\n\t\t/**\n\t\t * An object containing properties to be passed to each child.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\titemProps: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method to be invoked when an item is activated.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Selection mode for the group\n\t\t *\n\t\t * * `single` - Allows for 0 or 1 item to be selected. The selected item may be deselected.\n\t\t * * `radio` - Allows for 0 or 1 item to be selected. The selected item may only be\n\t\t *    deselected by selecting another item.\n\t\t * * `multiple` - Allows 0 to _n_ items to be selected. Each item may be selected or\n\t\t *    deselected.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'single'\n\t\t * @public\n\t\t */\n\t\tselect: PropTypes.oneOf(['single', 'radio', 'multiple']),\n\n\t\t/**\n\t\t * The index(es) of the currently activated item.\n\t\t *\n\t\t * @type {Number|Array}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.oneOfType([PropTypes.number, PropTypes.array]),\n\n\t\t/**\n\t\t * The key that will hold the value in the event passed to `onSelect`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data'\n\t\t * @public\n\t\t */\n\t\tselectedEventProp: PropTypes.string,\n\n\t\t/**\n\t\t * The name of the DOM property that represents the selected state.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'data-selected'\n\t\t * @public\n\t\t */\n\t\tselectedProp: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildProp: 'children',\n\t\tchildSelect: 'onClick',\n\t\tindexProp: 'data-index',\n\t\tselect: 'single',\n\t\tselectedEventProp: 'data',\n\t\tselectedProp: 'data-selected'\n\t},\n\n\tcomputed: {\n\t\t'aria-multiselectable': ({select}) => select === 'multiple',\n\n\t\titemProps: (props) => Object.assign({},\n\t\t\tpickGroupItemProps(props),\n\t\t\tprops.itemProps\n\t\t)\n\t},\n\n\trender: (props) => {\n\t\tdelete props.onSelect;\n\t\tdelete props.childSelect;\n\t\tdelete props.select;\n\t\tdelete props.selected;\n\t\tdelete props.selectedEventProp;\n\t\tdelete props.selectedProp;\n\n\t\treturn <Repeater role=\"group\" {...props} childComponent={GroupItem} />;\n\t}\n});\n\n/**\n * A component that supports selection of its child items via configurable properties and\n * events.\n *\n * Selected item is managed by {@link ui/Changeable.Changeable}.\n *\n * @class Group\n * @memberof ui/Group\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst Group = Changeable(\n\t{change: 'onSelect', prop: 'selected'},\n\tGroupBase\n);\n\nexport default Group;\nexport {Group, GroupBase, GroupItem};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIcon icon=\"star\">Hello Enact!</LabeledIcon>\n *\n * @module agate/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * A basic LabeledIcon component structure without any behaviors applied to it.\n *\n * @class LabeledIconBase\n * @memberof agate/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'LabeledIcon',\n\n\tpropTypes: /** @lends agate/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root class name\n\t\t * * `label` - Applied to the label element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\trender: (props) => UiLabeledIconBase.inline({\n\t\ticonComponent: Icon,\n\t\t...props,\n\t\tcss: props.css\n\t})\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconBase]{@link agate/LabeledIcon.LabeledIconBase}.\n *\n * @hoc\n * @memberof agate/LabeledIcon\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tUiLabeledIconDecorator,\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled icon component with a label.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof agate/LabeledIcon\n * @extends agate/LabeledIcon.LabeledIconBase\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","/**\n * Agate styled checkbox component.\n *\n * @example\n * <Checkbox onToggle={console.log} />\n *\n * @module agate/Checkbox\n * @exports Checkbox\n * @exports CheckboxBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Icon from '../Icon/Icon';\nimport ToggleIcon from '../internal/ToggleIcon/ToggleIcon';\n\nimport css from './Checkbox.module.less';\n\n/**\n * A checkbox component, ready to use in Agate applications.\n *\n * `Checkbox` may be used independently to represent a toggleable state but is more commonly used as\n * part of [CheckboxItem]{@link agate/CheckboxItem}.\n *\n * Usage:\n * ```\n * <Checkbox selected />\n * ```\n *\n * @class Checkbox\n * @memberof agate/Checkbox\n * @extends agate/internal/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst CheckboxBase = kind({\n\tname: 'Checkbox',\n\n\tpropTypes: /** @lends agate/Checkbox.Checkbox.prototype */ {\n\t\t/**\n\t\t * The icon displayed when `selected`.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @default\t'check'\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildren: 'check'\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\treturn (\n\t\t\t<ToggleIcon\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ToggleIcon>\n\t\t);\n\t}\n});\n\nexport default CheckboxBase;\nexport {\n\tCheckboxBase as Checkbox,\n\tCheckboxBase\n};\n","/**\n * Agate styled item components with a toggleable checkbox.\n *\n * @example\n * <CheckboxItem onToggle={console.log}>\n * \tItem with a Checkbox\n * </CheckboxItem>\n *\n * @module agate/CheckboxItem\n * @exports CheckboxItem\n * @exports CheckboxItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Checkbox from '../Checkbox';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './CheckboxItem.module.less';\n\n/**\n * An item with a checkbox component, ready to use in Agate applications.\n *\n * `CheckboxItem` may be used to allow the user to select a single option or used as part of a\n * [Group]{@link ui/Group} when multiple [selections]{@link ui/Group.Group.select} are possible.\n *\n * Usage:\n * ```\n * <CheckboxItem\n * \tdefaultSelected={selected}\n * \tonToggle={handleToggle}\n * >\n *  Item with a Checkbox\n * </CheckboxItem>\n * ```\n *\n * @class CheckboxItem\n * @memberof agate/CheckboxItem\n * @extends agate/Item.Item\n * @omit iconComponent\n * @ui\n * @public\n */\nconst CheckboxItemBase = kind({\n\tname: 'CheckboxItem',\n\n\tpropTypes: /** @lends agate/CheckboxItem.CheckboxItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal Elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `checkboxItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution})\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @default 'check'\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * If true the checkbox will be selected.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'check'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'checkboxItem',\n\t\tpublicClassNames: ['checkboxItem']\n\t},\n\n\trender: ({children, css, icon, selected, ...rest}) => (\n\t\t<Item\n\t\t\tdata-webos-voice-intent=\"SelectCheckItem\"\n\t\t\trole=\"checkbox\"\n\t\t\t{...rest}\n\t\t\tcss={css}\n\t\t>\n\t\t\t<Checkbox selected={selected} slot=\"slotBefore\">{icon}</Checkbox>\n\t\t\t{children}\n\t\t</Item>\n\t)\n});\n\nconst CheckboxItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\tSpottable,\n\tSkinnable\n);\n\nconst CheckboxItem = CheckboxItemDecorator(CheckboxItemBase);\n\nexport default CheckboxItem;\nexport {\n\tCheckboxItem,\n\tCheckboxItemBase\n};\n","/**\n * An unstyled item component and behaviors to be customized by a theme or application.\n *\n * @module ui/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Touchable from '../Touchable';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Item.module.less';\n\n/**\n * A basic list item component structure without any behaviors applied to it.\n *\n * It also has support for overlay to place things before and after the main content.\n *\n * @class ItemBase\n * @memberof ui/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'ui:Item',\n\n\tpropTypes: /** @lends ui/Item.ItemBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the item.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Item.ItemBase#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `item` - The root class name\n\t\t * * `inline` - Applied when `inline` prop is true\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies a disabled state to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Applies inline styling to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'item',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, styler}) => styler.append({inline})\n\t},\n\n\trender: ({component: Component, componentRef, disabled, children, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to the component it wraps.\n *\n * @hoc\n * @memberof ui/Item\n * @mixes ui/ForwardRef.ForwardRef\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tTouchable\n);\n\n/**\n * A minimally-styled ready-to-use list item component with touch support.\n *\n * @class Item\n * @memberof ui/Item\n * @extends ui/Item.ItemBase\n * @mixes ui/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","/**\n * Provides Agate-themed Item component and interactive radio toggle icon.\n *\n * @module agate/RadioItem\n * @exports RadioItem\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Touchable from '@enact/ui/Touchable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './RadioItem.module.less';\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class RadioItem\n * @memberof agate/RadioItem\n * @extends agate/Item.Item\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst RadioItemBase = kind({\n\tname: 'RadioItemBase',\n\n\tpropTypes: /** @lends agate/RadioItem.RadioItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `radioIcon` - Class name for the radio toggle icon\n\t\t * * `radioItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon to display when selected.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the RadioItem to its 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'circle',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'radioItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, selected, styler}) => styler.append(selected && css.selected)\n\t},\n\n\trender: ({children, css, icon, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<Icon slot=\"slotBefore\" className={css.icon} size=\"small\">{icon}</Icon>\n\t\t\t\t{children}\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n// Decorator is not exported so not documented\nconst RadioItemDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable,\n\tSpottable,\n\tSkinnable\n);\n\nconst RadioItem = RadioItemDecorator(RadioItemBase);\n\nexport default RadioItem;\nexport {\n\tRadioItem\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__21Taf\",\"tooltipArrow\":\"Tooltip_tooltipArrow__1UFSI\",\"rightArrow\":\"Tooltip_rightArrow__3Dn1-\",\"leftArrow\":\"Tooltip_leftArrow__3CpLs\",\"centerArrow\":\"Tooltip_centerArrow__2QQro\",\"middleArrow\":\"Tooltip_middleArrow__QZsMl\",\"tooltipLabel\":\"Tooltip_tooltipLabel__K7X0i\",\"multi\":\"Tooltip_multi__1Nf2g\",\"below\":\"Tooltip_below__1VK9S\",\"above\":\"Tooltip_above__2apQb\",\"left\":\"Tooltip_left__2d4Su\",\"topArrow\":\"Tooltip_topArrow__acqRh\",\"bottomArrow\":\"Tooltip_bottomArrow__37uWd\",\"right\":\"Tooltip_right__192Xq\",\"absolute\":\"Tooltip_absolute__2ckaw\",\"tooltipAnchor\":\"Tooltip_tooltipAnchor__3JBqH\",\"relative\":\"Tooltip_relative__1Wb1u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skinFrame\":\"ThemeEnvironment_skinFrame__3bmvN\",\"storyBody\":\"ThemeEnvironment_storyBody__1M94b\",\"panel\":\"ThemeEnvironment_panel__1FYQZ\",\"themeEnvironment\":\"ThemeEnvironment_themeEnvironment__2cYfA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timePicker\":\"TimePicker_timePicker__3sLkn\",\"pickers\":\"TimePicker_pickers__2dJB6\",\"hourPicker\":\"TimePicker_hourPicker__3yi6Y\",\"minutePicker\":\"TimePicker_minutePicker__1xO61\",\"meridiemPicker\":\"TimePicker_meridiemPicker__1NBd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"UiVirtualList_virtualList__1INFF\",\"vertical\":\"UiVirtualList_vertical__3r9dI\",\"horizontal\":\"UiVirtualList_horizontal__OXQUL\",\"listItem\":\"UiVirtualList_listItem__me5B1\",\"content\":\"UiVirtualList_content__3Cgmr\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forProp, forward, handle, stop} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Marquee.module.less';\n\nconst isEventSource = (ev) => ev.target === ev.currentTarget;\n\n/**\n * Marquees the children of the component.\n *\n * For automated marquee calculations use {@link ui/Marquee.Marquee}.\n *\n * @class MarqueeBase\n * @memberof ui/Marquee\n * @ui\n * @public\n */\nconst MarqueeBase = kind({\n\tname: 'ui:Marquee',\n\n\tpropTypes: /** @lends ui/Marquee.MarqueeBase.prototype */ {\n\n\t\t/**\n\t\t * Text alignment value of the marquee\n\t\t *\n\t\t * Valid values are:\n\t\t *\n\t\t * * `'left'`,\n\t\t * * `'right'`, and\n\t\t * * `'center'`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talignment: PropTypes.oneOf(['left', 'right', 'center']),\n\n\t\t/**\n\t\t * Applies animating styles such as removing the ellipsis.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimating: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the value of the `aria-label` attribute for the wrapped component.\n\t\t *\n\t\t * @memberof ui/Marquee.MarqueeBase.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * The text or a set of components that should be marqueed\n\t\t *\n\t\t * This prop may be empty in some cases, which is OK.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Called when mounting or unmounting with a reference to the client node\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tclientRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `marquee` - The root component class\n\t\t * * `animate` - Applied to the inner content node when the text is animating\n\t\t * * `spacing` - The spacing node used between the repeated content\n\t\t * * `text` - The inner content node\n\t\t * * `willAnimate` - Applied to the inner content node shortly before animation\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Distance to animate the marquee\n\t\t *\n\t\t * Usually, the `distance` is the width of the text minus the width of the container\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tdistance: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the marquee completes its animation\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonMarqueeComplete: PropTypes.func,\n\n\t\t/**\n\t\t * Text overflow setting. Either `'clip'` or `'ellipsis'`\n\t\t *\n\t\t * @type {('clip'|'ellipsis')}\n\t\t * @public\n\t\t */\n\t\toverflow: PropTypes.oneOf(['clip', 'ellipsis']),\n\n\t\t/**\n\t\t * `true` if the directionality of the content is right-to-left\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Amount of spacing, in pixels, between the instances of the content\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Speed of marquee animation in pixels/second.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspeed: PropTypes.number,\n\n\t\t/**\n\t\t * Indicates the marquee will animate soon.\n\t\t *\n\t\t * Should be used by the component to prepare itself for animation such as promoting\n\t\t * composite layers for improved performance.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t * @default false\n\t\t */\n\t\twillAnimate: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 0,\n\t\trtl: false,\n\t\twillAnimate: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'marquee',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tapplyOffset: (node, {distance, rtl, spacing}) => {\n\t\t\tif (!node || !global.IntersectionObserver) return;\n\n\t\t\tconst root = node.parentNode;\n\t\t\tnew global.IntersectionObserver(function (entries, observer) {\n\t\t\t\tconst {left, right} = entries[0].boundingClientRect;\n\t\t\t\tconst {left: rootLeft, right: rootRight} = entries[0].rootBounds;\n\n\t\t\t\tconst textWidth = rtl ? rootRight - right : left - rootLeft;\n\t\t\t\tconst offset = distance - (textWidth + spacing);\n\n\t\t\t\tnode.style.setProperty('--ui-marquee-offset', offset);\n\n\t\t\t\tobserver.disconnect();\n\t\t\t}, {root}).observe(node);\n\t\t},\n\t\tonMarqueeComplete: handle(\n\t\t\tforProp('animating', true),\n\t\t\tisEventSource,\n\t\t\tstop,\n\t\t\t(ev, props) => forward('onMarqueeComplete', {type: 'onMarqueeComplete'}, props)\n\t\t)\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': aria, children, distance, willAnimate}) => {\n\t\t\tif (children != null && aria == null && willAnimate && distance > 0) {\n\t\t\t\treturn React.Children.map(children, c => typeof c === 'string' && c)\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t\t.join(' ') || aria;\n\t\t\t} else {\n\t\t\t\treturn aria;\n\t\t\t}\n\t\t},\n\t\tclientClassName: ({animating, willAnimate, styler}) => styler.join({\n\t\t\tanimate: animating,\n\t\t\ttext: true,\n\t\t\twillAnimate\n\t\t}),\n\t\tclientStyle: ({alignment, animating, distance, overflow, rtl, spacing, speed}) => {\n\t\t\t// If the components content directionality doesn't match the context, we need to set it\n\t\t\t// inline\n\t\t\tconst direction = rtl ? 'rtl' : 'ltr';\n\t\t\tconst rtlDirectionMultiplier = rtl ? 1 : -1;\n\t\t\tconst style = {\n\t\t\t\t'--ui-marquee-spacing': spacing,\n\t\t\t\tdirection,\n\t\t\t\ttextAlign: alignment,\n\t\t\t\ttextOverflow: overflow\n\t\t\t};\n\n\t\t\tif (animating) {\n\t\t\t\tconst duration = distance / speed;\n\n\t\t\t\tstyle.transform = `translateX(${distance * rtlDirectionMultiplier}px)`;\n\t\t\t\tstyle.transitionDuration = `${duration}s`;\n\t\t\t} else {\n\t\t\t\tstyle.transform = 'translateX(0)';\n\t\t\t}\n\n\t\t\treturn style;\n\t\t},\n\t\tduplicate: ({distance, willAnimate}) => {\n\t\t\treturn willAnimate && distance > 0;\n\t\t}\n\t},\n\n\trender: ({applyOffset, children, clientClassName, clientRef, clientStyle, css, duplicate, onMarqueeComplete, ...rest}) => {\n\t\tdelete rest.alignment;\n\t\tdelete rest.animating;\n\t\tdelete rest.distance;\n\t\tdelete rest.onMarqueeComplete;\n\t\tdelete rest.overflow;\n\t\tdelete rest.rtl;\n\t\tdelete rest.spacing;\n\t\tdelete rest.speed;\n\t\tdelete rest.willAnimate;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={clientClassName}\n\t\t\t\t\tref={clientRef}\n\t\t\t\t\tstyle={clientStyle}\n\t\t\t\t\tonTransitionEnd={onMarqueeComplete}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t\t{duplicate ? (\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<div className={css.spacing} ref={applyOffset} />\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t) : null}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default MarqueeBase;\nexport {\n\tMarqueeBase\n};\n","/**\n * Exports various utilities for performing dev-time validations\n *\n * @module ui/internal/validators\n * @private\n */\n\n/**\n * Issues a warning to the console\n *\n * @function\n * @param {String} msg\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Issues a warning to the console if `value` is not within the range\n * `min` to `max` or if `min` is less than `max`. In production mode,\n * no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} max   The maximum acceptable value to validate\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [minName='min'] The name of the min property\n * @param {String} [maxName='max'] The name of the max property\n *\n * @returns {undefined}\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateRange = (value, min, max, component, valueName = 'value', minName = 'min', maxName = 'max') => {\n\tif (__DEV__) {\n\t\tlet warned = false;\n\t\tif (value < min) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) less than ${minName} (${min})`);\n\t\t\twarned = true;\n\t\t} else if (value > max) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\tif (min > max) {\n\t\t\twarn(`Warning: ${component} ${minName} (${min}) greater than ${maxName} (${max})`);\n\t\t\twarned = true;\n\t\t}\n\t\treturn warned;\n\t}\n};\n\nexport const validateRangeOnce = (thing, {component, valueName = 'value', minName = 'min', maxName = 'max'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (props) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateRange(props[valueName], props[minName], props[maxName], component, valueName, minName, maxName);\n\t\t\t}\n\t\t\treturn thing(props);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n\n/**\n * Issues a warning to the console if `value`, adjusted for `min` is not evenly\n * divisible by `step`. In production mode, no action is taken.\n *\n * @function\n * @param {Number} value The value to validate\n * @param {Number} min   The minimum acceptable value to validate\n * @param {Number} step  The step\n * @param {String} component The name of the invoker, used to decorate warning message\n * @param {String} [valueName='value'] The name of the value property\n * @param {String} [stepName='step'] The name of the step property\n *\n * @returns {Boolean} `true` if warned\n * @memberof ui/internal/validators\n * @private\n */\nexport const validateStepped = (value, min, step, component, valueName = 'value', stepName = 'step') => {\n\tif (__DEV__) {\n\t\t// Ignore fractional steps as floating point math can give inconsistent results (1 % 0.1 != 0)\n\t\tif (step && step === Math.floor(step) && (value - min) % step !== 0) {\n\t\t\twarn(`Warning: ${component} ${valueName} (${value}) must be evenly divisible by ${stepName} (${step})`);\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\nexport const validateSteppedOnce = (thing, {component, minName = 'min', stepName = 'step', valueName = 'value'}) => {\n\tif (__DEV__) {\n\t\tlet displayed;\n\t\treturn (args) => {\n\t\t\tif (!displayed) {\n\t\t\t\tdisplayed = validateStepped(args[valueName], args[minName], args[stepName], component, valueName, stepName);\n\t\t\t}\n\t\t\treturn thing(args);\n\t\t};\n\t} else {\n\t\treturn thing;\n\t}\n};\n","/**\n * A component for selecting a number from a range of numbers.\n *\n * @example\n * <RangePicker defaultValue={70} min={0} max={100}></RangePicker>\n *\n * @module agate/RangePicker\n * @exports RangePicker\n * @exports RangePickerBase\n */\n\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport PickerCore from '../internal/Picker';\n\n/**\n * RangePicker base component.\n *\n * @class RangePickerBase\n * @memberof agate/RangePicker\n * @ui\n * @public\n */\nconst RangePickerBase = kind({\n\tname: 'RangePicker',\n\n\tpropTypes: /** @lends agate/RangePicker.RangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Current value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Children from which to pick.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * The smallest value change allowed for the picker.\n\t\t *\n\t\t * For example, a step of `2` would cause the picker to increment from 0 to 2 to 4, etc.\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({disabled, max, min}) => min >= max ? true : disabled,\n\t\tvalue: ({min, max, value}) => {\n\t\t\treturn clamp(min, max, value);\n\t\t}\n\t},\n\n\trender: ({value, ...rest}) => {\n\t\treturn (\n\t\t\t<PickerCore {...rest} value={value}>\n\t\t\t\t{value}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/RangePicker.RangePicker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A component that lets the user select a number from a range of numbers.\n *\n * By default, `RangePicker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class RangePicker\n * @memberof agate/RangePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst RangePicker = Pure(\n\tChangeable(\n\t\tRangePickerBase\n\t)\n);\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {Number}\n * @public\n */\n\nexport default RangePicker;\nexport {RangePicker, RangePickerBase};\n","/**\n * A component for selecting values from a list of values.\n *\n * @example\n * <Picker>\n * \t{['A', 'B', 'C']}\n * </Picker>\n *\n * @module agate/Picker\n * @exports Picker\n * @exports PickerBase\n * @exports PickerDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport React from 'react';\n\nimport PickerCore, {PickerDecorator} from '../internal/Picker';\n\n/**\n * The base `Picker` component.\n *\n * This version is not [`spottable`]{@link spotlight/Spottable.Spottable}.\n *\n * @class PickerBase\n * @memberof agate/Picker\n * @ui\n * @public\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/Picker.PickerBase.prototype */ {\n\t\t/**\n\t\t * Picker value list.\n\t\t *\n\t\t * @type {Array}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.array.isRequired,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tvalue: 0\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({children, disabled}) => React.Children.count(children) > 1 ? disabled : true,\n\t\tmax: ({children}) => children && children.length ? children.length - 1 : 0,\n\t\tvalue: ({value, children}) => {\n\t\t\tconst max = children && children.length ? children.length - 1 : 0;\n\t\t\treturn clamp(0, max, value);\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {children, max, value, ...rest} = props;\n\n\t\treturn (\n\t\t\t<PickerCore {...rest} min={0} max={max} step={1} value={value}>\n\t\t\t\t{children}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/Picker.Picker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/Picker.Picker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A Picker component that allows selecting values from a list of values.\n *\n * By default, `Picker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Picker\n * @memberof agate/Picker\n * @extends agate/Picker.PickerBase\n * @mixes agate/internal/Picker.PickerDecorator\n * @ui\n * @public\n */\nconst Picker = PickerDecorator(PickerBase);\n\n/**\n * Default index of the selected child.\n *\n * *Note*: Changing `defaultValue` after initial render has no effect.\n *\n * @name defaultValue\n * @memberof agate/Picker.Picker.prototype\n * @type {Number}\n * @public\n */\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase\n};\n","/**\n * An unstyled indeterminate progress indicator (Spinner) component to be customized by a\n * theme or application.\n *\n * Basically, this positions your `Spinner` component where you want it on the\n * screen, and hooks into the interaction blocking code and scrim management.\n *\n * The theme using this component must supply a `component` element which follows the requirements\n * listed by the [component]{@link ui/Spinner.Spinner.component} prop documentation.\n *\n * @module ui/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport FloatingLayer from '../FloatingLayer';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states, without\n * [SpinnerDecorator](ui/Spinner.SpinnerDecorator) applied.\n *\n * @class SpinnerBase\n * @memberof ui/Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'ui:Spinner',\n\n\tpropTypes: /** @lends ui/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * A theme-supplied component that performs the animation.\n\t\t *\n\t\t * Theme authors can use the `css.running` class to attach the animation CSS.\n\t\t * This element should accept a `children` prop which takes the form of an optional message\n\t\t * for the user.\n\t\t *\n\t\t * Unlike most other components, this does *not* represent the root rendered element, and\n\t\t * instead refers to the \"spinner\" part of this component. The presence of `blockClickOn`\n\t\t * changes the rendering tree and where this is used.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * Determines how far the click-blocking should extend.\n\t\t *\n\t\t * * `null` does not block clicking\n\t\t * * 'screen' blocks entire screen\n\t\t * * 'container' blocks up to the nearest ancestor with absolute or relative positioning\n\t\t *\n\t\t * When `blockClickOn` is either `'screen'` or `'container'`, a translucent scrim can be added\n\t\t * by setting [scrim]{@link ui/Spinner.Spinner#scrim} prop to `true`.\n\t\t *\n\t\t * @type {String|null}\n\t\t * @public\n\t\t */\n\t\tblockClickOn: PropTypes.oneOf(['screen', 'container', null]),\n\n\t\t/**\n\t\t * Centers the spinner horizontally and vertically relative to its containing component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Spinner.Spinner#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root `component` class\n\t\t * * `spinnerContainer` - Added as a parent in the case of `blockOnClick=\"container\"\n\t\t * * `blockClickOn` - Applied if interaction should be blocked\n\t\t * * `centered` - Applied if the `centered` prop is present\n\t\t * * `running` - Always applied to `component`. Attach animation name property to this class.\n\t\t * * `scrim` - The blocking layer behind the Spinner\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Halts the animation of the spinner\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpaused: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets a scrim behind the spinner with the `css.scrim` class applied.\n\t\t *\n\t\t * Only has an effect when `blockClickOn` is `'screen'` or `'container'` and has no effect\n\t\t * by default or when blockClickOn is `null`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tscrim: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tpaused: false,\n\t\tscrim: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'spinner',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, paused, styler}) => styler.append(\n\t\t\t{centered, running: !paused}\n\t\t),\n\t\tscrimClassName: ({blockClickOn, scrim, styler}) => styler.join(\n\t\t\t{blockClickOn, scrim}\n\t\t),\n\t\tscrimType: ({scrim}) => scrim ? 'translucent' : 'transparent',\n\t\tspinnerContainerClassName: ({blockClickOn, centered, styler}) => styler.join(\n\t\t\t{centered, spinnerContainer: blockClickOn}\n\t\t)\n\t},\n\n\trender: ({blockClickOn, component: Component, componentRef, scrimClassName, scrimType, spinnerContainerClassName, ...rest}) =>  {\n\t\tdelete rest.centered;\n\t\tdelete rest.paused;\n\t\tdelete rest.scrim;\n\n\t\tswitch (blockClickOn) {\n\t\t\tcase 'screen': {\n\t\t\t\treturn (\n\t\t\t\t\t<FloatingLayer noAutoDismiss open scrimType={scrimType}>\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcase 'container': {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={spinnerContainerClassName}>\n\t\t\t\t\t\t<div className={scrimClassName} />\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn (\n\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/**\n * Applies Spinner behaviors\n *\n * @class SpinnerDecorator\n * @memberof ui/Spinner\n * @mixes ui/ForwardRef.ForwardRef\n * @hoc\n * @public\n */\nconst SpinnerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states.\n *\n * @class Spinner\n * @memberof ui/Spinner\n * @extends ui/Spinner.SpinnerBase\n * @mixes ui/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrim\":\"Scrim_scrim__3gYzI\",\"transparent\":\"Scrim_transparent__2M18Y\",\"translucent\":\"Scrim_translucent__fD3HY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"datePicker\":\"DatePicker_datePicker__3mlNt\",\"day\":\"DatePicker_day__29l10\",\"month\":\"DatePicker_month__RhWWj\",\"year\":\"DatePicker_year__2GIHM\"};","/**\n * An Agate-themed drawer component.\n *\n * @example\n * <Drawer header=\"Surprise\">Hello Enact!</Drawer>\n *\n * @module agate/Drawer\n * @exports Drawer\n * @exports DrawerBase\n * @exports DrawerDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport Skinnable from '../Skinnable';\n// import Icon from '../Icon';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './Drawer.module.less';\n\n/**\n * A drawer component, without behaviors.\n *\n * @class DrawerBase\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst DrawerBase = kind({\n\tname: 'Drawer',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tfooter: PropTypes.node,\n\t\theader: PropTypes.node,\n\t\tnoAnimation: PropTypes.bool,\n\t\t// `onClose` is here for the future scenario where we'll want to have a local (to Drawer)\n\t\t// control that closes the Drawer; similar to how the old Moonstone Drawer worked with its\n\t\t// close-tab that was positioned on the edge of the drawer. This prop, the close icon below\n\t\t// and the .closeButton CSS in the LESS file all relate to this functionality.\n\t\t// onClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'vertical'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'drawer'\n\t},\n\n\trender: ({footer, children, css, noAnimation, onHide, open, header, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"left\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"slide\"\n\t\t\t\tclassName={css.drawerTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{/* <Icon size=\"small\" onClick={onClose} className={css.closeButton}>closex</Icon>*/}\n\t\t\t\t\t{header ? <Cell shrink className={css.header}>{header}</Cell> : null}\n\t\t\t\t\t<Cell className={css.content}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t{footer ? <Cell shrink className={css.footer}>{footer}</Cell> : null}\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DrawerBase]{@link agate/Drawer.DrawerBase}.\n *\n * @hoc\n * @memberof agate/Drawer\n * @mixes ui/Slottable.Slottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DrawerDecorator = compose(\n\tSlottable({slots: ['header', 'footer']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A ready-to-use drawer component.\n *\n * @class Drawer\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst Drawer = DrawerDecorator(DrawerBase);\n\nexport default Drawer;\nexport {Drawer, DrawerBase, DrawerDecorator};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"incrementSlider\":\"IncrementSlider_incrementSlider__1Md3i\",\"large\":\"IncrementSlider_large__NONhX\",\"horizontal\":\"IncrementSlider_horizontal__2IBgz\",\"decrementButton\":\"IncrementSlider_decrementButton__3wLj9\",\"incrementButton\":\"IncrementSlider_incrementButton__3mW1O\",\"input\":\"IncrementSlider_input__1axG1\",\"slider\":\"IncrementSlider_slider__1717x\",\"knob\":\"IncrementSlider_knob__1J3mU\",\"small\":\"IncrementSlider_small__1PdPD\",\"vertical\":\"IncrementSlider_vertical__3T5i5\"};","/**\n * Provides an Agate-themed progress bar component.\n *\n * @example\n * <ProgressBar progress={0.5} backgroundProgress={0.75} />\n *\n * @module agate/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ProgressBar.module.less';\n\n/**\n * Renders an Agate-styled progress bar.\n *\n * @class ProgressBar\n * @memberof agate/ProgressBar\n * @extends ui/ProgressBar.ProgressBar\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ProgressBarBase = kind({\n\tname: 'ProgressBar',\n\n\tpropTypes: /** @lends agate/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the progress bar.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between `0` and `1` indicating the proportion of the filled portion of the bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the progress bar.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(size)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<UiProgressBar\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n// Not documenting as base is not very useful to developers.\nconst ProgressBar = Skinnable(ProgressBarBase);\n\nexport default ProgressBar;\nexport {\n\tProgressBar,\n\tProgressBarBase\n};\n","/**\n * Provides an Agate-themed button group.\n *\n * @example\n * <SliderButton>{['Light Speed', 'Ridiculous Speed', 'Ludicrous Speed']}</SliderButton>\n *\n * @module agate/SliderButton\n * @exports SliderButton\n * @exports SliderButtonBase\n * @exports SliderButtonDecorator\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport {Cell, Row} from '@enact/ui/Layout';\nimport UiSlider from '@enact/ui/Slider';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SliderButton.module.less';\n\nconst SliderKnob = kind({\n\tname: 'SliderKnob',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalue: PropTypes.number\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'knob'\n\t},\n\tcomputed: {\n\t\tstyle: ({style, value}) => {\n\t\t\t// const factor = Math.abs((value - Math.round(value))) / 4;\n\t\t\treturn {\n\t\t\t\t'--knob-value': value,\n\t\t\t\t// transform: `scale(${1 + factor}, ${1 - factor})`,\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({...rest}) => {\n\t\tdelete rest.value;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.tooltipComponent;\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst SliderProgress = kind({\n\tname: 'SliderProgress',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalues: PropTypes.arrayOf(PropTypes.string)\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'track'\n\t},\n\trender: ({children, css, values, ...rest}) => {\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.progressAnchor;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.backgroundProgress;\n\t\treturn (\n\t\t\t<Row {...rest} align=\"center\">\n\t\t\t\t{children}\n\t\t\t\t{values ? values.map(child => (\n\t\t\t\t\t<Cell className={css.client} key={child}>\n\t\t\t\t\t\t{child}\n\t\t\t\t\t</Cell>\n\t\t\t\t)) : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SliderButtonBase\n * @memberof agate/SliderButton\n * @extends ui/Slider.Slider\n * @ui\n * @public\n */\nconst SliderButtonBase = kind({\n\tname: 'SliderButton',\n\tpropTypes: {\n\t\tchildren: PropTypes.array.isRequired,\n\t\tcss: PropTypes.object\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'sliderButton',\n\t\tpublicClassNames: true\n\t},\n\tcomputed: {\n\t\tmax: ({children}) => (children && children.length ? children.length - 1 : 0),\n\t\tstyle: ({children, style}) => {\n\t\t\treturn {\n\t\t\t\t'--sliderbutton-item-count': (children && children.length || 0),  // We're adding 1 here because it's more of a JS neuance that we want to abstract away from the styling.\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({css, children, max, ...rest}) => {\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tknobComponent={\n\t\t\t\t\t<SliderKnob css={css} />\n\t\t\t\t}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<SliderProgress values={children} />\n\t\t\t\t}\n\t\t\t\tstep={1}\n\t\t\t\tmin={0}\n\t\t\t\tmax={max}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [SliderButton]{@link agate/SliderButton.SliderButtonBase}.\n *\n * @hoc\n * @memberof agate/SliderButton\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SliderButtonDecorator = compose(\n\tPure,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders a slider that appears as a series of connected buttons.\n *\n * @class SliderButton\n * @memberof agate/SliderButton\n * @extends agate/SliderButton.SliderButtonBase\n * @mixes agate/SliderButton.SliderButtonDecorator\n * @ui\n * @public\n */\nconst SliderButton = SliderButtonDecorator(SliderButtonBase);\n\nexport default SliderButton;\nexport {\n\tSliderButton,\n\tSliderButtonBase,\n\tSliderButtonDecorator\n};\n","/**\n * Provides Agate-themed indeterminate progress indicator (spinner) components and behaviors.\n *\n * Used for indicating to the user that something is busy and interaction is temporarily suspended.\n *\n * @example\n * <Spinner color=\"light\" size=\"small\" type=\"searching\" />\n *\n * @module agate/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport UiSpinnerBase from '@enact/ui/Spinner';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A component that shows spinning fan. Or bouncing .\n *\n * @class SpinnerCore\n * @memberof agate/Spinner\n * @ui\n * @private\n */\nconst SpinnerCore = kind({\n\tname: 'SpinnerCore',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerCore.prototype */ {\n\t\t/**\n\t\t * The \"aria-label\" for the component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The type of spinner.\n\t\t *\n\t\t * @type {('loading'|'searching')}\n\t\t * @default 'searching'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'searching'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': label, type}) => {\n\t\t\t// TODO: These static values will need to be localized\n\t\t\treturn label || type === 'searching' ? $L('Searching') : $L('Loading');\n\t\t},\n\t\tclassName: ({styler, type}) => styler.append(type),\n\t\tspinnerNodes: ({styler, type}) => {\n\t\t\treturn Array.from({length: type === 'searching' ? 12 : 4}, (_, index) => (\n\t\t\t\t<span className={styler.join('node', `node${index + 1}`)} key={`node${index}`} />\n\t\t\t));\n\t\t}\n\t},\n\n\trender: ({css, spinnerNodes, ...rest}) => {\n\t\tdelete rest.type;\n\n\t\treturn (\n\t\t\t<div aria-live=\"off\" role=\"alert\" {...rest}>\n\t\t\t\t<div className={css.bg}>\n\t\t\t\t\t{spinnerNodes}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * The base component, defining all of the properties.\n *\n * @class SpinnerBase\n * @memberof agate/Spinner\n * @extends ui/Spinner.Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'Spinner',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * The color of the component.\n\t\t *\n\t\t * @type {('dark'|'light')}\n\t\t * @default 'light'\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.oneOf(['dark', 'light']),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root component class, unless there is a scrim. The scrim and floating\n\t\t *   layer can be a sibling or parent to this root \"spinner\" element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the component.\n\t\t *\n\t\t * Recommended usage is \"large\" (default) for standalone and popup scenarios, while \"small\"\n\t\t * is best suited for use inside other elements, like {@link agate/Item.Item}.\n\t\t *\n\t\t * @type {('huge'|'large'|'small'|'smallest')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['huge', 'large', 'small', 'smallest']),\n\n\t\t/**\n\t\t * Removes the background color (making it transparent).\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\ttransparent: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcolor: 'light',\n\t\tsize: 'large',\n\t\ttransparent: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['spinner']\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children, color, size, transparent, styler}) => styler.append(\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\t{content: !!children, transparent}\n\t\t)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.transparent;\n\n\t\treturn (\n\t\t\t<UiSpinnerBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tcomponent={SpinnerCore}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific Spinner behaviors to apply to [Spinner]{@link agate/Spinner.SpinnerBase}.\n *\n * @hoc\n * @memberof agate/Spinner\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SpinnerDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled Spinner.\n *\n * @class Spinner\n * @memberof agate/Spinner\n * @extends agate/Spinner.SpinnerBase\n * @mixes agate/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","/*\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <SwatchButton color=\"#ffcc00\" onClick={handleClick} />\n */\n\nimport kind from '@enact/core/kind';\n\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SwatchButton.module.less';\n\n\n/**\n * A swatch component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [SwatchButton]{@link agate/ColorPicker.SwatchButton}.\n *\n * @class SwatchButtonBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst SwatchButtonBase = kind({\n\tname: 'SwatchButton',\n\n\tpropTypes: /** @lends agate/ColorPicker.SwatchButtonBase.prototype */ {\n\t\t/**\n\t\t * The color of the swatch if the `color` prop is not set.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * The color of the swatch.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `swatchButton` - The root class name\n\t\t * * `colorSwatch` - The node that displays the chosen color. The current value is applied\n\t\t * \t\tas a background-color to this element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'swatchButton',\n\t\tpublicClassNames: ['swatchButton', 'colorSwatch']\n\t},\n\n\thandlers: {\n\t\tonClick: (ev, {children, color, onClick}) => {\n\t\t\tif (onClick) {\n\t\t\t\tonClick({color: color || children});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcolorSwatchStyle: ({children, color}) => ({backgroundColor: color ? color : children})\n\t},\n\n\trender: ({colorSwatchStyle, css, ...rest}) => {\n\t\treturn (\n\t\t\t<ButtonBase {...rest} css={css} minWidth={false}>\n\t\t\t\t<div className={css.colorSwatch} style={colorSwatchStyle} />\n\t\t\t</ButtonBase>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwatchButton]{@link agate/ColorPicker.SwatchButtonBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwatchButtonDecorator = compose(\n\tButtonDecorator,\n\tSkinnable\n);\n\n/**\n * A color picker swatch button component.\n *\n * @class SwatchButton\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.SwatchButtonBase\n * @mixes agate/ColorPicker.SwatchButtonDecorator\n * @ui\n * @public\n */\nconst SwatchButton = SwatchButtonDecorator(SwatchButtonBase);\n\nexport default SwatchButton;\nexport {\n\tSwatchButton,\n\tSwatchButtonBase,\n\tSwatchButtonDecorator\n};\n","/**\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <ColorPicker defaultValue=\"#ffcc00\">{['#fff', '#999', '#000']}</ColorPicker>\n *\n * @module agate/ColorPicker\n * @exports ColorPicker\n * @exports ColorPickerBase\n * @exports ColorPickerDecorator\n */\n\nimport convert from 'color-convert';\nimport compose from 'ramda/src/compose';\nimport hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {adaptEvent, forward, handle} from '@enact/core/handle';\nimport {on, off} from '@enact/core/dispatcher';\nimport {Row, Cell} from '@enact/ui/Layout';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Button from '../Button';\nimport Slider from '../Slider';\nimport SwatchButton from './SwatchButton';\n\nimport componentCss from './ColorPicker.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\n\n// helper function to convert color hex strings or kewords to hue, saturation, and lightness values\nconst convertToHSL = (value) => convert[value.charAt(0) === '#' ? 'hex' : 'keyword'].hsl(value);\n\n/**\n * The color picker base component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [ColorPicker]{@link agate/ColorPicker.ColorPicker}.\n *\n * @class ColorPickerBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst ColorPickerBase = kind({\n\tname: 'ColorPicker',\n\n\tpropTypes: /** @lends agate/ColorPicker.ColorPickerBase.prototype */ {\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `colorPicker` - The root class name\n\t\t * * `palette` - The drawer that displays all the available options for color.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t// TODO: position `palette` like `Tooltip`\n\t\t/**\n\t\t * The animation direction of the `palette`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the extended color controls (sliders) are visible\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\textended: PropTypes.bool,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `color` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [SwatchButton]{@link agate/ColorPicker.SwatchButton} component with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the hue value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHueChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the lightness value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLightnessChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the saturation value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSaturationChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [Button]{@link agate/Button.Button} component as `onTap`. This is used to toggle the visibility of the H/S/L sliders.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonToggleExtended: PropTypes.func,\n\n\t\t/**\n\t\t * Opens ColorPicker with the contents visible.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The color value. Setting this directly will not allow interaction with the\n\t\t * component. Use `defaultValue` to enable interactive use.\n\t\t *\n\t\t * The color should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link ui/Changeable.Changeable}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'right',\n\t\topen: false,\n\t\tvalue: '#cccccc'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'colorPicker',\n\t\tpublicClassNames: ['colorPicker', 'palette']\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => children || [],\n\t\tclassName: ({extended, styler}) => styler.append({extended}),\n\t\tsliderValues: ({value}) => ({hsl: convertToHSL(value)}),\n\t\ttransitionContainerClassname: ({css, open, styler}) => styler.join(css.transitionContainer, (open ? css.openTransitionContainer : null)),\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({children, css, onChange, onClick, onHueChanged, onSaturationChanged, onLightnessChanged, onToggleExtended, open, sliderValues, transitionContainerClassname, transitionDirection, value, ...rest}) => {\n\t\tdelete rest.extended;\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<SwatchButton color={value} onClick={onClick} />\n\t\t\t\t<Transition\n\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\tvisible={open}\n\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t>\n\t\t\t\t\t<ContainerDiv className={css.palette} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tchildComponent={SwatchButton}\n\t\t\t\t\t\t\tchildProp=\"color\"\n\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\titemProps={{size: 'small', className: css.swatch}}\n\t\t\t\t\t\t\tonSelect={onChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t<Button icon=\"ellipsis\" size=\"small\" onTap={onToggleExtended} className={css.swatch} />\n\t\t\t\t\t\t<div className={css.sliders}>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Hue')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[0]} min={0} max={360} onChange={onHueChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[0] + ''}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Saturation')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[1]} min={0} max={100} onChange={onSaturationChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[1] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Lightness')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[2]} min={0} max={100} onChange={onLightnessChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[2] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ContainerDiv>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst ColorPickerExtended = hoc((config, Wrapped) => {\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ColorPickerExtended';\n\n\t\tstatic propTypes = {\n\t\t\tdefaultExtended: PropTypes.bool,\n\t\t\tonChange: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tvalue: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.hsl = props.value ? convertToHSL(props.value) : [0, 0, 0];\n\t\t\tthis.state = {\n\t\t\t\textended: props.defaultExtended || false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// TODO: change to using ref/forwardRef/something else?\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\t\tif (this.props.open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {open, value} = this.props;\n\t\t\tif (prevProps.value !== value) {\n\t\t\t\tthis.hsl = convertToHSL(value);\n\t\t\t}\n\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\toff('click', this.handleClick);\n\t\t}\n\n\t\tbuildValue = ({h = this.hsl[0], s = this.hsl[1], l = this.hsl[2]} = {}) => (\n\t\t\t'#' + convert.hsl.hex(h, s, l)\n\t\t);\n\n\t\tclickedOutsidePalette = ({target}) => !this.node.contains(target);\n\n\t\t// This handler is meant to accommodate using `ColorPicker`'s `onChange` prop from\n\t\t// `Changeable` as the `onSelect` handler for its `Group` component that lists the set of\n\t\t// pre-defined color choices.  `onSelect` sends the chosen value in the `data` prop of its\n\t\t// event but `Changeable` expects `value`.  The slider handlers for hue, saturation, and\n\t\t// light values in `ColorPickerExtended` use this handler to update the `value` prop via\n\t\t// `onChange` as well.\n\t\thandleChange = handle(\n\t\t\tadaptEvent(\n\t\t\t\t({data: value}) => ({value}),\n\t\t\t\tforward('onChange')\n\t\t\t)\n\t\t).bindAs(this, 'handleChange');\n\n\t\t// If a click happened outside the component area (and children of us) dismiss the palette by forwarding the onClick from Toggleable.\n\t\thandleClick = handle(\n\t\t\tthis.clickedOutsidePalette,\n\t\t\tforward('onClick')\n\t\t).bindAs(this, 'handleClick');\n\n\t\thandleToggleExtended = () => {\n\t\t\tthis.setState(({extended}) => ({extended: !extended}));\n\t\t};\n\n\t\thandleSlider = (type) => ({value: sliderValue}) => {\n\t\t\tthis.hsl[('hsl'.indexOf(type))] = sliderValue;\n\t\t\tconst value = this.buildValue();\n\t\t\tthis.handleChange({data: value});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {...rest} = this.props;\n\t\t\tdelete rest.defaultExtended;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\textended={this.state.extended}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonToggleExtended={this.handleToggleExtended}\n\t\t\t\t\tonHueChanged={this.handleSlider('h')}\n\t\t\t\t\tonSaturationChanged={this.handleSlider('s')}\n\t\t\t\t\tonLightnessChanged={this.handleSlider('l')}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Applies Agate specific behaviors to [ColorPickerBase]{@link agate/ColorPicker.ColorPickerBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ColorPickerDecorator = compose(\n\tPure,\n\tChangeable,\n\tToggleable({toggle: null, prop: 'open', toggleProp: 'onClick'}),\n\tColorPickerExtended,\n\tSkinnable\n);\n\n/**\n * A color picker component, ready to use in Agate applications.\n *\n * @class ColorPicker\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.ColorPickerBase\n * @mixes agate/ColorPicker.ColorPickerDecorator\n * @ui\n * @public\n */\nconst ColorPicker = ColorPickerDecorator(ColorPickerBase);\n\nexport default ColorPicker;\nexport {\n\tColorPicker,\n\tColorPickerBase,\n\tColorPickerDecorator\n};\n","import kind from '@enact/core/kind';\nimport Button from '../Button';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport componentCss from './IncrementSliderButton.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} customized for\n * [IncrementSlider]{@link agate/IncrementSlider.IncrementSlider}. It is optimized to only\n * update when `disabled` is changed to minimize unnecessary render cycles.\n *\n * @class IncrementSliderButton\n * @memberof agate/IncrementSlider\n * @ui\n * @private\n */\n\nconst IncrementSliderButtonBase = kind({\n\tname: 'IncrementSliderButton',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderButton.prototype */ {\n\t\tcss: PropTypes.object,\n\t\tonTap: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\trole: PropTypes.string,\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSliderButton'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, role, styler}) => styler.append(orientation, role)\n\t},\n\n\trender: ({css, onTap, size, ...rest}) => {\n\t\tdelete rest.orientation;\n\t\tdelete rest.role;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tonTap={onTap}\n\t\t\t\tonHold={onTap}\n\t\t\t\tonHoldPulse={onTap}\n\t\t\t\tsize={size}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst OnlyUpdate = onlyUpdateForKeys(['aria-label', 'children', 'disabled', 'icon', 'size', 'spotlightDisabled']);\nconst IncrementSliderButton = OnlyUpdate(IncrementSliderButtonBase);\n\nexport default IncrementSliderButton;\nexport {\n\tIncrementSliderButton,\n\tIncrementSliderButtonBase\n};\n","/**\n * An interactive numeric range picker with increment decrement\n *\n * @example\n * <IncrementSlider\n *   decrementIcon=\"minus\"\n *   defaultValue={-25}\n *   incrementIcon=\"plus\"\n *   knobStep={25}\n *   max={100}\n *   min={-100}\n *   step={5}\n * />\n *\n * @module agate/IncrementSlider\n * @exports IncrementSlider\n * @exports IncrementSliderBase\n * @exports IncrementSliderDecorator\n */\n\nimport {forward} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport kind from '@enact/core/kind';\nimport {extractAriaProps} from '@enact/core/util';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Slottable from '@enact/ui/Slottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport {SliderBase} from '../Slider';\nimport {emitChange} from '../Slider/utils';\nimport SliderBehaviorDecorator from '../Slider/SliderBehaviorDecorator';\n\nimport IncrementSliderButton from './IncrementSliderButton';\nimport componentCss from './IncrementSlider.module.less';\n\nconst isDown = is('down');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\nconst Slider = Spottable(Skinnable(SliderBase));\n\nconst forwardWithType = (type, props) => forward(type, {type}, props);\n\n/**\n * A stateless Slider with IconButtons to increment and decrement the value. In most circumstances,\n * you will want to use the stateful version: {@link agate/IncrementSlider.IncrementSlider}.\n *\n * @class IncrementSliderBase\n * @memberof agate/IncrementSlider\n * @extends agate/Slider.SliderBase\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @ui\n * @public\n */\nconst IncrementSliderBase = kind({\n\tname: 'IncrementSlider',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderBase.prototype */ {\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents read out of both the slider and the increment and decrement\n\t\t * buttons.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-hidden': PropTypes.bool,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the slider. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the slider directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The `data-webos-voice-group-label` for the IconButton of IncrementSlider.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the decrement button.\n\t\t*\n\t\t* @default 'press button to decrease the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the decrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the slider and prevents events from firing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates focused state.\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The slider id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the increment button.\n\t\t*\n\t\t* @default 'press button to increase the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the incrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Hides the slider bar fill and prevents highlight when spotted.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.value The current value\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called run when the decrement button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDecrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragEnd: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragStart: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonIncrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonSpotlightDirection: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the component is removed while retaining focus.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way down key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way left key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way right key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightRight: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way up key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the orientation of the slider, whether the slider moves left and right or up and\n\t\t * down. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the incrementSlider.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * Disables spotlight navigation into the component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the increment slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\tdecrementIcon: 'minus',\n\t\tincrementIcon: 'plus',\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tsize: 'large',\n\t\tspotlightDisabled: false,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSlider',\n\t\tpublicClassNames: ['incrementSlider']\n\t},\n\n\thandlers: {\n\t\tonDecrement: emitChange(-1),\n\t\tonIncrement: emitChange(1),\n\t\tonKeyDown: (ev, props) => {\n\t\t\tconst {orientation} = props;\n\n\t\t\tforward('onKeyDown', ev, props);\n\n\t\t\t// if the source of the event is the slider, forward it along\n\t\t\tif (ev.target.classList.contains(componentCss.slider)) {\n\t\t\t\tforward('onSpotlightDirection', ev, props);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isIncrement = ev.target.classList.contains(componentCss.incrementButton);\n\t\t\tconst isDecrement = ev.target.classList.contains(componentCss.decrementButton);\n\n\t\t\tif (isRight(ev.keyCode) && (isIncrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightRight', props);\n\t\t\t} else if (isLeft(ev.keyCode) && (isDecrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightLeft', props);\n\t\t\t} else if (isUp(ev.keyCode) && (isIncrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightUp', props);\n\t\t\t} else if (isDown(ev.keyCode) && (isDecrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightDown', props);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, size, styler}) => styler.append(orientation, size),\n\t\tdecrementDisabled: ({disabled, min, value = min}) => disabled || value <= min,\n\t\tincrementDisabled: ({disabled, max, min, value = min}) => disabled || value >= max,\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, decrementAriaLabel, min, value = min}) => {\n\t\t\tif (decrementAriaLabel == null) {\n\t\t\t\tdecrementAriaLabel = $L('press button to decrease the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, incrementAriaLabel, min, value = min}) => {\n\t\t\tif (incrementAriaLabel == null) {\n\t\t\t\tincrementAriaLabel = $L('press button to increase the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t}\n\t},\n\n\trender: ({active,\n\t\t'aria-hidden': ariaHidden,\n\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdecrementAriaLabel,\n\t\tdecrementDisabled,\n\t\tdecrementIcon,\n\t\tdisabled,\n\t\tfocused,\n\t\tid,\n\t\tincrementAriaLabel,\n\t\tincrementDisabled,\n\t\tincrementIcon,\n\t\tknobStep,\n\t\tmax,\n\t\tmin,\n\t\tnoFill,\n\t\tonActivate,\n\t\tonChange,\n\t\tonDecrement,\n\t\tonDecrementSpotlightDisappear,\n\t\tonDragEnd,\n\t\tonDragStart,\n\t\tonIncrement,\n\t\tonIncrementSpotlightDisappear,\n\t\tonSpotlightDisappear,\n\t\torientation,\n\t\tprogressAnchor,\n\t\tsize,\n\t\tspotlightDisabled,\n\t\tstep,\n\t\tvalue,\n\t\t...rest\n\t}) => {\n\t\tconst ariaProps = extractAriaProps(rest);\n\t\tdelete rest.onSpotlightDirection;\n\t\tdelete rest.onSpotlightDown;\n\t\tdelete rest.onSpotlightLeft;\n\t\tdelete rest.onSpotlightRight;\n\t\tdelete rest.onSpotlightUp;\n\n\t\treturn (\n\t\t\t<div aria-hidden={ariaHidden} {...rest}>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!incrementDisabled ? id : null}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.decrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={decrementDisabled}\n\t\t\t\t\ticon={decrementIcon}\n\t\t\t\t\tonTap={onDecrement}\n\t\t\t\t\tonSpotlightDisappear={onDecrementSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t\t<Slider\n\t\t\t\t\t{...ariaProps}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tfocused={focused}\n\t\t\t\t\tid={id}\n\t\t\t\t\tknobStep={knobStep}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tmin={min}\n\t\t\t\t\tnoFill={noFill}\n\t\t\t\t\tonActivate={onActivate}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonDragEnd={onDragEnd}\n\t\t\t\t\tonDragStart={onDragStart}\n\t\t\t\t\tonSpotlightDisappear={onSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!decrementDisabled ? id : null}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.incrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={incrementDisabled}\n\t\t\t\t\ticon={incrementIcon}\n\t\t\t\t\tonSpotlightDisappear={onIncrementSpotlightDisappear}\n\t\t\t\t\tonTap={onIncrement}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst IncrementSliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tIdProvider({generateProp: null, prefix: 's_'}),\n\tSliderBehaviorDecorator({emitSpotlightEvents: 'onSpotlightDirection'}),\n\tSkinnable,\n\tSlottable({slots: ['knob']})\n);\n\n/**\n * An IncrementSlider with Agate styling and SliderDecorator applied with IconButtons to\n * increment and decrement the value.\n *\n * By default, `IncrementSlider` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class IncrementSlider\n * @memberof agate/IncrementSlider\n * @extends agate/IncrementSlider.IncrementSliderBase\n * @ui\n * @public\n */\nconst IncrementSlider = IncrementSliderDecorator(IncrementSliderBase);\n\nexport default IncrementSlider;\nexport {\n\tIncrementSlider,\n\tIncrementSliderBase,\n\tIncrementSliderDecorator\n};\n","import invariant from 'invariant';\n\n/**\n * Provides a convenient way to manage timed execution of functions.\n *\n * @class Job\n * @memberof core/util\n * @public\n */\nclass Job {\n\tid = null;\n\tfn = null;\n\ttimeout = null;\n\ttype = null;\n\n\t/**\n\t * @constructor\n\t * @param {Function}    fn       Function to execute as the requested job.\n\t * @param {Number}      timeout  The number of milliseconds to wait before starting the job.\n\t *\n\t * @memberof core/util.Job.prototype\n\t */\n\tconstructor (fn, timeout) {\n\t\tthis.fn = fn;\n\t\tthis.timeout = timeout;\n\t}\n\n\trun (args) {\n\t\t// don't want to inadvertently apply Job's context on `fn`\n\t\treturn this.fn.apply(null, args);\n\t}\n\n\t/**\n\t * Starts the job.\n\t *\n\t * @method\n\t * @param   {...*}       [args]  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstart = (...args) => {\n\t\tthis.startAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Starts the job in `timeout` milliseconds\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before starting the job.\n\t *                                This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartAfter = (timeout, ...args) => {\n\t\tthis.stop();\n\t\tthis.type = 'timeout';\n\t\tthis.id = setTimeout(() => this.run(args), timeout);\n\t};\n\n\t/**\n\t * Stops the job.\n\t *\n\t * @method\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstop = () => {\n\t\tif (this.id) {\n\t\t\tif (this.type === 'idle') {\n\t\t\t\twindow.cancelIdleCallback(this.id);\n\t\t\t} else if (this.type === 'raf') {\n\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t} else if (this.type === 'timeout') {\n\t\t\t\tclearTimeout(this.id);\n\t\t\t}\n\t\t\tthis.id = this.type = null;\n\t\t}\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running\n\t * until the `timeout` configured at construction passes.\n\t *\n\t * @method\n\t * @param   {...*}       args  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottle = (...args) => {\n\t\tthis.throttleUntil(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running for\n\t * `timeout` milliseconds.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before allowing the job to\n\t *                                be ran again. This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottleUntil = (timeout, ...args) => {\n\t\tif (!this.id) {\n\t\t\tthis.type = 'timeout';\n\t\t\tthis.run(args);\n\t\t\tthis.id = setTimeout(this.stop, timeout);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidle = (...args) => {\n\t\tthis.idleUntil(null, ...args);\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle, or when the timeout is reached, whichever occurs first.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before executing the\n\t *                                job. This guarantees that the job is run, if a positive value\n\t *                                is specified.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidleUntil = (timeout, ...args) => {\n\t\tif (typeof window !== 'undefined' && window.requestIdleCallback) {\n\t\t\tthis.stop();\n\t\t\tthis.type = 'idle';\n\t\t\tthis.id = window.requestIdleCallback(() => this.run(args), {timeout});\n\t\t} else {\n\t\t\t// since we can't request an idle callback, just pass to startAfter()\n\t\t\tthis.startAfter(timeout, ...args);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job before the next repaint.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRaf = (...args) => {\n\t\tthis.startRafAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes job before the next repaint after a given amount of timeout.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before running `requestAnimationFrame`.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRafAfter = (timeout, ...args) => {\n\t\tthis.type = 'raf';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tlet time = null;\n\t\t\tconst callback = (timestamp) => {\n\t\t\t\tif (time === null) {\n\t\t\t\t\ttime = timestamp;\n\t\t\t\t}\n\t\t\t\tif (timeout && timestamp - time < timeout) {\n\t\t\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t\t\t} else {\n\t\t\t\t\ttime = null;\n\t\t\t\t\tthis.run(args);\n\t\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t\t\tthis.id = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\t// If requestAnimationFrame is not supported just run the function immediately\n\t\t\tthis.run(args);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the job when `promise` resolves.\n\t *\n\t * The job execution is tied to the resolution of the last `Promise` passed. Like other methods\n\t * on `Job`, calling `promise()` again with a new `Promise` will block execution of the job\n\t * until that new `Promise` resolves. Any previous `Promise`s will still resolve normally but\n\t * will not trigger job execution.\n\t *\n\t * Unlike other methods on `Job`, `promise()` returns a `Promise` which is the result of calling\n\t * `then()` on the passed `promise`. That `Promise` resolves with either the result of job\n\t * execution or `undefined` if `Promise` was superseded by a subsequent `Promise` passed as\n\t * described above.\n\t *\n\t * @method\n\t * @param   {Promise}  promise  The promise that must resolve before the job is executed\n\t *\n\t * @returns {Promise}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tpromise = (promise) => {\n\t\tinvariant(\n\t\t\tpromise && typeof promise.then === 'function',\n\t\t\t'promise expects a thenable'\n\t\t);\n\n\t\tthis.type = 'promise';\n\t\tthis.id = promise;\n\n\t\treturn promise.then(result => {\n\t\t\tif (this.id === promise) {\n\t\t\t\tthis.stop();\n\t\t\t\treturn this.run([result]);\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport default Job;\nexport {Job};\n","/**\n * A collection of utility methods.\n *\n * @module core/util\n * @exports cap\n * @exports clamp\n * @exports coerceArray\n * @exports coerceFunction\n * @exports extractAriaProps\n * @exports isRenderable\n * @exports Job\n * @exports memoize\n * @exports mergeClassNameMaps\n * @exports perfNow\n * @exports mapAndFilterChildren\n */\nimport always from 'ramda/src/always';\nimport isType from 'ramda/src/is';\nimport unless from 'ramda/src/unless';\nimport React from 'react';\nimport * as ReactIs from 'react-is';\n\nimport Job from './Job';\n\n/**\n * Capitalizes a given string (not locale-aware).\n *\n * @function\n * @param   {String}    str   The string to capitalize.\n *\n * @returns {String}          The capitalized string.\n * @memberof core/util\n * @public\n */\nconst cap = function (str) {\n\treturn str.slice(0, 1).toUpperCase() + str.slice(1);\n};\n\n/**\n * Limits `value` to be between `min` and `max`.\n *\n * If `min` is greater than `max`, `min` is returned.\n *\n * @function\n * @param   {Number}    min   The minimum value of the range\n * @param   {Number}    max   The maximum value of the range\n * @param   {Number}    value The value that must be within the range\n *\n * @returns {Number}          The clamped value\n * @memberof core/util\n * @public\n */\nconst clamp = (min, max, value) => {\n\tif (min > max || value < min) return min;\n\tif (value > max) return max;\n\treturn value;\n};\n\n/**\n * If `arg` is a function, return it. Otherwise returns a function that returns `arg`.\n *\n * Example:\n * ```\n *\tconst returnsZero = coerceFunction(0);\n *\tconst returnsArg = coerceFunction(() => 0);\n * ```\n * @function\n * @param {*}    arg    Function or value\n *\n * @returns {Function}  Either `arg` if `arg` is a function, or a function that returns `arg`\n * @memberof core/util\n * @public\n */\nconst coerceFunction = unless(isType(Function), always);\n\n/**\n * If `arg` is array-like, return it. Otherwise returns a single element array containing `arg`.\n *\n * Example:\n * ```\n *\tconst returnsArray = coerceArray(0); // [0]\n *\tconst returnsArg = coerceArray([0]); // [0]\n *\tconst returnsObjArg = coerceArray({0: 'zeroth', length: 1});\n * ```\n * @see http://ramdajs.com/docs/#isArrayLike\n * @function\n * @param {*}    array    Array or value\n *\n * @returns {Array}       Either `array` or `[array]`\n * @memberof core/util\n * @public\n */\nconst coerceArray = function (array) {\n\treturn Array.isArray(array) ? array : [array];\n};\n\n/**\n * Loosely determines if `tag` is a renderable component (either a string or a function).\n *\n * @function\n * @param {*}    tag    Component to test\n *\n * @returns {Boolean}   `true` if `tag` is either a string or a function\n * @memberof core/util\n * @public\n */\nconst isRenderable = function (tag) {\n\treturn ReactIs.isValidElementType(tag);\n};\n\n/**\n * Removes ARIA-related props from `props` and returns them in a new object.\n *\n * Specifically, it removes the `role` prop and any prop prefixed with `aria-`. This is useful when\n * redirecting ARIA-related props from a non-focusable root element to a focusable child element.\n *\n * @function\n * @param   {Object}    props    Props object\n *\n * @returns {Object}             ARIA-related props\n * @memberof core/util\n * @public\n */\nconst extractAriaProps = function (props) {\n\tconst aria = {};\n\tObject.keys(props).forEach(key => {\n\t\tif (key === 'role' || key.indexOf('aria-') === 0) {\n\t\t\taria[key] = props[key];\n\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn aria;\n};\n\n/**\n * Gets the current timestamp of either `window.performance.now` or `Date.now`\n *\n * @function\n *\n * @returns {Number}                    The timestamp from `window.performance.now` or `Date.now`\n * @memberof core/util\n * @public\n */\nconst perfNow = function () {\n\tif (typeof window === 'object') {\n\t\treturn window.performance.now();\n\t} else {\n\t\treturn Date.now();\n\t}\n};\n\n/**\n * Merges two class name maps into one.\n *\n * The resulting map will only contain the class names defined in the `baseMap` and will be appended\n * with the value from `additiveMap` if it exists. Further, `allowedClassNames` may optionally limit\n * which keys will be merged from `additiveMap` into `baseMap`.\n *\n * Example:\n * ```\n * // merges all matching class names from additiveMap1 with baseMap1\n * const newMap1 = mergeClassNameMaps(baseMap1, additiveMap1);\n *\n * // merge only 'a' and 'b' class names from additiveMap2 with baseMap2\n * const newMap2 = mergeClassNameMaps(baseMap2, additiveMap2, ['a', 'b']);\n * ```\n *\n * @function\n * @param {Object}     baseMap             The source mapping of logical class name to physical\n *                                         class name\n * @param {Object}     additiveMap         Mapping of logical to physical class names which are\n *                                         concatenated with `baseMap` where the logical names match\n * @param {String[]}  [allowedClassNames]  Array of logical class names that can be augmented. When\n *                                         set, the logical class name must exist in `baseMap`,\n *                                         `additiveMap`, and this array to be concatenated.\n *\n * @returns {Object}                       The merged class name map.\n * @memberof core/util\n * @public\n */\nconst mergeClassNameMaps = (baseMap, additiveMap, allowedClassNames) => {\n\tlet css = baseMap;\n\tif (baseMap && additiveMap) {\n\t\tallowedClassNames = allowedClassNames || Object.keys(additiveMap);\n\t\t// if the props includes a css map, merge them together now\n\t\tcss = Object.assign({}, baseMap);\n\t\tallowedClassNames.forEach(key => {\n\t\t\tif (baseMap[key] && additiveMap[key]) {\n\t\t\t\tcss[key] = baseMap[key] + ' ' + additiveMap[key];\n\t\t\t}\n\t\t});\n\n\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\treturn new Proxy({}, {\n\t\t\t\tget (target, key) {\n\t\t\t\t\t// use the merged value if it exists and the key otherwise\n\t\t\t\t\treturn css[key] || key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\treturn css;\n};\n\n/**\n * Creates a function that memoizes the result of `fn`.\n *\n * Note that this function is a naive implementation and only checks the first argument for\n * memoization.\n *\n * @function\n * @param {Function}    fn    The function to have its output memoized.\n *\n * @returns {Function}        The new memoized function.\n * @memberof core/util\n * @public\n */\nconst memoize = (fn) => {\n\tlet cache = {};\n\treturn (...args) => {\n\t\tlet n = args[0];\n\t\tif (n in cache) {\n\t\t\treturn cache[n];\n\t\t} else {\n\t\t\tlet result = fn(...args);\n\t\t\tcache[n] = result;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n/**\n * Maps over the `children`, discarding any `null` children before and after calling the callback.\n *\n * A replacement for `React.Children.map`.\n *\n * @function\n * @param {*}        children  Children to map over\n * @param {Function} callback  Function to apply to each child. Will not be called if the child is\n *                              `null`. If `callback` returns `null`, the child will be removed from\n *                              the result. If `null` is returned, the item will not be included in\n *                              the final output, regardless of the filter function.\n * @param {Function} [filter]  Filter function applied after mapping.\n *\n * @returns {*}                The processed children or the value of `children` if not an array.\n * @memberof core/util\n * @see https://reactjs.org/docs/react-api.html#reactchildrenmap\n * @public\n */\nconst mapAndFilterChildren = (children, callback, filter) => {\n\tconst result = React.Children.map(children, (child, ...rest) => {\n\t\tif (child != null) {\n\t\t\treturn callback(child, ...rest);\n\t\t} else {\n\t\t\treturn child;\n\t\t}\n\t});\n\tif (result && filter) {\n\t\treturn result.filter(filter);\n\t} else {\n\t\treturn result;\n\t}\n};\n\nexport {\n\tcap,\n\tclamp,\n\tcoerceArray,\n\tcoerceFunction,\n\textractAriaProps,\n\tisRenderable,\n\tJob,\n\tmemoize,\n\tmergeClassNameMaps,\n\tperfNow,\n\tmapAndFilterChildren\n};\n","/* global XMLHttpRequest, ILIB_BASE_PATH, ILIB_RESOURCES_PATH, ILIB_CACHE_ID */\n\nimport {memoize} from '@enact/core/util';\nimport Loader from 'ilib/lib/Loader';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\nimport xhr from 'xhr';\n\nimport ZoneInfoFile from './zoneinfo';\n\nconst getImpl = (url, callback, sync) => {\n\tif (typeof XMLHttpRequest !== 'undefined') {\n\t\txhr.XMLHttpRequest = XMLHttpRequest || xhr.XMLHttpRequest;\n\t\tlet req;\n\t\txhr({url, sync, beforeSend: (r) => (req = r)}, (err, resp, body) => {\n\t\t\tlet error = err || resp.statusCode !== 200 && resp.statusCode;\n\t\t\t// false failure from chrome and file:// urls\n\t\t\tif (error && req.status === 0 && req.response.length > 0) {\n\t\t\t\tbody = req.response;\n\t\t\t\terror = false;\n\t\t\t}\n\n\t\t\tlet json = null;\n\t\t\ttry {\n\t\t\t\tjson = error ? null : JSON.parse(body);\n\t\t\t} catch (e) {\n\t\t\t\terror = 'Failed to parse ILIB JSON data';\n\t\t\t}\n\n\t\t\tcallback(json, error);\n\t\t});\n\t} else {\n\t\tcallback(null, new Error('Not a web browser environment'));\n\t}\n};\n\nconst getSync = (url, callback) => getImpl(url, callback, true);\n\nconst get = memoize((url) => new Promise((resolve, reject) => {\n\tgetImpl(url, (json, error) => {\n\t\tif (error) {\n\t\t\treject(error);\n\t\t} else {\n\t\t\tresolve(json);\n\t\t}\n\t}, false);\n}));\n\nconst iLibBase = typeof ILIB_BASE_PATH === 'undefined' ? '/ilib' : ILIB_BASE_PATH;\nconst iLibResources = typeof ILIB_RESOURCES_PATH === 'undefined' ? '/locale' : ILIB_RESOURCES_PATH;\nconst cachePrefix = 'ENACT-ILIB-';\nconst cacheKey = cachePrefix + 'CACHE-ID';\nconst cacheID = typeof ILIB_CACHE_ID === 'undefined' ? '$ILIB' : ILIB_CACHE_ID;\n\nfunction EnyoLoader () {\n\tthis.base = iLibBase;\n\t// TODO: full enyo.platform implementation for improved accuracy\n\tif (typeof window === 'object' && typeof window.PalmSystem === 'object') {\n\t\tthis.webos = true;\n\t}\n}\n\nEnyoLoader.prototype = new Loader();\nEnyoLoader.prototype.constructor = EnyoLoader;\n\nEnyoLoader.prototype._createZoneFile = function (path) {\n\tlet zone = path.substring(path.indexOf('zoneinfo'));\n\n\t// remove the .json suffix to get the name of the zone\n\tzone = zone.substring(0, zone.length - 5);\n\n\ttry {\n\t\tconst zif = new ZoneInfoFile('/usr/share/' + zone);\n\n\t\t// only get the info for this year. Later we can get the info\n\t\t// for any historical or future year too\n\t\treturn zif.getIlibZoneInfo(new Date());\n\t} catch (e) {\n\t\t// no file, so just return nothing\n\t}\n};\n\nEnyoLoader.prototype._pathjoin = function (_root, subpath) {\n\tif (!_root || !_root.length) {\n\t\treturn subpath;\n\t}\n\tif (!subpath || !subpath.length) {\n\t\treturn _root;\n\t}\n\treturn _root + (_root.charAt(_root.length - 1) !== '/' ? '/' : '') + subpath;\n};\n\n/**\n * Load the list of files asynchronously. This uses recursion in\n * order to create a queue of files that will be loaded serially.\n * Each layer, starting at the bottom, loads a file and then loads\n * the layer on top of it. The very top file on the stack will have\n * zero files to load, so instead it will be the one to call the\n * callback to notify the caller that all the content is loaded.\n *\n * @param {Array.<string>} paths array of strings containing relative paths for required locale data\n *\tfiles\n * @param {Array} results empty array in which to place the resulting json when it is loaded from a\n *\tfile\n * @param {Object} params An object full of parameters that the caller is passing to this function\n *\tto help load the files\n * @param {function(Array.<Object>)} callback callback to call when this function is finished\n *\tattempting to load all the files that exist and can be loaded\n *\n * @returns {Promise}\n */\nEnyoLoader.prototype._loadFilesAsync = function (path, params, cache, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cacheItem = cache.data.shift(),\n\t\turl;\n\n\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t// TODO: Sort out async zone file loading\n\t\treturn this._createZoneFile(path);\n\t} else if (cacheItem) {\n\t\treturn Promise.resolve(cacheItem);\n\t}\n\n\treturn this.loadManifests(_root).then(() => {\n\t\tconst isRootAvailable = this.isAvailable(_root, path);\n\t\tif (isRootAvailable) {\n\t\t\turl = this._pathjoin(_root, path);\n\t\t} else {\n\t\t\tconst localeBase = this._pathjoin(this.base, 'locale');\n\t\t\tconst isBaseAvailable = this.isAvailable(localeBase, path);\n\t\t\tif (isBaseAvailable) {\n\t\t\t\turl = this._pathjoin(localeBase, path);\n\t\t\t}\n\t\t}\n\n\t\tif (url) {\n\t\t\treturn get(url).then(json => {\n\t\t\t\tif (typeof json === 'object') {\n\t\t\t\t\tcache.update = true;\n\t\t\t\t\treturn json;\n\t\t\t\t} else if (path === 'localeinfo.json') {\n\t\t\t\t\treturn LocaleInfo.defaultInfo;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t});\n};\n\nEnyoLoader.prototype._loadFilesCache = function (_root, paths) {\n\tthis._validateCache();\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet stored = window.localStorage.getItem(cachePrefix + _root + '/' + paths[0]);\n\t\tif (stored) {\n\t\t\tconst target = JSON.stringify(paths);\n\t\t\tconst data = JSON.parse(stored);\n\t\t\tif (data.target === target) {\n\t\t\t\treturn data.value;\n\t\t\t} else {\n\t\t\t\twindow.localStorage.removeItem(cachePrefix + _root + '/' + paths[0]);\n\t\t\t}\n\t\t}\n\t}\n\treturn new Array(paths.length);\n};\n\nEnyoLoader.prototype._storeFilesCache = function (_root, paths, data) {\n\tif (typeof window !== 'undefined' && window.localStorage && paths.length > 0) {\n\t\tlet target = JSON.stringify(paths);\n\t\twindow.localStorage.setItem(cachePrefix + _root + '/' + paths[0], JSON.stringify({target: target, value: data}));\n\t}\n};\n\nEnyoLoader.prototype._validateCache = function () {\n\tif (!this._cacheValidated && typeof window !== 'undefined' && window.localStorage) {\n\t\tlet activeID = window.localStorage.getItem(cacheKey);\n\t\tif (activeID !== cacheID) {\n\t\t\tfor (let i = 0; i < window.localStorage.length; i++) {\n\t\t\t\tlet key = window.localStorage.key(i);\n\t\t\t\tif (key.indexOf(cachePrefix) === 0) {\n\t\t\t\t\twindow.localStorage.removeItem(key);\n\t\t\t\t\ti--;\n\t\t\t\t}\n\t\t\t}\n\t\t\twindow.localStorage.setItem(cacheKey, cacheID);\n\t\t}\n\t}\n\tthis._cacheValidated = true;\n};\n\nEnyoLoader.prototype.loadFiles = function (paths, sync, params, callback, rootPath) {\n\tlet _root = iLibResources;\n\tif (typeof rootPath !== 'undefined') {\n\t\t_root = rootPath;\n\t} else if (params && typeof params.root !== 'undefined') {\n\t\t_root = params.root; // Deprecated; to be removed in future\n\t}\n\tlet cache = {data: this._loadFilesCache(_root, paths)};\n\tif (sync) {\n\t\tlet ret = [];\n\t\tlet locdata = this._pathjoin(this.base, 'locale');\n\t\t// synchronous\n\t\tpaths.forEach(function (path, index) {\n\t\t\tif (this.webos && path.indexOf('zoneinfo') !== -1) {\n\t\t\t\tret.push(this._createZoneFile(path));\n\t\t\t} else if (cache.data[index]) {\n\t\t\t\tret.push(cache.data[index]);\n\t\t\t} else {\n\t\t\t\tlet found = false;\n\n\t\t\t\tconst handler = (json, err) => {\n\t\t\t\t\tif (!err && typeof json === 'object') {\n\t\t\t\t\t\tcache.update = true;\n\t\t\t\t\t\tret.push(json);\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.loadManifestsSync(_root);\n\n\t\t\t\tif (this.isAvailable(_root, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(_root, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found && this.isAvailable(locdata, path)) {\n\t\t\t\t\tgetSync(this._pathjoin(locdata, path), handler);\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\tif (path === 'localeinfo.json') {\n\t\t\t\t\t\t// Use default locale info when xhr on root localeinfo.json fails/skips\n\t\t\t\t\t\tret.push(LocaleInfo.defaultInfo);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// not there, so fill in a blank entry in the array\n\t\t\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\t\t\tret.push(undefined);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this));\n\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, ret);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, ret);\n\t\t}\n\t\treturn ret;\n\t}\n\n\t// asynchronous\n\tPromise.all(paths.map(path => this._loadFilesAsync(path, params, cache))).then(results => {\n\t\tif (cache.update) {\n\t\t\tthis._storeFilesCache(_root, paths, results);\n\t\t}\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback.call(this, results);\n\t\t}\n\t});\n};\n\nEnyoLoader.prototype._handleManifest = function (dirpath, filepath, json) {\n\t// star indicates there was no ilibmanifest.json, so always try to load files from\n\t// that dir\n\tif (json != null) {\n\t\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\t\twindow.localStorage.setItem(cachePrefix + filepath, JSON.stringify(json));\n\t\t}\n\t\tthis.manifest[dirpath] = json.files;\n\t} else {\n\t\tthis.manifest[dirpath] = '*';\n\t}\n\n\treturn this.manifest[dirpath];\n};\n\nEnyoLoader.prototype._loadManifest = function (_root, subpath, sync) {\n\tif (!this.manifest) {\n\t\tthis.manifest = {};\n\t}\n\n\tconst dirpath = this._pathjoin(_root, subpath);\n\tconst filepath = this._pathjoin(dirpath, 'ilibmanifest.json');\n\n\tif (this.manifest[dirpath]) {\n\t\treturn;\n\t}\n\n\tlet cachedManifest;\n\tif (typeof window !== 'undefined' && window.localStorage) {\n\t\tcachedManifest = window.localStorage.getItem(cachePrefix + filepath);\n\t}\n\n\tif (cachedManifest) {\n\t\tthis.manifest[dirpath] = JSON.parse(cachedManifest).files;\n\n\t\treturn sync ? this.manifest[dirpath] : Promise.resolve(this.manifest[dirpath]);\n\t}\n\n\tif (sync) {\n\t\tgetSync(filepath, (json) => {\n\t\t\tthis._handleManifest(dirpath, filepath, json);\n\t\t});\n\n\t\treturn;\n\t}\n\n\treturn get(filepath).then(json => this._handleManifest(dirpath, filepath, json));\n};\n\nEnyoLoader.prototype.loadManifests = function (_root) {\n\tthis._validateCache();\n\treturn Promise.all([\n\t\t// standard ilib locale data\n\t\tthis._loadManifest(this.base, 'locale'),\n\t\t// the app's resources dir\n\t\tthis._loadManifest('', iLibResources),\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '')\n\t]);\n};\n\nEnyoLoader.prototype.loadManifestsSync = function (_root) {\n\t// load standard manifests\n\tif (!this.manifest) {\n\t\tthis._validateCache();\n\t\tthis._loadManifest(this.base, 'locale', true); // standard ilib locale data\n\t\tthis._loadManifest('', iLibResources, true);     // the app's resources dir\n\t}\n\n\tif (!this.manifest[_root]) {\n\t\t// maybe it's a custom root? If so, try to load\n\t\t// the manifest file first in case it is there\n\t\tthis._loadManifest(_root, '', true);\n\t}\n};\n\nEnyoLoader.prototype.isAvailable = function (_root, path) {\n\t// util.print('enyo loader: isAvailable ' + path + '? ');\n\t// star means attempt to load everything because there was no manifest in that dir\n\tif (this.manifest[_root] === '*' || this.manifest[_root].indexOf(path) !== -1) {\n\t\t// util.print('true\\n');\n\t\treturn true;\n\t}\n\n\t// util.print('false\\n');\n\treturn false;\n};\n\nexport default EnyoLoader;\nexport {EnyoLoader as Loader};\n\n","/*\n * glue.js - glue code to fit ilib into enyo\n *\n * Copyright  2013-2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ilib from 'ilib';\n\nimport './dates';\n\nimport Loader from './Loader';\nimport {updateLocale} from '../locale';\n\nilib.setLoaderCallback(new Loader());\n\nif (typeof window === 'object' && typeof window.UILocale !== 'undefined') {\n\t// this is a hack until GF-1581 is fixed\n\tilib.setLocale(window.UILocale);\n}\n\n// we go ahead and run this once during loading of iLib settings are valid\n// during the loads of later libraries.\nupdateLocale(null, true);\n","/**\n * Provides an Agate-themed tab group.\n *\n * @module agate/TabGroup\n * @exports TabGroup\n * @exports TabGroupBase\n */\n\nimport {cap} from '@enact/core/util';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Group from '@enact/ui/Group';\nimport kind from '@enact/core/kind';\nimport ToggleButton from '../ToggleButton';\nimport LabeledIcon from '../LabeledIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\nimport Spottable from '@enact/spotlight/Spottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './TabGroup.module.less';\n\nconst TabBase = kind({\n\tname: 'Tab',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\ticon: PropTypes.string,\n\t\tlabelPosition: PropTypes.string,\n\t\tonClick: PropTypes.func,\n\t\torientation: PropTypes.string,\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'star'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tab'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ttabLabel: ({children, className, css, icon, labelPosition, orientation, selected}) => {\n\t\t\tlet inline;\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tinline = true;\n\t\t\t}\n\n\t\t\tif (className.includes('copper') || className.includes('cobalt')) {\n\t\t\t\treturn (\n\t\t\t\t\t<div aria-label={children} className={css.labeledIcon} role=\"region\">\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<LabeledIcon\n\t\t\t\t\t\tclassName={css.labeledIcon}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</LabeledIcon>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({onClick, orientation, style = {}, tabLabel, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\t\tdelete rest.selected;\n\n\t\tif (orientation === 'horizontal') {\n\t\t\tstyle.textAlign = 'center';\n\t\t}\n\t\treturn (\n\t\t\t<Cell {...rest} style={style} onClick={onClick}>\n\t\t\t\t{tabLabel}\n\t\t\t</Cell>\n\t\t);\n\t}\n});\nconst Tab = Skinnable(Spottable(TabBase));\n\n/**\n * TBD.\n *\n * @class TabGroup\n * @memberof agate/TabGroup\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst TabGroupBase = kind({\n\tname: 'TabGroup',\n\n\tpropTypes: /** @lends agate/TabGroup.TabGroup.prototype */ {\n\t\ttabPosition: PropTypes.string.isRequired,\n\t\ttabs: PropTypes.array.isRequired,\n\t\tafterTabs: PropTypes.node,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcss: PropTypes.object,\n\t\torientation: PropTypes.string,\n\t\tselectedIndex: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabBar'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, tabPosition, styler}) => styler.append(orientation, ['position' + cap(tabPosition)]),\n\t\tlabelPosition: ({orientation, tabPosition}) => {\n\t\t\t// TODO: this keeps the label always between the icon and the panels, is it necessary?\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tif (tabPosition === 'before') {\n\t\t\t\t\treturn 'after';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'before';\n\t\t\t\t}\n\t\t\t} else if (tabPosition === 'before') {\n\t\t\t\treturn 'below';\n\t\t\t} else {\n\t\t\t\treturn 'above';\n\t\t\t}\n\t\t},\n\t\tchildren: ({tabs}) => tabs.map((tab, i) => {\n\t\t\ttab.key = 'tab' + i;\n\t\t\ttab.children = tab.title || tab.children;\n\t\t\tdelete tab.title;\n\t\t\treturn tab;\n\t\t})\n\t},\n\n\trender: ({afterTabs, beforeTabs, className, css, labelPosition, orientation, selectedIndex, style, ...rest}) => {\n\t\tdelete rest.tabPosition;\n\t\tdelete rest.tabs;\n\n\t\treturn (\n\t\t\t<Layout orientation={orientation} className={className} align=\"stretch\" style={style}>\n\t\t\t\t{beforeTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{beforeTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t\t<Cell>\n\t\t\t\t\t<Layout\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tclassName={css.tabGroup}\n\t\t\t\t\t\talign=\"stretch center\"\n\t\t\t\t\t\tchildComponent={Tab}\n\t\t\t\t\t\tcomponent={Group}\n\t\t\t\t\t\titemProps={{\n\t\t\t\t\t\t\tlabelPosition,\n\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\tshrink: (orientation === 'vertical')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tselect=\"radio\"\n\t\t\t\t\t\tselected={selectedIndex}\n\t\t\t\t\t\tselectedProp=\"selected\"\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t{afterTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{afterTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\nTabGroupBase.defaultSlot = 'tabs';\n\n// Only documenting TabGroup since base is not useful for extension as-is\nconst TabGroup = Skinnable(Slottable({slots: ['tabs', 'afterTabs', 'beforeTabs']}, TabGroupBase));\n\nexport default TabGroup;\nexport {\n\tTabGroup,\n\tTabGroupBase\n};\n","import {adaptEvent, forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport {Changeable} from '@enact/ui/Changeable';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\nimport TabGroup from '../TabGroup';\n\nimport Panels from './Panels';\n\nimport componentCss from './TabbedPanels.module.less';\n\n/**\n * Tabbed Panels component.\n *\n * @class TabbedPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst TabbedPanelsBase = kind({\n\tname: 'TabbedPanels',\n\tpropTypes: /** @lends agate/Panels.TabbedPanels.prototype */ {\n\t\tafterTabs: PropTypes.node,\n\t\tarranger: shape,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tduration: PropTypes.number,\n\t\tindex: PropTypes.number,\n\t\tnoAnimation: PropTypes.bool,\n\t\tnoCloseButton: PropTypes.bool,\n\t\tonApplicationClose: PropTypes.func,\n\t\tonBack: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\ttabPosition: PropTypes.string,\n\t\ttabs: PropTypes.array\n\t},\n\tdefaultProps: {\n\t\tindex: 0,\n\t\tnoCloseButton: false,\n\t\ttabPosition: 'before'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabbedPanels enact-fit'\n\t},\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tadaptEvent(({selected}) => ({index: selected}), forward('onSelect'))\n\t\t)\n\t},\n\tcomputed: {\n\t\tchildren: ({children, tabs}) => {\n\t\t\t// if there are children use them\n\t\t\tif (children) {\n\t\t\t\treturn children;\n\t\t\t}\n\t\t\t// otherwise try to make children from the tabs' view and viewProps\n\t\t\tif (tabs) {\n\t\t\t\treturn tabs.map((tab, index) => {\n\t\t\t\t\tconst {view: View, viewProps} = tab;\n\t\t\t\t\treturn <View key={index} {...viewProps} />;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tclassName: ({css, orientation, styler, tabPosition}) => styler.append(tabPosition === 'after' ? css.reverse : '', orientation === 'vertical' ? css.column : ''),\n\t\ttabOrientation: ({orientation}) => orientation === 'vertical' ? 'horizontal' : 'vertical'\n\t},\n\trender: ({\n\t\tafterTabs,\n\t\tarranger,\n\t\tbeforeTabs,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcss,\n\t\tduration,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tonApplicationClose,\n\t\tonBack,\n\t\tonSelect,\n\t\ttabOrientation,\n\t\ttabPosition,\n\t\ttabs,\n\t\t...rest\n\t}) => {\n\t\treturn (\n\t\t\t<Layout {...rest}>\n\t\t\t\t<Cell shrink>\n\t\t\t\t\t<TabGroup\n\t\t\t\t\t\tafterTabs={afterTabs}\n\t\t\t\t\t\tbeforeTabs={beforeTabs}\n\t\t\t\t\t\tclassName={css.tabs}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\ttabPosition={tabPosition}\n\t\t\t\t\t\tselectedIndex={index}\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tclassName={css.panels}\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tcomponent={Panels}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tonBack={onBack}\n\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\tindex={index}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Cell>\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\n// Currently not documenting the base output since it's not exported from index.js\nconst TabbedPanels = Slottable(\n\t{slots: ['tabs', 'afterTabs', 'beforeTabs']},\n\tChangeable(\n\t\t{prop: 'index', change: 'onSelect'},\n\t\tSkinnable(TabbedPanelsBase)\n\t)\n);\n\nexport default TabbedPanels;\nexport {\n\tTabbedPanels,\n\tTabbedPanelsBase\n};\n","// A `React.useEvent` hooks is introduced in https://github.com/facebook/react/pull/17651\n// The `useEvent` below will be replaced with the `React.useEvent` later.\nconst utilEvent = (eventName) => {\n\treturn {\n\t\taddEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.addEventListener) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t}\n\t\t},\n\n\t\tremoveEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.removeEventListener) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default utilEvent;\nexport {\n\tutilEvent\n};\n","import useClass from '../useClass';\n\nimport Handlers from './Handlers';\n\n/**\n * Creates a map of event handlers with consistent references across renders.\n *\n * Each function in the `handlers` will receive the first argument passed by the downstream caller\n * along with the latest `props` and `context` values passed to `useHandlers`. This is designed to\n * work well with {@link core/handle} which generates handlers with this function signature.\n *\n * @param {Object.<String, Function>} handlers  Map of handler names to functions.\n * @params {any}                      [props]   Typically, the props for the component but that is\n *                                              not required.\n * @params {any}                      [context] Additional data or methods the handlers may need.\n * @returns {Object}                            A map of bound handlers\n * @private\n */\nfunction useHandlers (handlers, props, context) {\n\tconst h = useClass(Handlers, handlers);\n\th.setContext(props, context);\n\n\treturn h.handlers;\n}\n\nexport default useHandlers;\nexport {\n\tuseHandlers\n};\n","import React from 'react';\n\n/**\n * Creates one instance of the class, `Ctor` with the provided `args`, for the life of the\n * component.\n *\n * ```\n * class MyClass {\n *   constructor ({value}) {\n *     this.value = value;\n *   }\n *\n *   handleEvent = (ev) => {\n *     if (ev.key === 'Enter') {\n *       // do something with this.value\n *     }\n *   }\n * }\n *\n * function Component (props) {\n *   const inst = useClass(MyClass, props.value);\n *   return <div onClick={inst.handleEvent} />\n * }\n * ```\n *\n * @param {Function} Ctor Class constructor\n * @param  {...any}  args Arguments to pass to the constructor\n * @returns {Object}      An instance of `Ctor`\n * @private\n */\nfunction useClass (Ctor, ...args) {\n\tconst ref = React.useRef(null);\n\tref.current = ref.current || new Ctor(...args);\n\n\treturn ref.current;\n}\n\nexport default useClass;\nexport {\n\tuseClass\n};\n","class Handlers {\n\tconstructor (_handlers) {\n\t\tthis.props = {};\n\t\tthis.context = {};\n\n\t\tthis._handlers = {};\n\t\tif (_handlers) {\n\t\t\tObject.keys(_handlers).forEach(fn => {\n\t\t\t\tthis._handlers[fn] = (ev) => {\n\t\t\t\t\treturn _handlers[fn](ev, this.props, this.context);\n\t\t\t\t};\n\t\t\t\tthis._handlers[fn].displayName = fn;\n\t\t\t});\n\t\t}\n\t}\n\n\tget handlers () {\n\t\treturn this._handlers;\n\t}\n\n\tsetContext (props = {}, context = {}) {\n\t\tthis.props = props;\n\t\tthis.context = context;\n\t}\n}\n\nexport default Handlers;\nexport {\n\tHandlers\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__R2SB0\",\"cell\":\"Layout_cell__2wmzr\",\"grow\":\"Layout_grow__3dlNj\",\"shrink\":\"Layout_shrink__3RcNd\",\"horizontal\":\"Layout_horizontal__14doC\",\"vertical\":\"Layout_vertical__tG-RZ\",\"inline\":\"Layout_inline__1kjz8\",\"wrap\":\"Layout_wrap__1CJ7Z\",\"nowrap\":\"Layout_nowrap__1oTjq\",\"wrapReverse\":\"Layout_wrapReverse__35MZo\"};","/**\n * Utilities to facilitate integration with v8 snapshot builds\n *\n * @module core/snapshot\n * @exports isWindowReady\n * @exports onWindowReady\n * @exports windowReady\n * @public\n */\n\nimport invariant from 'invariant';\n\nconst windowCallbacks = [];\n\n/**\n * Determines if the `window` is available\n *\n * @function\n *\n * @returns {Boolean} `true` when `window` is ready\n * @memberof core/snapshot\n * @public\n */\nfunction isWindowReady () {\n\treturn typeof window !== 'undefined';\n}\n\n/**\n * Executes a callback, such as registering event handlers, when a valid `window` is available.\n *\n * During normal operation, the callback will be executed immediately. During a pre-rendering pass,\n * the callback is not be executed at all. When using snapshot, the callback is added to a queue\n * and is executed in order once the window is available.\n *\n * *Important Notes*\n * * The callback should not alter the initial HTML state. If it does, it will invalidate the\n * pre-render state and interfere with React rehydration.\n * * The callback should be limited to module-scoped actions and not component instance actions. If\n * the action is tied to a component, it should be invoked from within the component's lifecycle\n * methods.\n *\n * @function\n * @param   {Function}    callback    Function to run when the window is ready\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction onWindowReady (callback) {\n\tif (isWindowReady()) {\n\t\tcallback();\n\t} else {\n\t\twindowCallbacks.push(callback);\n\t}\n}\n\n/**\n * Executes all queued window callbacks.\n *\n * Requires that the window be, in fact, available and will throw an `Error` if not.\n *\n * @function\n *\n * @returns {undefined}\n * @memberof core/snapshot\n * @public\n */\nfunction windowReady () {\n\tinvariant(\n\t\tisWindowReady(),\n\t\t'windowReady cannot be run until the window is available'\n\t);\n\n\twindowCallbacks.forEach(f => f());\n}\n\nexport default onWindowReady;\nexport {\n\tisWindowReady,\n\tonWindowReady,\n\twindowReady\n};\n","/**\n * Provides the {@link spotlight/Accelerator.Accelerator} class.\n *\n * @module spotlight/Accelerator\n * @exports Accelerator\n */\n\n/**\n * @class Accelerator\n * @memberof spotlight/Accelerator\n */\nclass Accelerator {\n\t/**\n\t * @constructor\n\t * @param {Number[]} frequency - Controls the frequency with which the acceleration will\n\t *\t\"freeze\". While frozen, the current target item cannot change, and all events are directed\n\t *\tto it.\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tconstructor (frequency = [3, 3, 3, 2, 2, 2, 1]) {\n\n\t\t/*\n\t\t * Whether the instance is currently in an accelerating state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.accelerating = false;\n\n\t\t/*\n\t\t * The current count of skipped events.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.skipped = 0;\n\n\t\t/*\n\t\t * The timestamp of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.time = 0;\n\n\t\t/*\n\t\t * The keyCode of the last evaluated event.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tthis.keyCode = 0;\n\n\t\t/*\n\t\t * Whether the instance is in a state of being canceled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tthis.canceled = false;\n\n\t\t/*\n\t\t * Controls the frequency with which the acceleration will \"freeze\". While frozen,\n\t\t * the current target item cannot change, and all events are directed to it.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @default [3, 3, 3, 2, 2, 2, 1]\n\t\t * @public\n\t\t */\n\t\tthis.frequency = frequency;\n\t}\n\n\t/**\n\t * Called with the current keydown event and callback, which will be called when the event is\n\t * allowed through.\n\t *\n\t * @function\n\t * @param  {Object} event - The current event to validate.\n\t * @param  {Function} callback - The callback to execute.\n\t * @returns {Boolean} `true` if the event was consumed by processKey and callback was not called\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tprocessKey = (event, callback) => {\n\t\tswitch (event.type) {\n\t\t\tcase 'keydown':\n\t\t\t\tif (event.keyCode !== this.keyCode) {\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.time = Date.now();\n\t\t\t\t\tthis.keyCode = event.keyCode;\n\t\t\t\t\treturn callback(event);\n\t\t\t\t} else if (this.canceled) {\n\n\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\treturn true;\n\t\t\t\t} else {\n\t\t\t\t\tlet elapsedTime = Date.now() - this.time,\n\t\t\t\t\t\tseconds = Math.floor(elapsedTime / 1000),\n\t\t\t\t\t\ttoSkip = 0;\n\n\t\t\t\t\tseconds = seconds > this.frequency.length - 1 ? this.frequency.length - 1 : seconds;\n\n\t\t\t\t\ttoSkip = this.frequency[seconds] - 1;\n\t\t\t\t\tif (toSkip < 0) {\n\t\t\t\t\t\ttoSkip = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.accelerating = !(seconds === 0 && this.skipped === 0);\n\n\t\t\t\t\tif (this.skipped >= toSkip) {\n\t\t\t\t\t\tthis.skipped = 0;\n\t\t\t\t\t\treturn callback(event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.skipped++;\n\t\t\t\t\t\t// Prevent skipped keydown events from bubbling\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tcase 'keyup':\n\t\t\t\tthis.reset();\n\t\t\t\treturn callback(event);\n\t\t}\n\t};\n\n\t/**\n\t * Resets the Accelerator instance to the default values.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\treset = () => {\n\t\tthis.skipped = 0;\n\t\tthis.time = 0;\n\t\tthis.keyCode = 0;\n\t\tthis.canceled = false;\n\t\tthis.accelerating = false;\n\t};\n\n\t/**\n\t * Cancels the Accelerator.\n\t *\n\t * @function\n\t * @returns {undefined}\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tcancel = () => {\n\t\tthis.canceled = true;\n\t};\n\n\t/**\n\t * Verifies that the Accelerator is active.\n\t *\n\t * @function\n\t * @returns {Boolean} `true` if the Accelerator is active; otherwise, `false`.\n\t * @public\n\t * @memberof spotlight/Accelerator.Accelerator.prototype\n\t */\n\tisAccelerating = () => {\n\t\treturn this.accelerating;\n\t};\n}\n\nexport default Accelerator;\nexport {Accelerator};\n","/* global ResizeObserver, MutationObserver */\n/**\n * A higher-order component that adds the ability to measure nodes conveniently.\n *\n * @module ui/Measurable\n * @exports Measurable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React, {useState, useRef, useLayoutEffect} from 'react';\n\n/**\n * Default config for {@link ui/Measurable.Measurable}.\n *\n * @memberof ui/Measurable.Measurable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the measurement object.\n\t *\n\t * @type {String}\n\t * @default 'measurement'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\tmeasurementProp: 'measurement',\n\n\t/**\n\t * Configures the prop name to pass a function to capture a reference to the element to measure.\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/Measurable.Measurable.defaultConfig\n\t */\n\trefProp: 'forwardRef'\n};\n\nconst useMeasurable = () => {\n\tconst [measurement, setMeasurement] = useState();\n\tconst ref = useRef(null);\n\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tconst refToMeasure = ref.current;\n\t\t\tif (!refToMeasure) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Support for ResizeObserver\n\t\t\tif (typeof ResizeObserver === 'function') {\n\t\t\t\tlet resizeObserver = new ResizeObserver((entries) => {\n\t\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\t\tif (entry.target === refToMeasure) {\n\t\t\t\t\t\t\t// we want to measure including the padding, hence refers to `target` instead of `contentRect`\n\t\t\t\t\t\t\tsetMeasurement(entry.target.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\n\t\t\t\tresizeObserver.observe(refToMeasure);\n\n\t\t\t\treturn () => {\n\t\t\t\t\tresizeObserver.disconnect(refToMeasure);\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t};\n\t\t\t// Fallback support for MutationObserver\n\t\t\t} else if (typeof MutationObserver === 'function') {\n\t\t\t\tlet mutationObserver = new MutationObserver((mutationsList) => {\n\t\t\t\t\tfor (let mutation of mutationsList) {\n\t\t\t\t\t\tif (mutation.type === 'childList') {\n\t\t\t\t\t\t\tsetMeasurement(mutation.target.getBoundingClientRect());\n\t\t\t\t\t\t} else if (mutation.type === 'attributes' && (mutation.attributeName === 'style' || mutation.attributeName === 'class')) {\n\t\t\t\t\t\t\tsetMeasurement(refToMeasure.getBoundingClientRect());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tmutationObserver.observe(refToMeasure, {attributes: true, childList: true, subtree: true});\n\n\t\t\t\treturn () => {\n\t\t\t\t\tmutationObserver.disconnect();\n\t\t\t\t\tmutationObserver = null;\n\t\t\t\t};\n\t\t\t}\n\t\t},\n\t\t[] // disconnect on unmount\n\t);\n\n\treturn {\n\t\tref,\n\t\tmeasurement\n\t};\n};\n\n/**\n * A higher-order component that adds the ability to measure a referenced node and get that value\n * back as a prop.\n *\n * Applying `Measurable` to a component will pass two additional props: function to fetch the `ref`\n * and the measurement object (currently this executes `getBoundingClientRect` returning its full\n * complement of properties). Both prop names are configurable through the HOC config object.\n *\n * Changes to the referenced node will result in new measurements being returned as props. That\n * being said, it probably is not wise to use this during animation as it may cause unwanted\n * performance issues.\n *\n * @see https://reactjs.org/docs/hooks-faq.html#how-can-i-measure-a-dom-node\n * @class Measurable\n * @memberof ui/Measurable\n * @hoc\n * @public\n */\nconst Measurable = hoc(defaultConfig, (configHoc, Wrapped) => {\n\treturn function MeasurableHoc (props) {\n\t\t// Take the config from Measurable and insert it into a fresh instance of defineMeasurable\n\t\tconst {ref, measurement} = useMeasurable();\n\t\tconst measurementProps = {\n\t\t\t[configHoc.refProp]: ref,\n\t\t\t[configHoc.measurementProp]: measurement\n\t\t};\n\n\t\treturn (<Wrapped {...props} {...measurementProps} />);\n\t};\n});\n\nexport default Measurable;\nexport {\n\tMeasurable,    // HOC\n\tuseMeasurable  // Hook\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nlet GlobalId = 0;\n\nconst ID_KEY = '$$ID$$';\n\n/**\n * Default config for {@link agate/Panels.IdProvider}\n *\n * @hocconfig\n * @memberof agate/Panels.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'IdProvider';\n\n\t\tconstructor () {\n\t\t\tsuper();\n\n\t\t\tthis.ids = {};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\t\tfor (const key in this.ids) {\n\t\t\t\tconst {id, onUnmount} = this.ids[key];\n\t\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\t\tonUnmount(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgenerateId = (key, idPrefix = prefix, onUnmount) => {\n\t\t\t// if an id has been generated for the key, return it\n\t\t\tif (key in this.ids) {\n\t\t\t\treturn this.ids[key].id;\n\t\t\t}\n\n\t\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\t\tid,\n\t\t\t\tonUnmount\n\t\t\t};\n\n\t\t\treturn id;\n\t\t};\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (generateProp) {\n\t\t\t\tprops[generateProp] = this.generateId;\n\t\t\t}\n\n\t\t\tif (idProp && !props[idProp]) {\n\t\t\t\tprops[idProp] = this.generateId(ID_KEY);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport Spotlight from '@enact/spotlight';\nimport Cancelable from '@enact/ui/Cancelable';\n\nimport css from './Panels.module.less';\n\nconst defaultConfig = {\n\tcancel: null\n};\n\nconst CancelDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {cancel} = config;\n\n\tfunction handleCancel (ev, props) {\n\t\tconst {index, [cancel]: handler} = props;\n\n\t\tif (index > 0 && handler && !document.querySelector(`.${css.transitioning}`)) {\n\t\t\t// clear Spotlight focus\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tif (current) {\n\t\t\t\tcurrent.blur();\n\t\t\t}\n\n\t\t\thandler({\n\t\t\t\tindex: index - 1\n\t\t\t});\n\n\t\t\tev.stopPropagation();\n\t\t}\n\t}\n\n\treturn Cancelable(\n\t\t{modal: true, onCancel: handleCancel},\n\t\tWrapped\n\t);\n});\n\nexport default CancelDecorator;\nexport {\n\tCancelDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__1Jtd2\",\"knob\":\"Slider_knob__3I0Nw\",\"horizontal\":\"Slider_horizontal__22MPN\",\"pressed\":\"Slider_pressed__e9VmX\",\"noFill\":\"Slider_noFill__VP2cy\",\"vertical\":\"Slider_vertical__3XlKe\"};","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Pause from '@enact/spotlight/Pause';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport {forwardSpotlightEvents} from './utils';\n\nconst useHintOnActive = ({active}) => {\n\treturn {\n\t\tuseHintText: active\n\t};\n};\n\nconst toggleActive = ({active}) => {\n\treturn {\n\t\tactive: !active\n\t};\n};\n\nconst defaultConfig = {\n\t// FIXME: This is a compromise to maintain a single decorator for Slider and IncrementSlider\n\t// that handles both a consolidated focus state and spotlight directional event mgmt. When this\n\t// is unset (for Slider), this decorator will listen to onKeyDown and fire spotlight events.\n\t// When set (for IncrementSlider), it specifies the event that is passed down to trigger\n\t// spotlight events and also doesn't remove the spotlight directional callbacks from the props\n\t// so the Wrapped component can fire them manually or use the callback for the default behavior.\n\temitSpotlightEvents: null\n};\n\n// Adds agate-specific slider behaviors\n// * aria-valuetext handling\n//   * use aria-valuetext when set\n//   * defaults to current value\n//   * onActivate, set to hint text\n//   * on value change, reset to value or aria-valuetext\n// * Spotlight\n//   * Pause Spotlight when dragging to prevent spotlight from leaving when pointer enters another\n//     component\n//   * Forward directional spotlight events from slider\n// * Managing focused state to show/hide tooltip\nconst SliderBehaviorDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emitSpotlightEvents} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SliderBehaviorDecorator';\n\n\t\tstatic propTypes = {\n\t\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\torientation: PropTypes.string,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.paused = new Pause();\n\t\t\tthis.handleActivate = this.handleActivate.bind(this);\n\t\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.handleFocus = this.handleFocus.bind(this);\n\t\t\tthis.handleSpotlightEvents = this.handleSpotlightEvents.bind(this);\n\t\t\tthis.bounds = {};\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tdragging: false,\n\t\t\t\tfocused: false,\n\t\t\t\tuseHintText: false,\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.value !== state.prevValue) {\n\t\t\t\treturn {\n\t\t\t\t\tuseHintText: false,\n\t\t\t\t\tprevValue: props.value\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\t\t}\n\n\t\tgetValueText () {\n\t\t\tconst {'aria-valuetext': ariaValueText, min, orientation, value = min} = this.props;\n\t\t\tconst {useHintText} = this.state;\n\n\t\t\tconst verticalHint = $L('change a value with up down button');\n\t\t\tconst horizontalHint = $L('change a value with left right button');\n\n\t\t\tif (useHintText) {\n\t\t\t\treturn orientation === 'horizontal' ? horizontalHint : verticalHint;\n\t\t\t}\n\n\t\t\tif (ariaValueText != null) {\n\t\t\t\treturn ariaValueText;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\thandleActivate () {\n\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\tthis.setState(toggleActive);\n\t\t\tthis.setState(useHintOnActive);\n\t\t}\n\n\t\thandleBlur (ev) {\n\t\t\tforward('onBlur', ev, this.props);\n\t\t\tthis.setState({focused: false});\n\t\t}\n\n\t\thandleDragStart () {\n\t\t\tthis.paused.pause();\n\t\t\tthis.setState({dragging: true});\n\t\t}\n\n\t\thandleDragEnd () {\n\t\t\tthis.paused.resume();\n\t\t\tthis.setState({dragging: false});\n\t\t}\n\n\t\thandleFocus (ev) {\n\t\t\tforward('onFocus', ev, this.props);\n\t\t\tthis.setState({focused: true});\n\t\t}\n\n\t\thandleSpotlightEvents (ev) {\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\tforward('onKeyDown', ev, this.props);\n\t\t\t}\n\n\t\t\tforwardSpotlightEvents(ev, this.props);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\t// Remove spotlight props before hitting spottable since we've handled them uniquely\n\t\t\t\tdelete props.onSpotlightLeft;\n\t\t\t\tdelete props.onSpotlightRight;\n\t\t\t\tdelete props.onSpotlightUp;\n\t\t\t\tdelete props.onSpotlightDown;\n\n\t\t\t\tprops.onKeyDown = this.handleSpotlightEvents;\n\t\t\t} else {\n\t\t\t\tprops[emitSpotlightEvents] = this.handleSpotlightEvents;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t{...props}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t\taria-valuetext={this.getValueText()}\n\t\t\t\t\tfocused={this.state.focused || this.state.dragging}\n\t\t\t\t\tonActivate={this.handleActivate}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDragEnd={this.handleDragEnd}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SliderBehaviorDecorator;\nexport {\n\tSliderBehaviorDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateComponentPicker\":\"DateComponentPicker_dateComponentPicker__3e2Ns\"};","/**\n * An unstyled image component to be customized by a theme or application.\n *\n * @module ui/Image\n * @exports Image\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport {selectSrc} from '../resolution';\n\nimport componentCss from './Image.module.less';\n\n/**\n * A basic image component designed to display images conditionally based on screen size.\n *\n * This component does not have a default size, therefore the image will not show unless a size is\n * specified using a CSS `className` or inline `style`.\n *\n * Example:\n * ```\n * const src = {\n *   'hd': 'http://lorempixel.com/64/64/city/1/',\n *   'fhd': 'http://lorempixel.com/128/128/city/1/',\n *   'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n *\n * <Image className={css.myImage} src={src} sizing=\"fill\" />\n * ```\n *\n * `ui/Image` is based on the `div` element, but it uses `img` to provide `onError` and `onLoad`\n * events. The image that you see on screen is a `background-image` from the `div` element, not the\n * `img` element.\n *\n * > If you need a naturally sized image, you can use the native `<img>` element instead.\n *\n * @class Image\n * @memberof ui/Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'ui:Image',\n\n\tpropTypes: /** @lends ui/Image.Image.prototype */ {\n\t\t/**\n\t\t * String value for the alt attribute of the image.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talt: PropTypes.string,\n\n\t\t/**\n\t\t * The aria-label for the image.\n\t\t *\n\t\t * If unset, it defaults to the value of `alt`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t * @memberof ui/Image.Image.prototype\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Node for the children of an `Image`. Useful for overlays.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class\n\t\t * * `fit` - Applied when `sizing` prop is `fit`\n\t\t * * `fill` - Applied when `sizing` prop is `fill`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Called if the image has an error.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonError: PropTypes.func,\n\n\t\t/**\n\t\t * Called once the image is loaded.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLoad: PropTypes.func,\n\n\t\t/**\n\t\t * A placeholder image to be displayed before the image is loaded.\n\t\t *\n\t\t * For performance purposes, it should be pre-loaded or be a data url. If `src` is\n\t\t * unset, this value will be used as the `background-image`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Used to set the `background-size` of an `Image`.\n\t\t *\n\t\t * * `'fill'` - sets `background-size: cover`\n\t\t * * `'fit'` - sets `background-size: contain`\n\t\t * * `'none'` - uses the image's natural size\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'fill'\n\t\t * @public\n\t\t */\n\t\tsizing: PropTypes.oneOf(['fit', 'fill', 'none']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\tplaceholder: '',\n\t\tsizing: 'fill'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'image',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbgImage: ({placeholder, src}) => {\n\t\t\tconst imageSrc = selectSrc(src) || placeholder;\n\t\t\twarning(imageSrc, 'Image requires that either the \"placeholder\" or \"src\" props be specified.');\n\t\t\tif (!imageSrc) return null;\n\t\t\treturn placeholder && imageSrc !== placeholder ? `url(\"${imageSrc}\"), url(\"${placeholder}\")` : `url(\"${imageSrc}\")`;\n\t\t},\n\t\tclassName: ({className, sizing, styler}) => {\n\t\t\treturn sizing !== 'none' ? styler.append(sizing) : className;\n\t\t},\n\t\timgSrc: ({src}) => selectSrc(src) || null\n\t},\n\n\trender: ({alt, 'aria-label': ariaLabel, bgImage, children, css, imgSrc, onError, onLoad, style, ...rest}) => {\n\t\tdelete rest.placeholder;\n\t\tdelete rest.sizing;\n\t\tdelete rest.src;\n\n\t\treturn (\n\t\t\t<div role=\"img\" {...rest} aria-label={ariaLabel || alt} style={{...style, backgroundImage: bgImage}}>\n\t\t\t\t{children}\n\t\t\t\t<img className={css.img} src={imgSrc} alt={alt} onLoad={onLoad} onError={onError} />\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ImageBase;\nexport {\n\tImageBase as Image,\n\tImageBase\n};\n","/**\n * Provides agate styled Image component that supports multiple resolution sources.\n *\n * @example\n * <Image src=\"https://dummyimage.com/64/e048e0/0011ff\" style={{height: 64, width: 64}} />\n *\n * @module agate/Image\n * @exports Image\n * @exports ImageBase\n * @exports ImageDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport UiImage from '@enact/ui/Image';\nimport Pure from '@enact/ui/internal/Pure';\nimport {selectSrc} from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Image.module.less';\n\nconst placeholder =\n\t'data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC' +\n\t'9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHN0cm9rZT0iIzU1NSIgZmlsbD0iI2FhYSIg' +\n\t'ZmlsbC1vcGFjaXR5PSIwLjIiIHN0cm9rZS1vcGFjaXR5PSIwLjgiIHN0cm9rZS13aWR0aD0iNiIgLz48L3N2Zz' +\n\t'4NCg==';\n\n/**\n * An Agate-styled image component without any behavior\n *\n * @class ImageBase\n * @memberof agate/Image\n * @extends ui/Image.Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'Image',\n\n\tpropTypes: /** @lends agate/Image.ImageBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class for Image\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tcomputed: {\n\t\tplaceholder: ({src}) => (!src ? placeholder : null)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['image']\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\treturn (\n\t\t\t<UiImage\n\t\t\t\tdraggable=\"false\"\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n\n// This induces a render when there is a screen size change that has a corresponding image src value\n// associated with the new screen size. The render is kicked off by remembering the new image src.\n//\n// This hoc could (should) be rewritten at a later time to use a smarter context API and callbacks,\n// or something like pub/sub; each of which would be hooked together from the resolution.js that\n// would coordinate any screen size/orientation changes and emit events from there.\n//\n// This is ripe for refactoring, and could probably move into UI to be generalized, but that's for\n// another time. -B 2018-05-01\nconst ResponsiveImageDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResponsiveImageDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tsrc: selectSrc(this.props.src)\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\twindow.addEventListener('resize', this.handleResize);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\twindow.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst src = selectSrc(props.src);\n\t\t\t\t// Trigger a render and save the currently selected src for later comparisons\n\t\t\t\tif (src !== state.src) {\n\t\t\t\t\treturn {src};\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\n/**\n * agate-specific behaviors to apply to [Image]{@link agate/Image.ImageBase}.\n *\n * @hoc\n * @memberof agate/Image\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ImageDecorator = compose(\n\tPure,\n\tResponsiveImageDecorator,\n\tSkinnable\n);\n\n/**\n * An Agate-styled image component\n *\n * ```\n * <Image\n *   src={{\n *     'hd': 'https://dummyimage.com/64/e048e0/0011ff',\n *     'fhd': 'https://dummyimage.com/128/e048e0/0011ff',\n *     'uhd': 'https://dummyimage.com/256/e048e0/0011ff'\n *   }}\n * >\n * ```\n *\n * @class Image\n * @memberof agate/Image\n * @extends agate/Image.ImageBase\n * @mixes agate/Image.ImageDecorator\n * @ui\n * @public\n */\nconst Image = ImageDecorator(ImageBase);\n\nexport default Image;\nexport {\n\tImage,\n\tImageBase,\n\tImageDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"decorator\":\"Input_decorator__OW4uB\",\"input\":\"Input_input__1X_tf\",\"icon\":\"Input_icon__2XGHZ\",\"iconAfter\":\"Input_iconAfter__36hHf\",\"iconBefore\":\"Input_iconBefore__2WIXY\",\"focused\":\"Input_focused__3wjIv\"};","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {platform} from '@enact/core/platform';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './Scroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * @class ScrollerBasic\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBasic extends Component {\n\tstatic displayName = 'ui:ScrollerBasic';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBasic.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `useScroll` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref\n\t};\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate'\n\tscrollToPosition (x, y) {\n\t\tthis.props.scrollContentRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// scrollMode 'native'\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.props.scrollContentRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.props.scrollContentRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.props.scrollContentRef.current;\n\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\tsyncClientSize = () => {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (!node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = node,\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.props.scrollContentRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ScrollerBasic;\nexport {\n\tScrollerBasic\n};\n","import classNames from 'classnames';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './UiScroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * In most circumstances, you will want to use the Scrollable version.\n *\n * @class ScrollerBase\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBase extends Component {\n\tstatic displayName = 'ui:ScrollerBase';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBase.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `Scrollable` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'both'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.containerRef = React.createRef();\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\t// for Scrollable\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.containerRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// for ScrollableNative\n\tscrollToPosition (x, y) {\n\t\tthis.containerRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// for ScrollableNative\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.containerRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.containerRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.containerRef.current;\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.containerRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the scroller.\n *\n * @name noScrollByWheel\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft` and `scrollTop`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default ScrollerBase;\nexport {\n\tScrollerBase\n};\n","/**\n * Unstyled scroller components and behaviors to be customized by a theme or application.\n *\n * @module ui/Scroller\n * @exports Scroller\n * @exports ScrollerBase\n * @exports ScrollerBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport ScrollerBasic from './ScrollerBasic';\nimport ScrollerBase from './UiScrollerBase';\n\nconst nop = () => {};\n\n/**\n * An unstyled scroller.\n *\n * Example:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof ui/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nconst Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Return\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<ScrollerBasic {...scrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'ui:Scroller';\n\nScroller.propTypes = /** @lends ui/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.string,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller,\n\tScrollerBase, // to support legacy ScrollerBase\n\tScrollerBasic // to support theme libraries\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\n\n/**\n * An unstyled, knob component to be used with a `Slider`.\n *\n * @class Knob\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst Knob = kind({\n\tname: 'Knob',\n\n\tpropTypes: /** @lends ui/Slider.Knob.prototype */ {\n\t\t/**\n\t\t * The orientation of the slider, either `\"horizontal\"` or `\"vertical\"`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between 0 and 1 representing the proportion of the `value` in terms of `min`\n\t\t * and `max` props of the slider.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tproportion: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the knob using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children` - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion` - The value of the `proportion` prop from the knob\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Function|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\trender: ({orientation, proportion, tooltipComponent, value, ...rest}) => {\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={tooltipComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tproportion={proportion}\n\t\t\t\t>\n\t\t\t\t\t{value}\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default Knob;\nexport {\n\tKnob\n};\n","import hoc from '@enact/core/hoc';\nimport {forward} from '@enact/core/handle';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {validateRangeOnce, validateSteppedOnce} from '../internal/validators';\n\nimport {calcProportion} from './utils';\n\nimport css from './Slider.module.less';\n\nconst validateRange = validateRangeOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepValue = validateSteppedOnce((props) => props, {'component': 'PositionDecorator'});\nconst validateStepMax = validateSteppedOnce((props) => props, {'component': 'PositionDecorator', valueName: 'max'});\n\nconst PositionDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PositionDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tdisabled: PropTypes.bool,\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\tonChange: PropTypes.func,\n\t\t\torientation: PropTypes.string,\n\t\t\tstep: PropTypes.number,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal',\n\t\t\tstep: 1\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.handleDown = this.handleDown.bind(this);\n\t\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.bounds = {};\n\t\t\tthis.dragConfig = {\n\t\t\t\tglobal: true\n\t\t\t};\n\t\t}\n\n\t\temitChangeForPosition (x, y) {\n\t\t\tconst {max, min, orientation, step} = this.props;\n\t\t\tlet position = x;\n\t\t\tlet offset = this.bounds.offsetX;\n\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tposition = y;\n\t\t\t\toffset = this.bounds.offsetY;\n\t\t\t}\n\n\t\t\tlet proportion = calcProportion(this.bounds.min, this.bounds.max, position - offset);\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tproportion = 1 - proportion;\n\t\t\t}\n\n\t\t\tlet value = (max - min) * proportion + min;\n\n\t\t\t// adjust value for stepping\n\t\t\tif (step) {\n\t\t\t\tconst delta = (value - min) % step;\n\t\t\t\tif (delta < step / 2) {\n\t\t\t\t\tvalue -= delta;\n\t\t\t\t} else {\n\t\t\t\t\tvalue += step - delta;\n\t\t\t\t}\n\n\t\t\t\t// recalculate the proportion based on the stepped value\n\t\t\t\tproportion = calcProportion(min, max, value);\n\t\t\t}\n\n\t\t\tif (value !== this.props.value) {\n\t\t\t\tforward('onChange', {\n\t\t\t\t\ttype: 'onChange',\n\t\t\t\t\tvalue,\n\t\t\t\t\tproportion\n\t\t\t\t}, this.props);\n\t\t\t}\n\t\t}\n\n\t\tupdateBounds (node) {\n\t\t\tconst {orientation} = this.props;\n\n\t\t\tconst bounds = node.getBoundingClientRect();\n\t\t\tconst computedStyle = window.getComputedStyle(node);\n\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tthis.bounds.min = bounds.left + parseInt(computedStyle.paddingLeft);\n\t\t\t\tthis.bounds.max = bounds.right - parseInt(computedStyle.paddingRight);\n\t\t\t} else {\n\t\t\t\tthis.bounds.min = bounds.top + parseInt(computedStyle.paddingTop);\n\t\t\t\tthis.bounds.max = bounds.bottom - parseInt(computedStyle.paddingBottom);\n\t\t\t}\n\t\t}\n\n\t\tupdateOffset (clientX, clientY, target) {\n\t\t\tthis.bounds.offsetX = 0;\n\t\t\tthis.bounds.offsetY = 0;\n\n\t\t\tconst knob = target.closest(`.${css.knob}`);\n\t\t\tif (knob) {\n\t\t\t\tconst rect = knob.getBoundingClientRect();\n\t\t\t\tconst centerX = rect.left + rect.width / 2;\n\t\t\t\tconst centerY = rect.top + rect.height / 2;\n\n\t\t\t\tthis.bounds.offsetX = clientX - centerX;\n\t\t\t\tthis.bounds.offsetY = clientY - centerY;\n\t\t\t}\n\t\t}\n\n\t\thandleDown ({clientX, clientY, currentTarget, target}) {\n\t\t\t// bail early for emulated mousedown events from key presses\n\t\t\tif (typeof clientX === 'undefined' || typeof clientY === 'undefined') return;\n\n\t\t\tthis.updateBounds(currentTarget);\n\t\t\tthis.updateOffset(clientX, clientY, target);\n\t\t\tthis.emitChangeForPosition(clientX, clientY);\n\t\t}\n\n\t\thandleDragStart (ev) {\n\t\t\tforward('onDragStart', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\thandleDrag (ev) {\n\t\t\tforward('onDrag', ev, this.props);\n\t\t\tthis.emitChangeForPosition(ev.x, ev.y);\n\t\t}\n\n\t\trender () {\n\t\t\tif (__DEV__) {\n\t\t\t\tconst {min, value = min, max, step} = this.props;\n\t\t\t\tconst props = {min, value: value || min, max, step};\n\n\t\t\t\tvalidateRange(props);\n\t\t\t\tvalidateStepValue(props);\n\t\t\t\tvalidateStepMax(props);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\tdragConfig={this.dragConfig}\n\t\t\t\t\tonDown={this.handleDown}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PositionDecorator;\nexport {\n\tPositionDecorator\n};\n","/**\n * Unstyled slider components and behaviors to be customized by a theme or application.\n *\n * @module ui/Slider\n * @exports Knob\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Changeable from '../Changeable';\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport Knob from './Knob';\nimport PositionDecorator from './PositionDecorator';\n\nimport componentCss from './Slider.module.less';\n\nimport {calcProportion} from './utils';\n\n/**\n * An unstyled, sliding range-selection component.\n *\n * @class SliderBase\n * @memberof ui/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'ui:Slider',\n\n\tpropTypes: /** @lends ui/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * The component used to render the progress bar within the slider.\n\t\t *\n\t\t * The provided component will receive the following props from `Slider`\n\t\t *\n\t\t * * backgroundProgress - The value of `backgroundProgress`\n\t\t * * orientation        - The value of `orientation`\n\t\t * * progress           - The `value` as a proportion between `min` and `max`\n\t\t * * progressAnchor     - The value of `progressAnchor`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyProgress`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyProgress customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tprogressBarComponent: EnactPropTypes.componentOverride.isRequired,\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider`     - The root component class\n\t\t * * `knob`       - The knob node\n\t\t * * `horizontal` - Applied when `orientation` prop is `\"horizontal\"``\n\t\t * * `pressed`    - Applied when `pressed` prop is `true`\n\t\t * * `noFill`     - Applied when `noFill` prop is `true`\n\t\t * * `vertical`   - Applied when `orientation` prop is `\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and does not generate events.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Defines a custom knob component for the slider.\n\t\t *\n\t\t * By default, Slider will use its own implementation, {@link ui/Slider.Knob}.\n\t\t *\n\t\t * The following props are forwarded to the knob:\n\t\t *\n\t\t * * `className`        - A `knob` class applied by the slider\n\t\t * * `disabled`         - The value of `disabled`\n\t\t * * `orientation`      - The value of `orientation`\n\t\t * * `proportion`       - The `value` as a proportion between `min` and `max`\n\t\t * * `tooltipComponent` - The value of `tooltipComponent`\n\t\t * * `value`            - The value of `value`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyKnob`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyKnob customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @default {@link ui/Slider.Knob}\n\t\t * @public\n\t\t */\n\t\tknobComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link ui/Slider.SliderBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Applies the style where the slider bar does not display filled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default \"horizontal\"\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * Applies a pressed visual effect.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Adds a tooltip to the slider using the provided component.\n\t\t *\n\t\t * The following props are forwarded to the tooltip:\n\t\t *\n\t\t * * `children`    - The `value` prop from the slider\n\t\t * * `orientation` - The value of the `orientation` prop from the slider\n\t\t * * `proportion`  - The `value` as a proportion between `min` and `max`\n\t\t *\n\t\t * This prop accepts either a Component (e.g. `MyTooltip`} which will be instantiated with\n\t\t * the above props or a component instance (e.g. `<MyTooltip customProp=\"value\" />`) which\n\t\t * will have its props merged with the above props.\n\t\t *\n\t\t * @see {@link ui/ComponentOverride}\n\t\t *\n\t\t * @type {Component|Element}\n\t\t * @public\n\t\t */\n\t\ttooltipComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tknobComponent: Knob,\n\t\tmin: 0,\n\t\tmax: 100,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noFill, orientation, pressed, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tnoFill,\n\t\t\t\t\tpressed\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tpercent: ({max, min, value = min}) => calcProportion(min, max, value),\n\t\tstyle: ({max, min, style, value = min}) => {\n\t\t\tconst proportion = calcProportion(min, max, value);\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-slider-proportion-end-knob': proportion\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdisabled,\n\t\tknobComponent,\n\t\tmin,\n\t\torientation,\n\t\tpercent,\n\t\tprogressBarComponent,\n\t\tprogressAnchor,\n\t\ttooltipComponent,\n\t\tvalue = min,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.max;\n\t\tdelete rest.noFill;\n\t\tdelete rest.pressed;\n\t\tdelete rest.step;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcomponent={progressBarComponent}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tprogress={percent}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t>\n\t\t\t\t\t<ComponentOverride\n\t\t\t\t\t\tclassName={css.knob}\n\t\t\t\t\t\tcomponent={knobComponent}\n\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tproportion={percent}\n\t\t\t\t\t\ttooltipComponent={tooltipComponent}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t</ComponentOverride>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds touch and drag support to a [SliderBase]{@link ui/Slider.SliderBase}.\n *\n * @hoc\n * @memberof ui/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst SliderDecorator = compose(\n\tChangeable,\n\tPositionDecorator,\n\tTouchable({activeProp: 'pressed'})\n);\n\n/**\n * A minimally-styled slider component with touch and drag support.\n *\n * @class Slider\n * @extends ui/Slider.SliderBase\n * @memberof ui/Slider\n * @mixes ui/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Called when the value is changed.\n *\n * @name onChange\n * @memberof ui/Slider.Slider.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.value      Value of the slider\n * @param {Number} event.proportion Proportion of the value in terms of the min and max\n *                                  values\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tKnob,\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","let GlobalId = 0;\nconst ID_KEY = '$$ID$$';\n\nclass Provider {\n\tconstructor (prefix) {\n\t\tthis.prefix = prefix;\n\t\tthis.ids = {};\n\t}\n\n\tunload () {\n\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\tfor (const key in this.ids) {\n\t\t\tconst {id, onUnmount} = this.ids[key];\n\n\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\tonUnmount(id);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerate = (key = ID_KEY, idPrefix = this.prefix, onUnmount) => {\n\t\t// if an id has been generated for the key, return it\n\t\tif (key in this.ids) {\n\t\t\treturn this.ids[key].id;\n\t\t}\n\n\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\tid,\n\t\t\tonUnmount\n\t\t};\n\n\t\treturn id;\n\t};\n}\n\nexport default Provider;\nexport {\n\tProvider\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport Provider from './Provider';\n\n/**\n * Configuration for `useIdProvider`\n *\n * @typedef {Object} useIdProviderConfig\n * @memberof ui/IdProvider\n * @property {String} [prefix] Optional prefix for the identifier.\n * @private\n */\n\n/**\n * Object returned by `useIdProvider`\n *\n * @typedef {Object} useIdProviderInterface\n * @memberof ui/IdProvider\n * @property {Function} [generateId] The function to generate id.\n * @private\n */\n\n/**\n * Generate globally-unique identifiers\n *\n * @param {useIdProviderConfig} config Configuration options\n * @returns {useIdProviderInterface}\n * @private\n */\nconst useIdProvider = ({prefix}) => {\n\tconst provider = useClass(Provider, prefix);\n\n\tReact.useEffect(() => {\n\t\treturn () => provider.unload();\n\t}, [provider]);\n\n\treturn {\n\t\tgenerateId: provider.generate\n\t};\n};\n\nexport default useIdProvider;\nexport {\n\tuseIdProvider\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useId from './useId';\n\n/**\n * Default config for {@link ui/IdProvider.IdProvider}\n *\n * @hocconfig\n * @memberof ui/IdProvider.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof ui/IdProvider.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof ui/IdProvider\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction IdProvider (props) {\n\t\tconst updated = {...props};\n\t\tconst {generateId} = useId({prefix});\n\n\t\tif (generateProp) {\n\t\t\tupdated[generateProp] = generateId;\n\t\t}\n\n\t\tif (idProp && !updated[idProp]) {\n\t\t\tupdated[idProp] = generateId();\n\t\t}\n\n\t\treturn (\n\t\t\t<Wrapped {...updated} />\n\t\t);\n\t}\n\n\treturn IdProvider;\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider,\n\tuseId\n};\n","import {forKey} from '@enact/core/handle';\n\n/**\n * Array of cancel handlers. If any of these returns `false`, `forCancel` will return `false`;\n *\n * @type {Function[]}\n * @private\n */\nconst cancelHandlers = [\n\t// always support the Escape key\n\tforKey('cancel')\n];\n\n/**\n * Event handler compatible with {@link core/handle} that allows the handler chain to\n * continue for any cancel event. A cancel event is an Escape key press by default but can be\n * extended adding additional handlers using\n * {@link ui/Cancelable/cancelHandler.addCancelHandler}.\n *\n * @function\n * @memberof ui/Cancelable\n * @param  {Object} ev Event object\n * @returns {Boolean} `true` to stop the handler chain\n * @private\n */\nconst forCancel = function (ev) {\n\tlet ok = false;\n\tcancelHandlers.forEach(fn => {\n\t\t// if any handler returns true, we don't need to call any more\n\t\tok = ok || fn(ev);\n\t});\n\n\treturn ok;\n};\n\n/**\n * Adds an event handler to filter cancel events.\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler\tFunction that will receive the event and should return `true` if\n *\t\t\t\t\t\t\t\tthe event is a cancel event.\n * @returns {undefined}\n * @public\n */\nconst addCancelHandler = function (handler) {\n\tif (cancelHandlers.indexOf(handler) < 0) {\n\t\tcancelHandlers.push(handler);\n\t}\n};\n\n/**\n * Removes an event handler to filter cancel events\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler A previously added filter function\n * @returns {undefined}\n * @public\n */\nconst removeCancelHandler = function (handler) {\n\tconst index = cancelHandlers.indexOf(handler);\n\tif (index >= 0) {\n\t\tcancelHandlers.splice(index, 1);\n\t}\n};\n\nexport {\n\taddCancelHandler,\n\tforCancel,\n\tremoveCancelHandler\n};\n","import {on, off} from '@enact/core/dispatcher';\n\n// Contains references to modal Cancelable instances in LIFO order to allow multiple modals to be\n// displayed with the last having the first priority to handle the cancel.\nconst modals = [];\n\n/**\n * Dispatches the cancel event to each modal `Cancelable` instance. Consistent with\n * {@link core/handle.handle}, returning a `true` value means the event was handled and anything\n * falsy allows the event to pass to the next handler.\n *\n * @param\t{Object}\tev\tEvent payload\n *\n * @returns\t{undefined}\n * @private\n */\nconst dispatchToModals = (ev) => {\n\tfor (let i = modals.length - 1, handled = false; !handled && i >= 0; i--) {\n\t\thandled = modals[i].handleCancel(ev);\n\t}\n};\n\n/**\n * Adds a modal `Cancelable` instance to the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst addModal = (obj) => {\n\tif (modals.push(obj) === 1 && typeof window !== 'undefined') {\n\t\ton('keyup', dispatchToModals, window);\n\t}\n};\n\n/**\n * Removes a modal `Cancelable` instance from the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst removeModal = (obj) => {\n\tconst index = modals.indexOf(obj);\n\tif (index >= 0) {\n\t\tmodals.splice(index, 1);\n\t}\n\n\tif (modals.length === 0 && typeof window !== 'undefined') {\n\t\toff('keyup', dispatchToModals, window);\n\t}\n};\n\nexport {addModal, removeModal};\n","/**\n * Provides components and methods to add support for handling cancel actions.\n *\n * @module ui/Cancelable\n * @exports addCancelHandler\n * @exports Cancelable\n * @exports removeCancelHandle\n */\n\nimport {forward, handle, stop, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {add} from '@enact/core/keymap';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {forCancel, addCancelHandler, removeCancelHandler} from './cancelHandler';\nimport {addModal, removeModal} from './modalHandler';\n\n/**\n * Default config for {@link ui/Cancelable.Cancelable}\n *\n * @memberof ui/Cancelable.Cancelable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Called when a cancel action is invoked by the user.\n\t *\n\t * If it is a string, the cancel handler will attempt to invoke a function passed as a prop of\n\t * that name. If it is a function, that function will be called with the current props as the\n\t * only argument.\n\t *\n\t * If the function handles the cancel action, it should call `stopPropagation()` on the provided\n\t * event object prevent container or `modal` Cancelable instances from also handling the action.\n\t *\n\t * @type {String|Function}\n\t * @required\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tonCancel: null,\n\n\t/**\n\t * Subscribes to cancel events globally for this instance.\n\t *\n\t * When `true`, the `Cancelable` instance will handle cancel events globally that successfully\n\t * bubble up to `window` regardless of which component is focused.\n\t *\n\t * `modal` cancel handlers are processed in reverse of the order they are created such that the\n\t * innermost instance (in terms of the component hierarchy) have the first opportunity to handle\n\t * the event before its container components.\n\t *\n\t * @type {String}\n\t * @default false\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tmodal: false,\n\n\t/**\n\t * The component that will contain the wrapped component.\n\t *\n\t * When set, the wrapped component will be contained within an instance of `component`. This may\n\t * be necessary if the props passed to the wrapped component are not placed on the root element.\n\t *\n\t * @type {Component}\n\t * @default null\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tcomponent: null\n};\n\n// Add keymap for escape key\nadd('cancel', 27);\n\n/**\n * A higher-order component that adds support to a component to handle cancel actions.\n *\n * The cancel event may be handled either by a design-time config function or a run-time prop\n * function. If the component handles the event and wants to prevent upstream components from also\n * handling the event, the callback should invoke `stopPropagation()` on the event object.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Usage of config function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const MyComponent = ({myProp, ...rest}) => (\n *    <div {...rest}>{myProp}</div>\n *  );\n * ...\n * const CancelableComponent = Cancelable(\n *   {cancel: function (ev, props) {\n *     // Can inspect either the `onCancel` event, `ev`, and/or the `props` to determine how\n *     // to handle the event (e.g. invoking an event handler from `props`).\n *\n *     // Stop upstream instances of Cancelable from handling the event\n *     ev.stopPropagaion();\n *   }},\n *   MyComponent\n * );\n * ```\n *\n * Usage of prop function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const CancelableComponent = Cancelable(\n *   // When a cancel action is received and a handler function exists for the prop\n *   // `onCancel`, it will be invoked and passed the `onCancel` event object.\n *   {cancel: 'onCancel'},\n *   MyComponent\n * );\n * ```\n *\n * @class Cancelable\n * @memberof ui/Cancelable\n * @hoc\n * @public\n */\nconst Cancelable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tonCancel,\n\t\tmodal,\n\t\tcomponent: Component\n\t} = config;\n\n\tinvariant(onCancel, 'onCancel must be specified with Cancelable');\n\n\tconst onCancelIsString = typeof onCancel === 'string';\n\tconst onCancelIsFunction = typeof onCancel === 'function';\n\tconst dispatchCancelToConfig = function (ev, props) {\n\t\t// by default, we return false which allows event propagation because it will \"break\" the\n\t\t// handler chain and not call `stop` and `stopImmediate` below\n\t\tlet stopped = false;\n\n\t\tconst cancelEvent = {\n\t\t\ttype: 'onCancel',\n\t\t\tstopPropagation: () => {\n\t\t\t\tstopped = true;\n\t\t\t}\n\t\t};\n\n\t\tif (onCancelIsString && typeof props[onCancel] === 'function') {\n\t\t\t// use the custom event name from the config\n\t\t\tcancelEvent.type = onCancel;\n\t\t\tprops[onCancel](cancelEvent);\n\t\t} else if (onCancelIsFunction) {\n\t\t\tonCancel(cancelEvent, props);\n\t\t}\n\n\t\treturn stopped;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Cancelable';\n\n\t\tstatic propTypes = /** @lends ui/Cancelable.Cancelable.prototype */ {\n\t\t\t/**\n\t\t\t * Called when a cancel action is received.\n\t\t\t *\n\t\t\t * This callback is invoked for every cancel action before the config or prop handler is\n\t\t\t * invoked.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonCancel: PropTypes.func\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isFirstRender = true;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (modal) {\n\t\t\t\tremoveModal(this);\n\t\t\t}\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleCancel = this.handle(\n\t\t\tforCancel,\n\t\t\tforward('onCancel'),\n\t\t\tdispatchCancelToConfig,\n\t\t\tstop,\n\t\t\tstopImmediate\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforward('onKeyUp'),\n\t\t\t// nesting handlers for DRYness. note that if any conditions return false in\n\t\t\t// this.handleCancel(), this handler chain will stop too\n\t\t\tthis.handleCancel\n\t\t);\n\n\t\trenderWrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Component onKeyUp={this.handleKeyUp}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</Component>\n\t\t\t);\n\t\t}\n\n\t\trenderUnwrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} onKeyUp={this.handleKeyUp} />\n\t\t\t);\n\t\t}\n\n\t\trenderModal (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.onCancel;\n\t\t\tdelete props[onCancel];\n\n\t\t\tif (this.isFirstRender && modal) {\n\t\t\t\taddModal(this);\n\t\t\t\tthis.isFirstRender = false;\n\t\t\t}\n\n\t\t\treturn\tmodal && this.renderModal(props) ||\n\t\t\t\t\tComponent && this.renderWrapped(props) ||\n\t\t\t\t\tthis.renderUnwrapped(props);\n\t\t}\n\t};\n});\n\nexport default Cancelable;\nexport {\n\taddCancelHandler,\n\tCancelable,\n\tremoveCancelHandler\n};\n","/**\n * An unstyled icon component that handles interaction and toggles state between activated\n * and deactivated.\n *\n * Visually, it may be to be customized by a theme or application to represent any\n * state.\n *\n * @module ui/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Toggleable from '../Toggleable';\nimport Touchable from '../Touchable';\n\nimport componentCss from './ToggleIcon.module.less';\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIconBase\n * @memberof ui/ToggleIcon\n * @ui\n * @public\n */\nconst ToggleIconBase = kind({\n\tname: 'ui:ToggleIcon',\n\n\tpropTypes: /** @lends ui/ToggleIcon.ToggleIconBase.prototype */ {\n\t\t/**\n\t\t * The icon to use for this component.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `toggleIcon` - The root class name\n\t\t * * `icon` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables `ToggleIcon`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t* CSS classes to be used on the Icon component\n\t\t*\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\ticonClasses: PropTypes.string,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Sets whether this control is in the 'on' or 'off' state. `true` for 'on', `false` for 'off'.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\ticonComponent: 'div',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'toggleIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ticonClassName: ({iconClasses, css}) => iconClasses ? `${css.icon} ${iconClasses}` : css.icon\n\t},\n\n\trender: ({children, iconComponent: IconComponent, iconClassName, ...rest}) => {\n\t\tdelete rest.selected;\n\t\tdelete rest.iconClasses;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<IconComponent className={iconClassName}>{children}</IconComponent>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Adds support for the `onToggle` prop callback to be fired when the `onTap` (touch-safe `onClick`)\n * event executes.\n *\n * @class ToggleIconDecorator\n * @memberof ui/ToggleIcon\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @ui\n * @public\n */\nconst ToggleIconDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable\n);\n\n/**\n * Represents a Boolean state, and can accept any icon to toggle.\n *\n * @class ToggleIcon\n * @memberof ui/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIconBase\n * @mixes ui/ToggleIcon.ToggleIconDecorator\n * @ui\n * @public\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\n/**\n * The handler to run when the component is toggled.\n *\n * @name onToggle\n * @memberof ui/ToggleIcon.ToggleIcon.prototype\n * @type {Function}\n * @param {Object} event\n * @param {String} event.selected - Selected value of item.\n * @public\n */\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Agate styled toggle icon.\n *\n * @example\n * <ToggleIcon selected>check</ToggleIcon>\n *\n * @module agate/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n * @private\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Pure from '@enact/ui/internal/Pure';\nimport UiToggleIcon from '@enact/ui/ToggleIcon';\n\nimport Icon from '../../Icon/Icon';\nimport Skinnable from '../../Skinnable/Skinnable';\n\n/**\n * A component that indicates a boolean state.\n *\n * @class ToggleIconBase\n * @memberof agate/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst ToggleIconBase = kind({\n\tname: 'ToggleIcon',\n\n\trender: (props) => {\n\t\treturn (\n\t\t\t<UiToggleIcon {...props} iconComponent={Icon} />\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific behaviors to apply to `ToggleIconBase`.\n *\n * @hoc\n * @memberof agate/ToggleIcon\n * @mixes agate/Skinnable.Skinnable\n * @private\n */\nconst ToggleIconDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A customizable Agate starting point [Icon]{@link agate/Icon.Icon} that responds to the\n * `selected` prop.\n *\n * @class ToggleIcon\n * @memberof agate/ToggleIcon\n * @extends agate/ToggleIcon.ToggleIconBase\n * @mixes agate/ToggleIcon.ToggleIconDecorator\n * @private\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","/**\n * Modal component that appears at the bottom of the screen and takes up the full screen width.\n *\n * @example\n * <Popup open>Hello!</Popup>\n *\n * @module agate/Popup\n * @exports Popup\n * @exports PopupBase\n * @exports PopupDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Heading from '../Heading';\nimport Skinnable from '../Skinnable';\n\nimport PopupState from './PopupState';\n\nimport componentCss from './Popup.module.less';\n\n\nconst TransitionContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tTransition\n);\n\n/**\n * The base popup component.\n *\n * @class PopupBase\n * @memberof agate/Popup\n * @ui\n * @public\n */\nconst PopupBase = kind({\n\tname: 'Popup',\n\tpropTypes: /** @lends agate/Popup.PopupBase.prototype */ {\n\t\tbuttons: PropTypes.oneOfType([\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf(PropTypes.element)\n\t\t]),\n\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\tcloseButton: PropTypes.bool,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the position of the popup on the screen.\n\t\t *\n\t\t * @type {('center'|'top')}\n\t\t * @default 'center'\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.oneOf(['center', 'top']),\n\n\t\tskin: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcloseButton: false,\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\tposition: 'center'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popup'\n\t},\n\tcomputed: {\n\t\tclassName: ({centered, closeButton, position, styler, title}) => styler.append({top: position === 'top', withCloseButton: closeButton, withTitle: title, centered}),\n\t\ttransitionType : ({position}) => position === 'center' ? 'fade' : 'slide',\n\t\tdirection : ({position}) => position === 'center' ? 'down' : 'up'\n\t},\n\trender: ({buttons, children, closeButton, css, direction, noAnimation, onClose, onHide, open, skin, title, transitionType, ...rest}) => {\n\t\tconst wideLayout = (skin === 'carbon');\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<TransitionContainer\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection={direction}\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype={transitionType}\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{closeButton ? <Button\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onClose}\n\t\t\t\t\t\tclassName={componentCss.closeButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/> : null}\n\t\t\t\t\t{title ? <Heading className={css.title}>{title}</Heading> : null}\n\t\t\t\t\t<Layout orientation={wideLayout ? 'horizontal' : 'vertical'} className={css.body}>\n\t\t\t\t\t\t<Cell shrink={!wideLayout} className={css.content}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t{buttons ? <Cell shrink className={css.buttons}>\n\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t</Cell> : null}\n\t\t\t\t\t</Layout>\n\t\t\t\t</div>\n\t\t\t</TransitionContainer>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupBase]{@link agate/Popup.PopupBase}.\n *\n * @hoc\n * @memberof agate/Popup\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupDecorator = compose(\n\tSlottable({slots: ['closeButton', 'title', 'buttons']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup in a\n * [FloatingLayer]{@link ui/FloatingLayer.FloatingLayer}.\n *\n * @class Popup\n * @memberof agate/Popup\n * @extends agate/Popup.PopupBase\n * @mixes agate/Popup.PopupDecorator\n * @ui\n * @public\n */\nconst Popup = PopupDecorator(PopupBase);\n\nexport default Popup;\nexport {\n\tPopup,\n\tPopupBase,\n\tPopupDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderButton\":\"SliderButton_sliderButton__3xNfC\",\"pressed\":\"SliderButton_pressed__-FjNz\",\"knob\":\"SliderButton_knob__3wOZP\",\"track\":\"SliderButton_track__3DhDU\",\"client\":\"SliderButton_client__1NOMC\"};","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './DateTime.module.less';\n\n/**\n * {@link agate/internal/DateTime.DateTime} provides the surrounding\n * markup and styling for a {@link agate/DatePicker} and\n * {@link agate/TimePicker}.\n *\n * @class DateTime\n * @memberof agate/internal/DateTime\n * @ui\n * @private\n */\nconst DateTimeBase = kind({\n\tname: 'DateTime',\n\n\tpropTypes:  /** @lends agate/internal/DateTime.DateTime.prototype */ {\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dateTime',\n\t\tpublicClassNames: ['dateTime', 'pickers']\n\t},\n\n\trender: ({children, css, ...rest}) => (\n\t\t<div {...rest}>\n\t\t\t<div className={css.pickers}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t)\n});\n\nexport default DateTimeBase;\nexport {\n\tDateTimeBase,\n\tDateTimeBase as DateTime\n};\n","/**\n * Exports the {@link agate/internal/DateTimeDecorator.DateTimeDecorator} higher-order component\n *\n * @module agate/internal/DateTimeDecorator\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {memoize} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/*\n * Converts a JavaScript Date to unix time\n *\n * @param\t{Date}\tdate\tA Date to convert\n *\n * @returns\t{undefined}\n */\nconst toTime = (date) => {\n\treturn date && date.getTime();\n};\n\n/**\n * {@link agate/internal/DateTimeDecorator.DateTimeDecorator} provides common behavior for\n * {@link agate/DatePicker.DatePicker} and {@link agate/TimePicker.TimePicker}.\n *\n * @class DateTimeDecorator\n * @memberof agate/internal/DateTimeDecorator\n * @mixes ui/Changeable.Changeable\n * @hoc\n * @private\n */\nconst DateTimeDecorator = hoc((config, Wrapped) => {\n\tconst {customProps, defaultOrder, handlers, i18n} = config;\n\n\tconst memoizedI18nConfig = memoize((/* locale */) => {\n\t\t// Guard for isomorphic builds\n\t\tif (typeof window !== 'undefined' && i18n) {\n\t\t\treturn i18n();\n\t\t}\n\t\treturn null;\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'DateTimeDecorator';\n\n\t\tstatic propTypes = /** @lends agate/internal/DateTimeDecorator.DateTimeDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The current locale as a\n\t\t\t * {@link https://tools.ietf.org/html/rfc5646|BCP 47 language tag}.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tlocale: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Handler for `onChange` events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonChange: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The selected date\n\t\t\t *\n\t\t\t * @type {Date}\n\t\t\t * @public\n\t\t\t */\n\t\t\tvalue: PropTypes.instanceOf(Date)\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tinitialValue: null,\n\t\t\t\tvalue: null\n\t\t\t};\n\n\t\t\tconst newValue = toTime(this.props.value);\n\t\t\tconst value = newValue || Date.now();\n\n\t\t\t// if no value was provided, we need to emit the onChange event for the generated value\n\t\t\tif (!newValue) {\n\t\t\t\tthis.emitChange(this.toIDate(value));\n\t\t\t}\n\n\t\t\tthis.handlers = {};\n\t\t\tif (handlers) {\n\t\t\t\tObject.keys(handlers).forEach(name => {\n\t\t\t\t\tthis.handlers[name] = this.handlePickerChange.bind(this, handlers[name]);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tlet value = toTime(props.value);\n\n\t\t\tif (!props.disabled && state.initialValue == null && state.value == null) {\n\t\t\t\treturn {\n\t\t\t\t\tinitialValue: value,\n\t\t\t\t\tvalue: value || Date.now()\n\t\t\t\t};\n\t\t\t} else if (state.value !== value) {\n\t\t\t\t// always respect a value change from props\n\t\t\t\treturn {\n\t\t\t\t\tvalue\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn null;\n\t\t}\n\n\t\t/**\n\t\t * Converts a Date to an IDate\n\t\t *\n\t\t * @param\t{Date}\ttime\tDate object\n\t\t *\n\t\t * @returns\t{IDate}\t\t\tilib Date object\n\t\t */\n\t\ttoIDate (time) {\n\t\t\tif (time && this.props.locale) {\n\t\t\t\treturn DateFactory({\n\t\t\t\t\tunixtime: time,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the internal value in state\n\t\t *\n\t\t * @param\t{IDate}\t\tvalue\tilib Date object\n\t\t *\n\t\t * @returns {Number}\t\t\tUpdated internal value\n\t\t */\n\t\tupdateValue = (value) => {\n\t\t\tconst {day, month, year} = value;\n\t\t\tconst maxDays = value.cal.getMonLength(month, year);\n\t\t\tvalue.day = (day <= maxDays) ? day : maxDays;\n\n\t\t\tconst date = DateFactory(value);\n\t\t\tconst newValue = date.getTimeExtended();\n\t\t\tconst changed =\tthis.props.value == null || this.props.value !== newValue;\n\n\t\t\tthis.setState({\n\t\t\t\tvalue: newValue\n\t\t\t});\n\n\t\t\tif (changed) {\n\t\t\t\tthis.emitChange(date);\n\t\t\t}\n\n\t\t\treturn newValue;\n\t\t};\n\n\t\temitChange = (date) => {\n\t\t\tforward('onChange', {value: date ? date.getJSDate() : null}, this.props);\n\t\t};\n\n\t\thandlePickerChange = (handler, ev) => {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\thandler(ev, value, memoizedI18nConfig(this.props.locale));\n\t\t\tthis.updateValue(value);\n\t\t};\n\n\t\thandleCancel = () => {\n\t\t\tconst {initialValue, value} = this.state;\n\n\t\t\t// if we're cancelling, reset our state and emit an onChange with the initial value\n\t\t\tthis.setState({\n\t\t\t\tvalue: null,\n\t\t\t\tinitialValue: null,\n\t\t\t\tpickerValue: value\n\t\t\t});\n\n\t\t\tif (initialValue !== value) {\n\t\t\t\tthis.emitChange(this.toIDate(initialValue));\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst value = this.toIDate(this.state.value);\n\t\t\t// pickerValue is only set when cancelling to prevent the unexpected changing of the\n\t\t\t// picker values before closing.\n\t\t\tconst pickerValue = this.state.pickerValue ? this.toIDate(this.state.pickerValue) : value;\n\n\t\t\tlet props = null;\n\t\t\tlet order = defaultOrder;\n\n\t\t\tconst i18nConfig = memoizedI18nConfig(this.props.locale);\n\t\t\tif (i18nConfig) {\n\t\t\t\tprops = customProps(i18nConfig, pickerValue, this.props);\n\t\t\t\torder = i18nConfig.order;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...this.props}\n\t\t\t\t\t{...props}\n\t\t\t\t\t{...this.handlers}\n\t\t\t\t\torder={order}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl', localeProp: 'locale'},\n\t\tChangeable(\n\t\t\tDecorator\n\t\t)\n\t);\n});\n\nexport default DateTimeDecorator;\nexport {DateTimeDecorator};\n","/**\n * Exports the {@link agate/internal/DateTime.DateTime},\n * {@link agate/internal/DateTime.DateTimeBase}\n * {@link agate/internal/DateTime.DatetimeDecorator}\n * components.\n *\n * @module agate/internal/DateTime\n * @private\n */\n\nimport DateTime, {DateTimeBase} from './DateTime';\nimport {DateTimeDecorator} from './DateTimeDecorator';\n\nexport default DateTime;\nexport {\n\tDateTime,\n\tDateTimeBase,\n\tDateTimeDecorator\n};\n","import kind from '@enact/core/kind';\nimport {mapAndFilterChildren} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Picker from '../Picker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentPickerBase} allows the selection of one\n * part of the date or time using a {@link agate/internal/Picker.Picker}.\n *\n * @class DateComponentPickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentPickerBase = kind({\n\tname: 'DateComponentPicker',\n\n\tpropTypes: /** @lends agate/internal/DateComponentPicker.DateComponentPickerBase.prototype */ {\n\t\t/**\n\t\t * Display values representing the `value` to select\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.arrayOf(PropTypes.string).isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => mapAndFilterChildren(children, (child) => (\n\t\t\t<div>{child}</div>\n\t\t)),\n\t\tmax: ({children}) => React.Children.count(children) - 1\n\t},\n\n\trender: ({children, max, value, ...rest}) => (\n\t\t<Picker\n\t\t\t{...rest}\n\t\t\tindex={value}\n\t\t\tmax={max}\n\t\t\tmin={0}\n\t\t\torientation=\"vertical\"\n\t\t\tstep={1}\n\t\t\tvalue={value}\n\t\t>\n\t\t\t{children}\n\t\t</Picker>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPickerBase.DateComponentPicker} allows the selection of one part of\n * the date (date, month, or year). It is a stateful component but allows updates by providing a new\n * `value` via props.\n *\n * @class DateComponentPicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentPicker = Changeable(\n\tDateComponentPickerBase\n);\n\nexport default DateComponentPicker;\nexport {\n\tDateComponentPicker,\n\tDateComponentPickerBase\n};\n","import kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport RangePicker from '../../RangePicker';\n\nimport css from './DateComponentPicker.module.less';\n\n/**\n * {@link agate/internal/DataComponentPicker.DateComponentRangePicker} allows the selection of\n * one part of the date or time using a {@link agate/RangePicker.RangePicker}.\n *\n * @class DateComponentRangePickerBase\n * @memberof agate/internal/DateComponentPicker\n * @ui\n * @private\n */\nconst DateComponentRangePickerBase = kind({\n\tname: 'DateComponentRangePicker',\n\n\tpropTypes:  /** @lends agate/internal/DateComponentPicker.DateComponentRangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value for the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The value of the date component\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The label to display below the picker\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tlabel: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateComponentPicker'\n\t},\n\n\trender: ({max, min, value, ...rest}) => (\n\t\t<RangePicker\n\t\t\t{...rest}\n\t\t\tmax={max}\n\t\t\tmin={min}\n\t\t\torientation=\"vertical\"\n\t\t\tvalue={value}\n\t\t/>\n\t)\n});\n\n/**\n * {@link agate/internal/DateComponentPicker.DateComponentRangePicker} allows the selection of one\n * part of the date (date, month, or year). It is a stateful component but allows updates by\n * providing a new `value` via props.\n *\n * @class DateComponentRangePicker\n * @memberof agate/internal/DateComponentPicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @private\n */\nconst DateComponentRangePicker = Changeable(\n\tDateComponentRangePickerBase\n);\n\nexport default DateComponentRangePicker;\nexport {\n\tDateComponentRangePicker,\n\tDateComponentRangePickerBase\n};\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './DatePicker.module.less';\n\n/**\n * A date selection component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [DatePicker]{@link agate/DatePicker.DatePicker}.\n *\n * @class DatePickerBase\n * @memberof agate/DatePicker\n * @ui\n * @public\n */\nconst DatePickerBase = kind({\n\tname: 'DatePickerBase',\n\n\tpropTypes:  /** @lends agate/DatePicker.DatePickerBase.prototype */ {\n\t\t/**\n\t\t * The `day` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxDays`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tday: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of days in the month.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxDays: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The number of months in the year.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmaxMonths: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `month` component of the Date.\n\t\t *\n\t\t * The value should be a number between 1 and `maxMonths`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmonth: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * The value should be an array of 3 strings containing one of `'m'`, `'d'`, and `'y'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['m', 'd', 'y'])).isRequired,\n\n\t\t/**\n\t\t * The `year` component of the Date.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tyear: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The \"aria-label\" for the day picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the day picker will be\n\t\t * a combination of the current value and 'day change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdayAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the `DatePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The maximum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 2099\n\t\t * @public\n\t\t */\n\t\tmaxYear: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum selectable `year` value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1900\n\t\t * @public\n\t\t */\n\t\tminYear: PropTypes.number,\n\n\t\t/**\n\t\t * The \"aria-label\" for the month picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the month picker will be\n\t\t * a combination of the current value and 'month change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmonthAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called when the `date` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeDate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `month` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMonth: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the `year` component of the Date changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeYear: PropTypes.func,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the year picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the year picker will be\n\t\t * a combination of the current value and 'year change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tyearAriaLabel: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tmaxYear: 2099,\n\t\tminYear: 1900,\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'datePicker'\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\tday,\n\t\tdayAriaLabel,\n\t\tmaxDays,\n\t\tmaxMonths,\n\t\tmaxYear,\n\t\tminYear,\n\t\tmonth,\n\t\tmonthAriaLabel,\n\t\tonChangeDate,\n\t\tonChangeMonth,\n\t\tonChangeYear,\n\t\torder,\n\t\tyear,\n\t\tyearAriaLabel,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={dayAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.day}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"day-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxDays}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeDate}\n\t\t\t\t\t\t\t\t\tvalue={day}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={monthAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.month}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"month-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxMonths}\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMonth}\n\t\t\t\t\t\t\t\t\tvalue={month}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={yearAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.year}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"year-picker\"\n\t\t\t\t\t\t\t\t\tmax={maxYear}\n\t\t\t\t\t\t\t\t\tmin={minYear}\n\t\t\t\t\t\t\t\t\tonChange={onChangeYear}\n\t\t\t\t\t\t\t\t\tvalue={year}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default DatePickerBase;\nexport {\n\tDatePickerBase\n};\n","/**\n * Date selection components and behaviors.\n *\n * @example\n * <DatePicker onChange={console.log} />\n *\n * @module agate/DatePicker\n * @exports DatePicker\n * @exports DatePickerBase\n * @exports dateToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport DatePickerBase from './DatePickerBase';\n\nconst getLabelFormatter = () => new DateFmt({\n\tdate: 'dmwy',\n\tlength: 'full',\n\ttimezone: 'local',\n\tuseNative: false\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value, props) {\n\t\tconst values = {\n\t\t\tmaxMonths: 12,\n\t\t\tmaxDays: 31,\n\t\t\tyear: 1900,\n\t\t\tmonth: 1,\n\t\t\tday: 1\n\t\t};\n\n\t\tif (value && i18n) {\n\t\t\tvalues.year = value.getYears();\n\t\t\tvalues.month = value.getMonths();\n\t\t\tvalues.day = value.getDays();\n\t\t\tvalues.maxMonths = i18n.formatter.cal.getNumMonths(values.year);\n\t\t\tvalues.maxDays = i18n.formatter.cal.getMonLength(values.month, values.year);\n\t\t\tvalues.maxYear = i18n.toLocalYear(props.maxYear || DatePickerBase.defaultProps.maxYear);\n\t\t\tvalues.minYear = i18n.toLocalYear(props.minYear || DatePickerBase.defaultProps.minYear);\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['d', 'm', 'y'],\n\thandlers: {\n\t\tonChangeDate: (ev, value) => {\n\t\t\tvalue.day = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMonth: (ev, value) => {\n\t\t\tvalue.month = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeYear: (ev, value) => {\n\t\t\tvalue.year = ev.value;\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(/([mdy]+)/ig)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\t/*\n\t\t * Converts a gregorian year to local year\n\t\t *\n\t\t * @param\t{Number}\tyear\tgregorian year\n\t\t *\n\t\t * @returns\t{Number}\t\tlocal year\n\t\t */\n\t\tconst toLocalYear = (year) => {\n\t\t\treturn DateFactory({\n\t\t\t\tjulianday: DateFactory({\n\t\t\t\t\tyear,\n\t\t\t\t\ttype: 'gregorian',\n\t\t\t\t\tmonth: 1,\n\t\t\t\t\tday: 1,\n\t\t\t\t\ttimezone: 'local'\n\t\t\t\t}).getJulianDay(),\n\t\t\t\ttimezone: 'local'\n\t\t\t}).getYears();\n\t\t};\n\n\t\treturn {formatter: getLabelFormatter(), order, toLocalYear};\n\t}\n};\n\n/**\n * A date selection component, ready to use in Agate applications.\n *\n * `DatePicker` may be used to select the year, month, and day. It uses a standard `Date` object for\n * its `value` which can be shared as the `value` for a\n * [TimePicker]{@link agate/TimePicker.TimePicker} to select both a date and time.\n *\n * By default, `DatePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * Usage:\n * ```\n * <DatePicker\n *  defaultValue={selectedDate}\n *  onChange={handleChange}\n * />\n * ```\n *\n * @class DatePicker\n * @memberof agate/DatePicker\n * @extends agate/DatePicker.DatePickerBase\n * @mixes ui/Changeable.Changeable\n * @omit day\n * @omit maxDays\n * @omit maxMonths\n * @omit month\n * @omit order\n * @omit year\n * @ui\n * @public\n */\nconst DatePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tDatePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The initial value used when `value` is not set.\n *\n * @name defaultValue\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * The selected date\n *\n * @name value\n * @type {Date}\n * @memberof agate/DatePicker.DatePicker.prototype\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/DatePicker\n * @param {Date} date `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst dateToLocaleString = (date) => {\n\tif (!date) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(date);\n};\n\nexport default DatePicker;\nexport {\n\tDatePicker,\n\tDatePickerBase,\n\tdateToLocaleString\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {DateComponentPicker, DateComponentRangePicker} from '../internal/DateComponentPicker';\nimport DateTime from '../internal/DateTime';\n\nimport css from './TimePicker.module.less';\n\n// values to use in hour picker for 24 and 12 hour locales\nconst hours24 = [\n\t'0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23'\n];\n\nconst hours12 = [\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11',\n\t'12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'\n];\n\n/**\n * {@link agate/TimePicker/TimePickerBase.HourPicker} is a utility component to prevent the\n * animation of the picker when the display text doesn't change for 12-hour locales.\n *\n * @class HourPicker\n * @memberof agate/TimePicker/TimePickerBase\n * @ui\n * @private\n */\nclass HourPicker extends React.Component {\n\tstatic propTypes = {\n\t\thasMeridiem: PropTypes.bool,\n\t\tvalue: PropTypes.number\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprevValue: props.value\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tif (state.prevValue !== props.value) {\n\t\t\treturn {\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\trender () {\n\t\tconst {hasMeridiem, ...rest} = this.props;\n\t\tconst hours = hasMeridiem ? hours12 : hours24;\n\n\t\treturn (\n\t\t\t<DateComponentPicker {...rest}>\n\t\t\t\t{hours}\n\t\t\t</DateComponentPicker>\n\t\t);\n\t}\n}\n\n/**\n* {@link agate/TimePicker.TimePickerBase} is the stateless functional time picker\n* component. Should not be used directly but may be composed within another component as it is\n* within {@link agate/TimePicker.TimePicker}.\n*\n* @class TimePickerBase\n* @memberof agate/TimePicker\n* @ui\n* @public\n*/\nconst TimePickerBase = kind({\n\tname: 'TimePickerBase',\n\n\tpropTypes: /** @lends agate/TimePicker.TimePickerBase.prototype */ {\n\t\t/**\n\t\t * The `hour` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\thour: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `meridiem` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiem: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The `minute` component of the time.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tminute: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The order in which the component pickers are displayed.\n\t\t *\n\t\t * Should be an array of 2 or 3 strings containing one of `'h'`, `'k'`, `'m'`, and `'a'`.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\torder: PropTypes.arrayOf(PropTypes.oneOf(['h', 'k', 'm', 'a'])).isRequired,\n\n\t\t/**\n\t\t * Disables the `TimePicker`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The \"aria-label\" for the hour picker\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the hour picker will be\n\t\t * a combination of the current value and 'hour change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\thourAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The \"aria-label\" for the meridiem picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the meridiem picker will be\n\t\t * a combination of the current value and 'change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tmeridiemAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Array of meridiem labels to display.\n\t\t *\n\t\t * @type {String[]}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmeridiems: PropTypes.arrayOf(PropTypes.string),\n\n\t\t/**\n\t\t * The \"aria-label\" for the minute picker.\n\t\t *\n\t\t * If not specified, the \"aria-label\" for the minute picker will be\n\t\t * a combination of the current value and 'minute change a value with up down button'.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tminuteAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called on changes in the `hour` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeHour: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `meridiem` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMeridiem: PropTypes.func,\n\n\t\t/**\n\t\t * Called on changes in the `minute` component of the time.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChangeMinute: PropTypes.func,\n\n\t\t/**\n\t\t * Set content to RTL.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'timePicker'\n\t},\n\n\tcomputed: {\n\t\thasMeridiem: ({order}) => order.indexOf('a') >= 0,\n\t\tmeridiemPickerWidth: ({meridiem, meridiems}) => meridiems[meridiem].length * 2\n\t},\n\n\trender: ({\n\t\tdisabled,\n\t\thasMeridiem,\n\t\thour,\n\t\thourAriaLabel,\n\t\tmeridiem,\n\t\tmeridiemAriaLabel,\n\t\tmeridiemPickerWidth,\n\t\tmeridiems,\n\t\tminute,\n\t\tminuteAriaLabel,\n\t\tonChangeHour,\n\t\tonChangeMeridiem,\n\t\tonChangeMinute,\n\t\torder,\n\t\t...rest\n\t}) => {\n\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<DateTime {...rest} css={css}>\n\t\t\t\t{order.map((picker) => {\n\t\t\t\t\tswitch (picker) {\n\t\t\t\t\t\tcase 'h':\n\t\t\t\t\t\tcase 'k':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<React.Fragment key=\"hour-picker\">\n\t\t\t\t\t\t\t\t\t<HourPicker\n\t\t\t\t\t\t\t\t\t\taria-label={hourAriaLabel}\n\t\t\t\t\t\t\t\t\t\tclassName={css.hourPicker}\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\t\thasMeridiem={hasMeridiem}\n\t\t\t\t\t\t\t\t\t\tonChange={onChangeHour}\n\t\t\t\t\t\t\t\t\t\tvalue={hour}\n\t\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentRangePicker\n\t\t\t\t\t\t\t\t\taria-label={minuteAriaLabel}\n\t\t\t\t\t\t\t\t\tclassName={css.minutePicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"minute-picker\"\n\t\t\t\t\t\t\t\t\tmax={59}\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tonChange={onChangeMinute}\n\t\t\t\t\t\t\t\t\tvalue={minute}\n\t\t\t\t\t\t\t\t\twidth={4}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tcase 'a':\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<DateComponentPicker\n\t\t\t\t\t\t\t\t\taria-label={meridiemAriaLabel}\n\t\t\t\t\t\t\t\t\taria-valuetext={meridiems ? meridiems[meridiem] : null}\n\t\t\t\t\t\t\t\t\tclassName={css.meridiemPicker}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tkey=\"meridiem-picker\"\n\t\t\t\t\t\t\t\t\tonChange={onChangeMeridiem}\n\t\t\t\t\t\t\t\t\tvalue={meridiem}\n\t\t\t\t\t\t\t\t\twidth={meridiemPickerWidth}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{meridiems}\n\t\t\t\t\t\t\t\t</DateComponentPicker>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn null;\n\t\t\t\t})}\n\t\t\t</DateTime>\n\t\t);\n\t}\n});\n\nexport default TimePickerBase;\nexport {TimePickerBase};\n","/**\n * Provides an Agate-themed time selection component.\n *\n * @example\n * <TimePicker value={new Date()} />\n *\n * @module agate/TimePicker\n * @exports TimePicker\n * @exports TimePickerBase\n * @exports timeToLocaleString\n */\n\nimport Pure from '@enact/ui/internal/Pure';\nimport DateFactory from 'ilib/lib/DateFactory';\nimport DateFmt from 'ilib/lib/DateFmt';\nimport LocaleInfo from 'ilib/lib/LocaleInfo';\n\nimport {DateTimeDecorator} from '../internal/DateTime';\nimport Skinnable from '../Skinnable';\n\nimport TimePickerBase from './TimePickerBase';\n\n/*\n * Converts a string representation of time into minutes\n *\n * @param\t{String}\ttime\tTime in the format `HH:mm`\n *\n * @returns\t{Number}\t\t\tTime in minute\n * @private\n */\nconst toMinutes = (time) => {\n\tconst colon = time.indexOf(':');\n\tconst hour = parseInt(time.substring(0, colon));\n\tconst minute = parseInt(time.substring(colon + 1));\n\treturn hour * 60 + minute;\n};\n\n/*\n * Converts the `start` and `end` string representations (e.g. '12:00') into a numerical\n * representation.\n *\n * @param\t{Object}\toptions\t\t\tTime options\n * @param\t{String}\toptions.start\tStart time of meridiem\n * @param\t{String}\toptions.end\t\tEnd time of meridiem\n *\n * @returns\t{Object}\t\t\t\t\tContains start and end time in minutes\n * @private\n */\nconst calcMeridiemRange = ({start, end}) => ({\n\tstart: toMinutes(start),\n\tend: toMinutes(end)\n});\n\n/*\n * Finds the index of the meridiem which contains `time`\n *\n * @param\t{Number}\ttime\t\tTime in minutes\n * @param\t{Object[]}\tmeridiems\tArray of meridiems with `start` and `end` members in minutes\n *\n * @returns {Number}\t\t\t\tIndex of `time` in `meridiems`\n * @private\n */\nconst indexOfMeridiem = (time, meridiems) => {\n\tconst minutes = time.getHours() * 60 + time.getMinutes();\n\tfor (let i = 0; i < meridiems.length; i++) {\n\t\tconst m = meridiems[i];\n\t\tif (minutes >= m.start && minutes <= m.end) {\n\t\t\treturn i;\n\t\t}\n\t}\n\n\treturn -1;\n};\n\nconst getLabelFormatter = () => new DateFmt({\n\ttype: 'time',\n\tuseNative: false,\n\ttimezone: 'local',\n\tlength: 'full',\n\tdate: 'dmwy'\n});\n\nconst dateTimeConfig = {\n\tcustomProps: function (i18n, value) {\n\t\tlet values = {\n\t\t\t// i18n props\n\t\t\tmeridiems: i18n.meridiemLabels,\n\n\t\t\t// date components\n\t\t\thour: 12,\n\t\t\tminute: 0,\n\t\t\tmeridiem: 0\n\t\t};\n\n\t\tif (value) {\n\t\t\tif (i18n.meridiemEnabled) {\n\t\t\t\tvalues.meridiem = indexOfMeridiem(value, i18n.meridiemRanges);\n\t\t\t}\n\t\t\tvalues.hour = value.getHours();\n\t\t\tvalues.minute = value.getMinutes();\n\t\t}\n\n\t\treturn values;\n\t},\n\tdefaultOrder: ['h', 'm', 'a'],\n\thandlers: {\n\t\tonChangeHour: function (ev, value) {\n\t\t\tconst currentTime = DateFactory(value).getTimeExtended();\n\t\t\tconst currentHour = value.hour;\n\n\t\t\tvalue.hour = ev.value;\n\n\t\t\t// In the case of navigating onto the skipped hour of DST, ilib will return the same\n\t\t\t// value so we skip that hour and update the value again.\n\t\t\tconst newTime = DateFactory(value).getTimeExtended();\n\t\t\tif (newTime === currentTime) {\n\t\t\t\tvalue.hour = ev.value * 2 - currentHour;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMinute: function (ev, value) {\n\t\t\tvalue.minute = ev.value;\n\t\t\treturn value;\n\t\t},\n\n\t\tonChangeMeridiem: function (ev, value, i18n) {\n\t\t\tconst {meridiemRanges} = i18n;\n\t\t\tconst meridiem = meridiemRanges[ev.value];\n\n\t\t\tif (meridiemRanges.length === 2) {\n\t\t\t\t// In the common case of 2 meridiems, we'll offset hours by 12 so that picker stays\n\t\t\t\t// the same.\n\t\t\t\tvalue.hour = (value.getHours() + 12) % 24;\n\t\t\t} else {\n\t\t\t\t// In the rarer case of > 2 meridiems (e.g. am-ET), try to set hours only first\n\t\t\t\tconst hours = Math.floor(meridiem.start / 60);\n\t\t\t\tvalue.hour = hours;\n\n\t\t\t\t// but check if it is still out of bounds and update the minutes as well\n\t\t\t\tconst minutes = hours * 60 + value.getMinutes();\n\t\t\t\tif (minutes > meridiem.end) {\n\t\t\t\t\tvalue.minute = meridiem.end % 60;\n\t\t\t\t} else if (minutes < meridiem.start) {\n\t\t\t\t\tvalue.minute = meridiem.start % 60;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\t},\n\ti18n: function () {\n\t\t// Filters used to extract the order of pickers from the ilib template\n\t\tconst includeMeridiem = /([khma])(?!\\1)/ig;\n\t\tconst excludeMeridiem = /([khm])(?!\\1)/ig;\n\n\t\t// Meridiem localization\n\t\tconst merFormatter = new DateFmt({\n\t\t\ttemplate: 'a',\n\t\t\tuseNative: false,\n\t\t\ttimezone: 'local'\n\t\t});\n\t\tconst meridiems = merFormatter.getMeridiemsRange();\n\t\tconst meridiemRanges = meridiems.map(calcMeridiemRange);\n\t\tconst meridiemLabels = meridiems.map(obj => obj.name);\n\n\t\t// Picker ordering\n\t\tconst li = new LocaleInfo();\n\t\tconst clockPref = li.getClock();\n\t\tconst meridiemEnabled = clockPref === '12';\n\n\t\tconst filter = meridiemEnabled ? includeMeridiem : excludeMeridiem;\n\t\tconst order = getLabelFormatter().getTemplate()\n\t\t\t.replace(/'.*?'/g, '')\n\t\t\t.match(filter)\n\t\t\t.map(s => s[0].toLowerCase());\n\n\t\treturn {\n\t\t\tformatter: getLabelFormatter(),\n\t\t\tmeridiemEnabled,\n\t\t\tmeridiemLabels,\n\t\t\tmeridiemRanges,\n\t\t\torder\n\t\t};\n\t}\n};\n\n/**\n * A component that allows displaying or selecting time.\n *\n * Set the [value]{@link agate/TimePicker.TimePicker#value} property to a standard JavaScript\n * [Date] {@link /docs/developer-guide/glossary/#date} object to initialize the picker.\n *\n * By default, `TimePicker` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class TimePicker\n * @memberof agate/TimePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/TimePicker.TimePicker.prototype\n * @type {Number}\n * @public\n */\n\nconst TimePicker = Pure(\n\tSkinnable(\n\t\tDateTimeDecorator(\n\t\t\tdateTimeConfig,\n\t\t\tTimePickerBase\n\t\t)\n\t)\n);\n\n/**\n * The selected date.\n *\n * @name value\n * @memberof agate/TimePicker.TimePicker\n * @instance\n * @type {Date}\n * @public\n */\n\n/**\n * Converts a standard `Date` object into a locale-specific string.\n *\n * @function\n * @memberof agate/TimePicker\n * @param {Date} time `Date` to convert\n * @returns {String?} Converted date or `null` if `date` is invalid\n */\nconst timeToLocaleString = (time) => {\n\tif (!time) {\n\t\treturn null;\n\t}\n\n\treturn getLabelFormatter().format(time);\n};\n\nexport default TimePicker;\nexport {\n\tTimePicker,\n\tTimePickerBase,\n\ttimeToLocaleString\n};\n","/**\n * An Agate-themed date/time picker component.\n *\n * @example\n * <DateTimePicker />\n *\n * @module agate/DateTimePicker\n * @exports DateTimePicker\n * @exports DateTimePickerBase\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport {Cell, Row} from '@enact/ui/Layout';\n\nimport DatePicker from '../DatePicker';\nimport Skinnable from '../Skinnable';\nimport TimePicker from '../TimePicker';\n\nimport css from './DateTimePicker.module.less';\n\n/**\n * A date/time Picker component.\n *\n * @class DateTimePickerBase\n * @memberof agate/DateTimePicker\n * @ui\n * @public\n */\n\nconst DateTimePickerBase = kind({\n\tname: 'DateTimePickerBase',\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'dateTimePicker'\n\t},\n\n\trender ({...rest}) {\n\n\t\treturn (\n\t\t\t<Row {...rest} className={css.dateTimePicker} align=\"center center\">\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<TimePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell>\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<DatePicker />\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * An Agate themed date/time Picker component.\n *\n * @class DateTimePicker\n * @memberof agate/DateTimePicker\n * @extends agate/DateTimePicker.DateTimePickerBase\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst DateTimePicker = Skinnable(DateTimePickerBase);\n\nexport default DateTimePicker;\nexport {\n\tDateTimePicker,\n\tDateTimePickerBase\n};\n","/**\n * Provides an Agate-themed toggle switch component.\n *\n * @example\n * <Switch />\n *\n * @module agate/Switch\n * @exports Switch\n * @exports SwitchBase\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport {ToggleIconBase} from '../internal/ToggleIcon';\n\nimport componentCss from './Switch.module.less';\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SwitchBase\n * @memberof agate/Switch\n * @ui\n * @public\n */\nconst SwitchBase = kind({\n\tname: 'Switch',\n\n\tpropTypes: /** @lends agate/Switch.SwitchBase.prototype */ {\n\t\tchildren: PropTypes.string,\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables animation.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\t\tskin: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noAnimation, styler}) => styler.append({\n\t\t\tanimated: !noAnimation\n\t\t}),\n\t\tchildren: ({children, skin}) => {\n\t\t\tif (children) return children;\n\n\t\t\tswitch (skin) {\n\t\t\t\tcase 'carbon': return 'squarelarge';\n\t\t\t\tdefault: return 'circle';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.noAnimation;\n\n\t\treturn (\n\t\t\t<ToggleIconBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default SwitchBase;\nexport {\n\tSwitchBase as Switch,\n\tSwitchBase\n};\n","/**\n * Provides Agate-themed Item component and interactive toggle switch icon.\n *\n * @module agate/SwitchItem\n * @exports SwitchItem\n * @exports SwitchItemBase\n * @exports SwitchItemDecorator\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\n\nimport handle, {forProp, forward} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\nimport {SwitchBase} from '../Switch';\n\nimport componentCss from './SwitchItem.module.less';\n\nconst Switch = Skinnable({prop: 'skin'}, SwitchBase);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItemBase\n * @memberof agate/SwitchItem\n * @ui\n * @public\n */\nconst SwitchItemBase = kind({\n\tname: 'SwitchItemBase',\n\n\tpropTypes: /** @lends agate/SwitchItem.SwitchItemBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `label` - Class name for the toggle icon label\n\t\t * * `switchIcon` - Class name for the toggle icon\n\t\t * * `switchItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"off\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'off'\n\t\t * @public\n\t\t */\n\t\toffText: PropTypes.string,\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"on\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'on'\n\t\t * @public\n\t\t */\n\t\tonText: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the switch to the 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\toffText: 'off',\n\t\tonText: 'on',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'switchItem',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonClick: handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward('onClick')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\ticon: ({css, icon}) => (icon ?\n\t\t\t<Icon size=\"small\" slot=\"slotBefore\" className={css.icon}>\n\t\t\t\t{icon}\n\t\t\t</Icon> :\n\t\t\tnull\n\t\t)\n\t},\n\n\trender: ({children, css, icon, offText, onText, selected, ...rest}) => {\n\n\t\treturn (\n\t\t\t<Item aria-checked={selected} role=\"checkbox\" {...rest} css={css} label={selected ? onText : offText} labelPosition=\"after\">\n\t\t\t\t{icon}\n\t\t\t\t{children}\n\t\t\t\t<Switch slot=\"slotAfter\" selected={selected} className={css.switchIcon} />\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwitchItem]{@link agate/SwitchItem.SwitchItemBase} components.\n *\n * @hoc\n * @memberof agate/SwitchItem\n * @mixes ui/Toggleable.Toggleable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwitchItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\t// Touchable,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItem\n * @memberof agate/SwitchItem\n * @extends agate/SwitchItem.SwitchItem\n * @mixes agate/SwitchItem.SwitchItemDecorator\n * @ui\n * @public\n */\nconst SwitchItem = SwitchItemDecorator(SwitchItemBase);\n\nexport default SwitchItem;\nexport {\n\tSwitchItem,\n\tSwitchItemBase,\n\tSwitchItemDecorator\n};\n","/**\n * Provides the {@link core/hoc.hoc} method to create higher-order components (HOCs).\n *\n * @module core/hoc\n * @exports hoc\n */\n\nimport {isRenderable} from '../util';\nimport mergeDeepWithKey from 'ramda/src/mergeDeepWithKey';\n\nconst mergeFn = (key, defaultValue, userValue) => {\n\t// eslint-disable-next-line no-undefined\n\tif (userValue === undefined) {\n\t\treturn defaultValue;\n\t}\n\n\treturn userValue;\n};\n\n/**\n * Constructs a higher-order component (HOC) using an optional set of default configuration parameters and\n * a factory method that accepts instance configuration parameters and a component to wrap. The\n * returned function can accept:\n *\t* an instance config and a component constructor to wrap and return a renderable component, or\n *\t* an instance config only and return a decorator function expecting a component constructor\n *\t(like the next bullet), or\n *\t* a component constructor and return a renderable component\n *\n * Example:\n * ```\n *\tconst Countable = hoc({prop: 'data-count'}, (config, Wrapped) => {\n *\t\treturn class extends React.Component {\n *\t\t\tconstructor (props) {\n *\t\t\t\tsuper(props);\n *\t\t\t\tthis.state = {\n *\t\t\t\t\tcount: 0\n *\t\t\t\t};\n *\t\t\t},\n *\t\t\tinc = () => this.setState({count: this.state.count + 1}),\n *\t\t\trender () {\n *\t\t\t\tconst props = Object.assign({}, this.props, {\n *\t\t\t\t\t[config.prop]: this.state.count,\n *\t\t\t\t\tonClick: this.inc\n *\t\t\t\t});\n *\t\t\t\treturn <Wrapped {...props} />\n *\t\t\t}\n *\t\t}\n *\t});\n *\n *\tconst CountableAsDataNumber({prop: 'data-number'});\n *\tconst CountableDiv('div');\n *\tconst CountableDivAsDataNumber = CountableAsDataNumber('div');\n * ```\n *\n * @function\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} hawk        Higher-order component\n *\n * @returns {Function}             HOC Decorator\n * @memberof core/hoc\n * @public\n */\nconst hoc = (defaultConfig, hawk) => {\n\n\t// normalize arguments to allow defaultConfig to be omitted\n\tlet factory = hawk;\n\tlet defaults = defaultConfig;\n\tif (!factory && typeof defaultConfig === 'function') {\n\t\tfactory = defaultConfig;\n\t\tdefaults = null;\n\t}\n\n\treturn (config, maybeWrapped) => {\n\t\tif (isRenderable(config)) {\n\t\t\treturn factory(defaults, config);\n\t\t} else {\n\t\t\tconst cfg = mergeDeepWithKey(mergeFn, defaults, config);\n\t\t\tif (isRenderable(maybeWrapped)) {\n\t\t\t\treturn factory(cfg, maybeWrapped);\n\t\t\t} else {\n\t\t\t\treturn (Wrapped) => factory(cfg, Wrapped);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default hoc;\nexport {hoc};\n","\n/**\n * Exports the {@link ui/internal/Pure.Pure} higher-order component (HOC).\n *\n * @module ui/internal/Pure\n * @private\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/internal/Pure.Pure}.\n *\n * @memberof ui/internal/Pure.Pure\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the comparators used to test for prop changes\n\t *\n\t * @type {Object}\n\t * @memberof ui/internal/Pure.Pure.defaultConfig\n\t */\n\tpropComparators: {\n\t\t'*': (a, b) => a === b\n\t}\n};\n\n/**\n * Implements `shouldComponentUpdate` based on property change determination. By default, props are\n * shallowly compared for strict equality\n *\n * Custom comparators can be provided via the `propComparators` config property which accepts an\n * object mapping property names to comparator functions. To override the default comparator, use\n * the key, `'*'`.\n *\n * ```\n * const PureComponent = Pure(\n *     // Overrides the comparator for `count`. All other props will use the default comparators\n *     propComparators: {\n *         // For example, count is compared using loose equality allowing '5' to equal 5\n *         count: (a, b) => a == b\n *     },\n *     Component\n * )\n * ```\n *\n * @class Pure\n * @memberof ui/internal/Pure\n * @hoc\n * @private\n */\nconst Pure = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {propComparators} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Pure';\n\n\t\tstatic propTypes = {};\n\n\t\tstatic defaultProps = {};\n\n\t\tshouldComponentUpdate (nextProps) {\n\t\t\treturn this.hasChanged(this.props, nextProps, propComparators);\n\t\t}\n\n\t\thasChanged (current, next, comparators) {\n\t\t\tconst propKeys = Object.keys(current);\n\t\t\tconst nextKeys = Object.keys(next);\n\n\t\t\t// early bail out if the objects have a different number of keys\n\t\t\tif (propKeys.length !== nextKeys.length) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tconst hasOwn = Object.prototype.hasOwnProperty.bind(current);\n\t\t\tfor (let i = 0; i < nextKeys.length; i++) {\n\t\t\t\tconst prop = nextKeys[i];\n\t\t\t\tconst comp = comparators[prop] || comparators['*'];\n\t\t\t\tif (!hasOwn(prop) || !comp(current[prop], next[prop])) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Pure;\nexport {\n\tPure\n};\n","/**\n * Adds spottability to components.\n *\n * @module spotlight/Spottable\n * @exports Spottable\n * @exports spottableClass\n */\n\nimport {forward, handle, preventDefault, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {getContainersForNode} from '../src/container';\nimport {getDirection, Spotlight} from '../src/spotlight';\n\n/**\n * The class name for spottable components. In general, you do not need to directly access this class\n *\n * @memberof spotlight/Spottable\n * @public\n */\nconst spottableClass = 'spottable';\n\nconst ENTER_KEY = 13;\nconst REMOTE_OK_KEY = 16777221;\n\nconst isKeyboardAccessible = (node) => {\n\tif (!node) return false;\n\tconst name = node.nodeName.toUpperCase();\n\tconst type = node.type ? node.type.toUpperCase() : null;\n\treturn (\n\t\tname === 'BUTTON' ||\n\t\tname === 'A' ||\n\t\tname === 'INPUT' && (\n\t\t\ttype === 'BUTTON' ||\n\t\t\ttype === 'CHECKBOX' ||\n\t\t\ttype === 'IMAGE' ||\n\t\t\ttype === 'RADIO' ||\n\t\t\ttype === 'RESET' ||\n\t\t\ttype === 'SUBMIT'\n\t\t)\n\t);\n};\n\nconst isSpottable = (props) => !props.spotlightDisabled;\n\n// Last instance of spottable to be focused\nlet lastSelectTarget = null;\n// Should we prevent select being passed through\nlet selectCancelled = false;\n\n/**\n * Default configuration for Spottable\n *\n * @hocconfig\n * @memberof spotlight/Spottable.Spottable\n */\nconst defaultConfig = {\n\t/**\n\t * Whether or not the component should emulate mouse events as a response\n\t * to Spotlight 5-way events.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/Spottable.Spottable.defaultConfig\n\t */\n\temulateMouse: true\n};\n\n/**\n * Constructs a Spotlight 5-way navigation-enabled higher-order component.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst SpottableComponent = Spottable(Component);\n * ```\n * @class Spottable\n * @memberof spotlight/Spottable\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped Component to wrap\n *\n * @hoc\n * @returns {Function} Spottable\n */\nconst Spottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emulateMouse} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Spottable';\n\n\t\tstatic propTypes = /** @lends spotlight/Spottable.Spottable.prototype */ {\n\t\t\t/**\n\t\t\t * Whether or not the component is in a disabled state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The handler to run when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way down key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way left key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way right key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightRight: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The handler to run when the 5-way up key is pressed.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightUp: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * An array of numbers representing keyCodes that should trigger mouse event\n\t\t\t * emulation when `emulateMouse` is `true`. If a keyCode equals a directional\n\t\t\t * key, then default 5-way navigation will be prevented when that key is pressed.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @default [13, 16777221]\n\t\t\t * @public\n\t\t\t */\n\t\t\tselectionKeys: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * When `true`, the component cannot be navigated using spotlight.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Used to identify this component within the Spotlight system\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The tabIndex of the component. This value will default to -1 if left\n\t\t\t * unset and the control is spottable.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttabIndex: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tselectionKeys: [ENTER_KEY, REMOTE_OK_KEY]\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isHovered = false;\n\t\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\t\tthis.shouldPreventBlur = false;\n\t\t\tthis.isFocused = false;\n\t\t\tthis.focusedWhenDisabled = false;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tthis.isFocused = this.node && Spotlight.getCurrent() === this.node;\n\n\t\t\t// if the component is focused and became disabled\n\t\t\tif (this.isFocused && this.props.disabled && lastSelectTarget === this && !selectCancelled) {\n\t\t\t\tselectCancelled = true;\n\t\t\t\tforward('onMouseUp', null, this.props);\n\t\t\t}\n\n\t\t\t// if the component became enabled, notify spotlight to enable restoring \"lost\" focus\n\t\t\tif (isSpottable(this.props) && !isSpottable(prevProps) && !Spotlight.isPaused()) {\n\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\tif (this.isHovered) {\n\t\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\t\tSpotlight.focus(this.node);\n\t\t\t\t\t\tSpotlight.setPointerMode(true);\n\t\t\t\t\t}\n\t\t\t\t} else if (!Spotlight.getCurrent()) {\n\t\t\t\t\tconst containers = getContainersForNode(this.node);\n\t\t\t\t\tconst containerId = Spotlight.getActiveContainer();\n\t\t\t\t\tif (containers.indexOf(containerId) >= 0) {\n\t\t\t\t\t\tSpotlight.focus(containerId);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.isFocused) {\n\t\t\t\tforward('onSpotlightDisappear', null, this.props);\n\t\t\t}\n\t\t\tif (lastSelectTarget === this) {\n\t\t\t\tlastSelectTarget = null;\n\t\t\t}\n\t\t}\n\n\t\tshouldEmulateMouse = (ev, props) => {\n\t\t\tif (!emulateMouse) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst {currentTarget, repeat, type, which} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst keyboardAccessible = isKeyboardAccessible(currentTarget);\n\n\t\t\tconst keyCode = selectionKeys.find((value) => (\n\t\t\t\t// emulate mouse events for any remote okay button event\n\t\t\t\twhich === REMOTE_OK_KEY ||\n\t\t\t\t// or a non-keypress selection event or any selection event on a non-keyboard accessible\n\t\t\t\t// control\n\t\t\t\t(\n\t\t\t\t\twhich === value &&\n\t\t\t\t\t(type !== 'keypress' || !keyboardAccessible)\n\t\t\t\t)\n\t\t\t));\n\n\t\t\tif (getDirection(keyCode)) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t\tstop(ev);\n\t\t\t} else if (keyCode && keyboardAccessible) {\n\t\t\t\tpreventDefault(ev);\n\t\t\t}\n\n\t\t\treturn keyCode && !repeat;\n\t\t};\n\n\t\tforwardSpotlightEvents = (ev, {onSpotlightDown, onSpotlightLeft, onSpotlightRight, onSpotlightUp}) => {\n\t\t\tconst {keyCode} = ev;\n\n\t\t\tif (onSpotlightDown && is('down', keyCode)) {\n\t\t\t\tonSpotlightDown(ev);\n\t\t\t} else if (onSpotlightLeft && is('left', keyCode)) {\n\t\t\t\tonSpotlightLeft(ev);\n\t\t\t} else if (onSpotlightRight && is('right', keyCode)) {\n\t\t\t\tonSpotlightRight(ev);\n\t\t\t} else if (onSpotlightUp && is('up', keyCode)) {\n\t\t\t\tonSpotlightUp(ev);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t};\n\n\t\thandleSelect = ({which}, props) => {\n\t\t\tconst {selectionKeys} = props;\n\n\t\t\t// Only apply accelerator if handling a selection key\n\t\t\tif (selectionKeys.find((value) => which === value)) {\n\t\t\t\tif (selectCancelled || (lastSelectTarget && lastSelectTarget !== this)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tlastSelectTarget = this;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\tforwardAndResetLastSelectTarget = (ev, props) => {\n\t\t\tconst {keyCode} = ev;\n\t\t\tconst {selectionKeys} = props;\n\t\t\tconst key = selectionKeys.find((value) => keyCode === value);\n\n\t\t\t// FIXME: temporary patch to maintain compatibility with moonstone 3.2.5 which\n\t\t\t// deconstructs `preventDefault` from the event which is incompatible with React's\n\t\t\t// synthetic event.\n\t\t\tev.preventDefault = ev.preventDefault.bind(ev);\n\n\t\t\tforward('onKeyUp', ev, props);\n\t\t\tconst notPrevented = !ev.defaultPrevented;\n\n\t\t\t// bail early for non-selection keyup to avoid clearing lastSelectTarget prematurely\n\t\t\tif (!key && (!is('enter', keyCode) || !getDirection(keyCode))) {\n\t\t\t\treturn notPrevented;\n\t\t\t}\n\n\t\t\tconst allow = lastSelectTarget === this;\n\t\t\tselectCancelled = false;\n\t\t\tlastSelectTarget = null;\n\t\t\treturn notPrevented && allow;\n\t\t};\n\n\t\tisActionable = (ev, props) => isSpottable(props);\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\t(ev) => !ev.defaultPrevented,\n\t\t\tthis.forwardSpotlightEvents,\n\t\t\tthis.isActionable,\n\t\t\tthis.handleSelect,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseDown')\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tthis.forwardAndResetLastSelectTarget,\n\t\t\tthis.isActionable,\n\t\t\tthis.shouldEmulateMouse,\n\t\t\tforward('onMouseUp'),\n\t\t\tforward('onClick')\n\t\t);\n\n\t\thandleBlur = (ev) => {\n\t\t\tif (this.shouldPreventBlur) return;\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = false;\n\t\t\t\tif (this.focusedWhenDisabled) {\n\t\t\t\t\tthis.focusedWhenDisabled = false;\n\t\t\t\t\t// We only need to trigger a rerender if a focused item becomes disabled and still needs its focus.\n\t\t\t\t\t// Once it blurs we need to rerender to remove the spottable class so it will not spot again.\n\t\t\t\t\t// The reason we don't use state is for performance reasons to avoid updates.\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onBlur', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleFocus = (ev) => {\n\t\t\tif (this.props.spotlightDisabled) {\n\t\t\t\tthis.shouldPreventBlur = true;\n\t\t\t\tev.target.blur();\n\t\t\t\tthis.shouldPreventBlur = false;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (ev.currentTarget === ev.target) {\n\t\t\t\tthis.isFocused = true;\n\t\t\t}\n\n\t\t\tif (Spotlight.isMuted(ev.target)) {\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tforward('onFocus', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\thandleEnter = (ev) => {\n\t\t\tforward('onMouseEnter', ev, this.props);\n\t\t\tthis.isHovered = true;\n\t\t};\n\n\t\thandleLeave = (ev) => {\n\t\t\tforward('onMouseLeave', ev, this.props);\n\t\t\tthis.isHovered = false;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {disabled, spotlightId, spotlightDisabled, ...rest} = this.props;\n\t\t\tthis.focusedWhenDisabled = this.isFocused && spotlightDisabled;\n\t\t\tconst spottable = this.focusedWhenDisabled || isSpottable(this.props);\n\n\t\t\tlet tabIndex = rest.tabIndex;\n\n\t\t\tdelete rest.onSpotlightDisappear;\n\t\t\tdelete rest.onSpotlightDown;\n\t\t\tdelete rest.onSpotlightLeft;\n\t\t\tdelete rest.onSpotlightRight;\n\t\t\tdelete rest.onSpotlightUp;\n\t\t\tdelete rest.selectionKeys;\n\t\t\tdelete rest.spotlightDisabled;\n\n\t\t\tif (tabIndex == null) {\n\t\t\t\ttabIndex = -1;\n\t\t\t}\n\n\t\t\tif (spottable) {\n\t\t\t\tif (rest.className) {\n\t\t\t\t\trest.className += ' ' + spottableClass;\n\t\t\t\t} else {\n\t\t\t\t\trest.className = spottableClass;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (spotlightId) {\n\t\t\t\trest['data-spotlight-id'] = spotlightId;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.handleKeyUp}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\ttabIndex={tabIndex}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Spottable;\nexport {Spottable, spottableClass};\n","import curry from 'ramda/src/curry';\nimport warning from 'warning';\n\nimport {getContainerNode} from './container';\n\nlet elementMatchesSelector = function (selector) {\n\tconst matchedNodes = (this.parentNode || this.document).querySelectorAll(selector);\n\treturn [].slice.call(matchedNodes).indexOf(this) >= 0;\n};\nif (typeof window === 'object') {\n\telementMatchesSelector = window.Element.prototype.matches ||\n\t\twindow.Element.prototype.matchesSelector ||\n\t\twindow.Element.prototype.mozMatchesSelector ||\n\t\twindow.Element.prototype.webkitMatchesSelector ||\n\t\twindow.Element.prototype.msMatchesSelector ||\n\t\twindow.Element.prototype.oMatchesSelector ||\n\t\telementMatchesSelector;\n}\n\nconst matchSelector = curry((selector, elem) => {\n\tif (typeof selector === 'string') {\n\t\treturn elementMatchesSelector.call(elem, selector);\n\t} else if (typeof selector === 'object' && selector.length) {\n\t\treturn selector.indexOf(elem) >= 0;\n\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\treturn elem === selector;\n\t}\n\treturn false;\n});\n\nfunction parseSelector (selector) {\n\tlet result = [];\n\ttry {\n\t\tif (typeof selector === 'string') {\n\t\t\tresult = [].slice.call(document.querySelectorAll(selector));\n\t\t} else if (typeof selector === 'object' && selector.length) {\n\t\t\tresult = [].slice.call(selector);\n\t\t} else if (typeof selector === 'object' && selector.nodeType === 1) {\n\t\t\tresult = [selector];\n\t\t}\n\t} catch (ex) {\n\t\twarning(true, `parseSelector failed for selector: ${selector}`);\n\t}\n\n\treturn result;\n}\n\nconst testIntersection = (type, containerRect, elementRect) => {\n\tconst {\n\t\tleft: L,\n\t\tright: R,\n\t\ttop: T,\n\t\tbottom: B\n\t} = containerRect;\n\n\tconst {\n\t\tleft: l,\n\t\tright: r,\n\t\ttop: t,\n\t\tbottom: b\n\t} = elementRect;\n\n\tconst right = r >= L && r <= R;\n\tconst left = l >= L && l <= R;\n\tconst top = t >= T && t <= B;\n\tconst bottom = b >= T && b <= B;\n\n\tif (type === 'intersects') {\n\t\tconst aroundV = t < T && b > B;\n\t\tconst aroundH = l < L && r > R;\n\n\t\treturn (top || bottom || aroundV) && (left || right || aroundH);\n\t} else if (type === 'contains') {\n\t\treturn top && bottom && left && right;\n\t}\n\n\treturn true;\n};\n\nconst intersects = curry((containerRect, elementRect) => {\n\treturn testIntersection('intersects', containerRect, elementRect);\n});\n\nconst contains = curry((containerRect, elementRect) => {\n\treturn testIntersection('contains', containerRect, elementRect);\n});\n\nfunction getRect (elem) {\n\tconst cr = elem.getBoundingClientRect();\n\tconst rect = {\n\t\tleft: cr.left,\n\t\ttop: cr.top,\n\t\twidth: cr.width,\n\t\theight: cr.height\n\t};\n\trect.element = elem;\n\trect.right = rect.left + rect.width;\n\trect.bottom = rect.top + rect.height;\n\trect.center = {\n\t\tx: rect.left + Math.floor(rect.width / 2),\n\t\ty: rect.top + Math.floor(rect.height / 2)\n\t};\n\trect.center.left = rect.center.right = rect.center.x;\n\trect.center.top = rect.center.bottom = rect.center.y;\n\treturn rect;\n}\n\nfunction getPointRect (position) {\n\tconst {x, y} = position;\n\treturn {\n\t\tleft: x,\n\t\ttop: y,\n\t\twidth: 0,\n\t\theight: 0,\n\t\tright: x,\n\t\tbottom: y,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getRects (candidates) {\n\tif (candidates && candidates.length > 0) {\n\t\treturn candidates.map(getRect);\n\t}\n\n\treturn [];\n}\n\n\nfunction getViewportRect () {\n\tconst {innerWidth: width, innerHeight: height} = window;\n\tconst x = width / 2;\n\tconst y = height / 2;\n\n\treturn {\n\t\tleft: 0,\n\t\ttop: 0,\n\t\twidth,\n\t\theight,\n\t\tright: width,\n\t\tbottom: height,\n\t\tcenter: {\n\t\t\tx,\n\t\t\ty,\n\t\t\tleft: x,\n\t\t\tright: x,\n\t\t\ttop: y,\n\t\t\tbottom: y\n\t\t}\n\t};\n}\n\nfunction getContainerRect (containerId) {\n\tconst containerNode = getContainerNode(containerId);\n\n\tif (!containerNode) {\n\t\treturn null;\n\t}\n\n\tif (containerNode === document) {\n\t\treturn getViewportRect();\n\t}\n\n\treturn getRect(containerNode);\n}\n\nexport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tmatchSelector,\n\tparseSelector\n};\n","/**\n * `core/handle` provides a set of utilities to support handling events for `kind()`s and\n * `React.Component`s. The default export, `handle()`, generates an event handler function from a\n * set of input functions. The input functions either process or filter the event. If an input\n * function returns `true`, `handle()` will continue processing the event by calling the next input\n * function in the chain. If it returns `false` (or any falsy value like `null` or `undefined`),\n * the event handling chain stops at that input function.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n *\n * // logEnter will contain a function that accepts an event, a props object, and a context object\n * const logEnter = handle(\n *   forward('onKeyDown'),  // forwards the event to the function passed in the onKeyDown prop\n *   forKey('enter'),       // if the event.keyCode maps to the enter key, allows event processing to continue\n *   preventDefault,        // calls event.preventDefault() to prevent the `keypress` event\n *   (ev, props) => {       // custom event handler -- in this case, logging some text\n *     // since it doesn't return `true`, no further input functions would be called after this one\n *     console.log('The Enter key was pressed down');\n *   }\n * ).finally(() => {\n * \t console.log('This will log at the end no matter what happens within the handler above')\n * });\n * ```\n *\n * `handle()` can also be bound to a component instance which allows it to access the instance\n * `props` and `context`. This allows you to write consistent event handlers for components created\n * either with `kind()` or ES6 classes without worrying about from where the props are sourced.\n *\n * Handlers can either be bound directly using the native `bind()` method or using the `bindAs()`\n * utility method that is appended to the handler.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n * import React from 'react';\n *\n * class MyComponent extends React.Component {\n *   // bind handle() to the instance\n *   constructor () {\n *     super();\n *\n *     // logEnter will be bound to `this` and set as this.handleKeyDown\n *     //\n *     // Equivalent to the following with the advantage of set the function name to be displayed in\n *     // development tool call stacks\n *     //\n *     //   this.handleKeyDown = logEnter.bind(this)\n *     logEnter.bindAs(this, 'handleKeyDown');\n *   }\n *\n *   render () {\n *     return (\n *       <div onKeyDown={this.handleKeyDown} />\n *     );\n *   }\n * }\n * ```\n *\n * @module core/handle\n * @exports adaptEvent\n * @exports call\n * @exports callOnEvent\n * @exports forward\n * @exports forwardWithPrevent\n * @exports forEventProp\n * @exports forKey\n * @exports forKeyCode\n * @exports forProp\n * @exports handle\n * @exports log\n * @exports oneOf\n * @exports preventDefault\n * @exports returnsTrue\n * @exports stop\n * @exports stopImmediate\n */\n\nimport cond from 'ramda/src/cond';\nimport curry from 'ramda/src/curry';\n\nimport {is} from '../keymap';\n\n/**\n * The signature for event handlers\n *\n * @callback EventHandler\n * @memberof core/handle\n * @param {any} event\n */\n\n/**\n * The signature for event handling functions supported by `handle` and related functions\n *\n * @callback HandlerFunction\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * The signature for {@link core/handle.adaptEvent} parameter `adapter`\n *\n * @callback EventAdapter\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns {any}\n */\n\n// Accepts an array of handlers, sanitizes them, and returns a handler function\n// compose(allPass, map(makeSafeHandler));\nconst makeHandler = (handlers) => {\n\t// allowing shadowing here to provide a meaningful function name in dev tools\n\t// eslint-disable-next-line no-shadow\n\treturn function handle (...args) {\n\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\tconst fn = handlers[i];\n\t\t\tif (typeof fn !== 'function' || fn.apply(this, args)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n};\n\n// Loose check to determine if obj is component-ish if it has both props and context members\nconst hasPropsAndContext = (obj) => (\n\tobj &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'props') &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'context')\n);\n\nconst named = (fn, name) => {\n\tif (__DEV__) {\n\t\ttry {\n\t\t\tObject.defineProperty(fn, 'name', {\n\t\t\t\tvalue: name,\n\t\t\t\twriteable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t} catch (err) {\n\t\t\t// unable to set name of function\n\t\t}\n\t}\n\n\treturn fn;\n};\n\nconst bindAs = (fn, obj, name) => {\n\tconst namedFunction = name ? named(fn, name) : fn;\n\tconst bound = namedFunction.bind(obj);\n\n\tif (name) {\n\t\tobj[name] = bound;\n\t}\n\n\treturn bound;\n};\n\nconst decorateHandleFunction = (fn) => {\n\tfn.named = (name) => named(fn, name);\n\tfn.bindAs = (obj, name) => bindAs(fn, obj, name);\n\n\treturn fn;\n};\n\n/**\n * Allows generating event handlers by chaining input functions to filter or short-circuit the\n * handling flow. Any input function that returns a falsy value will stop the chain.\n *\n * The returned handler function has a `finally()` member that accepts a function and returns a new\n * handler function. The accepted function is called once the original handler completes regardless\n * of the returned value.\n *\n * @method   handle\n * @param    {...HandlerFunction}  handlers List of handlers to process the event.\n *\n * @returns  {EventHandler}\tA function that accepts an event which is dispatched to each of the\n *                          provided handlers.\n * @memberof core/handle\n * @public\n */\nconst handle = function (...handlers) {\n\tconst h = makeHandler(handlers);\n\n\t// In order to support binding either handle (handle.bind(this)) or a handler\n\t// (a = handle(), a.bind(this)), we cache `this` here and use it as the fallback for props and\n\t// context if fn() doesn't have its own `this`.\n\tconst _outer = this;\n\n\tconst fn = function prepareHandleArgs (ev, props, context) {\n\t\tlet caller = null;\n\n\t\t// if handle() was bound to a class, use its props and context. otherwise, we accept\n\t\t// incoming props/context as would be provided by computed/handlers from kind()\n\t\tif (hasPropsAndContext(this)) {\n\t\t\tcaller = this;\n\t\t\tprops = this.props;\n\t\t\tcontext = this.context;\n\t\t} else if (hasPropsAndContext(_outer)) {\n\t\t\tcaller = _outer;\n\t\t\tprops = _outer.props;\n\t\t\tcontext = _outer.context;\n\t\t}\n\n\t\treturn h.call(caller, ev, props, context);\n\t};\n\n\tfn.finally = function (cleanup) {\n\t\treturn decorateHandleFunction(function handleWithFinally (ev, props, context) {\n\t\t\tlet result = false;\n\n\t\t\tif (hasPropsAndContext(this)) {\n\t\t\t\tprops = this.props;\n\t\t\t\tcontext = this.context;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tresult = fn.call(this, ev, props, context);\n\t\t\t} finally {\n\t\t\t\tcleanup.call(this, ev, props, context);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t};\n\n\treturn decorateHandleFunction(fn);\n};\n\n/**\n * Calls the first handler whose condition passes. Each branch must be passed as an array with the\n * first element being the condition function and the second being the handler function. The same\n * arguments are passed to both the condition function and the handler function. The value returned\n * from the handler is returned.\n *\n * Example:\n * ```\n * const handler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[forKey('left'), handleLeft],\n * \t[forKey('right'), handleRight]\n * );\n * ```\n *\n * @method   oneOf\n * @param    {...[HandlerFunction, HandlerFunction]}  handlers List of conditions and handlers to process the event\n *\n * @returns  {HandlerFunction} A function that accepts an event which is dispatched to each of the\n *                             conditions and, if it passes, onto the provided handler.\n * @memberof core/handle\n * @public\n */\nconst oneOf = handle.oneOf = function (...handlers) {\n\treturn handle.call(this, cond(handlers));\n};\n\n/**\n * A function that always returns `true`. Optionally accepts a `handler` function which is called\n * before returning `true`.\n *\n * Example:\n * ```\n * // Used to coerce an existing function into a handler\n * const coercedHandler = handle(\n *   returnsTrue(doesSomething),\n *   willAlwaysBeCalled\n * );\n *\n * // Used to emulate if/else blocks with `oneOf`\n * const ifElseHandler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[returnsTrue, handleOtherwise]\n * );\n * ```\n *\n * @method   returnsTrue\n * @param    {Function}  [handler]  Handler function called before returning `true`.\n *\n * @returns  {HandlerFunction}\t   A function that returns `true`\n * @memberof core/handle\n * @public\n */\nconst returnsTrue = handle.returnsTrue = function (handler) {\n\tif (handler && typeof handler === 'function') {\n\t\treturn named(function (...args) {\n\t\t\thandler.apply(this, args);\n\n\t\t\treturn true;\n\t\t}, 'returnsTrue');\n\t}\n\n\treturn true;\n};\n\n/**\n * Calls a named function on the event and returns `true`.\n *\n * Example:\n * ```\n * import {callOnEvent, handle} from '@enact/core/handle';\n *\n * const callsCustomMethod = handle(\n *\tcallOnEvent('customMethod'),\n *\t(ev) => console.log('ev.customMethod() was called', ev)\n * );\n * ```\n *\n * @method   callOnEvent\n * @param    {String}     methodName  Name of the method to call on the event\n * @param    {Object}     ev          Event payload\n *\n * @returns  {true}                   Always returns `true`\n * @curried\n * @memberof core/handle\n * @private\n */\nconst callOnEvent = handle.callOnEvent = curry((methodName, ev) => {\n\tif (ev[methodName]) {\n\t\tev[methodName]();\n\t} else if (ev.nativeEvent && ev.nativeEvent[methodName]) {\n\t\t// In some cases (notably stopImmediatePropagation), React doesn't include a desired method\n\t\t// on its proxy so we check the native event as well.\n\t\tev.nativeEvent[methodName]();\n\t}\n\treturn true;\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the event strictly equals `value`\n *\n * Example:\n * ```\n * import {forEventProp, handle} from '@enact/core/handle';\n *\n * const logWhenXEqualsZero = handle(\n *   forEventProp('x', 0),\n *   (ev) => console.log('ev.x was equal to zero', ev)\n * );\n * ```\n *\n * @method   forEventProp\n * @param    {String}\t   prop   Name of property on event\n * @param    {*}           value  Value of property\n * @param    {Object}      ev     Event payload\n *\n * @returns  {Boolean}            Returns `true` if `prop` on `event` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forEventProp = handle.forEventProp = curry((prop, value, ev) => {\n\treturn ev[prop] === value;\n});\n\n/**\n * Forwards the event to a function at `name` on `props`. If the specified prop is `undefined` or\n * is not a function, it is ignored. The return value of the forwarded function is ignored and\n * `true` is always returned instead.\n *\n * Example:\n * ```\n * import {forward, handle} from '@enact/core/handle';\n *\n * const forwardAndLog = handle(\n *   forward('onClick'),\n *   (ev) => console.log('event forwarded to onClick from props', ev)\n * );\n * ```\n *\n * @method   forward\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forward = handle.forward = curry(named((name, ev, props) => {\n\tconst fn = props && props[name];\n\tif (typeof fn === 'function') {\n\t\tfn(ev);\n\t}\n\n\treturn true;\n}, 'forward'));\n\n/**\n * Calls `event.preventDefault()` and returns `true`.\n *\n * Example:\n * ```\n * import {handle, preventDefault} from '@enact/core/handle';\n *\n * const preventAndLog = handle(\n *   preventDefault,\n *   (ev) => console.log('preventDefault called', ev)\n * );\n * ```\n *\n * @method   preventDefault\n * @param    {Object}        ev  Event payload\n *\n * @returns  {true}              Always returns `true`\n * @memberof core/handle\n * @public\n */\nconst preventDefault = handle.preventDefault = callOnEvent('preventDefault');\n\n/**\n * Forwards the event to a function at `name` on `props` with capability to prevent default\n * behavior. If the specified prop is `undefined` or is not a function, it is ignored. Returns\n * `false` when `event.preventDefault()` has been called in a handler.\n *\n * Example:\n * ```\n * import {forwardWithPrevent, handle} from '@enact/core/handle';\n *\n * const forwardPreventDefault = handle(\n *   forwardWithPrevent('onClick'),\n *   (ev) => console.log('default action', ev)\n * );\n * ```\n *\n * @method   forwardWithPrevent\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if default action is prevented\n * @curried\n * @memberof core/handle\n * @private\n */\nconst forwardWithPrevent = handle.forwardWithPrevent = curry(named((name, ev, props) => {\n\tlet prevented = false;\n\tconst wrappedEvent = Object.assign({}, ev, {\n\t\tpreventDefault: () => {\n\t\t\tprevented = true;\n\t\t\tpreventDefault(ev);\n\t\t}\n\t});\n\tforward(name, wrappedEvent, props);\n\n\treturn !prevented;\n}, 'forwardWithPrevent'));\n\n/**\n * Calls `event.stopPropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stop} from '@enact/core/handle';\n *\n * const stopAndLog = handle(\n *   stop,\n *   (ev) => console.log('stopPropagation called', ev)\n * );\n * ```\n *\n * @method   stop\n * @param    {Object}   ev  Event payload\n *\n * @returns  {true}         Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stop = handle.stop = named(callOnEvent('stopPropagation'), 'stop');\n\n/**\n * Calls `event.stopImmediatePropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stopImmediate} from '@enact/core/handle';\n *\n * const stopImmediateAndLog = handle(\n *   stopImmediate,\n *   (ev) => console.log('stopImmediatePropagation called', ev)\n * );\n * ```\n *\n * @method   stopImmediate\n * @param    {Object}       ev  Event payload\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stopImmediate = handle.stopImmediate = callOnEvent('stopImmediatePropagation');\n\n/**\n * Allows event handling to continue if `event.keyCode === value`.\n *\n * Example:\n * ```\n * import {forKeyCode, handle} from '@enact/core/handle';\n *\n * const logForEscapeKey = handle(\n *   forKeyCode(27),\n *   (ev) => console.log('Escape key pressed down', ev)\n * );\n * ```\n *\n * @method   forKeyCode\n * @param    {Number}    value  `keyCode` to test\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKeyCode = handle.forKeyCode = forEventProp('keyCode');\n\n/**\n * Allows handling to continue if the event's keyCode is mapped to `name` within\n * {@link core/keymap}.\n *\n * Example:\n * ```\n * import {forKey, handle} from '@enact/core/handle';\n *\n * const logForEnterKey = handle(\n *   forKey('enter'),\n *   (ev) => console.log('Enter key pressed down', ev)\n * );\n * ```\n *\n * @see      {@link core/keymap}\n * @method   forKey\n * @param    {String}    name   Name from {@link core/keymap}\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` is mapped to `name`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKey = handle.forKey = curry((name, ev) => {\n\treturn is(name, ev.keyCode);\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the props strictly equals `value`.\n *\n * Example:\n * ```\n * import {forProp, handle} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   (ev) => console.log('checked prop is true', ev)\n * );\n * ```\n *\n * @method   forProp\n * @param    {String}    prop   Name of property on props object\n * @param    {*}         value  Value of property\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if the value of `props[prop]` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forProp = handle.forProp = curry((prop, value, ev, props) => {\n\treturn props[prop] === value;\n});\n\n/**\n * Logs the event, props, and context optionally preceded by a custom message. Will only log in\n * development mode.\n *\n * Example:\n * ```\n * import {forProp, handle, log} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   log('checked props is true')\n * );\n * ```\n *\n * @method   log\n * @param    {String}     message  Custom message\n * @param    {Object}     ev       Event payload\n * @param    {...*}       [args]   Any args passed are logged\n *\n * @returns  {true}                Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst log = handle.log = curry((message, ev, ...args) => {\n\tif (__DEV__) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(message, ev, ...args);\n\t}\n\n\treturn true;\n});\n\n/**\n * Invokes a method by name on the component to which {@link core/handle.handle} is bound.\n *\n * If the methods exists on the object, it is called with the event, props, and context and its\n * return value is returned.\n *\n * If the method does not exist or handle isn't bound to an instance, it returns `false`.\n *\n * Example:\n * ```\n * import {call, handle, forProp} from '@enact/core/handle';\n *\n * const incrementIfEnabled = handle(\n *   forProp('disabled', false),\n *   call('increment')\n * );\n *\n * class Counter extends React.Component {\n *   constructor () {\n *     super();\n *\n *     this.handleIncrement = incrementIfEnabled.bind(this);\n *   }\n *\n *   render () {\n *     // ...\n *   }\n * }\n * ```\n *\n * @method   call\n * @param    {String}     method  Name of method\n *\n * @returns  {HandlerFunction}    Returns the value returned by `method`, or `false` if the method\n *                                does not exist\n * @memberof core/handle\n * @public\n */\nconst call = function (method) {\n\treturn named(function (...args) {\n\t\tif (this && this[method]) {\n\t\t\treturn this[method](...args);\n\t\t}\n\n\t\treturn false;\n\t}, 'call');\n};\n\n/**\n * Adapts an event with `adapter` before calling `handler`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {adaptEvent, forward} from '@enact/core/handle';\n *\n * // calls the onChange callback with an event payload containing a type and value member\n * const incrementAndChange = adaptEvent(\n * \t(ev, props) => ({\n * \t  type: 'onChange',\n * \t  value: props.value + 1\n * \t}),\n * \tforward('onChange')\n * )\n * ```\n *\n * @method   adaptEvent\n * @param    {EventAdapter}     adapter  Function to adapt the event payload\n * @param    {HandlerFunction}  handler  Handler to call with the handler function\n *\n * @returns  {HandlerFunction}           Returns an [event handler]{@link core/handle.HandlerFunction} (suitable for passing to handle) that returns the result of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst adaptEvent = handle.adaptEvent = curry(function (adapter, handler) {\n\treturn named(function (ev, ...args) {\n\t\treturn handler.call(this, adapter.call(this, ev, ...args), ...args);\n\t}, 'adaptEvent');\n});\n\n/**\n * Creates a handler that will forward the event to a function at `name` on `props`.\n *\n * If `adapter` is not specified, a new event payload will be generated with a `type` member with\n * the `name` of the custom event. If `adapter` is specified, the `type` member is added to the\n * value returned by `adapter`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {forwardCustom} from '@enact/core/handle';\n *\n * // calls the onChange callback with the event: {type: 'onChange'}\n * const forwardChange = forwardCustom('onChange');\n *\n * // calls the onChange callback with the event: {type: 'onChange', index}\n * const forwardChangeWithIndex = forwardCustom('onChange', (ev, {index}) => ({index}));\n * ```\n *\n * @method   forwardCustom\n * @param    {String}        name      Name of method on the `props`\n * @param    {EventAdapter}  [adapter] Function to adapt the event payload\n *\n * @returns  {HandlerFunction}         Returns an [event handler]{@link core/handle.EventHandler}\n *                                     (suitable for passing to handle or used directly within\n *                                     `handlers` in [kind]{@link core/kind}) that will forward the\n *                                     custom event.\n * @memberof core/handle\n * @public\n */\nconst forwardCustom = handle.forwardCustom = (name, adapter) => handle(\n\tadaptEvent(\n\t\t(...args) => {\n\t\t\tlet ev = adapter ? adapter(...args) : null;\n\n\t\t\t// Handle either no adapter or a non-object return from the adapter\n\t\t\tif (!ev || typeof ev !== 'object') {\n\t\t\t\tev = {};\n\t\t\t}\n\n\t\t\tev.type = name;\n\n\t\t\treturn ev;\n\t\t},\n\t\tforward(name)\n\t)\n).named('forwardCustom');\n\n/**\n * Accepts a handler and returns the logical complement of the value returned from the handler.\n *\n * Example:\n * ```\n * import {forProp, forward, not, handle} from '@enact/core/handle';\n *\n * // calls the onChange callback when disabled is not true\n * const handleChange = handle(\n *  not(forProp('disabled', true)),\n *  forward('onChange')\n * )\n * ```\n *\n * @method   not\n * @param    {HandlerFunction}  handler  Handler to complement\n *\n * @returns  {HandlerFunction}           Returns an [event\n *                                       handler]{@link core/handle.HandlerFunction} (suitable for\n *                                       passing to handle) that returns the complement of the\n *                                       return value of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst not = handle.not = (handler) => (...args) => !handler(...args);\n\nexport default handle;\nexport {\n\tadaptEvent,\n\tcall,\n\tcallOnEvent,\n\tforward,\n\tforwardCustom,\n\tforwardWithPrevent,\n\tforEventProp,\n\tforKey,\n\tforKeyCode,\n\tforProp,\n\thandle,\n\tlog,\n\tnot,\n\toneOf,\n\tpreventDefault,\n\treturnsTrue,\n\tstop,\n\tstopImmediate\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeDecorator_root__1mp4Z\",\"bg\":\"ThemeDecorator_bg__1iacj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__CBsfu\",\"body\":\"Panel_body__1jwg2\",\"noHeader\":\"Panel_noHeader__34Mg7\",\"visible\":\"Panel_visible__1PYRW\",\"header\":\"Panel_header__zIYvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleButton\":\"ToggleButton_toggleButton__2WnOp\",\"underline\":\"ToggleButton_underline__9iR0t\",\"selected\":\"ToggleButton_selected__2bbbF\",\"button\":\"ToggleButton_button__23rV4\",\"bg\":\"ToggleButton_bg__3eqq0\",\"client\":\"ToggleButton_client__3nJmd\",\"huge\":\"ToggleButton_huge__1vADY\",\"small\":\"ToggleButton_small__NGeCq\",\"smallest\":\"ToggleButton_smallest__1wA4h\",\"minWidth\":\"ToggleButton_minWidth__rXqF_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBar\":\"TabGroup_tabBar__cDVU2\",\"tabGroup\":\"TabGroup_tabGroup__uo2pQ\",\"tab\":\"TabGroup_tab__GzkRG\",\"labeledIcon\":\"TabGroup_labeledIcon__2Db25\",\"selected\":\"TabGroup_selected__LeC93\",\"positionAfter\":\"TabGroup_positionAfter__-qTBR\",\"horizontal\":\"TabGroup_horizontal__2UR2N\",\"vertical\":\"TabGroup_vertical__1QLN3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarTrack\":\"ScrollbarTrack_scrollbarTrack__2RBz3\",\"vertical\":\"ScrollbarTrack_vertical__3uMTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__1OGdw\",\"itemContent\":\"Item_itemContent__1trVo\",\"hasLabel\":\"Item_hasLabel__3xhAA\",\"labelAfter\":\"Item_labelAfter__1Ajl0\",\"content\":\"Item_content__3R8ap\",\"labelBelow\":\"Item_labelBelow__35xbo\",\"label\":\"Item_label__vFw2H\",\"labelAbove\":\"Item_labelAbove__1SN_z\",\"labelBefore\":\"Item_labelBefore__3dcyJ\",\"slotAfter\":\"Item_slotAfter__2yHO_\",\"slotBefore\":\"Item_slotBefore__34YUH\",\"selected\":\"Item_selected__oqyJI\",\"inline\":\"Item_inline__2Wjk9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTimePicker\":\"DateTimePicker_dateTimePicker__21ogl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacingIndicator\":\"Heading_spacingIndicator__3fOXk\",\"spacingNote\":\"Heading_spacingNote__2QraQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__2K8Tn\",\"centered\":\"Popup_centered__gLtrt\",\"buttons\":\"Popup_buttons__3tX0Z\",\"top\":\"Popup_top__NK_iz\",\"closeButton\":\"Popup_closeButton__gO0Wo\",\"title\":\"Popup_title__23Fu5\",\"withTitle\":\"Popup_withTitle__oXxZL\",\"body\":\"Popup_body__34qt0\",\"withCloseButton\":\"Popup_withCloseButton__2VP8L\",\"content\":\"Popup_content__3lgAw\",\"popupTransitionContainer\":\"Popup_popupTransitionContainer__l6zkG\",\"inner\":\"Popup_inner__9xj2X\"};","/**\n * A Popup menu component.\n *\n * @example\n * <PopupMenu open title=\"Title\">Hello!</PopupMenu>\n *\n * @module agate/PopupMenu\n * @exports PopupMenu\n * @exports PopupMenuBase\n * @exports PopupMenuDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Heading from '../Heading';\nimport LabeledIconButton from '../LabeledIconButton';\nimport Scroller from '../Scroller';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './PopupMenu.module.less';\n\n/**\n * The base popup menu component.\n *\n * @class PopupMenuBase\n * @memberof agate/PopupMenu\n * @ui\n * @public\n */\nconst PopupMenuBase = kind({\n\tname: 'PopupMenu',\n\tpropTypes: /** @lends agate/PopupMenu.PopupMenuBase.prototype */ {\n\t\tcloseButton: PropTypes.bool,\n\t\tcloseButtonLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\t\torientation: PropTypes.oneOf(['horizontal']),\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tcloseButton: false,\n\t\tcloseButtonLabel: $L('Cancel'),\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'horizontal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popupMenu'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, styler}) => styler.append(orientation)\n\t},\n\n\trender: ({children, closeButton, closeButtonLabel, css, noAnimation, onClose, onHide, open, orientation, title, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"down\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"fade\"\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout orientation=\"vertical\" align=\"center center\" role=\"alert\" {...rest}>\n\t\t\t\t\t<Cell className={css.title} shrink>\n\t\t\t\t\t\t<Heading size=\"title\">{title}</Heading>\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Cell shrink className={css.body} align=\"stretch\">\n\t\t\t\t\t\t<Scroller direction={orientation} horizontalScrollbar=\"hidden\" verticalScrollbar=\"hidden\">\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t{closeButton ? <LabeledIconButton\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\t\t\tsize=\"huge\"\n\t\t\t\t\t\t\t\tbackgroundOpacity=\"lightOpaque\"\n\t\t\t\t\t\t\t>{closeButtonLabel}</LabeledIconButton> : null}\n\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupMenuBase]{@link agate/PopupMenu.PopupMenuBase}.\n *\n * @hoc\n * @memberof agate/PopupMenu\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupMenuDecorator = compose(\n\tSlottable({slots: ['title']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup menu.\n *\n * @class PopupMenu\n * @memberof agate/PopupMenu\n * @extends agate/PopupMenu.PopupMenuBase\n * @mixes agate/PopupMenu.PopupMenuDecorator\n * @ui\n * @public\n */\nconst PopupMenu = PopupMenuDecorator(PopupMenuBase);\n\nexport default PopupMenu;\nexport {\n\tPopupMenu,\n\tPopupMenuBase,\n\tPopupMenuDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3fu-N\",\"bg\":\"Spinner_bg__3APs3\",\"huge\":\"Spinner_huge__1_I9G\",\"small\":\"Spinner_small__7zUD3\",\"smallest\":\"Spinner_smallest__l7fSN\",\"dark\":\"Spinner_dark__2EAvC\",\"node\":\"Spinner_node__340FG\",\"light\":\"Spinner_light__3ADfH\",\"searching\":\"Spinner_searching__gjLI1\",\"searching-spinner\":\"Spinner_searching-spinner__3nP-Q\",\"node12\":\"Spinner_node12__l17bR\",\"node11\":\"Spinner_node11__1JU52\",\"node10\":\"Spinner_node10__2oIGA\",\"node9\":\"Spinner_node9__3xkK3\",\"node8\":\"Spinner_node8__nHmXl\",\"node7\":\"Spinner_node7__3PMR6\",\"node6\":\"Spinner_node6__16R4o\",\"node5\":\"Spinner_node5__17m6e\",\"node4\":\"Spinner_node4__FVRBd\",\"node3\":\"Spinner_node3__2Cfot\",\"node2\":\"Spinner_node2__feALn\",\"node1\":\"Spinner_node1__14Y-l\",\"loading\":\"Spinner_loading__3Vskk\",\"loading-spinner\":\"Spinner_loading-spinner__3TSSM\"};","/**\n * Provides functions to map to translated strings.\n *\n * Usage:\n * ```\n * import $L, {toIString} from '@enact/i18n/$L';\n * $L('Close');        // => \"Close\" in the current locale\n * toIString('Close'); // => an ilib IString representing \"Close\" in the current locale\n * ```\n *\n * @module i18n/$L\n * @exports $L\n * @exports $toIString\n */\n\nimport '../src/glue';\nimport {getIStringFromBundle, getResBundle} from '../src/resBundle';\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {ilib.IString} The translated string\n */\nfunction toIString (str) {\n\tconst rb = getResBundle();\n\n\treturn getIStringFromBundle(str, rb);\n}\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {String} The translated string\n */\nfunction $L (str) {\n\treturn String(toIString(str));\n}\n\nexport default $L;\nexport {\n\t$L,\n\ttoIString\n};\n","import {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport clamp from 'ramda/src/clamp';\nimport {useCallback, useEffect, useRef} from 'react';\n\nconst\n\tisDown = is('down'),\n\tisEnter = is('enter'),\n\tisLeft = is('left'),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tisRight = is('right'),\n\tisUp = is('up'),\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useEventKey = (props, instances, context) => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tconst findSpottableItem = useCallback((indexFrom, indexTo) => {\n\t\tconst {dataSize} = props;\n\t\tif (indexFrom < 0 && indexTo < 0 || indexFrom >= dataSize && indexTo >= dataSize) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn clamp(0, dataSize - 1, indexFrom);\n\t\t}\n\t}, [props]);\n\n\tconst getNextIndex = useCallback(({index, keyCode, repeat}) => {\n\t\tconst {dataSize, rtl, wrap} = props;\n\t\tconst {scrollContentHandle} = instances;\n\t\tconst {isPrimaryDirectionVertical, dimensionToExtent} = scrollContentHandle.current;\n\t\tconst column = index % dimensionToExtent;\n\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\tconst isDownKey = isDown(keyCode);\n\t\tconst isLeftMovement = (!rtl && isLeft(keyCode)) || (rtl && isRight(keyCode));\n\t\tconst isRightMovement = (!rtl && isRight(keyCode)) || (rtl && isLeft(keyCode));\n\t\tconst isUpKey = isUp(keyCode);\n\t\tconst isNextRow = index + dimensionToExtent < dataSize;\n\t\tconst isNextAdjacent = column < dimensionToExtent - 1 && index < (dataSize - 1);\n\t\tconst isBackward = (\n\t\t\tisPrimaryDirectionVertical && isUpKey ||\n\t\t\t!isPrimaryDirectionVertical && isLeftMovement ||\n\t\t\tnull\n\t\t);\n\t\tconst isForward = (\n\t\t\tisPrimaryDirectionVertical && isDownKey ||\n\t\t\t!isPrimaryDirectionVertical && isRightMovement ||\n\t\t\tnull\n\t\t);\n\t\tlet isWrapped = false;\n\t\tlet nextIndex = -1;\n\t\tlet targetIndex = -1;\n\n\t\tif (index >= 0) {\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tif (isUpKey && row) {\n\t\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t\t} else if (isDownKey && isNextRow) {\n\t\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t\t} else if (isLeftMovement && column) {\n\t\t\t\t\ttargetIndex = index - 1;\n\t\t\t\t} else if (isRightMovement && isNextAdjacent) {\n\t\t\t\t\ttargetIndex = index + 1;\n\t\t\t\t}\n\t\t\t} else if (isLeftMovement && row) {\n\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t} else if (isRightMovement && isNextRow) {\n\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t} else if (isUpKey && column) {\n\t\t\t\ttargetIndex = index - 1;\n\t\t\t} else if (isDownKey && isNextAdjacent) {\n\t\t\t\ttargetIndex = index + 1;\n\t\t\t}\n\n\t\t\tif (targetIndex >= 0) {\n\t\t\t\tnextIndex = targetIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (!repeat && nextIndex === -1 && wrap) {\n\t\t\tif (isForward && findSpottableItem((row + 1) * dimensionToExtent, dataSize) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(0, index);\n\t\t\t\tisWrapped = true;\n\t\t\t} else if (isBackward && findSpottableItem(-1, row * dimensionToExtent - 1) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(dataSize, index);\n\t\t\t\tisWrapped = true;\n\t\t\t}\n\t\t}\n\n\t\treturn {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex};\n\t}, [findSpottableItem, props, instances]);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {scrollContainerRef, scrollContentHandle} = instances;\n\t\tconst {\n\t\t\thandle5WayKeyUp,\n\t\t\thandleDirectionKeyDown,\n\t\t\thandlePageUpDownKeyDown,\n\t\t\tspotlightAcceleratorProcessKey\n\t\t} = context;\n\n\t\tfunction handleKeyDown (ev) {\n\t\t\tconst {keyCode, target} = ev;\n\t\t\tconst direction = getDirection(keyCode);\n\n\t\t\tif (direction) {\n\t\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\t\tif (spotlightAcceleratorProcessKey(ev)) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t} else {\n\t\t\t\t\tconst {spotlightId} = props;\n\t\t\t\t\tconst targetIndex = target.dataset.index;\n\t\t\t\t\tconst isNotItem = (\n\t\t\t\t\t\t// if target has an index, it must be an item\n\t\t\t\t\t\t!targetIndex &&\n\t\t\t\t\t\t// if it lacks an index and is inside the scroller, we need to handle this\n\t\t\t\t\t\ttarget.matches(`[data-spotlight-id=\"${spotlightId}\"] *`)\n\t\t\t\t\t);\n\t\t\t\t\tconst index = !isNotItem ? getNumberValue(targetIndex) : -1;\n\t\t\t\t\tconst candidate = getTargetByDirectionFromElement(direction, target);\n\t\t\t\t\tconst candidateIndex = candidate && candidate.dataset && getNumberValue(candidate.dataset.index);\n\t\t\t\t\tlet isLeaving = false;\n\n\t\t\t\t\tif (isNotItem) { // if the focused node is not an item\n\t\t\t\t\t\tif (!utilDOM.containsDangerously(ev.currentTarget, candidate)) { // if the candidate is out of a list\n\t\t\t\t\t\t\tisLeaving = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index >= 0 && candidateIndex !== index) { // the focused node is an item and focus will move out of the item\n\t\t\t\t\t\tconst {repeat} = ev;\n\t\t\t\t\t\tconst {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex} = getNextIndex({index, keyCode, repeat});\n\n\t\t\t\t\t\tif (nextIndex >= 0) { // if the candidate is another item\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'acceleratedKeyDown', {isWrapped, keyCode, nextIndex, repeat, target});\n\t\t\t\t\t\t} else { // if the candidate is not found\n\t\t\t\t\t\t\tconst {dataSize, focusableScrollbar, isHorizontalScrollbarVisible, isVerticalScrollbarVisible} = props;\n\t\t\t\t\t\t\tconst {dimensionToExtent, isPrimaryDirectionVertical} = scrollContentHandle.current;\n\t\t\t\t\t\t\tconst column = index % dimensionToExtent;\n\t\t\t\t\t\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\t\t\t\t\t\tconst directions = {};\n\t\t\t\t\t\t\tlet isScrollbarVisible;\n\n\t\t\t\t\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\t\t\t\t\tdirections.left = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.right = isRightMovement;\n\t\t\t\t\t\t\t\tdirections.up = isUpKey;\n\t\t\t\t\t\t\t\tdirections.down = isDownKey;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isVerticalScrollbarVisible;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdirections.left = isUpKey;\n\t\t\t\t\t\t\t\tdirections.right = isDownKey;\n\t\t\t\t\t\t\t\tdirections.up = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.down = isRightMovement;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isHorizontalScrollbarVisible;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisLeaving =\n\t\t\t\t\t\t\t\tdirections.up && row === 0 ||\n\t\t\t\t\t\t\t\tdirections.down && row === Math.floor((dataSize - 1) % dataSize / dimensionToExtent) ||\n\t\t\t\t\t\t\t\tdirections.left && column === 0 ||\n\t\t\t\t\t\t\t\tdirections.right && (!focusableScrollbar || !isScrollbarVisible) && (column === dimensionToExtent - 1 || index === dataSize - 1 && row === 0);\n\n\t\t\t\t\t\t\tif (repeat && isLeaving) { // if focus is about to leave items by holding down an arrowy key\n\t\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\t} else if (!isLeaving) {\n\t\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyDown', {direction, keyCode, repeat, target});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeaving) {\n\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyLeave');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\thandlePageUpDownKeyDown();\n\t\t\t}\n\t\t}\n\n\t\tfunction handleKeyUp ({keyCode}) {\n\t\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\t\thandle5WayKeyUp();\n\t\t\t}\n\t\t}\n\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\tutilEvent('keyup').addEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\t\tutilEvent('keyup').removeEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\t\t};\n\t}, [getNextIndex, props, instances, context]);\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useEffect} from 'react';\n\nconst usePreventScroll = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {rtl, scrollMode} = props;\n\t\tconst {scrollContentRef} = instances;\n\t\tconst scrollContentNode = scrollContentRef.current;\n\n\t\tif (scrollMode === 'translate' && scrollContentNode) {\n\t\t\tconst preventScroll = () => {\n\t\t\t\tscrollContentNode.scrollTop = 0;\n\t\t\t\tscrollContentNode.scrollLeft = rtl ? scrollContentNode.scrollWidth : 0;\n\t\t\t};\n\n\t\t\tutilEvent('scroll').addEventListener(scrollContentNode, preventScroll);\n\n\t\t\treturn () => {\n\t\t\t\t// remove a function for preventing native scrolling by Spotlight\n\t\t\t\tutilEvent('scroll').removeEventListener(scrollContentNode, preventScroll);\n\t\t\t};\n\t\t}\n\t}, [props, instances]);\n};\n\nexport default usePreventScroll;\nexport {\n\tusePreventScroll\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction lastFocusedPersist () {\n\t\t\tconst {spottable: {current: {lastFocusedIndex}}} = instances;\n\n\t\t\tif (lastFocusedIndex != null) {\n\t\t\t\treturn {\n\t\t\t\t\tcontainer: false,\n\t\t\t\t\telement: true,\n\t\t\t\t\tkey: lastFocusedIndex\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfunction lastFocusedRestore ({key}, all) {\n\t\t\tconst placeholder = all.find(el => 'vlPlaceholder' in el.dataset);\n\n\t\t\tif (placeholder) {\n\t\t\t\tplaceholder.dataset.index = key;\n\n\t\t\t\treturn placeholder;\n\t\t\t}\n\n\t\t\treturn all.reduce((focused, node) => {\n\t\t\t\treturn focused || Number(node.dataset.index) === key && node;\n\t\t\t}, null);\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tconst {spacing, spotlightId} = props;\n\n\t\t\tSpotlight.set(spotlightId, {\n\t\t\t\tenterTo: 'last-focused',\n\t\t\t\t/*\n\t\t\t\t * Returns the data-index as the key for last focused\n\t\t\t\t */\n\t\t\t\tlastFocusedPersist,\n\n\t\t\t\t/*\n\t\t\t\t * Restores the data-index into the placeholder if its the only element. Tries to find a\n\t\t\t\t * matching child otherwise.\n\t\t\t\t */\n\t\t\t\tlastFocusedRestore,\n\n\t\t\t\t/*\n\t\t\t\t * Directs spotlight focus to favor straight elements that are within range of `spacing`\n\t\t\t\t * over oblique elements, like scroll buttons.\n\t\t\t\t */\n\t\t\t\tobliqueMultiplier: spacing > 0 ? spacing : 1\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, instances]);\n};\n\nconst getNumberValue = (index) => {\n\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\tlet number = +index;\n\t// should return -1 if index is not a number or a negative value\n\treturn number >= 0 ? number : -1;\n};\n\nconst useSpotlightRestore = (props, instances, context) => {\n\tconst {scrollContentRef, spottable} = instances;\n\tconst {focusByIndex, getItemNode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tpreservedIndex: false,\n\t\tlastSpotlightDirection: null,\n\t\trestoreLastFocused: false\n\t});\n\n\t// Hooks\n\n\tuseEffect(restoreFocus);\n\n\t// Functions\n\n\tfunction handlePlaceholderFocus (ev) {\n\t\tconst placeholder = ev.currentTarget;\n\n\t\tif (placeholder) {\n\t\t\tconst index = placeholder.dataset.index;\n\n\t\t\tif (index) {\n\t\t\t\tmutableRef.current.preservedIndex = getNumberValue(index);\n\t\t\t\tmutableRef.current.lastSpotlightDirection = null;\n\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isPlaceholderFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && current.dataset.vlPlaceholder && utilDOM.containsDangerously(scrollContentRef.current, current)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction restoreFocus () {\n\t\tif (\n\t\t\tmutableRef.current.restoreLastFocused &&\n\t\t\t!isPlaceholderFocused()\n\t\t) {\n\t\t\tconst\n\t\t\t\t{spotlightId} = props,\n\t\t\t\titemNode = getItemNode(mutableRef.current.preservedIndex);\n\n\t\t\tif (itemNode) {\n\t\t\t\t// if we're supposed to restore focus and virtual list has positioned a set of items\n\t\t\t\t// that includes lastFocusedIndex, clear the indicator\n\t\t\t\tmutableRef.current.restoreLastFocused = false;\n\n\t\t\t\t// try to focus the last focused item\n\t\t\t\tspottable.current.isScrolledByJump = true;\n\t\t\t\tconst foundLastFocused = focusByIndex(mutableRef.current.preservedIndex, mutableRef.current.lastSpotlightDirection);\n\t\t\t\tspottable.current.isScrolledByJump = false;\n\n\t\t\t\t// but if that fails (because it isn't found or is disabled), focus the container so\n\t\t\t\t// spotlight isn't lost\n\t\t\t\tif (!foundLastFocused) {\n\t\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleRestoreLastFocus ({firstIndex, lastIndex}) {\n\t\tif (mutableRef.current.restoreLastFocused && mutableRef.current.preservedIndex >= firstIndex && mutableRef.current.preservedIndex <= lastIndex) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction updateStatesAndBounds ({dataSize, moreInfo, numOfItems}) {\n\t\treturn (mutableRef.current.restoreLastFocused && numOfItems > 0 && mutableRef.current.preservedIndex < dataSize && (\n\t\t\tmutableRef.current.preservedIndex < moreInfo.firstVisibleIndex || mutableRef.current.preservedIndex > moreInfo.lastVisibleIndex\n\t\t));\n\t}\n\n\tfunction setPreservedIndex (index, direction = null) {\n\t\tmutableRef.current.preservedIndex = index;\n\t\tmutableRef.current.lastSpotlightDirection = direction;\n\t\tmutableRef.current.restoreLastFocused = true;\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","import Spotlight, {getDirection} from '@enact/spotlight';\nimport Accelerator from '@enact/spotlight/Accelerator';\nimport Pause from '@enact/spotlight/Pause';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {Spottable} from '@enact/spotlight/Spottable';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport React, {useCallback, useEffect, useRef} from 'react';\n\nimport {dataIndexAttribute} from '../useScroll';\n\nimport {useEventKey} from './useEvent';\nimport usePreventScroll from './usePreventScroll';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst SpotlightAccelerator = new Accelerator();\nconst SpotlightPlaceholder = Spottable('div');\n\nconst\n\tnop = () => {},\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle} = instances;\n\tconst getItemNode = (index) => {\n\t\tconst itemNode = itemRefs.current[index % scrollContentHandle.current.state.numOfItems];\n\t\treturn (itemNode && parseInt(itemNode.dataset.index) === index) ? itemNode : null;\n\t};\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisScrolledBy5way: false,\n\t\tisScrolledByJump: false,\n\t\tisWrappedBy5way: false,\n\t\tlastFocusedIndex: null,\n\t\tpause: new Pause('VirtualListBasic')\n\t});\n\n\tconst {pause} = mutableRef.current;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, {spottable: mutableRef});\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey(props, instances, {\n\t\thandlePageUpDownKeyDown: () => {\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t},\n\t\thandleDirectionKeyDown: (ev, eventType, param) => {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase 'acceleratedKeyDown':\n\t\t\t\t\tonAcceleratedKeyDown(param);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyDown':\n\t\t\t\t\tif (Spotlight.move(param.direction)) {\n\t\t\t\t\t\tconst nextTargetIndex = Spotlight.getCurrent().dataset.index;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\t\tif (typeof nextTargetIndex === 'string') {\n\t\t\t\t\t\t\tonAcceleratedKeyDown({...param, nextIndex: getNumberValue(nextTargetIndex)});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyLeave':\n\t\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandle5WayKeyUp: () => {\n\t\t\tSpotlightAccelerator.reset();\n\t\t},\n\t\tspotlightAcceleratorProcessKey: (ev) => {\n\t\t\treturn SpotlightAccelerator.processKey(ev, nop);\n\t\t}\n\t});\n\n\tconst {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t} = useSpotlightRestore(props, {...instances, spottable: mutableRef}, {focusByIndex, getItemNode});\n\n\tfunction pauseSpotlight (bool) {\n\t\tif (bool) {\n\t\t\tpause.pause();\n\t\t} else {\n\t\t\tpause.resume();\n\t\t}\n\t}\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(handleGlobalKeyDown);\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, handleGlobalKeyDown, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tfunction handleGlobalKeyDown (ev) {\n\t\t// To prevent scrolling by native scroller\n\t\tif (scrollMode === 'native') {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t}\n\n\t\tsetContainerDisabled(false);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// TODO: Fix eslint\n\t\t\tpause.resume(); // eslint-disable-line react-hooks/exhaustive-deps\n\t\t\tSpotlightAccelerator.reset();\n\n\t\t\tsetContainerDisabled(false);\n\t\t};\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\t// Functions\n\n\tfunction onAcceleratedKeyDown ({isWrapped, keyCode, nextIndex, repeat, target}) {\n\t\tconst {cbScrollTo, wrap} = props;\n\t\tconst {dimensionToExtent, primary: {clientSize, itemSize}, scrollPosition, scrollPositionTarget} = scrollContentHandle.current;\n\t\tconst index = getNumberValue(target.dataset.index);\n\t\tconst direction = getDirection(keyCode);\n\n\t\tmutableRef.current.isScrolledBy5way = false;\n\t\tmutableRef.current.isScrolledByJump = false;\n\n\t\tif (nextIndex >= 0 && index >= 0) {\n\t\t\tconst\n\t\t\t\trow = Math.floor(index / dimensionToExtent),\n\t\t\t\tnextRow = Math.floor(nextIndex / dimensionToExtent),\n\t\t\t\tstart = scrollContentHandle.current.getGridPosition(nextIndex).primaryPosition,\n\t\t\t\tend = props.itemSizes ? scrollContentHandle.current.getItemBottomPosition(nextIndex) : start + itemSize,\n\t\t\t\tstartBoundary = (scrollMode === 'native') ? scrollPosition : scrollPositionTarget,\n\t\t\t\tendBoundary = startBoundary + clientSize;\n\n\t\t\tmutableRef.current.lastFocusedIndex = nextIndex;\n\n\t\t\tif (start >= startBoundary && end <= endBoundary) {\n\t\t\t\t// The next item could be still out of viewport. So we need to prevent scrolling into view with `isScrolledBy5way` flag.\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\t} else if (row === nextRow) {\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t} else {\n\t\t\t\tconst itemNode = getItemNode(nextIndex);\n\t\t\t\tconst stickTo = Math.abs(endBoundary - end) < Math.abs(startBoundary - start) ? 'end' : 'start';\n\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tmutableRef.current.isWrappedBy5way = isWrapped;\n\n\t\t\t\tif (isWrapped && wrap === true && itemNode === null) {\n\t\t\t\t\tpause.pause();\n\t\t\t\t\ttarget.blur();\n\t\t\t\t}\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\n\t\t\t\tcbScrollTo({\n\t\t\t\t\tindex: nextIndex,\n\t\t\t\t\tstickTo,\n\t\t\t\t\tanimate: !(isWrapped && wrap === 'noAnimation')\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!repeat && Spotlight.move(direction)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t}\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\treturn Spotlight.focus(node);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction focusByIndex (index, direction) {\n\t\tconst itemNode = getItemNode(index);\n\t\tlet returnVal = false;\n\n\t\tif (!itemNode && index >= 0 && index < props.dataSize) {\n\t\t\t// Item is valid but since the the dom doesn't exist yet, we set the index to focus after the ongoing update\n\t\t\tsetPreservedIndex(index, direction);\n\t\t} else {\n\t\t\tconst\n\t\t\t\tcurrent = Spotlight.getCurrent(),\n\t\t\t\tcandidate = current ? getTargetByDirectionFromElement(direction, current) : itemNode;\n\n\t\t\t// Remove any preservedIndex\n\t\t\tsetPreservedIndex(-1);\n\n\t\t\tif (mutableRef.current.isWrappedBy5way) {\n\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\tmutableRef.current.isWrappedBy5way = false;\n\t\t\t}\n\n\t\t\tpause.resume();\n\t\t\tif (utilDOM.containsDangerously(itemNode, candidate)) {\n\t\t\t\treturnVal = focusOnNode(candidate);\n\t\t\t} else {\n\t\t\t\treturnVal = focusOnNode(itemNode);\n\t\t\t}\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\tmutableRef.current.isScrolledByJump = false;\n\t\t}\n\n\t\treturn returnVal;\n\t}\n\n\tfunction calculatePositionOnFocus ({item, scrollPosition = scrollContentHandle.current.scrollPosition}) {\n\t\tconst\n\n\t\t\t{pageScroll} = props,\n\t\t\t{state: {numOfItems}, primary} = scrollContentHandle.current,\n\t\t\toffsetToClientEnd = primary.clientSize - primary.itemSize,\n\t\t\tfocusedIndex = getNumberValue(item.getAttribute(dataIndexAttribute));\n\n\t\tif (focusedIndex >= 0) {\n\t\t\tlet gridPosition = scrollContentHandle.current.getGridPosition(focusedIndex);\n\n\t\t\tif (numOfItems > 0 && focusedIndex % numOfItems !== mutableRef.current.lastFocusedIndex % numOfItems) {\n\t\t\t\tconst itemNode = getItemNode(mutableRef.current.lastFocusedIndex);\n\n\t\t\t\tif (itemNode) {\n\t\t\t\t\titemNode.blur();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.lastFocusedIndex = focusedIndex;\n\n\t\t\tif (primary.clientSize >= primary.itemSize) {\n\t\t\t\tif (gridPosition.primaryPosition > scrollPosition + offsetToClientEnd) { // forward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? 0 : offsetToClientEnd;\n\t\t\t\t} else if (gridPosition.primaryPosition >= scrollPosition) { // inside of client\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This code uses the trick to change the target position slightly which will not affect the actual result\n\t\t\t\t\t\t// since a browser ignore `scrollTo` method if the target position is same as the current position.\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition + (scrollContentHandle.current.scrollPosition === scrollPosition ? 0.1 : 0);\n\t\t\t\t\t}\n\t\t\t\t} else { // backward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? offsetToClientEnd : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Since the result is used as a target position to be scrolled,\n\t\t\t// scrondaryPosition should be 0 here.\n\t\t\tgridPosition.secondaryPosition = 0;\n\n\t\t\treturn scrollContentHandle.current.gridPositionToItemPosition(gridPosition);\n\t\t}\n\t}\n\n\tfunction shouldPreventScrollByFocus () {\n\t\treturn ((scrollMode === 'translate') ? (mutableRef.current.isScrolledBy5way) : (mutableRef.current.isScrolledBy5way || mutableRef.current.isScrolledByJump));\n\t}\n\n\tfunction setLastFocusedNode (node) {\n\t\tmutableRef.current.lastFocusedIndex = node.dataset && getNumberValue(node.dataset.index);\n\t}\n\n\tfunction getScrollBounds () {\n\t\treturn scrollContentHandle.current.getScrollBounds();\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nconst useThemeVirtualList = (props) => {\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef} = props;\n\n\t// Hooks\n\n\tconst instance = {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef};\n\n\tconst {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t} = useSpottable(props, instance);\n\n\tusePreventScroll(props, instance);\n\n\tconst handle = {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus\n\t};\n\n\tprops.setThemeScrollContentHandle(handle);\n\n\t// Render\n\n\tconst {itemRenderer, ...rest} = props;\n\n\tdelete rest.focusableScrollbar;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.scrollContainerRef;\n\tdelete rest.scrollContentHandle;\n\tdelete rest.spotlightId;\n\tdelete rest.wrap;\n\n\treturn {\n\t\t...rest,\n\t\titemRenderer: ({index, ...itemRest}) => (\n\t\t\titemRenderer({\n\t\t\t\t...itemRest,\n\t\t\t\t[dataIndexAttribute]: index,\n\t\t\t\tindex\n\t\t\t})\n\t\t),\n\t\tplaceholderRenderer: (primary) => {\n\t\t\treturn placeholderRenderer({\n\t\t\t\thandlePlaceholderFocus,\n\t\t\t\tprimary\n\t\t\t});\n\t\t},\n\t\tonUpdateItems: handleRestoreLastFocus,\n\t\tupdateStatesAndBounds: updateStatesAndBounds\n\t};\n};\n\n/* eslint-disable enact/prop-types */\nfunction placeholderRenderer ({\n\thandlePlaceholderFocus,\n\tprimary\n}) {\n\treturn (primary ? null : (\n\t\t<SpotlightPlaceholder\n\t\t\tdata-index={0}\n\t\t\tdata-vl-placeholder\n\t\t\tkey=\"placeholder\"\n\t\t\t// a zero width/height element can't be focused by spotlight so we're giving\n\t\t\t// the placeholder a small size to ensure it is navigable\n\t\t\tonFocus={handlePlaceholderFocus}\n\t\t\tstyle={{width: 10}}\n\t\t/>\n\t));\n}\n/* eslint-enable enact/prop-types */\n\nexport default useThemeVirtualList;\nexport {\n\tuseThemeVirtualList\n};\n","/**\n * Provides Agate-themed virtual list components and behaviors.\n *\n * @module agate/VirtualList\n * @exports VirtualGridList\n * @exports VirtualList\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport {useThemeVirtualList} from './useThemeVirtualList';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollable and spottable virtual list component.\n *\n * @class VirtualList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualList = ({itemSize, role, ...rest}) => {\n\tconst props = itemSize && itemSize.minSize ?\n\t\t{\n\t\t\titemSize: itemSize.minSize,\n\t\t\titemSizes: itemSize.size\n\t\t} :\n\t\t{\n\t\t\titemSize\n\t\t};\n\n\twarning(\n\t\t!rest.itemSizes || !rest.cbScrollTo,\n\t\t'VirtualList with `minSize` in `itemSize` prop does not support `cbScrollTo` prop'\n\t);\n\n\t// Hooks\n\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll({...rest, ...props});\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'VirtualList';\n\nVirtualList.propTypes = /** @lends agate/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualList; valid value is a number generally.\n\t * For different item size, value is an object that has `minSize`\n\t * and `size` as properties.\n\t * If the direction for the list is vertical, itemSize means the height of an item.\n\t * For horizontal, it means the width of an item.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualList itemSize={ri.scale(144)} />\n\t * ```\n\t *\n\t * @type {Number|ui/VirtualList.itemSizesShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: PropTypes.oneOfType([PropTypes.number, itemSizesShape]).isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * The array for individually sized items.\n\t *\n\t * @type {Number[]}\n\t * @private\n\t */\n\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualList\n\t\t)\n\t)\n);\n\nVirtualList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\n/**\n * An Agate-styled scrollable and spottable virtual grid list component.\n *\n * @class VirtualGridList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualGridList = ({role, ...rest}) => {\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(rest);\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends agate/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualGridList; valid value is an object that has `minWidth`\n\t * and `minHeight` as properties.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualGridList\n\t * \titemSize={{\n\t * \t\tminWidth: ri.scale(360),\n\t * \t\tminHeight: ri.scale(540)\n\t * \t}}\n\t * />\n\t * ```\n\t *\n\t * @type {ui/VirtualList.gridListItemSizeShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: gridListItemSizeShape.isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualGridList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualGridList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t *\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualGridList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualGridList\n\t\t)\n\t)\n);\n\nVirtualGridList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\nexport default VirtualList;\nexport {\n\tVirtualGridList,\n\tVirtualList\n};\n","/**\n * A component for instantiating a section of content with a title.\n *\n * @example\n * <Heading spacing=\"none\">\n *   A Content Section Heading\n * </Heading>\n *\n * @module ui/Heading\n * @exports Heading\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * @class Heading\n * @memberof ui/Heading\n * @ui\n * @public\n */\nconst Heading = kind({\n\tname: 'ui:Heading',\n\n\tpropTypes: /** @lends ui/Heading.Heading.prototype */ {\n\t\t/**\n\t\t * The text for the label of the Heading.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `heading` - The root component class\n\t\t * * `title` - Applied when `size` is set to \"title\"\n\t\t * * `subtitle` - Applied when `size` is set to \"subtitle\"\n\t\t * * `large` - Applied when `size` is set to \"large\"\n\t\t * * `medium` - Applied when `size` is set to \"medium\"\n\t\t * * `small` - Applied when `size` is set to \"small\"\n\t\t * * `tiny` - Applied when `size` is set to \"tiny\"\n\t\t * * `largeSpacing` - Applied when `spacing` is set to \"large\"\n\t\t * * `mediumSpacing` - Applied when `spacing` is set to \"medium\"\n\t\t * * `smallSpacing` - Applied when `spacing` is set to \"small\"\n\t\t * * `noneSpacing` - Applied when `spacing` is set to \"none\"\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Set the size of this component.\n\t\t *\n\t\t * * `'title'` and `'subtitle'` are generally considered to be used only once on a given screen.\n\t\t * * `'large'`, `'medium'`, `'small'`, and `'tiny'` are typically used as section headings\n\t\t * for content on a screen, starting with `'large'` for the first tier of information\n\t\t * followed by `'medium'` for the next, and so fourth.\n\t\t *\n\t\t * If the `spacing` prop is not set (defaulting to \"auto\"), these values automatically set\n\t\t * the spacing to the correlated names.\n\t\t *\n\t\t * @type {('title'|'subtitle'|'large'|'medium'|'small'|'tiny')}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['title', 'subtitle', 'large', 'medium', 'small', 'tiny']),\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * These have no built-in measurements, as they are intended to be defined by the theme\n\t\t * consuming this UI element. The values correlate with customizable classes made available\n\t\t * by this component's `css` prop.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` (default) - Lets this value be based on the `size` prop for automatic usage.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'medium',\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'heading',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\t// This logic is intended to have the following result:\n\t\t// Apply a class for the current 'size'. Use the 'size' to determine the spacing, unless a\n\t\t// \"non-auto\" spacing value was specified.\n\t\tclassName: ({size, spacing, styler}) => styler.append(size, {[(spacing !== 'auto' ? spacing : (size || 'none')) + 'Spacing']: true}),\n\t\tTag: ({size}) => {\n\t\t\tswitch (size) {\n\t\t\t\tcase 'title':    return 'h1';\n\t\t\t\tcase 'subtitle': return 'h2';\n\t\t\t\tcase 'large':    return 'h3';\n\t\t\t\tcase 'medium':   return 'h4';\n\t\t\t\tcase 'small':    return 'h5';\n\t\t\t\tcase 'tiny':     return 'h6';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({Tag, ...rest}) => {\n\t\tdelete rest.size;\n\t\tdelete rest.spacing;\n\n\t\treturn (\n\t\t\t<Tag {...rest} />\n\t\t);\n\t}\n});\n\nexport default Heading;\nexport {\n\tHeading\n};\n","/**\n * Agate styled labeled Heading components and behaviors\n *\n * @example\n * <Heading\n *   size=\"large\"\n *   spacing=\"small\"\n * >\n *   A Content Section Heading\n * </Heading>\n *\n * @module agate/Heading\n * @exports Heading\n * @exports HeadingBase\n * @exports HeadingDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiHeading from '@enact/ui/Heading';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Heading]{@link agate/Heading.Heading}.\n *\n * @class HeadingBase\n * @memberof agate/Heading\n * @ui\n * @public\n */\nconst HeadingBase = kind({\n\tname: 'Heading',\n\n\tpropTypes: /** @lends agate/Heading.HeadingBase.prototype */ {\n\t\t/**\n\t\t * Set a custom color to be used by the Heading when `size` is \"title\".\n\t\t * Defaults to the current accent color if none is specified.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Adds a horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tshowLine: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` - Value is based on the `size` prop for automatic usage.\n\t\t * * `'title'` - Specifically assign the `'title'` spacing.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'title'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'title', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'heading'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({showLine, styler}) => styler.append({showLine}),\n\t\tstyle: ({color, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-heading-accent': color\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.color;\n\t\tdelete rest.showLine;\n\t\treturn UiHeading.inline({css, ...rest});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [HeadingBase]{@link agate/Heading.HeadingBase}.\n *\n * @hoc\n * @memberof agate/Heading\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst HeadingDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A labeled Heading component, ready to use in Agate applications.\n *\n * `Heading` may be used as a header to group related components.\n *\n * Usage:\n * ```\n * <Heading\n *   spacing=\"medium\"\n * >\n *   Related Settings\n * </Heading>\n * <CheckboxItem>A Setting</CheckboxItem>\n * <CheckboxItem>A Second Setting</CheckboxItem>\n * ```\n *\n * @class Heading\n * @memberof agate/Heading\n * @extends agate/Heading.HeadingBase\n * @mixes agate/Heading.HeadingDecorator\n * @ui\n * @public\n */\nconst Heading = HeadingDecorator(HeadingBase);\n\nexport default Heading;\nexport {\n\tHeading,\n\tHeadingBase,\n\tHeadingDecorator\n};\n","/* global ILIB_AGATE_PATH */\n\nimport {getIStringFromBundle} from '@enact/i18n/src/resBundle';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options = {}) {\n\tlet opts = options;\n\n\tif (typeof ILIB_AGATE_PATH !== 'undefined') {\n\t\topts.basePath = ILIB_AGATE_PATH;\n\t}\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\nfunction toIString (str) {\n\tlet rb = getResBundle();\n\n\tif (!rb) {\n\t\tcreateResBundle({sync: true, onLoad: setResBundle});\n\t\trb = getResBundle();\n\t}\n\n\treturn getIStringFromBundle(str, rb);\n}\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {String} The translated string\n */\nfunction $L (str) {\n\treturn String(toIString(str));\n}\n\nexport default $L;\nexport {\n\t$L,\n\tclearResBundle,\n\tcreateResBundle,\n\tsetResBundle\n};\n","import React from 'react';\nimport warning from 'warning';\n\n// ** WARNING ** This is an intentional but likely dangerous hack necessary to clone a child while\n// omitting the `slot` property. It relies on the black box structure of a React element which could\n// change breaking this code. Without it, the slot property will cascade to a DOM node causing a\n// React warning.\nfunction cloneElement (child, index) {\n\tconst newProps = Object.assign({}, child.props);\n\tdelete newProps.slot;\n\tnewProps.key = `slot-${index}`;\n\n\treturn React.createElement(child.type, newProps);\n}\n\nfunction distributeChild (child, index, slots, props) {\n\tlet c, slot;\n\tconst hasSlot = (name) => slots.indexOf(name) !== -1;\n\n\tif (!React.isValidElement(child)) {\n\t\treturn false;\n\t} else if (child.props.slot) {\n\t\tconst hasUserSlot = hasSlot(slot = child.props.slot);\n\t\twarning(hasUserSlot, 'The slot \"%s\" specified on %s does not exist', child.props.slot,\n\t\t\ttypeof child.type === 'string' ? child.type : (child.type.name || child.type.displayName || 'component')\n\t\t);\n\n\t\tif (hasUserSlot) {\n\t\t\tc = cloneElement(child, index);\n\t\t}\n\t} else if (hasSlot(slot = child.type.defaultSlot)) {\n\t\tc = child;\n\t} else if (hasSlot(slot = child.type)) {\n\t\tconst propNames = Object.keys(child.props);\n\t\tif (propNames.length === 1 && propNames[0] === 'children') {\n\t\t\tc = child.props.children;\n\t\t} else {\n\t\t\tc = child;\n\t\t}\n\t}\n\n\tif (c) {\n\t\tlet prop = props[slot];\n\t\tif (prop) {\n\t\t\tif (Array.isArray(prop)) {\n\t\t\t\tprop.push(c);\n\t\t\t} else {\n\t\t\t\tprop = [prop, c];\n\t\t\t}\n\t\t} else {\n\t\t\tprop = c;\n\t\t}\n\t\tprops[slot] = prop;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction distribute ({children, ...slots}) {\n\tconst slotNames = Object.keys(slots);\n\tconst props = {\n\t\tchildren\n\t};\n\n\tif (slotNames.length > 0) {\n\t\tconst remaining = [];\n\t\tReact.Children.forEach(children, (child, index) => {\n\t\t\tif (!distributeChild(child, index, slotNames, props)) {\n\t\t\t\tremaining.push(child);\n\t\t\t}\n\t\t});\n\n\t\t// we need to retain the children prop so that it can overwrite the value from props if the\n\t\t// author spreads the return of useSlots over props\n\t\tprops.children = remaining.length === 0 ? null : remaining;\n\t}\n\n\tslotNames.forEach(slot => {\n\t\tif (slots[slot] === undefined) { // eslint-disable-line no-undefined\n\t\t\tdelete slots[slot];\n\t\t}\n\t});\n\n\t// We handle fallback here (rather than at the props initialization) because distributeChild\n\t// will append to existing props and we want the distributed value to override the fallback\n\t// value.\n\treturn {\n\t\t...slots,\n\t\t...props\n\t};\n}\n\n/**\n * Configuration for `useSlots`\n *\n * @typedef {Object} useSlotsConfig\n * @memberof ui/Slottable\n * @property {Object} [slots] An object mapping slot names to default values. It must contain a\n *                            `children` key with an array of elements to be distributed into slots.\n * @private\n */\n\n/**\n * Distributes `children` into the configured `slots`.\n *\n * `useSlots` iterates over all of the `children` in `props` and distributes any children based on\n * the followig rules:\n *\n * * If the child has a `slot` property matching a valid slot, or\n * * If the component for the child has the `defaultSlot` static member matching a valid slot, or\n * * If the child component's type is a string matching a valid slot.\n *\n * When a child matches one of the above rules, it is removed from children and inserted into a prop\n * matching the name of the slot.\n *\n * *Special Conditions*\n *\n * * If multiple children match the same slot, the destination prop will be an array of children.\n * * If a value exists on `props` but not as a slot within `children`, the prop value is used as a\n *   fallback.\n * * If a value exists both on `props` and as a slot within `children`, the slot value(s) replaces\n *   the prop value.\n *\n * ```\n * function Component ({after, before, children, label, ...rest}) {\n *   const slots = useSlots({after, before, children, label});\n *\n *   return (\n *     <div {...rest} aria-label={label}>\n *       <span class=\"before\">{slots.before}</span>\n *       {slots.children}\n *       <span class=\"after\">{slots.after}</span>\n *     </div>\n *   );\n * }\n *\n * <Component label=\"descriptive label\">\n *   <Icon slot=\"before\">star</Icon>\n *   Some other content\n *   <Icon slot=\"after\">flag</Icon>\n * </Component>\n * ```\n *\n * @param {useSlotsConfig} config Configuration options\n * @returns {Object} A object whose keys are the slot names and values are the nodes from\n *                   `children`. If any nodes were not assigned to a slot, they will be returned in\n *                   the `children` prop. If no nodes remain, the `children` prop will be omitted.\n * @memberof ui/Slottable\n * @private\n */\nfunction useSlots (slots) {\n\treturn distribute(slots);\n}\n\nexport default useSlots;\nexport {\n\tuseSlots\n};\n","/**\n * Provides a higher-order component that render child components into pre-designated slots.\n *\n * See [SlotItem]{@link ui/SlotItem.SlotItemDecorator} for the use of `Slottable`.\n *\n * @module ui/Slottable\n * @exports Slottable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useSlots from './useSlots';\n\n/**\n * Default config for `Slottable`.\n *\n * @memberof ui/Slottable.Slottable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * Array of slot names which will be extracted from `children` and distributed to props.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Slottable.Slottable.defaultConfig\n\t */\n\tslots: null\n};\n\n/**\n * A higher-order component that allows wrapped components to separate children into pre-designated 'slots'.\n *\n * To use `Slottable`, you must configure it by passing in a config object with the `slots` member set to an\n * array of slot names.  Any children whose `slot` or `defaultSlot` property matches a named slot or whose\n * type matches a named slot will be placed into a property of the same name on the wrapped component.\n *\n * @class Slottable\n * @memberof ui/Slottable\n * @hoc\n * @public\n */\nconst Slottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst slots = config.slots;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function Slottable (props) {\n\t\t// extract the slots into a new object but populating the default value to be undefined so\n\t\t// the key exists in order to allow the current \"harmful\" behavior below. Must be undefined\n\t\t// in order to trigger defaultProps on downstream components.\n\t\tconst slotProps = {children: props.children};\n\t\tslots.forEach(k => (slotProps[k] = undefined)); // eslint-disable-line no-undefined\n\n\t\t// Slottable allows there to be other values in the destination slot and merges them.\n\t\t// However, consumers can't avoid key warnings when merging the two lists so we should\n\t\t// \"consider this harmful\" and not continue to support this with the hook and instead\n\t\t// encourage using the slot as the default with the prop as a fallback as implemented by the\n\t\t// hook.\n\t\tconst distributed = useSlots(slotProps);\n\t\tslots.forEach(slot => {\n\t\t\tconst dist = distributed[slot];\n\t\t\tconst prop = props[slot];\n\t\t\tif (prop != null && dist != null) {\n\t\t\t\tdistributed[slot] = [].concat(prop, dist);\n\t\t\t} else if (prop != null) {\n\t\t\t\tdistributed[slot] = prop;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Wrapped {...props} {...distributed} />\n\t\t);\n\t};\n});\n\nexport default Slottable;\nexport {\n\tSlottable,\n\tuseSlots\n};\n","/*\n * A javascript-based implementation of Spatial Navigation.\n *\n * Copyright (c) 2016 Luke Chang.\n * https://github.com/luke-chang/js-spatial-navigation\n *\n * Licensed under the MPL license.\n */\n\n/**\n * Exports the {@link spotlight.Spotlight} object used for controlling spotlight behavior and the\n * {@link spotlight.Spotlight.getDirection} function for mapping a keycode to a spotlight direction.\n *\n * The default export is {@link spotlight.Spotlight}.\n *\n * @module spotlight\n * @exports default Spotlight\n * @exports getDirection\n */\n\nimport {is} from '@enact/core/keymap';\nimport {isWindowReady} from '@enact/core/snapshot';\nimport platform from '@enact/core/platform';\nimport last from 'ramda/src/last';\n\nimport Accelerator from '../Accelerator';\nimport {spottableClass} from '../Spottable';\nimport {isPaused, pause, resume} from '../Pause';\n\nimport {\n\taddContainer,\n\tconfigureContainer,\n\tconfigureDefaults,\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerId,\n\tgetContainerLastFocusedElement,\n\tgetContainerNode,\n\tgetContainersForNode,\n\tgetLastContainer,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisContainer5WayHoldable,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerLastFocusedElement,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n} from './container';\n\nimport {\n\tgetLastPointerPosition,\n\tgetPointerMode,\n\thasPointerMoved,\n\tnotifyKeyDown,\n\tnotifyPointerMove,\n\tsetPointerMode\n} from './pointer';\n\nimport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n} from './target';\n\nimport {\n\tmatchSelector,\n\tparseSelector\n} from './utils';\n\nconst isDown = is('down');\nconst isEnter = is('enter');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\n/**\n * Translates keyCodes into 5-way direction descriptions (e.g. `'down'`)\n *\n * @function\n * @memberof spotlight\n * @param {Number} keyCode - Key code to analyze\n * @returns {String|false} - One of `'up'`, `'down'`, `'left'`, `'right'` or `false` if not a direction key\n * @public\n */\nconst getDirection = function (keyCode) {\n\treturn\tisDown(keyCode) && 'down' ||\n\t\t\tisLeft(keyCode) && 'left' ||\n\t\t\tisRight(keyCode) && 'right' ||\n\t\t\tisUp(keyCode) && 'up';\n};\n\n\nconst SpotlightAccelerator = new Accelerator();\n\n/**\n * Provides 5-way navigation and focus support\n *\n * ```\n * import Spotlight from '@enact/Spotlight';\n *\n * // get the currently focused component\n * const current = Spotlight.getCurrent();\n *\n * // focus an element by CSS selector\n * Spotlight.focus('.my-custom-class');\n *\n * // is `current` focusable?\n * const isFocused = Spotlight.isSpottable(current);\n * ```\n *\n * @type {Object}\n * @memberof spotlight\n * @public\n */\nconst Spotlight = (function () {\n\t'use strict';\n\n\t/*\n\t/* private vars\n\t*/\n\tlet _initialized = false;\n\tlet _duringFocusChange = false;\n\n\t/*\n\t * Whether a 5-way directional key is being held.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _5WayKeyHold = false;\n\n\t/*\n\t * Whether to set focus during the next window focus event\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _spotOnWindowFocus = false;\n\n\t/*\n\t * `true` when a pointer move event occurs during a keypress. Used to short circuit key down\n\t * handling until the next keyup occurs.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t */\n\tlet _pointerMoveDuringKeyPress = false;\n\n\t/*\n\t* protected methods\n\t*/\n\n\tfunction preventDefault (evt) {\n\t\tevt.preventDefault();\n\t\tevt.stopPropagation();\n\t\treturn false;\n\t}\n\n\tfunction shouldPreventNavigation () {\n\t\treturn isPaused() || getAllContainerIds().length === 0;\n\t}\n\n\tfunction getCurrent () {\n\t\tif (!isWindowReady()) return;\n\n\t\tlet activeElement = document.activeElement;\n\t\tif (activeElement && activeElement !== document.body) {\n\t\t\treturn activeElement;\n\t\t}\n\t}\n\n\t// An extension point for updating pointer mode based on the current platform.\n\t// Currently only webOS\n\tfunction setPlatformPointerMode () {\n\t\tconst palmSystem = window.PalmSystem;\n\t\tif (palmSystem && palmSystem.cursor) {\n\t\t\tsetPointerMode(palmSystem.cursor.visibility);\n\t\t}\n\t}\n\n\tfunction focusElement (elem, containerIds, fromPointer) {\n\t\tif (!elem) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ((getPointerMode() && !fromPointer)) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\treturn false;\n\t\t}\n\n\t\tlet currentFocusedElement = getCurrent();\n\n\t\tif (elem === currentFocusedElement) {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst focusOptions = isWithinOverflowContainer(elem, containerIds) ? {preventScroll: true} : null;\n\n\t\tlet silentFocus = function () {\n\t\t\telem.focus(focusOptions);\n\t\t\tfocusChanged(elem, containerIds);\n\t\t};\n\n\t\tif (_duringFocusChange) {\n\t\t\tsilentFocus();\n\t\t\treturn true;\n\t\t}\n\n\t\t_duringFocusChange = true;\n\n\t\tif (isPaused()) {\n\t\t\tsilentFocus();\n\t\t\t_duringFocusChange = false;\n\t\t\treturn true;\n\t\t}\n\n\t\telem.focus(focusOptions);\n\n\t\t_duringFocusChange = false;\n\n\t\tfocusChanged(elem, containerIds);\n\t\treturn true;\n\t}\n\n\tfunction focusChanged (elem, containerIds) {\n\t\tif (!containerIds || !containerIds.length) {\n\t\t\tcontainerIds = getContainersForNode(elem);\n\t\t}\n\t\tconst containerId = last(containerIds);\n\t\tif (containerId) {\n\t\t\tsetContainerLastFocusedElement(elem, containerIds);\n\t\t\tsetLastContainer(containerId);\n\t\t}\n\n\t\tif (__DEV__) {\n\t\t\tassignFocusPreview(elem);\n\t\t}\n\t}\n\n\tfunction restoreFocus () {\n\t\tconst lastContainerId = getLastContainer();\n\t\tlet next;\n\n\t\tif (lastContainerId) {\n\t\t\tconst position = getLastPointerPosition();\n\n\t\t\t// walk up the chain of containers from the last to attempt to find a target\n\t\t\tnext = getContainersForNode(getContainerNode(lastContainerId)).reverse();\n\n\t\t\t// only prepend last focused if it exists so that Spotlight.focus() doesn't receive\n\t\t\t// a falsy target\n\t\t\tconst lastFocused = getContainerConfig(lastContainerId).overflow && getNearestTargetFromPosition(position, lastContainerId) ||\n\t\t\t\tgetContainerLastFocusedElement(lastContainerId);\n\n\t\t\tif (lastFocused) {\n\t\t\t\tnext.unshift(lastFocused);\n\t\t\t}\n\t\t} else {\n\t\t\tnext = [rootContainerId];\n\t\t}\n\n\t\t// attempt to find a target starting with the last focused element in the last\n\t\t// container, followed by the last container, and finally the root container\n\t\treturn next.reduce((focused, target) => focused || Spotlight.focus(target), false);\n\t}\n\n\t// The below should be gated on non-production environment only.\n\tfunction assignFocusPreview (elem) {\n\t\tconst directions = ['up', 'right', 'down', 'left'],\n\t\t\tnextClassBase = spottableClass + '-next-';\n\n\t\t// Remove all previous targets\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextClass = nextClassBase + dir,\n\t\t\t\tprevElems = parseSelector('.' + nextClass);\n\t\t\tif (prevElems && prevElems.length !== 0) {\n\t\t\t\tprevElems.forEach(prevElem => prevElem.classList.remove(nextClass));\n\t\t\t}\n\t\t});\n\n\t\t// Find all next targets and identify them\n\t\tdirections.forEach((dir) => {\n\t\t\tconst nextElem = getTargetByDirectionFromElement(dir, elem);\n\t\t\tif (nextElem) {\n\t\t\t\tnextElem.classList.add(nextClassBase + dir);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction spotNextFromPoint (direction, position) {\n\t\tconst containerId = Spotlight.getActiveContainer();\n\t\tconst next = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (next) {\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcontainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tgetContainerLastFocusedElement(containerId)\n\t\t\t);\n\n\t\t\treturn focusElement(next, getContainersForNode(next));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction spotNext (direction, currentFocusedElement, currentContainerIds) {\n\t\tconst next = getTargetByDirectionFromElement(direction, currentFocusedElement);\n\n\t\tif (next) {\n\t\t\tconst currentContainerId = last(currentContainerIds);\n\t\t\tconst nextContainerIds = getContainersForNode(next);\n\n\t\t\t// prevent focus if 5-way is being held and the next element isn't wrapped by\n\t\t\t// the current element's immediate container\n\t\t\tif (_5WayKeyHold && nextContainerIds.indexOf(currentContainerId) < 0 && !isContainer5WayHoldable(currentContainerId)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tnotifyLeaveContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\tsetContainerPreviousTarget(\n\t\t\t\tcurrentContainerId,\n\t\t\t\tdirection,\n\t\t\t\tnext,\n\t\t\t\tcurrentFocusedElement\n\t\t\t);\n\n\t\t\tconst focused = focusElement(next, nextContainerIds);\n\n\t\t\tnotifyEnterContainer(\n\t\t\t\tdirection,\n\t\t\t\tcurrentFocusedElement,\n\t\t\t\tcurrentContainerIds,\n\t\t\t\tnext,\n\t\t\t\tnextContainerIds\n\t\t\t);\n\n\t\t\treturn focused;\n\t\t}\n\n\t\tnotifyLeaveContainerFail(direction, currentFocusedElement, currentContainerIds);\n\n\t\treturn false;\n\t}\n\n\tfunction onAcceleratedKeyDown (evt) {\n\t\tconst direction = getDirection(evt.keyCode);\n\n\t\tif (!direction) return;\n\n\t\tconst currentFocusedElement = getCurrent();\n\t\tconst currentContainerIds = getContainersForNode(currentFocusedElement);\n\n\t\tspotNext(direction, currentFocusedElement, currentContainerIds);\n\t}\n\n\tfunction onBlur () {\n\t\tconst current = getCurrent();\n\n\t\tif (current) {\n\t\t\tcurrent.blur();\n\t\t}\n\t\tSpotlight.setPointerMode(false);\n\t\t_spotOnWindowFocus = true;\n\t\t_pointerMoveDuringKeyPress = false;\n\t}\n\n\tfunction handleWebOSMouseEvent (ev) {\n\t\tif (!isPaused() && ev && ev.detail && ev.detail.type === 'Leave') {\n\t\t\tonBlur();\n\t\t}\n\t}\n\n\tfunction handleKeyboardStateChangeEvent ({visibility}) {\n\t\tif (!visibility) {\n\t\t\tsetPlatformPointerMode();\n\t\t}\n\t}\n\n\tfunction onFocus () {\n\t\t// Normally, there isn't focus here unless the window has been blurred above. On webOS, the\n\t\t// platform may focus the window after the app has already focused a component so we prevent\n\t\t// trying to focus something else (potentially) unless the window was previously blurred\n\t\tif (_spotOnWindowFocus) {\n\t\t\tsetPlatformPointerMode();\n\n\t\t\t// If the window was previously blurred while in pointer mode, the last active containerId may\n\t\t\t// not have yet set focus to its spottable elements. For this reason we can't rely on setting focus\n\t\t\t// to the last focused element of the last active containerId, so we use rootContainerId instead\n\t\t\tlet lastFocusedElement = getContainerLastFocusedElement(rootContainerId);\n\t\t\twhile (isContainer(lastFocusedElement)) {\n\t\t\t\t({lastFocusedElement} = getContainerConfig(lastFocusedElement));\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(lastFocusedElement)) {\n\t\t\t\t// If the last focused element was previously also disabled (or no longer exists), we\n\t\t\t\t// need to set focus somewhere\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t\t_spotOnWindowFocus = false;\n\t\t}\n\t}\n\n\tfunction onKeyUp (evt) {\n\t\t_pointerMoveDuringKeyPress = false;\n\t\tconst keyCode = evt.keyCode;\n\n\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t\t_5WayKeyHold = false;\n\t\t}\n\t}\n\n\tfunction handlePointerHide () {\n\t\tif (!getCurrent()) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction onKeyDown (evt) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyKeyDown(evt.keyCode);\n\t\t\treturn;\n\t\t}\n\n\t\tconst keyCode = evt.keyCode;\n\t\tconst direction = getDirection(keyCode);\n\t\tconst pointerHandled = notifyKeyDown(keyCode, handlePointerHide);\n\n\t\tif (pointerHandled || !(direction || isEnter(keyCode))) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isPaused() && !_pointerMoveDuringKeyPress) {\n\t\t\tif (getCurrent()) {\n\t\t\t\tSpotlightAccelerator.processKey(evt, onAcceleratedKeyDown);\n\t\t\t} else if (!spotNextFromPoint(direction, getLastPointerPosition())) {\n\t\t\t\trestoreFocus();\n\t\t\t}\n\t\t\t_5WayKeyHold = true;\n\t\t}\n\n\t\tif (direction) {\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onMouseMove ({target, clientX, clientY}) {\n\t\tif (shouldPreventNavigation()) {\n\t\t\tnotifyPointerMove(null, target, clientX, clientY);\n\t\t\treturn;\n\t\t}\n\n\t\tconst current = getCurrent();\n\t\tconst update = notifyPointerMove(current, target, clientX, clientY);\n\n\t\tif (update) {\n\t\t\tif (_5WayKeyHold) {\n\t\t\t\t_pointerMoveDuringKeyPress = true;\n\t\t\t}\n\n\t\t\tconst next = getNavigableTarget(target);\n\n\t\t\t// TODO: Consider encapsulating this work within focusElement\n\t\t\tif (next !== current) {\n\t\t\t\tif (next) {\n\t\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (current) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t\tsetLastContainerFromTarget(current, target);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onMouseOver (evt) {\n\t\tif (shouldPreventNavigation()) return;\n\n\t\tconst {target} = evt;\n\n\t\tif (getPointerMode() && hasPointerMoved(evt.clientX, evt.clientY)) {\n\t\t\tconst next = getNavigableTarget(target); // account for child controls\n\n\t\t\tif (next && next !== getCurrent()) {\n\t\t\t\tfocusElement(next, getContainersForNode(next), true);\n\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tpreventDefault(evt);\n\t\t}\n\t}\n\n\tfunction onTouchEnd (evt) {\n\t\tconst current = getCurrent();\n\t\tif (current && !current.contains(evt.target)) {\n\t\t\tcurrent.blur();\n\t\t}\n\t}\n\n\t/*\n\t * public methods\n\t */\n\tconst exports = /** @lends spotlight.Spotlight */ { // eslint-disable-line no-shadow\n\t\t/**\n\t\t * Initializes Spotlight. This is generally handled by\n\t\t * {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}.\n\t\t *\n\t\t * @param {Object} containerDefaults Default configuration for new spotlight containers\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tinitialize: function (containerDefaults) {\n\t\t\tif (!_initialized) {\n\t\t\t\twindow.addEventListener('blur', onBlur);\n\t\t\t\twindow.addEventListener('focus', onFocus);\n\t\t\t\twindow.addEventListener('keydown', onKeyDown);\n\t\t\t\twindow.addEventListener('keyup', onKeyUp);\n\t\t\t\twindow.addEventListener('mouseover', onMouseOver);\n\t\t\t\twindow.addEventListener('mousemove', onMouseMove);\n\n\t\t\t\tif (platform.touch) {\n\t\t\t\t\twindow.addEventListener('touchend', onTouchEnd);\n\t\t\t\t}\n\n\t\t\t\tif (platform.webos) {\n\t\t\t\t\twindow.top.document.addEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\t\twindow.top.document.addEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t\t}\n\n\t\t\t\tsetLastContainer(rootContainerId);\n\t\t\t\tconfigureDefaults(containerDefaults);\n\t\t\t\tconfigureContainer(rootContainerId);\n\t\t\t\t// by default, pointer mode is off but the platform's current state will override that\n\t\t\t\tsetPointerMode(false);\n\t\t\t\tsetPlatformPointerMode();\n\t\t\t\t_initialized = true;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Terminates Spotlight. This is generally handled by {@link spotlight.SpotlightRootDecorator}.\n\t\t *\n\t\t * @public\n\t\t */\n\t\tterminate: function () {\n\t\t\twindow.removeEventListener('blur', onBlur);\n\t\t\twindow.removeEventListener('focus', onFocus);\n\t\t\twindow.removeEventListener('keydown', onKeyDown);\n\t\t\twindow.removeEventListener('keyup', onKeyUp);\n\t\t\twindow.removeEventListener('mouseover', onMouseOver);\n\t\t\twindow.removeEventListener('mousemove', onMouseMove);\n\n\t\t\tif (platform.touch) {\n\t\t\t\twindow.removeEventListener('touchend', onTouchEnd);\n\t\t\t}\n\n\t\t\tif (platform.webos) {\n\t\t\t\twindow.top.document.removeEventListener('webOSMouse', handleWebOSMouseEvent);\n\t\t\t\twindow.top.document.removeEventListener('keyboardStateChange', handleKeyboardStateChangeEvent);\n\t\t\t}\n\t\t\tSpotlight.clear();\n\t\t\t_initialized = false;\n\t\t},\n\n\t\t/**\n\t\t * Resets spotlight container information\n\t\t *\n\t\t * @private\n\t\t */\n\t\tclear: function () {\n\t\t\tremoveAllContainers();\n\t\t\tsetDefaultContainer();\n\t\t\tsetLastContainer();\n\t\t\t_duringFocusChange = false;\n\t\t},\n\n\t\t// set(<config>);\n\t\t// set(<containerId>, <config>);\n\t\t/**\n\t\t * Sets the config for spotlight or the specified containerID\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tset: configureContainer,\n\n\t\t// add(<config>);\n\t\t// add(<containerId>, <config>);\n\t\t/**\n\t\t * Adds the config for a new container. The container ID may be passed in the configuration\n\t\t * object. If no container ID is supplied, a new container ID will be generated.\n\t\t *\n\t\t * @function\n\t\t * @param {String|Object} containerIdOrConfig  Configuration object or container ID\n\t\t * @param {Object}        [config]             Configuration object if container ID supplied\n\t\t *                                             in `containerIdOrConfig`\n\t\t * @returns {String} The container ID of the container\n\t\t * @public\n\t\t */\n\t\tadd: addContainer,\n\n\t\tunmount: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tunmountContainer(containerId);\n\t\t},\n\n\t\t/**\n\t\t * Removes a container from Spotlight\n\t\t *\n\t\t * @param {String} containerId Container ID to remove\n\t\t * @returns {Boolean} `true` if container removed, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tremove: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\t\t\tif (getContainerConfig(containerId)) {\n\t\t\t\tremoveContainer(containerId);\n\t\t\t\tif (getLastContainer() === containerId) {\n\t\t\t\t\tSpotlight.setActiveContainer(null);\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Disables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to disable\n\t\t * @returns {Boolean} `true` if container's selector rules are disabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tdisableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Enables the selector rules of the specified container\n\t\t *\n\t\t * @param {String} containerId Container ID selector rules to enable\n\t\t * @returns {Boolean} `true` if container's selector rules are enabled, `false` if container does not exist\n\t\t * @public\n\t\t */\n\t\tenableSelector: function (containerId) {\n\t\t\tif (isContainer(containerId)) {\n\t\t\t\tconfigureContainer(containerId, {selectorDisabled: false});\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Pauses Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tpause,\n\n\t\t/**\n\t\t * Resumes Spotlight\n\t\t *\n\t\t * @function\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tresume,\n\n\t\t// focus()\n\t\t// focus(<containerId>)\n\t\t// focus(<extSelector>)\n\t\t/**\n\t\t * Focuses the specified component ID, container ID, element selector, or the default\n\t\t * container.\n\t\t *\n\t\t * If Spotlight is in pointer mode, focus is not changed but `elem` will be set as the last\n\t\t * focused element of its spotlight containers.\n\t\t *\n\t\t * @param {String|Node} [elem] The spotlight ID or selector for either a spottable\n\t\t *  component or a spotlight container, or spottable node. If not supplied, the default\n\t\t *  container will be focused.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tfocus: function (elem) {\n\t\t\tlet target = elem;\n\t\t\tlet wasContainerId = false;\n\n\t\t\tif (!elem) {\n\t\t\t\ttarget = getTargetByContainer();\n\t\t\t} else if (typeof elem === 'string') {\n\t\t\t\tif (getContainerConfig(elem)) {\n\t\t\t\t\ttarget = getTargetByContainer(elem);\n\t\t\t\t\twasContainerId = true;\n\t\t\t\t} else if (/^[\\w\\d-]+$/.test(elem)) {\n\t\t\t\t\t// support component IDs consisting of alphanumeric, dash, or underscore\n\t\t\t\t\ttarget = getTargetBySelector(`[data-spotlight-id=${elem}]`);\n\t\t\t\t} else {\n\t\t\t\t\ttarget = getTargetBySelector(elem);\n\t\t\t\t}\n\t\t\t} else if (isContainer(elem)) {\n\t\t\t\ttarget = getTargetByContainer(getContainerId(elem));\n\t\t\t}\n\n\t\t\tconst nextContainerIds = getContainersForNode(target);\n\t\t\tconst nextContainerId = last(nextContainerIds);\n\t\t\tif (isNavigable(target, nextContainerId, true)) {\n\t\t\t\tconst focused = focusElement(target, nextContainerIds);\n\n\t\t\t\tif (!focused && wasContainerId) {\n\t\t\t\t\tsetLastContainer(elem);\n\t\t\t\t}\n\n\t\t\t\treturn focused;\n\t\t\t} else if (wasContainerId) {\n\t\t\t\t// if we failed to find a spottable target within the provided container, we'll set\n\t\t\t\t// it as the active container to allow it to focus itself if its contents change\n\t\t\t\tsetLastContainer(elem);\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t// move(<direction>)\n\t\t// move(<direction>, <selector>)\n\t\t/**\n\t\t * Moves focus to the next spottable control in the direction specified. Optionally, a source\n\t\t * element selector may be supplied as the starting point.\n\t\t *\n\t\t * @param {String} direction Direction to move, one of `'left'`, `'right'`, `'up'` or `'down'`\n\t\t * @param {String|undefined} selector If supplied, the element to move from. If not supplied,\n\t\t *\tthe currently focused item will be used.\n\t\t * @returns {Boolean} `true` if focus successful, `false` if not.\n\t\t * @public\n\t\t */\n\t\tmove: function (direction, selector) {\n\t\t\tdirection = direction.toLowerCase();\n\t\t\tif (direction !== 'up' && direction !== 'down' && direction !== 'left' && direction !== 'right') {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst elem = selector ? parseSelector(selector)[0] : getCurrent();\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst containerIds = getContainersForNode(elem);\n\t\t\tif (!containerIds.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn spotNext(direction, elem, containerIds);\n\t\t},\n\n\t\t/**\n\t\t * Sets or clears the default container that will receive focus.\n\t\t *\n\t\t * @function\n\t\t * @param {String} [containerId] The container ID or a falsy value to clear default\n\t\t *                               container\n\t\t * @returns {undefined}\n\t\t * @public\n\t\t */\n\t\tsetDefaultContainer,\n\n\t\t/**\n\t\t * Gets the currently active container.\n\t\t *\n\t\t * @returns {String} The id of the currently active container\n\t\t * @public\n\t\t */\n\t\tgetActiveContainer: function () {\n\t\t\treturn getLastContainer() || rootContainerId;\n\t\t},\n\n\t\t/**\n\t\t * Sets the currently active container.\n\t\t *\n\t\t * Note: If the current container is restricted to 'self-only' and `containerId` is not\n\t\t * contained within the current container then the active container will not be updated.\n\t\t *\n\t\t * @param {String} [containerId] The id of the currently active container. If this is not\n\t\t *\tprovided, the root container is set as the currently active container.\n\t\t * @public\n\t\t */\n\t\tsetActiveContainer: function (containerId) {\n\t\t\tif (mayActivateContainer(containerId)) {\n\t\t\t\tsetLastContainer(containerId || rootContainerId);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Gets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if spotlight is in pointer mode\n\t\t * @public\n\t\t */\n\t\tgetPointerMode,\n\n\t\t/**\n\t\t * Sets the current pointer mode\n\t\t *\n\t\t * @function\n\t\t * @param {Boolean} pointerMode The value of the pointer mode. This determines how\n\t\t *\tspotlight manages focus change behaviors.\n\t\t * @public\n\t\t */\n\t\tsetPointerMode,\n\n\t\t/**\n\t\t * Gets the muted mode value of a spottable element.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the muted status.\n\t\t * @returns {Boolean} `true` if the passed-in control is in muted mode.\n\t\t * @public\n\t\t */\n\t\tisMuted: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn matchSelector('[data-spotlight-container-muted=\"true\"] .' + spottableClass, elem);\n\t\t},\n\n\t\t/**\n\t\t * Determines whether Spotlight is currently paused.\n\t\t *\n\t\t * @function\n\t\t * @returns {Boolean} `true` if Spotlight is currently paused.\n\t\t * @public\n\t\t */\n\t\tisPaused,\n\n\t\t/**\n\t\t * Determines whether an element is spottable.\n\t\t *\n\t\t * @param {Object} elem The dom element used to determine the spottable status.\n\t\t * @returns {Boolean} `true` if the element being evaluated is currently spottable.\n\t\t * @public\n\t\t */\n\t\tisSpottable: function (elem) {\n\t\t\tif (!elem) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn isFocusable(elem);\n\t\t},\n\n\t\t/**\n\t\t * Returns the currently spotted control.\n\t\t *\n\t\t * @returns {Node} The control that currently has focus, if available\n\t\t * @public\n\t\t */\n\t\tgetCurrent: function () {\n\t\t\treturn getCurrent();\n\t\t},\n\n\t\t/**\n\t\t * Returns a list of spottable elements wrapped by the supplied container.\n\t\t *\n\t\t * @param {String} containerId The id of the container used to determine the list of spottable elements\n\t\t * @returns {Node[]} The spottable elements that are wrapped by the supplied container\n\t\t * @public\n\t\t */\n\t\tgetSpottableDescendants: function (containerId) {\n\t\t\tif (!containerId || typeof containerId !== 'string') {\n\t\t\t\tthrow new Error('Please assign the \"containerId\"!');\n\t\t\t}\n\n\t\t\treturn getSpottableDescendants(containerId);\n\t\t}\n\t};\n\n\treturn exports;\n\n})();\n\nexport default Spotlight;\nexport {\n\tgetDirection,\n\tSpotlight\n};\n","/* eslint-disable react/sort-prop-types */\n\n/**\n * A higher-order component that adds state management for a single prop via a single event handler.\n *\n * @module ui/Changeable\n * @exports Changeable\n */\n\nimport {forProp, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\n/**\n * Default config for {@link ui/Changeable.Changeable}.\n *\n * @memberof ui/Changeable.Changeable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the callback to change the value\n\t *\n\t * @type {String}\n\t * @default 'onChange'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tchange: 'onChange',\n\n\t/**\n\t * Configures the prop name to pass the current value\n\t *\n\t * @type {String}\n\t * @default 'value'\n\t * @memberof ui/Changeable.Changeable.defaultConfig\n\t */\n\tprop: 'value'\n};\n\n/**\n * A higher-order component that adds state management to a component for a single prop via\n * a single event callback.\n *\n * Applying `Changeable` to a component will pass two additional props: the current value from state\n * and an event callback to invoke when the value changes. By default, the value is passed in the\n * `value` prop and the callback is passed in the `onChange` callback but both are configurable\n * through the HOC config object.\n *\n * If `value` is passed to `Changeable`, the HOC assumes that the value is managed elsewhere and it\n * will not update its internal state. To set an initial value, use `defaultValue` instead.\n *\n * To update the value from the wrapped component, call `onChange` with an object containing a\n * `value` member with the new value. `Changeable` will update its internal state and pass the\n * updated value back down to the wrapped component.\n *\n * *Note:* If the `prop` is overridden, the property names to set the default value and current\n * value change correspondingly.\n *\n * @class Changeable\n * @memberof ui/Changeable\n * @hoc\n * @public\n */\nconst Changeable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop, change} = config;\n\tconst defaultPropKey = 'default' + cap(prop);\n\n\treturn class extends React.PureComponent {\n\t\tstatic displayName = 'Changeable';\n\n\t\tstatic propTypes = /** @lends ui/Changeable.Changeable.prototype */ {\n\t\t\t/**\n\t\t\t * Called to notify `Changeable` that the value has changed.\n\t\t\t *\n\t\t\t * The event object must contain a property with the same name as the configured `prop`.\n\t\t\t *\n\t\t\t * @name onChange\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[change]: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The value set at construction when the value prop is `undefined` or `null`.\n\t\t\t *\n\t\t\t * This prop is consumed by `Changeable` and not passed onto the wrapped component.\n\t\t\t *\n\t\t\t * @name defaultValue\n\t\t\t * @memberof ui/Changeable.Changeable.prototype\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[defaultPropKey]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * The current value.\n\t\t\t *\n\t\t\t * When set at construction, the component is considered \"controlled\" and will only\n\t\t\t * update its internal value when updated by new props. If `undefined`, the component is\n\t\t\t * \"uncontrolled\" and `Changeable` will manage the value using callbacks defined by its\n\t\t\t * configuration.\n\t\t\t *\n\t\t\t * @type {*}\n\t\t\t * @public\n\t\t\t */\n\t\t\t[prop]: PropTypes.any,\n\n\t\t\t/**\n\t\t\t * Prevents updates to the internal state of `Changeable`.\n\t\t\t *\n\t\t\t * `disabled` is forwarded on to the wrapped component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\trendered: false,\n\t\t\t\tvalue: null,\n\t\t\t\tcontrolled: prop in props\n\t\t\t};\n\n\t\t\twarning(\n\t\t\t\t!(prop in props && defaultPropKey in props),\n\t\t\t\t`Do not specify both '${prop}' and '${defaultPropKey}' for Changeable instances. '${defaultPropKey}' will be ignored.\n\t\t\t\t'${defaultPropKey}' will be ignored unless '${prop}' is 'null' or 'undefined'.`\n\t\t\t);\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (state.rendered === false) {\n\t\t\t\treturn {\n\t\t\t\t\trendered: true,\n\t\t\t\t\tvalue: props[prop] != null ? props[prop] : props[defaultPropKey]\n\t\t\t\t};\n\t\t\t} else if (state.controlled) {\n\t\t\t\tif (state.value !== props[prop]) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tvalue: props[prop]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twarning(\n\t\t\t\t!(typeof props[prop] !== 'undefined'),\n\t\t\t\t`'${prop}' specified for an uncontrolled instance of Changeable and will be\n\t\t\t\tignored. To make this instance of Changeable controlled, '${prop}' should be\n\t\t\t\tspecified at creation.`\n\t\t\t);\n\n\t\t\treturn null;\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleChange = this.handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward(change),\n\t\t\t({[prop]: value}) => {\n\t\t\t\tif (!this.state.controlled) {\n\t\t\t\t\tthis.setState(({value: oldValue}) => value !== oldValue ? {value} : null);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tif (change) props[change] = this.handleChange;\n\t\t\tif (prop) props[prop] = this.state.value;\n\t\t\tdelete props[defaultPropKey];\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Changeable;\nexport {\n\tChangeable\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 711;","/* eslint-env browser,es6 */\n/*\n * zoneinfo.js - represent a binary zone info file\n *\n * Copyright  2014 LG Electronics, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * The portion of this code that parses the zone info file format is derived\n * from the code in the node-zoneinfo project by Gregory McWhirter licensed\n * under the MIT license:\n *\n * Copyright (c) 2013 Gregory McWhirter\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject\n * to the following conditions:\n\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst\n\tPackedBuffer = require('./packedbuffer.js');\n\nconst _platform = (typeof PalmSystem !== 'undefined') ? 'webos' : 'browser';\n\n/**\n * Represents a binary zone info file of the sort that the Unix Zone Info Compiler\n * produces.\n * @constructor\n * @param {string} path path to the file to be loaded\n * @param {number} year year of the zone info rules needed\n */\nlet ZoneInfoFile = function (path) {\n\tlet that = this;\n\tswitch (_platform) {\n\t\t/*\n\t\tUncomment and use this when enyo works for binary load.\n\t\tcase 'enyo':\n\t\t\tlet ajax = new enyo.Ajax({\n\t\t\t\txhrFields: {\n\t\t\t\t\tresponseType:'arraybuffer'\n\t\t\t\t},\n\t\t\t\tcacheBust: false,\n\t\t\t\tsync: true,\n\t\t\t\thandleAs: 'binary',\n\t\t\t\turl: 'file://' + path\n\t\t\t});\n\t\t\tajax.response(this, function (s, r) {\n\t\t\t\tlet byteArray = new Uint8Array(r);\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t});\n\t\t\t//ajax.error(this, function (s, r) {\n\t\t\t//\tconsole.log('ZoneInfoFile: failed to load files ' + JSON.stringify(s) + ' ' + r);\n\t\t\t//});\n\t\t\tajax.go();\n\t\t\tbreak;\n\t\t*/\n\n\t\tdefault: {\n\t\t\t// use normal web techniques for sync binary data fetching\n\t\t\t// see https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\n\t\t\tlet req = new XMLHttpRequest();\n\t\t\treq.open('GET', 'file:' + path, false);\n\t\t\treq.overrideMimeType('text/plain; charset=x-user-defined');\n\t\t\treq.onload = function () {\n\t\t\t\tlet byteArray = new Uint8Array(req.response.length);\n\t\t\t\tfor (let i = 0; i < req.response.length; i++) {\n\t\t\t\t\tbyteArray[i] = req.response.charCodeAt(i) & 0xff;\n\t\t\t\t}\n\t\t\t\t// console.log('ZoneInfoFile bytes received: ' + byteArray.length);\n\t\t\t\tthat._parseInfo(byteArray);\n\t\t\t};\n\t\t\treq.onerror = function () {\n\t\t\t\tthrow new Error('Cannot load file ' + path);\n\t\t\t};\n\t\t\treq.send();\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * @private\n * Parse the binary buffer to find the zone info\n * @param {Buffer} buffer The buffer to process\n * @returns {void}\n */\nZoneInfoFile.prototype._parseInfo = function (buffer) {\n\tlet packed = new PackedBuffer(buffer);\n\n\t// The time zone information files used by tzset(3)\n\t// begin with the magic characters 'TZif' to identify\n\t// them as time zone information files, followed by\n\t// sixteen bytes reserved for future use, followed by\n\t// six four-byte values of type long, written in a\n\t// ''standard'' byte order (the high-order byte\n\t// of the value is written first).\n\tif (packed.getString(4) !== 'TZif') {\n\t\tthrow new Error('file format not recognized');\n\t} else {\n\t\t// ignore 16 bytes\n\t\tpacked.skip(16);\n\n\t\t/* eslint-disable camelcase */\n\t\t// The number of UTC/local indicators stored in the file.\n\t\tlet tzh_ttisgmtcnt = packed.getLong();\n\t\t// The number of standard/wall indicators stored in the file.\n\t\tlet tzh_ttisstdcnt = packed.getLong();\n\t\t// The number of leap seconds for which data is stored in the file.\n\t\tlet tzh_leapcnt = packed.getLong();\n\t\t// The number of 'transition times' for which data is stored in the file.\n\t\tlet tzh_timecnt = packed.getLong();\n\t\t// The number of 'local time types' for which data is stored in the file (must not be zero).\n\t\tlet tzh_typecnt = packed.getLong();\n\t\t// The number of characters of 'time zone abbreviation strings' stored in the file.\n\t\tlet tzh_charcnt = packed.getLong();\n\n\t\tthis.transitionTimes = tzh_timecnt ? packed.getLongs(tzh_timecnt) : [];\n\n\t\tthis.transitionTimes = this.transitionTimes.map(function (item) {\n\t\t\treturn item * 1000;\n\t\t});\n\n\t\t// these are indexes into the zonesInfo that correspond to each transition time\n\t\tthis.ruleIndex = tzh_timecnt ? packed.getUnsignedBytes(tzh_timecnt) : [];\n\n\t\tthis.zoneInfo = [];\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tthis.zoneInfo.push({\n\t\t\t\toffset: Math.floor(packed.getLong() / 60),  // offset in seconds, so convert to minutes\n\t\t\t\tisdst: !!packed.getByte(),\n\t\t\t\tabbreviationIndex: packed.getByte()\n\t\t\t});\n\t\t}\n\n\t\tlet allAbbreviations = packed.getString(tzh_charcnt);\n\n\t\tfor (let i = 0; i < tzh_typecnt; i++) {\n\t\t\tlet abbreviation = allAbbreviations.substring(this.zoneInfo[i].abbreviationIndex);\n\t\t\tthis.zoneInfo[i].abbreviation = abbreviation.substring(0, abbreviation.indexOf('\\x00'));\n\t\t}\n\n\t\t// ignore the leap seconds\n\t\tif (tzh_leapcnt) {\n\t\t\tpacked.skip(tzh_leapcnt * 2);\n\t\t}\n\n\t\t// skip the standard/wall time indicators\n\t\tif (tzh_ttisstdcnt) {\n\t\t\tpacked.skip(tzh_ttisstdcnt);\n\t\t}\n\n\t\t// ignore the UTC/local time indicators -- everything should be UTC\n\t\tif (tzh_ttisgmtcnt) {\n\t\t\tpacked.skip(tzh_ttisgmtcnt);\n\t\t}\n\n\t\t// finished reading\n\n\t\t// Replace ttinfo indexes for ttinfo objects.\n\t\tlet that = this;\n\t\tthis.ruleIndex = this.ruleIndex.map(function (item) {\n\t\t\treturn {\n\t\t\t\toffset: that.zoneInfo[item].offset,\n\t\t\t\tisdst: that.zoneInfo[item].isdst,\n\t\t\t\tabbreviation: that.zoneInfo[item].abbreviation\n\t\t\t};\n\t\t});\n\n\t\t// calculate the dst savings for each daylight time\n\t\tfor (let i = 0; i < tzh_timecnt; i++) {\n\t\t\tif (i > 0 && this.ruleIndex[i].isdst) {\n\t\t\t\tthis.ruleIndex[i].savings = this.ruleIndex[i].offset - this.ruleIndex[i - 1].offset;\n\t\t\t}\n\t\t}\n\n\t\t// Set standard, dst, and before ttinfos. before will be\n\t\t// used when a given time is before any transitions,\n\t\t// and will be set to the first non-dst ttinfo, or to\n\t\t// the first dst, if all of them are dst.\n\t\tif (!this.transitionTimes.length) {\n\t\t\tthis.standardTime = this.zoneInfo[0];\n\t\t} else {\n\t\t\tfor (let j = tzh_timecnt - 1; j > -1; j--) {\n\t\t\t\tlet tti = this.ruleIndex[j];\n\t\t\t\tif (!this.standardTime && !tti.isdst) {\n\t\t\t\t\tthis.standardTime = tti;\n\t\t\t\t} else if (!this.daylightTime && tti.isdst) {\n\t\t\t\t\tthis.daylightTime = tti;\n\t\t\t\t}\n\n\t\t\t\tif (this.daylightTime && this.standardTime) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.daylightTime && !this.standardTime) {\n\t\t\t\tthis.standardTime = this.daylightTime;\n\t\t\t}\n\n\t\t\tfor (let k = this.zoneInfo.length - 1; k > 0; k--) {\n\t\t\t\tif (!this.zoneInfo[k].isdst) {\n\t\t\t\t\tthis.defaultTime = this.zoneInfo[k];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!this.defaultTime) {\n\t\t\tthis.defaultTime = this.zoneInfo[this.zoneInfo.length - 1];\n\t\t}\n\t}\n};\n\n/**\n * Binary search a sorted array of numbers for a particular target value.\n * If the exact value is not found, it returns the index of the largest\n * entry that is smaller than the given target value.<p>\n *\n * @param {number} target element being sought\n * @param {Array} arr the array being searched\n * @returns {number} the index of the array into which the value would fit if\n * inserted, or -1 if given array is not an array or the target is not\n * a number\n */\nZoneInfoFile.prototype.bsearch = function (target, arr) {\n\tif (typeof arr === 'undefined' || !arr || typeof target === 'undefined' || target < arr[0]) {\n\t\treturn -1;\n\t}\n\n\t// greater than the end of the array\n\tif (target > arr[arr.length - 1]) {\n\t\treturn arr.length - 1;\n\t}\n\n\tlet high = arr.length - 1,\n\t\tlow = 0,\n\t\tmid = 0,\n\t\tvalue;\n\n\twhile (low <= high) {\n\t\tmid = Math.floor((high + low) / 2);\n\t\tvalue = arr[mid] - target;\n\t\tif (value > 0) {\n\t\t\thigh = mid - 1;\n\t\t} else if (value < 0) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\treturn mid;\n\t\t}\n\t}\n\n\treturn high;\n};\n\n/**\n * Return whether or not this zone uses DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {boolean} true if the zone uses DST in the given year\n */\nZoneInfoFile.prototype.usesDST = function (date) {\n\tconst thisYear = date.getTime();\n\tconst nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for the zone that was effective Jan 1 of this year\n\t// to Jan 1 of next year, and if any of the infos is DST, then\n\t// this zone supports DST in the given year.\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tif (index !== -1) {\n\t\twhile (index < this.transitionTimes.length && this.transitionTimes[index] < nextYear) {\n\t\t\tif (this.ruleIndex[index++].isdst) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn false;\n};\n\n/**\n * Return the raw offset from UTC that this zone uses at the given time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} offset from from UTC in number of minutes. Negative\n * numbers are west of Greenwich, positive are east of Greenwich\n */\nZoneInfoFile.prototype.getRawOffset = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\n\tlet offset = this.defaultTime.offset;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\toffset = this.ruleIndex[index].offset;\n\t\t}\n\t}\n\n\treturn offset;\n};\n\n/**\n * If this zone uses DST in the given year, return the DST savings\n * in use. If the zone does not use DST in the given year, this\n * method will return 0.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} number of minutes in DST savings if the zone\n * uses DST in the given year, or zero otherwise\n */\nZoneInfoFile.prototype.getDSTSavings = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year\n\t// from now, and calculate the difference in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet savings = 0;\n\tif (index > -1) {\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tsavings = this.ruleIndex[index].savings;\n\t\t}\n\t}\n\n\treturn savings;\n};\n\n/**\n * Return the start date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the start\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTStartDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet startDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\tstartDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn startDate;\n};\n\n/**\n * Return the end date/time of DST if this zone uses\n * DST in the given year.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {number} unixtime representation of the end\n * of DST in the given year, or -1 if the zone does not\n * use DST in the given year\n */\nZoneInfoFile.prototype.getDSTEndDate = function (date) {\n\tlet year = date.getFullYear();\n\tlet thisYear = new Date(year, 0, 1).getTime();\n\tlet nextYear = new Date(year + 1, 0, 1).getTime();\n\n\t// search for all transitions between Jan 1 of this year\n\t// to Jan 1 of next year, and calculate the difference\n\t// in DST (if any)\n\n\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\tlet endDate = -1;\n\tif (index > -1) {\n\t\tif (this.transitionTimes[index] < thisYear) {\n\t\t\tindex++; // start in this year instead of the previous year\n\t\t}\n\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\tindex++;\n\t\t}\n\n\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\tendDate = this.transitionTimes[index];\n\t\t}\n\t}\n\n\treturn endDate;\n};\n\n/**\n * Return the abbreviation used by this zone in standard\n * time.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during standard time\n */\nZoneInfoFile.prototype.getAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && !this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the abbreviation used by this zone in daylight\n * time. If the zone does not use DST in the given year,\n * this returns the same thing as getAbbreviation().\n *\n * @param {Date} date the Gregorian date to test\n * @returns {string} a string representing the abbreviation\n * used in this time zone during daylight time\n */\nZoneInfoFile.prototype.getDSTAbbreviation = function (date) {\n\tlet thisYear = date.getTime();\n\tlet nextYear = thisYear + 31536000000; // this is the number of ms in 1 Gregorian year\n\n\t// search for all transitions between now and one year from now, and calculate the difference\n\t// in DST (if any)\n\n\tlet abbr;\n\tif (this.transitionTimes.length > 0) {\n\t\tlet index = this.bsearch(thisYear, this.transitionTimes);\n\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\tif (index > -1) {\n\t\t\twhile (index < this.transitionTimes.length && !this.ruleIndex[index].isdst && this.transitionTimes[index + 1] < nextYear) {\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\tif (index < this.transitionTimes.length && this.ruleIndex[index].isdst) {\n\t\t\t\tabbr = this.ruleIndex[index].abbreviation;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tabbr = this.standardTime.abbreviation;\n\t}\n\n\treturn abbr;\n};\n\n/**\n * Return the zone information for the given date in ilib\n * format.\n *\n * @param {Date} date the Gregorian date to test\n * @returns {Object} an object containing the zone information\n * for the given date in the format that ilib can use directly\n */\nZoneInfoFile.prototype.getIlibZoneInfo = function (date) {\n\tfunction minutesToStr (min) {\n\t\tlet hours = Math.floor(min / 60);\n\t\tlet minutes = min - hours * 60;\n\n\t\treturn hours + ':' + minutes;\n\t}\n\n\tfunction unixtimeToJD (millis) {\n\t\treturn 2440587.5 + millis / 86400000;\n\t}\n\tlet res = {\n\t\t'o': minutesToStr(this.getRawOffset(date))\n\t};\n\tif (this.usesDST(date)) {\n\t\tres.f = '{c}';\n\t\tres.e = {\n\t\t\t'c': this.getAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTEndDate(date))\n\t\t};\n\t\tres.s = {\n\t\t\t'c': this.getDSTAbbreviation(date),\n\t\t\t'j': unixtimeToJD(this.getDSTStartDate(date)),\n\t\t\t'v': minutesToStr(this.getDSTSavings(date))\n\t\t};\n\t} else {\n\t\tres.f = this.getAbbreviation(date);\n\t}\n\n\treturn res;\n};\n\nmodule.exports = ZoneInfoFile;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__2be-4\",\"title\":\"Heading_title__13q--\",\"subtitle\":\"Heading_subtitle__lvF9-\",\"large\":\"Heading_large__2E6Vh\",\"medium\":\"Heading_medium__3dzob\",\"small\":\"Heading_small__8CDo4\",\"tiny\":\"Heading_tiny__1Vsjo\",\"titleSpacing\":\"Heading_titleSpacing__ktAcO\",\"subtitleSpacing\":\"Heading_subtitleSpacing__3FYym\",\"largeSpacing\":\"Heading_largeSpacing__2UYIK\",\"mediumSpacing\":\"Heading_mediumSpacing__3aUiu\",\"smallSpacing\":\"Heading_smallSpacing__TEMTX\",\"tinySpacing\":\"Heading_tinySpacing__2Uzdr\",\"noneSpacing\":\"Heading_noneSpacing__OaSei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__3IjzK\",\"showLine\":\"Heading_showLine__1SMqX\",\"title\":\"Heading_title__2F0Pv\",\"large\":\"Heading_large__3wLnw\",\"medium\":\"Heading_medium__3XqZG\",\"small\":\"Heading_small__1aERR\",\"tiny\":\"Heading_tiny__Bcqc3\",\"titleSpacing\":\"Heading_titleSpacing__3x-f4\",\"largeSpacing\":\"Heading_largeSpacing__E8UtY\",\"mediumSpacing\":\"Heading_mediumSpacing__2mUCM\",\"smallSpacing\":\"Heading_smallSpacing__nUqPA\",\"noneSpacing\":\"Heading_noneSpacing__2ZroQ\"};","import warning from 'warning';\n\n// At the end, wes should not use DOM APIs as well as the APIs in the `utilDOM`. If we use them, we have to try to remove them first if possible.\n\nconst utilDOM = (function () {\n\t// Functions\n\n\tfunction containsDangerously (ref, target) {\n\t\tif (!target) {\n\t\t\treturn false;\n\t\t} else if (ref.current) {\n\t\t\twarning(ref.current.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.current.contains(target);\n\t\t} else if (ref) {\n\t\t\twarning(ref.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.contains(target);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// TBD\n\t// Need to define functions for the following DOM APIs\n\t// getBoundingClientRect\n\t// dataset.spotlightId\n\t// getRect\n\t// setAttribute\n\t// removeAttribute\n\t// scrollLeft\n\t// scrollTop\n\tfunction datasetDangerously () {}\n\tfunction getBoundingClientRectDangerously () {}\n\tfunction getRectDangerously () {}\n\tfunction removeAttributeDangerously () {}\n\tfunction setAttributeDangerously () {}\n\tconst scrollLeftDangerously = 0;\n\tconst scrollTopDangerously = 0;\n\n\t// Return\n\n\treturn {\n\t\tcontainsDangerously,\n\t\tdatasetDangerously,\n\t\tgetBoundingClientRectDangerously,\n\t\tgetRectDangerously,\n\t\tremoveAttributeDangerously,\n\t\tscrollLeftDangerously,\n\t\tscrollTopDangerously,\n\t\tsetAttributeDangerously\n\t};\n})();\n\nexport default utilDOM;\nexport {\n\tutilDOM\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1sL6a\",\"flipBoth\":\"Icon_flipBoth__2qJTI\",\"flipHorizontal\":\"Icon_flipHorizontal__2KKBv\",\"flipVertical\":\"Icon_flipVertical__3j-ZC\",\"dingbat\":\"Icon_dingbat__26H5_\",\"large\":\"Icon_large__e418M\",\"pressed\":\"Icon_pressed__1aeUB\",\"small\":\"Icon_small__31TeU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1R4tX\",\"huge\":\"Icon_huge__2TTQ3\",\"small\":\"Icon_small__1qu4t\",\"smallest\":\"Icon_smallest__3tmBc\",\"dingbat\":\"Icon_dingbat__23hCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1M2Zz\",\"bg\":\"Button_bg__LhGZK\",\"client\":\"Button_client__1JYoz\",\"icon\":\"Button_icon__1Wtzr\",\"hasIcon\":\"Button_hasIcon__29nPh\",\"large\":\"Button_large___TyEn\",\"minWidth\":\"Button_minWidth__1Ey4a\",\"small\":\"Button_small__30CXD\",\"decoration\":\"Button_decoration__JsA12\",\"selected\":\"Button_selected__QydK0\",\"pressed\":\"Button_pressed__hy72B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3PK7M\",\"bg\":\"Button_bg__1k8sG\",\"client\":\"Button_client__sV5RN\",\"icon\":\"Button_icon__GGFoP\",\"badge\":\"Button_badge__2GNYD\",\"grid\":\"Button_grid__2YZeg\",\"opaque\":\"Button_opaque__bCDlK\",\"lightOpaque\":\"Button_lightOpaque__3UJnx\",\"transparent\":\"Button_transparent__2Oox2\",\"minWidth\":\"Button_minWidth__3dh6o\",\"huge\":\"Button_huge__170rT\",\"small\":\"Button_small__2_T5B\",\"smallest\":\"Button_smallest__3Xa_y\",\"hasIcon\":\"Button_hasIcon__3NVu1\",\"animateOnRender\":\"Button_animateOnRender__3ssav\",\"scale-bounce\":\"Button_scale-bounce__1JuAX\",\"joinedLeft\":\"Button_joinedLeft__2i4kk\",\"joinedCenter\":\"Button_joinedCenter__QSfHj\",\"joinedRight\":\"Button_joinedRight__3gCql\",\"highlighted\":\"Button_highlighted__2u6Mb\",\"selected\":\"Button_selected__3rmf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__sVTUQ\",\"inline\":\"LabeledIcon_inline__1N9-f\",\"above\":\"LabeledIcon_above__2HQrn\",\"below\":\"LabeledIcon_below__1_xvo\",\"iconCell\":\"LabeledIcon_iconCell__3Izg9\",\"before\":\"LabeledIcon_before__SZA1P\",\"left\":\"LabeledIcon_left__sIU3e\",\"right\":\"LabeledIcon_right__3ClVM\",\"label\":\"LabeledIcon_label__3Qpxs\",\"after\":\"LabeledIcon_after__3Sd_T\",\"icon\":\"LabeledIcon_icon__1abmm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__2CxNb\",\"below\":\"LabeledIcon_below__2gDyf\",\"icon\":\"LabeledIcon_icon__32EZf\",\"above\":\"LabeledIcon_above__21pJg\",\"after\":\"LabeledIcon_after__do8b5\",\"before\":\"LabeledIcon_before__2Dp7i\",\"left\":\"LabeledIcon_left__-6IZj\",\"right\":\"LabeledIcon_right__2tMFW\",\"label\":\"LabeledIcon_label__47uKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabbedPanels\":\"TabbedPanels_tabbedPanels__3KODu\",\"panels\":\"TabbedPanels_panels__3FULT\",\"reverse\":\"TabbedPanels_reverse__2Ozxo\",\"column\":\"TabbedPanels_column__2ow_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__1vvQ9\",\"vertical\":\"Scrollbar_vertical__2HQdJ\",\"horizontal\":\"Scrollbar_horizontal__1k9A9\",\"corner\":\"Scrollbar_corner__1zsbJ\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__nYLNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"Scroller_scroller__2jt_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"UiScroller_scroller__Dp9G1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__3Y1lB\",\"centered\":\"BodyText_centered__1e78o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"marquee\":\"Marquee_marquee__3-K0w\",\"text\":\"Marquee_text__3hXQJ\",\"willAnimate\":\"Marquee_willAnimate__39zW3\",\"animate\":\"Marquee_animate__1mDF2\",\"spacing\":\"Marquee_spacing__uCAbE\"};","/**\n * Accepts an object of computed property configurations and a property object, passes the property\n * object through each computed property handler, and merges the resulting computed properties with\n * the original properties.\n *\n * ```\n * const cfg = {\n *   sum: ({x,y,z}) => x+y+z,\n *   product: ({x,y,z}) => x*y*z\n * }\n * const props = {\n *   x: 2,\n *   y: 3,\n *   z: 4\n * }\n * computed(cfg)(props) // => {x: 2, y: 3, z: 4, sum: 9, product: 24}\n * ```\n *\n * @method computed\n * @param   {Object}    cfg  Configuration object mapping transformation functions to property names\n *\n * @returns {Function}       Function that accepts a props object and mutates it to include the\n *                           computed props\n * @private\n */\nconst computed = (cfg, optProps) => {\n\tconst keys = Object.keys(cfg);\n\n\tconst renderComputed = (props, ...args) => {\n\t\tconst updated = {};\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tupdated[keys[i]] = cfg[keys[i]](props, ...args);\n\t\t}\n\n\t\treturn Object.assign(props, updated);\n\t};\n\n\t// maintain compatibility with 1.x\n\tif (optProps) {\n\t\treturn renderComputed(optProps);\n\t}\n\n\treturn renderComputed;\n};\n\nexport default computed;\nexport {computed};\n","export const addInternalProp = function (props, name, value) {\n\tObject.defineProperty(props, name, {\n\t\tvalue,\n\t\tenumerable: false,\n\t\twritable: true\n\t});\n\n\treturn props;\n};\n","import classnames from 'classnames/bind';\n\nimport {mergeClassNameMaps} from '../util';\n\nimport {addInternalProp} from './util';\n\n/**\n * Merges external and internal CSS classes and style objects. Internal CSS classes can be\n * optionally mapped to alternate names (e.g. those generated by CSS modules) by including a\n * `css` parameter.\n *\n * Example:\n * ```\n *\tconst stylesConfig = {\n *\t\tcss: {\n *\t\t\tbutton: 'unambiguous-button-class-name',\n *\t\t\tclient: 'unambiguous-button-class-name-client'\n *\t\t},\n *\t\tclassName: 'button global-class',\n *\t\tstyle: {\n *\t\t\tcolor: 'red'\n *\t\t}\n *\t};\n *\n *\tconst props = {\n *\t\tclassName: 'my-button',\n *\t\tstyle: {\n *\t\t\tdisplay: 'none'\n *\t\t}\n *\t};\n *\n *\tconst renderStyles = styles(stylesConfig);\n *\tconst renderStyles(props); // {className: 'unambiguous-button-class-name global-class', styles: {color: 'red', display: 'none'}}\n * ```\n *\n * @method styles\n * @param   {Object}    cfg  Configuration object containing one of `css`, `className`,\n *                           `publicClassNames`, and/or `style`\n *\n * @returns {Function}       Function that accepts a props object and mutates it to merge class\n *                           names and style objects and provide the `styler` utility function and\n *                           `css` merged class name map\n * @private\n */\nconst styles = (cfg, optProps) => {\n\tconst {className, css: configCss, prop = 'className', style} = cfg;\n\tlet {publicClassNames: allowedClassNames} = cfg;\n\n\tif (configCss && allowedClassNames === true) {\n\t\tallowedClassNames = Object.keys(configCss);\n\t} else if (typeof allowedClassNames === 'string') {\n\t\tallowedClassNames = allowedClassNames.split(/\\s+/);\n\t}\n\n\tconst renderStyles = (props) => {\n\t\tlet css = configCss;\n\n\t\tif (style) {\n\t\t\tprops.style = Object.assign({}, style, props.style);\n\t\t}\n\n\t\t// if the props includes a css map, merge them together now\n\t\tif (css && allowedClassNames && props.css) {\n\t\t\tcss = mergeClassNameMaps(css, props.css, allowedClassNames);\n\t\t}\n\n\t\tconst cn = css ? classnames.bind(css) : classnames;\n\t\tconst joinedClassName = props[prop] = classnames(\n\t\t\tclassName ? cn(className.split(' ')) : null,\n\t\t\tprops.className\n\t\t);\n\n\t\taddInternalProp(props, 'css', css);\n\t\taddInternalProp(props, 'styler', {\n\t\t\tjoin: cn,\n\t\t\tappend: (...args) => cn(joinedClassName, ...args)\n\t\t});\n\n\t\treturn props;\n\t};\n\n\tif (optProps) {\n\t\treturn renderStyles(optProps);\n\t}\n\n\treturn renderStyles;\n};\n\nexport default styles;\nexport {styles};\n","/**\n * Provides the {@link core/kind.kind} method to create components\n *\n * @module core/kind\n * @exports kind\n */\n\nimport React from 'react';\n\nimport useHandlers from '../useHandlers';\nimport Handlers from '../useHandlers/Handlers';\n\nimport computed from './computed';\nimport styles from './styles';\n\n// Because contextType is optional and hooks must be called in the same order, we need a fallback\n// context when none is specified. This likely has some overhead so we may want to deprecate and\n// remove contextType support for 4.0 since the context APIs have improved since this was added.\nconst NoContext = React.createContext(null);\n\n/**\n * @callback RenderFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns React.Element|null\n */\n\n/**\n * @callback ComputedPropFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns any\n */\n\n/**\n * @callback HandlerFunction\n * @memberof core/kind\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * Configuration for CSS class name mapping\n *\n * @typedef {Object} StylesBlock\n * @memberof core/kind\n * @property {Object.<string, string>} css\n * @property {String} [className]\n * @property {Boolean|String|String[]} [publicClassNames]\n */\n\n/**\n * @typedef {Object} KindConfig\n * @memberof core/kind\n * @property {String} [name]\n * @property {Boolean} [functional]\n * @property {Object.<string, Function>} [propTypes]\n * @property {Object.<string, any>} [defaultProps]\n * @property {Object} [contextType]\n * @property {StylesBlock} [styles]\n * @property {Object.<string, HandlerFunction>} [handlers]\n * @property {Object.<string, ComputedPropFunction>} [computed]\n * @property {RenderFunction} render\n */\n\n/**\n * Creates a new component with some helpful declarative syntactic sugar.\n *\n * Example:\n * ```\n *\timport css from './Button.module.less';\n *\tconst Button = kind({\n *\t\tname: 'Button',\n *\t\t// Return a functional component suitable for use with React hooks\n *\t\tfunctional: true,\n *\t\t// expect color and onClick properties but neither required\n *\t\tpropTypes: {\n *\t\t\tcolor: PropTypes.string\n *\t\t},\n *\t\t// if no color is provided, it'll be green\n *\t\tdefaultProps: {\n *\t\t\tcolor: 'green'\n *\t\t},\n *\t\t// expect backgroundColor via context\n *\t\tcontextType: React.createContext({ backgroundColor }),\n *\t\t// configure styles with the static className to merge with user className\n *\t\tstyles: {\n *\t\t\t// include the CSS modules map so 'button' can be resolved to the local name\n *\t\t\tcss,\n *\t\t\tclassName: 'button'\n *\t\t},\n *\t\t// add event handlers that are cached between calls to prevent recreating each call. Any\n *\t\t// handlers are added to the props passed to `render()`.  See core/handle.\n *\t\thandlers: {\n *\t\t\tonKeyDown: (evt, props) => { .... }\n *\t\t},\n *\t\t// add some computed properties, these are added to props passed to `render()`\n *\t\tcomputed: {\n *\t\t\t// border color will be the color prepended by 'light'\n *\t\t\tborderColor: ({color}) => 'light' + color,\n *\t\t\t// background color will be the contextual background color if specified\n *\t\t\tcolor: ({color}, context) => context.backgroundColor || color\n *\t\t},\n *\t\t// Render the thing, already!\n *\t\trender: ({color, borderColor, children, ...rest}) => (\n *\t\t\t<button\n *\t\t\t\t{...rest}\n *\t\t\t\tstyle={{backgroundColor: color, borderColor}}\n *\t\t\t>\n *\t\t\t\t{children}\n *\t\t\t</button>\n *\t\t)\n *\t});\n * ```\n *\n * @function\n * @template Props\n * @param  {KindConfig}    config    Component configuration\n *\n * @returns {Component<Props>}           Component\n * @memberof core/kind\n * @see {@link core/handle}\n * @public\n */\nconst kind = (config) => {\n\tconst {\n\t\tcomputed: cfgComputed,\n\t\tcontextType = NoContext,\n\t\tdefaultProps,\n\t\tfunctional,\n\t\thandlers,\n\t\tname,\n\t\tpropTypes,\t// eslint-disable-line react/forbid-foreign-prop-types\n\t\trender,\n\t\tstyles: cfgStyles\n\t} = config;\n\n\tconst renderStyles = cfgStyles ? styles(cfgStyles) : false;\n\tconst renderComputed = cfgComputed ? computed(cfgComputed) : false;\n\tconst renderKind = (props, context) => {\n\t\tif (renderStyles) props = renderStyles(props, context);\n\t\tif (renderComputed) props = renderComputed(props, context);\n\n\t\treturn render(props, context);\n\t};\n\n\tlet Component;\n\n\t// In 4.x, this branch will become the only supported version and the class branch will be\n\t// removed.\n\tif (functional) {\n\t\tComponent = function (props) {\n\t\t\tconst ctx = React.useContext(contextType);\n\t\t\tconst boundHandlers = useHandlers(handlers, props, ctx);\n\n\t\t\tconst merged = {\n\t\t\t\t...props,\n\t\t\t\t...boundHandlers\n\t\t\t};\n\n\t\t\treturn renderKind(merged, ctx);\n\t\t};\n\t} else {\n\t\t// eslint-disable-next-line enact/display-name\n\t\tComponent = class extends React.Component {\n\t\t\tstatic contextType = contextType;\n\n\t\t\tconstructor () {\n\t\t\t\tsuper();\n\n\t\t\t\tthis.handlers = new Handlers(handlers);\n\t\t\t}\n\n\t\t\trender () {\n\t\t\t\tthis.handlers.setContext(this.props, this.context);\n\n\t\t\t\tconst merged = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\t...this.handlers.handlers\n\t\t\t\t};\n\n\t\t\t\treturn renderKind(merged, this.context);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (name) Component.displayName = name;\n\tif (propTypes) Component.propTypes = propTypes;\n\tif (defaultProps) Component.defaultProps = defaultProps;\n\n\t// Decorate the Component with the computed property object in DEV for easier testability\n\tif (__DEV__ && cfgComputed) Component.computed = cfgComputed;\n\n\tconst defaultPropKeys = defaultProps ? Object.keys(defaultProps) : null;\n\tconst handlerKeys = handlers ? Object.keys(handlers) : null;\n\n\tComponent.inline = (props, context) => {\n\t\tlet updated = {\n\t\t\t...props\n\t\t};\n\n\t\tif (defaultPropKeys && defaultPropKeys.length > 0) {\n\t\t\tdefaultPropKeys.forEach(key => {\n\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\tif (props == null || props[key] === undefined) {\n\t\t\t\t\tupdated[key] = defaultProps[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (handlerKeys && handlerKeys.length > 0) {\n\t\t\t// generate a handler with a clone of updated to ensure each handler receives the same\n\t\t\t// props without the kind.handlers injected.\n\t\t\tupdated = handlerKeys.reduce((_props, key) => {\n\t\t\t\t_props[key] = (ev) => handlers[key](ev, updated, context);\n\t\t\t\treturn _props;\n\t\t\t}, {...updated});\n\t\t}\n\n\t\treturn renderKind(updated, context);\n\t};\n\n\treturn Component;\n};\n\nexport default kind;\nexport {kind};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__1Fj1C\",\"centered\":\"BodyText_centered__2eiYE\",\"small\":\"BodyText_small__1comw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"ToggleIcon_toggleIcon__3QUNj\",\"icon\":\"ToggleIcon_icon__1es11\",\"selected\":\"ToggleIcon_selected__3mUay\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Checkbox_toggleIcon__3FAw8\",\"icon\":\"Checkbox_icon__veJET\",\"selected\":\"Checkbox_selected__1UBC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__2chpw\",\"inline\":\"Item_inline__27bUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxItem\":\"CheckboxItem_checkboxItem__2y76-\",\"slotAfter\":\"CheckboxItem_slotAfter__1Ql5J\",\"slotBefore\":\"CheckboxItem_slotBefore__3t4oM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"transition\":\"Transition_transition__l3gOZ\",\"inner\":\"Transition_inner__-ikTU\",\"slide\":\"Transition_slide__3KcDA\",\"fade\":\"Transition_fade__jxjvw\",\"shown\":\"Transition_shown__1rew6\",\"clip\":\"Transition_clip__2EzQM\",\"right\":\"Transition_right__NszPJ\",\"left\":\"Transition_left__hswib\",\"hidden\":\"Transition_hidden__1TnUe\",\"up\":\"Transition_up__2L6qm\",\"down\":\"Transition_down__2sMsI\",\"short\":\"Transition_short__RSNZy\",\"medium\":\"Transition_medium__2xgl3\",\"long\":\"Transition_long__3uOxo\",\"ease\":\"Transition_ease__2pv2y\",\"ease-in\":\"Transition_ease-in__OMHNe\",\"ease-out\":\"Transition_ease-out__1bq30\",\"ease-in-out\":\"Transition_ease-in-out__3lPAw\",\"ease-in-quart\":\"Transition_ease-in-quart__1q-Hr\",\"ease-out-quart\":\"Transition_ease-out-quart__dZbVm\",\"linear\":\"Transition_linear__2jW5x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__xyV-n\",\"bar\":\"ProgressBar_bar__23thX\",\"fill\":\"ProgressBar_fill__1DaxG\",\"load\":\"ProgressBar_load__lloVg\",\"vertical\":\"ProgressBar_vertical__31Bbs\",\"horizontal\":\"ProgressBar_horizontal__1sjzV\",\"radial\":\"ProgressBar_radial__2_HIf\",\"fillOverHalf\":\"ProgressBar_fillOverHalf__19BIo\",\"loadOverHalf\":\"ProgressBar_loadOverHalf__G0YN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__xAHNb\",\"progressBar\":\"Slider_progressBar__3kuWx\",\"bar\":\"Slider_bar__GY9qj\",\"fill\":\"Slider_fill__3_4G5\",\"knob\":\"Slider_knob__39E1g\",\"noFill\":\"Slider_noFill__2zCup\",\"active\":\"Slider_active__ETFbw\",\"pressed\":\"Slider_pressed__1k1mH\",\"horizontal\":\"Slider_horizontal__3Tqlg\",\"load\":\"Slider_load__1BATq\",\"vertical\":\"Slider_vertical__2I6Or\",\"tooltip\":\"Slider_tooltip__1jemj\",\"activateOnFocus\":\"Slider_activateOnFocus__3cYJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatchButton\":\"SwatchButton_swatchButton__1do9U\",\"small\":\"SwatchButton_small__3ROme\",\"bg\":\"SwatchButton_bg____5mV\",\"colorSwatch\":\"SwatchButton_colorSwatch__3Qd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorPicker\":\"ColorPicker_colorPicker__3VbcX\",\"transitionContainer\":\"ColorPicker_transitionContainer__XRheV\",\"openTransitionContainer\":\"ColorPicker_openTransitionContainer__3NM-Y\",\"group\":\"ColorPicker_group__7_7lW\",\"sliders\":\"ColorPicker_sliders__12uJ5\",\"extended\":\"ColorPicker_extended__305Uw\",\"palette\":\"ColorPicker_palette__2e3ci\",\"swatch\":\"ColorPicker_swatch__2MIzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopupDecorator\":\"ContextualPopupDecorator_contextualPopupDecorator__1mG8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTime\":\"DateTime_dateTime__3ak0g\",\"pickers\":\"DateTime_pickers__1d70e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__1JqcA\",\"drawerTransitionContainer\":\"Drawer_drawerTransitionContainer__zfYXs\",\"inner\":\"Drawer_inner__13ffJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galliumNote\":\"Drawer_galliumNote__1_l1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioItem\":\"RadioItem_radioItem__Rg7Wy\",\"icon\":\"RadioItem_icon__1cBCd\",\"selected\":\"RadioItem_selected__1qkri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__cdueA\",\"transitionContainer\":\"Dropdown_transitionContainer__2wsd-\",\"openTransitionContainer\":\"Dropdown_openTransitionContainer__2x2Qe\",\"dropdownButton\":\"Dropdown_dropdownButton__1dvu4\",\"button\":\"Dropdown_button__2e2F0\",\"bg\":\"Dropdown_bg__1ii0x\",\"icon\":\"Dropdown_icon__32eRw\",\"item\":\"Dropdown_item__E0Thl\",\"upTransitionContainer\":\"Dropdown_upTransitionContainer__1dltl\",\"dropdownList\":\"Dropdown_dropdownList__3jFgB\",\"dropdownListWithScroller\":\"Dropdown_dropdownListWithScroller__hEHwB\",\"scroller\":\"Dropdown_scroller__6d3bY\",\"selected\":\"Dropdown_selected__3HaI3\",\"client\":\"Dropdown_client__1UitV\",\"open\":\"Dropdown_open__1L-FW\",\"dropDownListItem\":\"Dropdown_dropDownListItem__2-UxK\",\"radioItem\":\"Dropdown_radioItem__ZWt5q\",\"upDropdownButton\":\"Dropdown_upDropdownButton__kykMs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Uao4x\",\"titleContainer\":\"Header_titleContainer__1mosh\",\"endSlot\":\"Header_endSlot__gbwpB\",\"subtitle\":\"Header_subtitle__1B3tI\",\"title\":\"Header_title__3_7uh\",\"titleAbove\":\"Header_titleAbove__30a_t\",\"standard\":\"Header_standard__2Xffi\",\"hideLine\":\"Header_hideLine__3y_pe\"};","module.exports = __webpack_public_path__ + \"images/icon-enact-docs.png\";","/**\n * A higher-order component interface for `ref` forwarding.\n *\n * @module ui/ForwardRef\n * @exports\tForwardRef\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/ForwardRef.ForwardRef}.\n *\n * @memberof ui/ForwardRef.ForwardRef\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The prop name to pass the ref callback\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/ForwardRef.ForwardRef.defaultConfig\n\t */\n\tprop: 'forwardRef'\n};\n\n/**\n * A higher-order component that adapts [`React.forwardRef`](https://reactjs.org/docs/forwarding-refs.html)\n * to be chainable with other HOCs.\n *\n * The following examples are equivalent:\n *\n * ```\n * import ForwardRef from '@enact/ui/ForwardRef';\n * import Component from './Component';\n *\n * React.forwardRef((props, ref) => (\n * \t<Component {...props} setMyRef={ref} />\n * ));\n * ForwardRef({prop: 'setMyRef'}, Component);\n * ```\n *\n * @class ForwardRef\n * @memberof ui/ForwardRef\n * @hoc\n * @public\n */\nconst ForwardRef = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop} = config;\n\n\treturn React.forwardRef((props, ref) => {\n\t\tconst withRef = {\n\t\t\t...props,\n\t\t\t[prop]: ref\n\t\t};\n\n\t\treturn (\n\t\t\t<Wrapped {...withRef} />\n\t\t);\n\t});\n});\n\nexport default ForwardRef;\nexport {\n\tForwardRef\n};\n","module.exports = __webpack_public_path__ + \"images/icon-enact-factory.svg\";","module.exports = __webpack_public_path__ + \"images/icon-enact-logo.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__HdnoT\",\"fit\":\"Image_fit__ex17o\",\"fill\":\"Image_fill__3ZOsL\",\"img\":\"Image_img__1b4YI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__3EenH\",\"image\":\"ImageItem_image__1UUYz\",\"caption\":\"ImageItem_caption__rKGJS\",\"selected\":\"ImageItem_selected__36ig0\",\"horizontal\":\"ImageItem_horizontal__3471C\",\"vertical\":\"ImageItem_vertical__DDoAO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__2XJ5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__DIWmH\",\"horizontal\":\"ImageItem_horizontal__2CR7H\",\"image\":\"ImageItem_image__3DqGA\",\"captionOverlay\":\"ImageItem_captionOverlay__2Wl9D\",\"caption\":\"ImageItem_caption__1OVYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"IncrementSliderButton_button__1L7YK\",\"client\":\"IncrementSliderButton_client__Ssq-B\",\"bg\":\"IncrementSliderButton_bg__3ypPC\",\"horizontal\":\"IncrementSliderButton_horizontal__2ZgFP\",\"decrement\":\"IncrementSliderButton_decrement__J-16I\",\"increment\":\"IncrementSliderButton_increment__3bloU\",\"vertical\":\"IncrementSliderButton_vertical__8n7Pf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIconButton_labeledIcon__1cfcm\",\"below\":\"LabeledIconButton_below__3PFgg\",\"icon\":\"LabeledIconButton_icon__3YBS-\",\"above\":\"LabeledIconButton_above__1IzUj\",\"after\":\"LabeledIconButton_after__1eVyj\",\"before\":\"LabeledIconButton_before__9i81B\",\"left\":\"LabeledIconButton_left__1iNM2\",\"right\":\"LabeledIconButton_right__A9go6\",\"label\":\"LabeledIconButton_label__7UmJg\",\"labeledIconButton\":\"LabeledIconButton_labeledIconButton__2nn1c\",\"selected\":\"LabeledIconButton_selected__2agqi\",\"small\":\"LabeledIconButton_small__3BKZm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupMenu\":\"PopupMenu_popupMenu__-eCje\",\"title\":\"PopupMenu_title__3MVaL\",\"horizontal\":\"PopupMenu_horizontal__1dAM1\",\"body\":\"PopupMenu_body__3_Kwh\",\"popupTransitionContainer\":\"PopupMenu_popupTransitionContainer__1o99J\",\"inner\":\"PopupMenu_inner__2tMdj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cannotClose\":\"PopupMenu_cannotClose__3wJiA\"};","// Icons For Samples\n//\n// Grouped into logical sets for easy consumption.\n//\n\nimport {icons, iconsSilicon} from '@enact/agate/Icon';\n\nconst decrementIcons = [\n\t'minus',\n\t'arrowlargedown',\n\t'arrowlargeleft',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowhookright',\n\t'backward',\n\t'skipbackward',\n\t'pausebackward',\n\t'pausejumpbackward',\n\t'jumpbackward',\n\t'rollbackward',\n\t'arrowshrink',\n\t'back15'\n];\n\nconst incrementIcons = [\n\t'plus',\n\t'arrowlargeup',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmallright',\n\t'arrowhookleft',\n\t'forward',\n\t'skipforward',\n\t'pauseforward',\n\t'pausejumpforward',\n\t'jumpforward',\n\t'rollforward',\n\t'arrowextend',\n\t'forward15'\n];\n\nconst listIcons = [\n\t'denselist',\n\t'bulletlist',\n\t'list',\n\t'drawer',\n\t'playlist'\n];\n\nconst mediaIcons = [\n\t'circle',\n\t'stop',\n\t'play',\n\t'pause',\n\t'forward',\n\t'backward',\n\t'skipforward',\n\t'skipbackward',\n\t'pauseforward',\n\t'pausebackward',\n\t'pausejumpforward',\n\t'pausejumpbackward',\n\t'resumeplay',\n\t'image',\n\t'audio',\n\t'music',\n\t'languages',\n\t'cc',\n\t'ccon',\n\t'ccoff',\n\t'sub',\n\t'recordings',\n\t'livezoom',\n\t'liveplayback',\n\t'liveplaybackoff',\n\t'repeat',\n\t'repeatoff',\n\t'series',\n\t'repeatdownload',\n\t'view360',\n\t'view360off',\n\t'info'\n];\n\nconst arrowIcons = [\n\t'arrowlargedown',\n\t'arrowlargeup',\n\t'arrowlargeleft',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowsmallright'\n];\n\nconst starIcons = [\n\t'star',\n\t'hollowstar',\n\t'halfstar'\n];\n\nconst iconList = Object.keys(icons).sort();\nconst iconListSilicon = Object.keys(iconsSilicon).sort();\n\nexport default iconList;\nexport {decrementIcons, iconList, iconListSilicon, incrementIcons, listIcons, mediaIcons, arrowIcons, starIcons};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__129Yw\",\"small\":\"ProgressBar_small__2wmQa\",\"vertical\":\"ProgressBar_vertical__bB7NQ\",\"fill\":\"ProgressBar_fill__3G9jz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__25L07\",\"centered\":\"Spinner_centered__22PAp\",\"running\":\"Spinner_running__2QhwN\",\"spinnerContainer\":\"Spinner_spinnerContainer__1o-44\",\"scrim\":\"Spinner_scrim__1mwXR\",\"blockClickOn\":\"Spinner_blockClickOn__2B96l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Switch_toggleIcon__1_Gv3\",\"icon\":\"Switch_icon__1AIcR\",\"animated\":\"Switch_animated__2DWi2\",\"selected\":\"Switch_selected__2YhJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchItem\":\"SwitchItem_switchItem__37OEe\",\"label\":\"SwitchItem_label__DfCYE\",\"switchIcon\":\"SwitchItem_switchIcon__54MEe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumbnailItem\":\"ThumbnailItem_thumbnailItem__2CnWI\",\"thumbnail\":\"ThumbnailItem_thumbnail__3Ct6_\",\"content\":\"ThumbnailItem_content__1qdn3\",\"slotBefore\":\"ThumbnailItem_slotBefore__26F68\",\"styled\":\"ThumbnailItem_styled__13kd-\",\"item\":\"ThumbnailItem_item__1vj65\",\"label\":\"ThumbnailItem_label__3XGOu\",\"selected\":\"ThumbnailItem_selected__3rDoY\"};","/**\n * A collection of locale-aware text utility function.\n *\n * @module i18n/util\n * @exports isRtlText\n * @exports toCapitalized\n * @exports toLowerCase\n * @exports toUpperCase\n * @exports toWordCase\n */\nimport '../src/glue';\nimport {toLowerCase, toUpperCase} from '../src/case';\n\n/*\n * This regex pattern is used by the [isRtlText()]{@link i18n/utils.isRtlText} function.\n *\n * Arabic: \\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\n * Hebrew: \\u0590-\\u05FF\\uFB1D-\\uFB4F\n *\n * @private\n */\nconst rtlPattern = /[\\u0600-\\u06FF\\u0750-\\u077F\\u08A0-\\u08FF\\uFB50-\\uFDFF\\uFE70-\\uFEFE\\u0590-\\u05FF\\uFB1D-\\uFB4F]/;\n\n/**\n * Takes content `str` and determines whether or not it is [RTL]{@link /docs/developer-guide/glossary/#rtl}.\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - A string to check the [RTL]{@link /docs/developer-guide/glossary/#rtl}-ness of.\n * @returns {Boolean} `true` if `str` should be RTL; `false` if not.\n * @public\n */\nconst isRtlText = function (str) {\n\tif (typeof str === 'string') {\n\t\treturn rtlPattern.test(str);\n\t}\n\n\treturn false;\n};\n\n/**\n * Capitalizes the first letter of a given string (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The capitalized string.\n * @public\n */\nconst toCapitalized = function (str) {\n\treturn toUpperCase(str.slice(0, 1)) + str.slice(1);\n};\n\n/**\n * Capitalizes every word in a string. Words are separated by spaces, not necessarily\n * word-breaks (locale aware).\n *\n * @function\n * @memberof i18n/util\n * @param {String} str - The string to capitalize.\n * @returns {String} The word-cased string.\n * @public\n */\nconst toWordCase = (str) => {\n\treturn str.split(' ').map(toCapitalized).join(' ');\n};\n\n/**\n * Locale-safely convert a string to lower case.\n *\n * @name toLowerCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to lower case\n * @returns {String} Lower-cased string\n * @public\n */\n\n/**\n * Locale-safely convert a string to upper case.\n *\n * @name toUpperCase\n * @function\n * @memberof i18n/util\n * @param {String} inString String to convert to upper case\n * @returns {String} Upper-cased string\n * @public\n */\n\nexport {\n\tisRtlText,\n\ttoCapitalized,\n\ttoLowerCase,\n\ttoUpperCase,\n\ttoWordCase\n};\n","import kind from '@enact/core/kind';\nimport {isRtlText} from '@enact/i18n/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Tooltip.module.less';\n\n/**\n * {@link agate/TooltipDecorator.TooltipLabel} is a stateless tooltip component with\n * Agate styling applied.\n *\n * @class TooltipLabel\n * @memberof agate/TooltipDecorator\n * @ui\n * @private\n */\nconst TooltipLabel = kind({\n\tname: 'TooltipLabel',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipLabel.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px). If the content goes over the given width,\n\t\t * then it will automatically wrap. When `null`, content does not wrap.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltipLabel'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({width, styler}) => styler.append({multi: !!width}),\n\t\tstyle: ({children, width, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\tdirection: isRtlText(children) ? 'rtl' : 'ltr',\n\t\t\t\twidth\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.width;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default TooltipLabel;\nexport {\n\tTooltipLabel\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport TooltipLabel from './TooltipLabel';\n\nimport css from './Tooltip.module.less';\n\n/**\n * A stateless tooltip component with Agate styling applied.\n *\n * @class TooltipBase\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst TooltipBase = kind({\n\tname: 'Tooltip',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Position of tooltip arrow in relation to the activator.\n\t\t *\n\t\t * Note that `'left'`, `'center'`, `'right'` are applicable when direction is in vertical\n\t\t * orientation (i.e. `'above'`, `'below'`), and `'top'`, `'middle'`, and `'bottom'` are\n\t\t * applicable when direction is in horizontal orientation (i.e. `'left'`, `'right'`)\n\t\t *\n\t\t * @type {('left'|'center'|'right'|'top'|'middle'|'bottom')}\n\t\t * @default 'right'\n\t\t * @public\n\t\t */\n\t\tarrowAnchor: PropTypes.oneOf(['left', 'center', 'right', 'top', 'middle', 'bottom']),\n\n\t\t/**\n\t\t * Direction of label in relation to the activator.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'above'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * A value representing the amount to offset the label portion of the tooltip.\n\t\t *\n\t\t * In a \"center\" aligned tooltip, the label may be desirable to offset to one side or the\n\t\t * other. This prop accepts a value betwen -0.5 and 0.5 (representing 50% to the left or\n\t\t * right). This defaults to 0 offset (centered). It also automatically caps the value so it\n\t\t * never positions the tooltip label past the anchored arrow. If the tooltip label or arrow\n\t\t * has non-rectangular geometry (rounded corners, a wide tail, etc), you'll need to manually\n\t\t * account for that in your provided offset value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tlabelOffset: PropTypes.number,\n\n\t\t/**\n\t\t * Style object for tooltip position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Anchors the tooltip relative to its container.\n\t\t *\n\t\t * Reconfigures the component to anchor itself to the designated edge of its container.\n\t\t * When this is not specified, the implication is that the component is \"absolutely\"\n\t\t * positioned, relative to the viewport, rather than its parent layer.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\trelative: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the tooltip mounts/unmounts, giving a reference to the DOM.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\ttooltipRef: PropTypes.func,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px).\n\t\t *\n\t\t * If the content goes over the given width, then it will automatically wrap. When `null`,\n\t\t * content does not wrap.\n\t\t *\n\t\t * @type {Number|null}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tarrowAnchor: 'right',\n\t\tdirection: 'above',\n\t\tlabelOffset: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltip'\n\t},\n\n\tcomputed: {\n\t\tlabelOffset: ({labelOffset}) => {\n\t\t\tif (labelOffset) {\n\t\t\t\tconst cappedPosition = Math.max(-0.5, Math.min(0.5, labelOffset));\n\t\t\t\treturn {transform: `translateX(${cappedPosition * 100}%)`};\n\t\t\t}\n\t\t},\n\t\tclassName: ({direction, arrowAnchor, relative, styler}) => styler.append(direction, `${arrowAnchor}Arrow`, {relative, absolute: !relative}),\n\t\tstyle: ({position, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t...position\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, tooltipRef, width, labelOffset, ...rest}) => {\n\t\tdelete rest.arrowAnchor;\n\t\tdelete rest.labelOffset;\n\t\tdelete rest.direction;\n\t\tdelete rest.position;\n\t\tdelete rest.relative;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.tooltipAnchor} ref={tooltipRef} >\n\t\t\t\t\t<div className={css.tooltipArrow} />\n\t\t\t\t\t<TooltipLabel width={width} style={labelOffset}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</TooltipLabel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A tooltip component with Agate styling applied.\n *\n * @class Tooltip\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst Tooltip = Skinnable(TooltipBase);\n\nexport default Tooltip;\nexport {Tooltip, TooltipBase};\n","// TooltipDecorator util.js\n//\n\nimport ri from '@enact/ui/resolution';\n\n/**\n * Calculates the unusable space of a centered Tooltip, which the Tooltip arrow cannot be positioned,\n * as a percentage of the Tooltip's total width.\n *\n * @param  {Number} tooltipWidth        The measured width of the Tooltip\n * @return {Number}                     The percent of the width of the tooltip that the Tooltip's\n *                                      decorations allocate for themselves (on one side).\n * @private\n */\nconst getLabelUnavailableSpace = function (tooltipWidth) {\n\t// Arrow is 15px wide total, we need to know how wide half of it is, since it's centered on the anchor point.\n\tconst arrowWidth = (15 / 2);\n\n\t// Tooltip is 54px tall, divide by half to get the curve radius ,add the tooltip width\n\t// to determine the distance that the anchor cannot progress past.\n\tconst tooltipUnavailableEdge = ri.scale((54 / 2) + arrowWidth);\n\n\t// cap the offset at 50% - that percentage\n\tconst tooltipUnavaliablePercentage = 0.5 - (tooltipUnavailableEdge / tooltipWidth);\n\n\treturn tooltipUnavaliablePercentage;\n};\n\n/**\n * Adjust anchor position for `Tooltip` based on overflow and rtl.\n * Takes the output of `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  arrowAnchor       Initial anchor position\n * @param   {String}  tooltipDirection  Direction of tooltip; value from `adjustDirection`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted anchor position\n * @private\n */\nconst adjustAnchor = function (arrowAnchor, tooltipDirection, overflow, rtl) {\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tif (rtl && arrowAnchor !== 'center') {\n\t\t\tarrowAnchor = arrowAnchor === 'left' ? 'right' : 'left';\n\t\t}\n\n\t\t// Flip sideways if it overflows to the sides\n\t\tif (arrowAnchor === 'center') {\n\t\t\t// If tooltip is anchored in the center, don't flip. We'll offset it appropriately later.\n\t\t} else if (overflow.isOverRight) {\n\t\t\tarrowAnchor = 'left';\n\t\t} else if (overflow.isOverLeft) {\n\t\t\tarrowAnchor = 'right';\n\t\t}\n\n\t\t// If tooltip is just too wide for the whole screen, switch it to a center tooltip\n\t\tif (overflow.isOverWide && tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\t\tarrowAnchor = 'center';\n\t\t}\n\t}\n\n\treturn arrowAnchor;\n};\n\n/**\n * Adjust direction for `Tooltip` based on overflow and rtl.\n * Takes the output from `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted tooltip direction\n * @private\n */\nconst adjustDirection = function (tooltipDirection, overflow, rtl) {\n\tif (rtl && (tooltipDirection === 'left' || tooltipDirection === 'right')) {\n\t\ttooltipDirection = tooltipDirection === 'left' ? 'right' : 'left';\n\t}\n\n\t// Flip tooltip if it overflows towards the tooltip direction\n\tif (overflow.isOverTop && tooltipDirection === 'above') {\n\t\ttooltipDirection = 'below';\n\t} else if (overflow.isOverBottom && tooltipDirection === 'below') {\n\t\ttooltipDirection = 'above';\n\t} else if (overflow.isOverLeft && tooltipDirection === 'left' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'right';\n\t} else if (overflow.isOverRight && tooltipDirection === 'right' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'left';\n\t}\n\n\treturn tooltipDirection;\n};\n\n/**\n * Calculates the overflow of `Tooltip`  if `Tooltip` is at the edge of the viewport.\n * Return the amount of overflow in a particular direction if there is overflow (false otherwise).\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Number} edgeKeepout        Extra margin around the screen to avoid\n * @returns {Object}                    Tooltip's calculated overflow\n * @private\n */\nconst calcOverflow = function (tooltipNode, clientNode, tooltipDirection, edgeKeepout) {\n\t// get the distance of space on both the right and left side of the client node. `clientNode.width / 2` because we want the tooltip to be positioned horizontally in middle of the client node.\n\tconst windowWidth = window.innerWidth;\n\tconst windowHeight = window.innerHeight;\n\tconst clientHorizontalCenter = clientNode.left + (clientNode.width / 2);\n\tconst tooltipSafeWidth = tooltipNode.width + edgeKeepout;\n\tconst tooltipCenterdSafeWidth = (tooltipNode.width / 2) + edgeKeepout;\n\tconst rightDelta = tooltipSafeWidth > clientHorizontalCenter;\n\tconst leftDelta = tooltipSafeWidth > windowWidth - clientHorizontalCenter;\n\tconst isTooltipWide = (tooltipSafeWidth > windowWidth) || (leftDelta && rightDelta);\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height + edgeKeepout;\n\t\tconst isOverLeft = clientHorizontalCenter - tooltipSafeWidth;\n\t\tconst isOverRight = clientHorizontalCenter + tooltipSafeWidth;\n\t\tconst isOverCenterLeft = clientHorizontalCenter - tooltipCenterdSafeWidth;\n\t\tconst isOverCenterRight = clientHorizontalCenter + tooltipCenterdSafeWidth;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverCenterLeft: (isOverCenterLeft < 0) ? isOverCenterLeft : false,\n\t\t\tisOverCenterRight: (isOverCenterRight > windowWidth) ? (isOverCenterRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height + clientNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height - (clientNode.height / 2) + edgeKeepout;\n\t\tconst isOverLeft = clientNode.left - tooltipNode.width - edgeKeepout;\n\t\tconst isOverRight = clientNode.right + tooltipNode.width + edgeKeepout;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t}\n};\n\n/**\n * Calculates the top and left position for `Tooltip`.\n * Takes the output of `adjustAnchor`, `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} arrowAnchor        Anchor position from `adjustAnchor`\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Object} overflow           Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {Object}                    Tooltip top and left position\n * @private\n */\nconst getPosition = function (clientNode, tooltipDirection) {\n\tlet position = {};\n\n\tswitch (tooltipDirection) {\n\t\tcase 'above':\n\t\t\tposition.top = clientNode.top;\n\t\t\tbreak;\n\t\tcase 'below':\n\t\t\tposition.top = clientNode.bottom;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tposition.left = clientNode.right;\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tposition.left = clientNode.left;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tposition = {};\n\t}\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tposition.left = clientNode.left + clientNode.width / 2;\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tposition.top = clientNode.top + clientNode.height / 2;\n\t}\n\n\treturn position;\n};\n\n/**\n * Adjusts the `Tooltip` arrow anchor when the tooltip is too wide.\n * Takes the output of `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object}  tooltipNode       The `getBoundingClientRect` values for tooltip node\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  tooltipPosition   Calculated tooltip position from `getPosition`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @private\n */\nconst getLabelOffset = function (tooltipNode, tooltipDirection, tooltipPosition, overflow) {\n\t// This method is irrelevent to left and right anchored tooltips, skip entirely.\n\tif (tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\tconst tooltipWidth = tooltipNode.width;\n\n\t\tif (\n\t\t\toverflow.isOverWide ||\n\t\t\toverflow.isOverCenterLeft ||\n\t\t\toverflow.isOverCenterRight\n\t\t) {\n\t\t\tlet pixelOffset = 0;\n\n\t\t\tif (overflow.isOverCenterLeft) {\n\t\t\t\t// Start shifting the label to the right (negative offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterLeft;\n\t\t\t} else if (overflow.isOverCenterRight) {\n\t\t\t\t// Start shifting the label to the left (positive offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterRight;\n\t\t\t}\n\n\t\t\tconst percentageOffset = (pixelOffset / tooltipWidth) * -1;\n\t\t\tconst offsetBoundaryPercentage = getLabelUnavailableSpace(tooltipWidth);\n\t\t\tconst cappedPercentageOffset = Math.max(offsetBoundaryPercentage * -1, Math.min(offsetBoundaryPercentage, percentageOffset));\n\n\t\t\treturn cappedPercentageOffset;\n\t\t}\n\t}\n\treturn null;\n};\n\nexport {\n\tadjustDirection,\n\tadjustAnchor,\n\tcalcOverflow,\n\tgetLabelOffset,\n\tgetPosition\n};\n","/* global MutationObserver ResizeObserver */\n\n/**\n * Agate styled tooltip components.\n *\n * @module agate/TooltipDecorator\n * @exports Tooltip\n * @exports TooltipBase\n * @exports TooltipDecorator\n */\n\nimport {forward, handle, forProp} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport {FloatingLayerBase} from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {Tooltip, TooltipBase} from './Tooltip';\nimport {adjustDirection, adjustAnchor, calcOverflow, getLabelOffset, getPosition} from './util';\n\nlet currentTooltip; // needed to know whether or not we should stop a showing job when unmounting\n\n/**\n * Default config for [TooltipDecorator]{@link agate/TooltipDecorator.TooltipDecorator}\n *\n * @memberof agate/TooltipDecorator.TooltipDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The boundary around the screen which the tooltip should never cross, typically involving\n\t * flipping to an alternate orientation or adjusting its offset to remain on screen.\n\t * The default of 24 is derived from a standard 12px screen-keepout size plus the standard\n\t * Spotlight-outset (12px) margin/padding value which keeps elements and text aligned inside a\n\t * [Panel]{@link agate/Panels.Panel}. Note: This value will be scaled according to the\n\t * resolution.\n\t *\n\t * @type {Number}\n\t * @default 24\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\tscreenEdgeKeepout: (12 + 12),\n\n\t/**\n\t * The name of the property which will receive the tooltip node.\n\t *\n\t * By default, `TooltipDecorator` will add a new child to the wrapped component, following any\n\t * other children passed in. If a component needs to, it can specify another property to receive\n\t * the tooltip and the `children` property will not be modified.\n\t *\n\t * @type {String}\n\t * @default 'children'\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\ttooltipDestinationProp: 'children'\n};\n\n/**\n * A higher-order component which positions [Tooltip]{@link agate/TooltipDecorator.Tooltip} in\n * relation to the wrapped component.\n *\n * The tooltip is automatically displayed when the decoratorated component is focused after a set\n * period of time.\n *\n * The tooltip is positioned around the decorator where there is available window space.\n *\n * Note that the direction of tooltip will be flipped horizontally in RTL locales.\n *\n * @class TooltipDecorator\n * @memberof agate/TooltipDecorator\n * @hoc\n * @public\n */\nconst TooltipDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\n\tconst tooltipDestinationProp = config.tooltipDestinationProp;\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'TooltipDecorator';\n\n\t\tstatic propTypes = /** @lends agate/TooltipDecorator.TooltipDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component but does not affect tooltip operation.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Indicates the tooltip text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Time to wait (in milliseconds) before showing tooltip on hover.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 500\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Position of the tooltip with respect to the wrapped component.\n\t\t\t *\n\t\t\t * | *Value* | *Tooltip Direction* |\n\t\t\t * |---|---|\n\t\t\t * | `'above'` | Above component, flowing to the right |\n\t\t\t * | `'above center'` | Above component, centered |\n\t\t\t * | `'above left'` | Above component, flowing to the left |\n\t\t\t * | `'above right'` | Above component, flowing to the right |\n\t\t\t * | `'below'` | Below component, flowing to the right |\n\t\t\t * | `'below center'` | Below component, centered |\n\t\t\t * | `'below left'` | Below component, flowing to the left |\n\t\t\t * | `'below right'` | Below component, flowing to the right |\n\t\t\t * | `'left bottom'` | Left of the component, contents at the bottom |\n\t\t\t * | `'left middle'` | Left of the component, contents middle aligned |\n\t\t\t * | `'left top'` | Left of the component, contents at the top |\n\t\t\t * | `'right bottom'` | Right of the component, contents at the bottom |\n\t\t\t * | `'right middle'` | Right of the component, contents middle aligned |\n\t\t\t * | `'right top'` | Right of the component, contents at the top |\n\t\t\t *\n\t\t\t * `TooltipDectorator` attempts to choose the best direction to meet layout and language\n\t\t\t * requirements. Left and right directions will reverse for RTL languages. Additionally,\n\t\t\t * the tooltip will reverse direction if it will prevent overflowing off the viewport\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|\n\t\t\t *  'below center'|'below left'|'below right'|'left bottom'|'left middle'|'left top'|\n\t\t\t * \t'right bottom'|'right middle'|'right top')}\n\t\t\t * @default 'above'\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipPosition: PropTypes.oneOf([\n\t\t\t\t'above', 'above center', 'above left', 'above right',\n\t\t\t\t'below', 'below center', 'below left', 'below right',\n\t\t\t\t'left bottom', 'left middle', 'left top',\n\t\t\t\t'right bottom', 'right middle', 'right top']),\n\n\t\t\t/**\n\t\t\t * Properties to be passed to tooltip component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Positions the tooltip relative to its container.\n\t\t\t *\n\t\t\t * Determines whether your tooltip should position itself relative to its container or\n\t\t\t * relative to the screen (absolute positioning on the floating layer). When setting to\n\t\t\t * `true`, to enable relative positioning, it may be important to specify the\n\t\t\t * `tooltipDestinationProp` key in this HoC's config object. A relatively positioned\n\t\t\t * Tooltip for a `Button`, for example, must be placed in the `decoration` prop.\n\t\t\t *\n\t\t\t * It may be necessary to assign the CSS rule `position` to the containing element so\n\t\t\t * relatively positioned Tooltip has a frame to \"stick to\" the edge of.\n\t\t\t *\n\t\t\t * Anchoring points can be visualized as follows:\n\t\t\t * ```\n\t\t\t * \n\t\t\t *        \n\t\t\t * \n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipRelative: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Tooltip content.\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\n\t\t\t/**\n\t\t\t * The interval (in milliseconds) to recheck the math for a currently showing tooltip's\n\t\t\t * positioning and orientation. Useful if your anchor element moves.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 400\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipUpdateDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The width of tooltip content in pixels (px).\n\t\t\t *\n\t\t\t * If the content goes over the given width, it will automatically wrap. When `null`,\n\t\t\t * content does not wrap.\n\t\t\t *\n\t\t\t * @type {Number|null}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipWidth: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\ttooltipDelay: 500,\n\t\t\ttooltipPosition: 'above',\n\t\t\ttooltipUpdateDelay: 400\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tshowing: false,\n\t\t\t\ttooltipDirection: null,\n\t\t\t\tarrowAnchor: null,\n\t\t\t\tposition: {top: 0, left: 0}\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (window.MutationObserver) {\n\t\t\t\tthis.mutationObserver = new MutationObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\n\t\t\tif (window.ResizeObserver) {\n\t\t\t\tthis.resizeObserver = new ResizeObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tif (this.state.showing && (\n\t\t\t\tprevProps.tooltipText !== this.props.tooltipText ||\n\t\t\t\tprevProps.tooltipPosition !== this.props.tooltipPosition ||\n\t\t\t\tprevState.showing !== this.state.showing\n\t\t\t)) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (currentTooltip === this) {\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\t\t\t}\n\t\t}\n\n\t\tsetTooltipLayout () {\n\t\t\tif (!this.tooltipRef || !this.clientRef) return;\n\n\t\t\tconst screenEdgeKeepout = ri.scale(config.screenEdgeKeepout);\n\t\t\tconst position = this.props.tooltipPosition;\n\t\t\tconst arr = position.split(' ');\n\t\t\tlet tooltipDirection = null;\n\t\t\tlet arrowAnchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[tooltipDirection, arrowAnchor] = arr;\n\t\t\t} else if (position === 'above' || position === 'below') {\n\t\t\t\ttooltipDirection = position;\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t} else {\n\t\t\t\ttooltipDirection = 'above';\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t}\n\n\t\t\tconst tooltipNode = this.tooltipRef.getBoundingClientRect(); // label bound\n\t\t\tconst clientNode = this.clientRef.getBoundingClientRect(); // client bound\n\t\t\tconst overflow = calcOverflow(tooltipNode, clientNode, tooltipDirection, screenEdgeKeepout);\n\n\t\t\ttooltipDirection = adjustDirection(tooltipDirection, overflow, this.props.rtl);\n\t\t\tarrowAnchor = adjustAnchor(arrowAnchor, tooltipDirection, overflow, this.props.rtl);\n\n\t\t\tconst tooltipPosition = getPosition(clientNode, tooltipDirection);\n\t\t\tconst labelOffset = arrowAnchor === 'center' ? getLabelOffset(tooltipNode, tooltipDirection, tooltipPosition, overflow) : null;\n\t\t\tconst {top, left} = this.state.position;\n\n\t\t\tif (\n\t\t\t\t(tooltipPosition.top !== top) ||\n\t\t\t\t(tooltipPosition.left !== left) ||\n\t\t\t\t(labelOffset !== this.state.labelOffset) ||\n\t\t\t\t(arrowAnchor !== this.state.arrowAnchor)\n\t\t\t) {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttooltipDirection,\n\t\t\t\t\tarrowAnchor,\n\t\t\t\t\tlabelOffset,\n\t\t\t\t\tposition: tooltipPosition\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tshowTooltipJob = new Job(() => {\n\t\t\tif (!this.state.showing) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowing: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsetTooltipLayoutJob = new Job(() => {\n\t\t\tthis.setTooltipLayout();\n\t\t});\n\n\t\tstartTooltipLayoutJob = () => {\n\t\t\tthis.setTooltipLayoutJob.startAfter(this.props.tooltipUpdateDelay);\n\t\t};\n\n\t\tshowTooltip = (client) => {\n\t\t\tconst {tooltipDelay, tooltipText} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tthis.clientRef = client;\n\t\t\t\tcurrentTooltip = this;\n\t\t\t\tthis.showTooltipJob.startAfter(tooltipDelay);\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.observe(this.clientRef, {attributes: true, childList: true});\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.observe(this.clientRef);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thideTooltip = () => {\n\t\t\tif (this.props.tooltipText) {\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.clientRef = null;\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\n\t\t\t\tif (this.state.showing) {\n\t\t\t\t\tthis.setState({showing: false});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\t// Recalculate tooltip layout on keydown to make sure tooltip is positioned correctly in case something changes as a result of the keydown.\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\tforProp('disabled', false),\n\t\t\t() => {\n\t\t\t\tthis.startTooltipLayoutJob();\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOver = this.handle(\n\t\t\tforward('onMouseOver'),\n\t\t\tforProp('disabled', true),\n\t\t\t(ev) => {\n\t\t\t\tthis.showTooltip(ev.target);\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOut = this.handle(\n\t\t\tforward('onMouseOut'),\n\t\t\tforProp('disabled', true),\n\t\t\t() => {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}\n\t\t);\n\n\t\thandleFocus = this.handle(\n\t\t\tforward('onFocus'),\n\t\t\t({target}) => this.showTooltip(target)\n\t\t);\n\n\t\thandleBlur = this.handle(\n\t\t\tforward('onBlur'),\n\t\t\tthis.hideTooltip\n\t\t);\n\n\t\tgetTooltipRef = (node) => {\n\t\t\tthis.tooltipRef = node;\n\t\t\tif (node) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Conditionally creates the FloatingLayer and Tooltip based on the presence of\n\t\t * `tooltipText` and returns a property bag to pass onto the Wrapped component\n\t\t *\n\t\t * @returns {Object} Prop object\n\t\t * @private\n\t\t */\n\t\trenderTooltip () {\n\t\t\tconst {children, tooltipRelative, tooltipProps, tooltipText, tooltipWidth} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tlet renderedTooltip = (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\taria-live=\"off\"\n\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t\tlabelOffset={this.state.labelOffset}\n\t\t\t\t\t\t{...tooltipProps}\n\t\t\t\t\t\tarrowAnchor={this.state.arrowAnchor}\n\t\t\t\t\t\tdirection={this.state.tooltipDirection}\n\t\t\t\t\t\tposition={tooltipRelative ? null : this.state.position}\n\t\t\t\t\t\trelative={tooltipRelative}\n\t\t\t\t\t\tstyle={{display: ((tooltipRelative && !this.state.showing) ? 'none' : null)}}\n\t\t\t\t\t\ttooltipRef={this.getTooltipRef}\n\t\t\t\t\t\twidth={tooltipWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tooltipText}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\n\n\t\t\t\tif (!tooltipRelative) {\n\t\t\t\t\trenderedTooltip = (\n\t\t\t\t\t\t<FloatingLayerBase open={this.state.showing} noAutoDismiss onDismiss={this.hideTooltip} scrimType=\"none\" key=\"tooltipFloatingLayer\">\n\t\t\t\t\t\t\t{renderedTooltip}\n\t\t\t\t\t\t</FloatingLayerBase>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (tooltipDestinationProp === 'children') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchildren: [children, renderedTooltip]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t[tooltipDestinationProp]: renderedTooltip\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {children};\n\t\t}\n\n\t\trender () {\n\t\t\t// minor optimization to merge all the props together once since we also have to delete\n\t\t\t// invalid props before passing downstream\n\t\t\tconst props = Object.assign(\n\t\t\t\t{},\n\t\t\t\tthis.props,\n\t\t\t\tthis.renderTooltip(),\n\t\t\t\t{\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus,\n\t\t\t\t\tonMouseOut: this.handleMouseOut,\n\t\t\t\t\tonMouseOver: this.handleMouseOver,\n\t\t\t\t\tonKeyDown: this.handleKeyDown\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdelete props.rtl;\n\t\t\tdelete props.tooltipDelay;\n\t\t\tdelete props.tooltipPosition;\n\t\t\tdelete props.tooltipProps;\n\t\t\tdelete props.tooltipRelative;\n\t\t\tdelete props.tooltipText;\n\t\t\tdelete props.tooltipUpdateDelay;\n\t\t\tdelete props.tooltipWidth;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl'},\n\t\tDecorator\n\t);\n});\n\nexport default TooltipDecorator;\nexport {\n\tTooltip,\n\tTooltipBase,\n\tTooltipDecorator\n};\n","/**\n * Exports the {@link spotlight/SpotlightRootDecorator.SpotlightRootDecorator}\n * higher-order component.\n *\n * @module spotlight/SpotlightRootDecorator\n * @exports SpotlightRootDecorator\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport Spotlight from '../src/spotlight';\nimport {spottableClass} from '../Spottable';\n\nimport {rootContainerId} from '../src/container';\n\nimport '../styles/debug.less';\n\n/**\n * Default configuration for SpotlightRootDecorator\n *\n * @hocconfig\n * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, the contents of the component will not receive spotlight focus after being rendered.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t * @memberof spotlight/SpotlightRootDecorator.SpotlightRootDecorator.defaultConfig\n\t */\n\tnoAutoFocus: false\n};\n\n/**\n * Constructs a higher-order component that initializes and enables Spotlight 5-way navigation\n * within an application.\n *\n * No additional properties are passed to the wrapped component.\n *\n * Example:\n * ```\n *\tconst App = SpotlightRootDecorator(ApplicationView);\n * ```\n *\n * @class SpotlightRootDecorator\n * @memberof spotlight/SpotlightRootDecorator\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} Wrapped higher-order component\n * @returns {Function} SpotlightRootDecorator\n * @hoc\n */\nconst SpotlightRootDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noAutoFocus} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SpotlightRootDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tif (typeof window === 'object') {\n\t\t\t\tSpotlight.initialize({\n\t\t\t\t\tselector: '.' + spottableClass,\n\t\t\t\t\trestrict: 'none'\n\t\t\t\t});\n\n\t\t\t\tSpotlight.set(rootContainerId, {\n\t\t\t\t\toverflow: true\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (!noAutoFocus) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tSpotlight.terminate();\n\t\t}\n\n\t\tnavigableFilter = (elem) => {\n\t\t\twhile (elem && elem !== document && elem.nodeType === 1) {\n\t\t\t\tif (elem.getAttribute('data-spotlight-container-disabled') === 'true') return false;\n\t\t\t\telem = elem.parentNode;\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default SpotlightRootDecorator;\nexport {\n\tSpotlightRootDecorator\n};\n","/**\n * Applies Agate specific styling and behaviors.\n *\n * @module agate/ThemeDecorator\n * @exports ThemeDecorator\n */\n\nimport {addAll} from '@enact/core/keymap';\nimport classnames from 'classnames';\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport I18nDecorator from '@enact/i18n/I18nDecorator';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {ResolutionDecorator} from '@enact/ui/resolution';\nimport {FloatingLayerDecorator} from '@enact/ui/FloatingLayer';\nimport SpotlightRootDecorator from '@enact/spotlight/SpotlightRootDecorator';\nimport convert from 'color-convert';\n\nimport Skinnable from '../Skinnable';\n\nimport screenTypes from './screenTypes.json';\nimport css from './ThemeDecorator.module.less';\n\n/**\n * Default config for {@link agate/ThemeDecorator.ThemeDecorator}.\n *\n * @memberof agate/ThemeDecorator.ThemeDecorator\n * @hocconfig\n */\nconst defaultConfig = /** @lends agate/ThemeDecorator.ThemeDecorator.defaultConfig */ {\n\t/**\n\t * Enables customization of a skin's highlight and accent color.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tcustomSkin: true,\n\n\t/**\n\t * Enables a floating layer for popup components.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link ui/FloatingLayer.FloatingLayerDecorator}\n\t * @public\n\t */\n\tfloat: true,\n\n\t/**\n\t * Applies I18nDecorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link i18n/I18nDecorator}\n\t * @public\n\t */\n\ti18n: true,\n\n\t/**\n\t * Disables setting spotlight focus on first render.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoAutoFocus: false,\n\n\t/**\n\t * Enables overlay mode (no background color will be applied).\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\toverlay: false,\n\n\t/**\n\t * Override the resolution independence settings.\n\t *\n\t * @type {Object}\n\t * @see {@link ui/resolution}\n\t * @public\n\t */\n\tri: {\n\t\tscreenTypes\n\t},\n\n\t/**\n\t * Applies skinning support.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link agate/Skinnable}\n\t * @public\n\t */\n\tskin: true,\n\n\t/**\n\t * Applies spotlight decorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link spotlight/SpotlightRootDecorator}\n\t * @public\n\t */\n\tspotlight: true\n};\n\n// TODO: If this will be public it should be documented or perhaps the props\n// added to `ThemeDecorator`\nconst CustomizableSkinStyle = kind({\n\tname: 'CustomizableSkinStyle',\n\n\tpropTypes: {\n\t\tclassName: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * A custom accent color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#8b7efe'\n\t\t * @public\n\t\t */\n\t\taccent: PropTypes.string,\n\n\t\t/**\n\t\t * A custom highlight color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#c6c0fe'\n\t\t * @public\n\t\t */\n\t\thighlight: PropTypes.string\n\t},\n\n\t// TODO: Consider allowing `null` and dropping this override completely\n\tdefaultProps: {\n\t\taccent: '#8b7efe',\n\t\thighlight: '#c6c0fe'\n\t},\n\n\tcomputed: {\n\t\tcssRules: ({className, accent, highlight}) => {\n\t\t\tconst accentObj = convert.hex.hsl(accent);\n\t\t\tconst highlightObj = convert.hex.hsl(highlight);\n\n\t\t\tconst style = {\n\t\t\t\t'--agate-accent-color': accent,\n\t\t\t\t'--agate-accent-h': accentObj[0],\n\t\t\t\t'--agate-accent-s': accentObj[1] + '%',\n\t\t\t\t'--agate-accent-l': accentObj[2] + '%',\n\t\t\t\t'--agate-highlight-color': highlight,\n\t\t\t\t'--agate-highlight-h': highlightObj[0],\n\t\t\t\t'--agate-highlight-s': highlightObj[1] + '%',\n\t\t\t\t'--agate-highlight-l': highlightObj[2] + '%'\n\t\t\t};\n\n\t\t\tlet styleRules = '';\n\t\t\tfor (const rule in style) {\n\t\t\t\tstyleRules += `\\t${rule}: ${style[rule]};\\n`;\n\t\t\t}\n\t\t\treturn `.${className} {\\n${styleRules}}\\n`;\n\t\t}\n\t},\n\n\trender: ({cssRules, ...rest}) => {\n\t\tdelete rest.className;\n\t\treturn (cssRules ? <style type=\"text/css\" {...rest}>{cssRules}</style> : null);\n\t}\n});\n\n/**\n * {@link agate/ThemeDecorator.ThemeDecorator} is a Higher-order Component that applies\n * Agate theming to an application. It also applies\n * [floating layer]{@link ui/FloatingLayer.FloatingLayerDecorator},\n * [resolution independence]{@link ui/resolution.ResolutionDecorator},\n * [skin support]{@link ui/Skinnable}, [spotlight]{@link spotlight.SpotlightRootDecorator}, and\n * [internationalization support]{@link i18n/I18nDecorator.I18nDecorator}. It is meant to be applied to\n * the root element of an app.\n *\n * [Skins]{@link ui/Skinnable} provide a way to change the coloration of your app. The currently\n * supported skins for Agate are \"agate\" (the default, dark skin) and \"agate-light\".\n * Use the `skin` property to assign a skin. Ex: `<DecoratedApp skin=\"light\" />`\n *\n * @class ThemeDecorator\n * @memberof agate/ThemeDecorator\n * @mixes ui/FloatingLayer.FloatingLayerDecorator\n * @mixes ui/resolution.ResolutionDecorator\n * @mixes spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n * @mixes agate/Skinnable.Skinnable\n * @hoc\n * @public\n */\nconst ThemeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// TODO: Document props passable to hoc ()\n\tconst {customSkin, float, i18n, noAutoFocus, overlay, ri, skin, spotlight} = config;\n\n\tconst bgClassName = classnames(\n\t\t'enact-fit',\n\t\t{\n\t\t\t[css.bg]: !overlay\n\t\t}\n\t);\n\n\tlet App = Wrapped;\n\tif (float) App = FloatingLayerDecorator({wrappedClassName: bgClassName}, App);\n\tif (ri) App = ResolutionDecorator(ri, App);\n\tif (i18n) App = I18nDecorator({sync: true}, App);\n\tif (spotlight) App = SpotlightRootDecorator({noAutoFocus}, App);\n\tif (skin) App = Skinnable({defaultSkin: 'gallium'}, App);\n\n\t// add webOS-specific key maps\n\taddAll({\n\t\tcancel: 461,\n\t\tpointerHide: 1537,\n\t\tpointerShow: 1536\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'ThemeDecorator';\n\n\t\tstatic propTypes = {\n\t\t\taccent: PropTypes.string,\n\t\t\thighlight: PropTypes.string\n\t\t};\n\n\t\trender () {\n\t\t\tconst {accent, className, highlight, ...rest} = this.props;\n\t\t\tconst customizableSkinClassName = 'agate-customized-skin';\n\n\t\t\tconst allClassNames = classnames(\n\t\t\t\tclassName,\n\t\t\t\t'enact-unselectable',\n\t\t\t\tbgClassName,\n\t\t\t\tcss.root,\n\t\t\t\t{[customizableSkinClassName]: customSkin}\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{customSkin ? <CustomizableSkinStyle className={customizableSkinClassName} accent={accent} highlight={highlight} /> : null}\n\t\t\t\t\t<App {...rest} className={allClassNames} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn Decorator;\n});\n\nexport default ThemeDecorator;\nexport {ThemeDecorator};\n","// Agate Environment\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {color} from '@storybook/addon-knobs';\nimport {Row, Column, Cell} from '@enact/ui/Layout';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\n\nimport ThemeDecorator from '@enact/agate/ThemeDecorator';\nimport Heading from '@enact/agate/Heading';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport Skinnable from '@enact/agate/Skinnable';\nimport Scroller from '@enact/agate/Scroller';\n\nimport css from './ThemeEnvironment.module.less';\n\nconst globalGroup = 'Global Knobs';\n\n// const reloadPage = () => {\n// \tconst {protocol, host, pathname} = window.parent.location;\n// \twindow.parent.location.href = protocol + '//' + host + pathname;\n// };\n\nconst SkinFrame = Skinnable(kind({\n\tname: 'SkinFrame',\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'skinFrame'\n\t},\n\trender: (props) => (\n\t\t<Row {...props} />\n\t)\n}));\n\nconst reloadPage = () => {\n\tconst {protocol, host, pathname} = window.parent.location;\n\twindow.parent.location.href = protocol + '//' + host + pathname;\n};\n\nconst PanelsBase = kind({\n\tname: 'ThemeEnvironment',\n\n\tpropTypes: {\n\t\tdescription: PropTypes.string,\n\t\tnoScroller: PropTypes.bool,\n\t\tnoPanel: PropTypes.bool, // eslint-disable-line react/sort-prop-types\n\t\tnoPanels: PropTypes.bool, // eslint-disable-line react/sort-prop-types\n\t\ttitle: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'themeEnvironment'\n\t},\n\n\trender: ({children, description, noScroller, noPanel, noPanels, title, ...rest}) => {\n\t\tconst Wrapper = noScroller ? 'div' : Scroller;\n\n\t\treturn (\n\t\t\t!noPanels ? <Wrapper {...rest}>\n\t\t\t\t<Panels onApplicationClose={reloadPage}>\n\t\t\t\t\t{!noPanel ? <Panel className={css.panel}>\n\t\t\t\t\t\t<Column>\n\t\t\t\t\t\t\t<Cell shrink>\n\t\t\t\t\t\t\t\t<Heading showLine>{title}</Heading>\n\t\t\t\t\t\t\t\t{description ? (\n\t\t\t\t\t\t\t\t\t<div className={css.description}>\n\t\t\t\t\t\t\t\t\t\t<p>{description}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t<Cell className={css.storyBody}>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t</Column>\n\t\t\t\t\t</Panel> : children}\n\t\t\t\t</Panels>\n\t\t\t</Wrapper> : <Wrapper {...rest}>{children}</Wrapper>\n\t\t);\n\t}\n});\n\nconst FullscreenBase = kind({\n\tname: 'ThemeEnvironment',\n\n\trender: (props) => (\n\t\t<div {...props} />\n\t)\n});\n\nconst Theme = ThemeDecorator({overlay: false}, PanelsBase);\nconst ThemeFullscreen = ThemeDecorator({overlay: false}, FullscreenBase);\n\nconst locales = {\n\t'local': '',\n\t'en-US - US English': 'en-US',\n\t'ko-KR - Korean': 'ko-KR',\n\t'es-ES - Spanish, with alternate weekends': 'es-ES',\n\t'am-ET - Amharic, 5 meridiems': 'am-ET',\n\t'th-TH - Thai, with tall characters': 'th-TH',\n\t'ar-SA - Arabic, RTL and standard font': 'ar-SA',\n\t'ur-PK - Urdu, RTL and custom Urdu font': 'ur-PK',\n\t'zh-Hans-HK - Simplified Chinese, custom Hans font': 'zh-Hans-HK',\n\t'zh-Hant-HK - Traditional Chinese, custom Hant font': 'zh-Hant-HK',\n\t'vi-VN - Vietnamese, Special non-latin font handling': 'vi-VN',\n\t'ta-IN - Tamil, custom Indian font': 'ta-IN',\n\t'ja-JP - Japanese, custom Japanese font': 'ja-JP',\n\t'en-JP - English, custom Japanese font': 'en-JP',\n\t'si-LK - Sinhala, external font family with different line metrics': 'si-LK'\n};\n\nconst skins = {\n\t'Carbon': 'carbon',\n\t'Cobalt': 'cobalt',\n\t'Copper': 'copper',\n\t'Electro': 'electro',\n\t'Gallium': 'gallium',\n\t'Silicon': 'silicon',\n\t'Titanium': 'titanium'\n};\n\n// NOTE: Knobs cannot set locale in fullscreen mode. This allows any knob to be taken from the URL.\nconst getPropFromURL = (propName, fallbackValue) => {\n\tpropName = encodeURI(propName);\n\tconst locationParams = window.parent.location.search;\n\n\tconst startIndex = locationParams.indexOf('knob-' + propName);\n\tif (startIndex > -1) {\n\t\tconst keyIndex = locationParams.indexOf('=', startIndex);\n\n\t\tif (locationParams.indexOf('&', keyIndex) > -1) {\n\t\t\tconst valueIndex = locationParams.indexOf('&', keyIndex);\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, valueIndex));\n\t\t} else {\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, locationParams.length));\n\t\t}\n\t}\n\n\treturn fallbackValue;\n};\n\nconst memory = {\n\tskin: null\n};\n\nconst StorybookDecorator = (story, config) => {\n\tconst sample = story();\n\tconst Config = {\n\t\tdefaultProps: {\n\t\t\tlocale: 'en-US',\n\t\t\t'night mode': false,\n\t\t\tskin: 'gallium'\n\t\t},\n\t\tgroupId: globalGroup\n\t};\n\tconst defaultColors = {\n\t\tcarbon: {\n\t\t\taccent: '#8fd43a',\n\t\t\thighlight: '#6abe0b'\n\t\t},\n\t\tcobalt: {\n\t\t\taccent: '#8c81ff',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\tcopper: {\n\t\t\taccent: '#a47d66',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\telectro: {\n\t\t\taccent: '#0359f0',\n\t\t\thighlight: '#ff8100'\n\t\t},\n\t\tgallium: {\n\t\t\taccent: '#8b7efe',\n\t\t\thighlight: '#e16253'\n\t\t},\n\t\tsilicon: {\n\t\t\taccent: '#f1304f',\n\t\t\thighlight: '#9e00d8'\n\t\t},\n\t\ttitanium: {\n\t\t\taccent: '#a6a6a6',\n\t\t\thighlight: '#2a48ca'\n\t\t}\n\t};\n\tconst skinFromURL = getPropFromURL('skin');\n\tconst currentSkin = skinFromURL ? skinFromURL : Config.defaultProps.skin;\n\tconst newSkin = (memory.skin !== currentSkin);\n\tmemory.skin = currentSkin;  // Remember the skin for the next time we load.\n\tconst accentFromURL = getPropFromURL('accent');\n\tconst highlightFromURL = getPropFromURL('highlight');\n\tconst localeFromURL = getPropFromURL('locale');\n\tconst currentLocale = localeFromURL ? localeFromURL : Config.defaultProps.locale;\n\tconst locale = select('locale', locales, Config, currentLocale);\n\tconst allSkins = boolean('show all skins', Config);\n\tconst skinKnobs = {};\n\tif (!allSkins) {\n\t\tskinKnobs.skin = select('skin', skins, Config, currentSkin);\n\t}\n\tconst {accent, highlight} = !allSkins && boolean('default skin styles', Config) ? defaultColors[skinKnobs.skin] : {};\n\tif (config.parameters && config.parameters.props) {\n\t\tconfig.props = config.parameters.props;\n\t}\n\n\treturn (\n\t\t<Theme\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tlocale={locale}\n\t\t\t{...skinKnobs}\n\t\t\tskinVariants={boolean('night mode', Config) && 'night'}\n\t\t\taccent={accent || color('accent', (!newSkin && accentFromURL ? accentFromURL : defaultColors[currentSkin].accent), Config.groupId)}\n\t\t\thighlight={highlight || color('highlight', (!newSkin && highlightFromURL ? highlightFromURL : defaultColors[currentSkin].highlight), Config.groupId)}\n\t\t\t{...config.props}\n\t\t>\n\t\t\t{allSkins ? Object.keys(skins).map(skin => (\n\t\t\t\t<SkinFrame skin={skins[skin]} key={skin}>\n\t\t\t\t\t<Cell size=\"20%\" component={Heading}>{skin}</Cell>\n\t\t\t\t\t<Cell>{sample}</Cell>\n\t\t\t\t</SkinFrame>\n\t\t\t)) : sample}\n\t\t</Theme>\n\t);\n};\n\nconst FullscreenStorybookDecorator = (story, config) => {\n\tconst sample = story();\n\treturn (\n\t\t<ThemeFullscreen\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tskin={select('skin', skins, getPropFromURL('skin'))}\n\t\t>\n\t\t\t{sample}\n\t\t</ThemeFullscreen>\n\t);\n};\n\nexport default StorybookDecorator;\nexport {StorybookDecorator as Theme, FullscreenStorybookDecorator as ThemeFullscreen};\n","import {configure, addDecorator} from '@storybook/react';\nimport {loadStories} from '@enact/storybook-utils';\nimport {configureActions} from '@enact/storybook-utils/addons/actions';\nimport {withKnobs} from '@enact/storybook-utils/addons/knobs';\n\nimport Environment from '../src/ThemeEnvironment';\n\nfunction config (stories, mod) {\n\tconfigureActions();\n\taddDecorator(withKnobs());\n\n\t// Set environment defaults\n\taddDecorator(Environment);\n\n\tconfigure(loadStories(stories), mod);\n}\n\nexport default config;\n","/**\n * Provides the `ApiDecorator` higher-order component\n *\n * @module core/internal/ApiDecorator\n * @private\n */\n\nimport invariant from 'invariant';\nimport React from 'react';\n\nimport hoc from '../../hoc';\n\n// Gets a property from `provider`\nconst get = (provider, name) => () => {\n\tif (provider) {\n\t\treturn provider[name];\n\t}\n};\n\n// Sets a property on `provider`\nconst set = (provider, name) => (value) => {\n\tif (provider && typeof provider[name] !== 'function') {\n\t\treturn (provider[name] = value);\n\t}\n};\n\n/**\n * Default config for {@link core/internal/ApiDecorator.ApiDecorator}.\n *\n * @memberof core/internal/ApiDecorator.ApiDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the API endpoints to be exposed\n\t *\n\t * @type {String[]}\n\t * @required\n\t * @memberof core/internal/ApiDecorator.ApiDecorator.defaultConfig\n\t */\n\tapi: null\n};\n\n/**\n * {@link core/internal/ApiDecorator.ApiDecorator} is a higher-order component that exposes an\n * imperative API for a contained component. ApiDecorator accepts an array of API endpoints in the\n * `api` config parameter. Each is then mapped to the underlying component instance as either a\n * function call or property getter/setter pair. The component passes a reference to itself to the\n * ApiDecorator by a `setApiProvider` prop added by the HOC.\n *\n * ```\n * import ApiDecorator from '@enact/core/internal/ApiDecorator';\n *\n * const MyComponent = class extends React.Component {\n * \tstatic displayName = 'MyComponent';\n *\n * \tdoSomething = () => {\n * \t}\n * }\n *\n * @class ApiDecorator\n * @memberof core/internal/ApiDecorator\n * @hoc\n * @private\n */\nconst ApiDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {api} = config;\n\n\tinvariant(\n\t\tapi != null,\n\t\t'ApiDecorator: api is a required config property'\n\t);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ApiDecorator';\n\n\t\tsetProvider = (provider) => {\n\t\t\tapi.forEach(key => {\n\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\tget: get(provider, key),\n\t\t\t\t\tset: set(provider, key),\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped setApiProvider={this.setProvider} {...this.props} />;\n\t\t}\n\t};\n});\n\nexport default ApiDecorator;\nexport {\n\tApiDecorator\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ContextualPopup.module.less';\n\n/**\n * An SVG arrow for {@link agate/ContextualPopupDecorator.ContextualPopup}.\n *\n * @class ContextualPopupArrow\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @private\n */\nconst ContextualPopupArrow = kind({\n\tname: 'ContextualPopupArrow',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopupArrow.prototype */ {\n\t\t/**\n\t\t * Direction of ContextualPopupArrow.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right'])\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'arrow'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({direction, styler}) => styler.append(direction, css.arrow)\n\t},\n\n\trender: (props) => (\n\t\t<svg {...props} viewBox=\"0 0 30 30\">\n\t\t\t<path d=\"M15 2 L0 20 L30 20 Z\" className={css.arrowFill} />\n\t\t</svg>\n\t)\n});\n\nconst ContextualPopupRoot = Skinnable('div');\n\n/**\n * A popup component used by\n * [ContextualPopupDecorator]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator} to\n * wrap its [popupComponent]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator.popupComponent}.\n *\n * `ContextualPopup` is usually not used directly but is made available for unique application use\n * cases.\n *\n * @class ContextualPopup\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @public\n */\nconst ContextualPopupBase = kind({\n\tname: 'ContextualPopup',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopup.prototype */ {\n\t\t/**\n\t\t * The contents of the popup.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Style object for arrow position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tarrowPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Style object for container position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcontainerPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Called with the reference to the container node.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tcontainerRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Direction of ContextualPopup.\n\t\t *\n\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t/**\n\t\t * Called when the close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonCloseButtonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Shows the close button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshowCloseButton: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below center',\n\t\tshowCloseButton: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'container'\n\t},\n\n\tcomputed: {\n\t\tarrowDirection: ({direction}) => {\n\t\t\tconst [arrowDirection] = direction.split(' ');\n\t\t\treturn arrowDirection;\n\t\t},\n\t\tclassName: ({direction, showCloseButton, styler}) => styler.append(\n\t\t\t{\n\t\t\t\tfixedSize: direction === 'above' || direction === 'below'\n\t\t\t},\n\t\t\tdirection.split(' '),\n\t\t\t{reserveClose: showCloseButton}\n\t\t),\n\t\tcloseButton: ({showCloseButton, onCloseButtonClick}) => {\n\t\t\tif (showCloseButton) {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={$L('Close')}\n\t\t\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onCloseButtonClick}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({arrowDirection, arrowPosition, children, className, closeButton, containerPosition, containerRef, ...rest}) => {\n\t\tdelete rest.direction;\n\t\tdelete rest.onCloseButtonClick;\n\t\tdelete rest.showCloseButton;\n\n\t\treturn (\n\t\t\t<ContextualPopupRoot aria-live=\"off\" role=\"alert\" {...rest} className={css.contextualPopup}>\n\t\t\t\t<div className={className} style={containerPosition} ref={containerRef}>\n\t\t\t\t\t{children}\n\t\t\t\t\t{closeButton}\n\t\t\t\t</div>\n\t\t\t\t<ContextualPopupArrow direction={arrowDirection} style={arrowPosition} />\n\t\t\t</ContextualPopupRoot>\n\t\t);\n\t}\n});\n\nexport default ContextualPopupBase;\nexport {\n\tContextualPopupBase as ContextualPopup,\n\tContextualPopupBase\n};\n","/**\n * A higher-order component to add an Agate styled popup to a component.\n *\n * @module agate/ContextualPopupDecorator\n * @exports\tContextualPopup\n * @exports\tContextualPopupDecorator\n */\n\nimport ApiDecorator from '@enact/core/internal/ApiDecorator';\nimport {on, off} from '@enact/core/dispatcher';\nimport {handle, forProp, forKey, forward, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {extractAriaProps} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport FloatingLayer from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {ContextualPopup} from './ContextualPopup';\n\nimport css from './ContextualPopupDecorator.module.less';\n\n/**\n * Default config for {@link agate/ContextualPopupDecorator.ContextualPopupDecorator}\n *\n * @type {Object}\n * @hocconfig\n * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Disables passing the `skin` prop to the wrapped component.\n\t *\n\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\tnoSkin: false,\n\n\t/**\n\t * The prop in which to pass the value of `open` state of ContextualPopupDecorator to the\n\t * wrapped component.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\topenProp: 'selected'\n};\n\nconst ContextualPopupContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tContextualPopup\n);\n\nconst Decorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noSkin, openProp} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ContextualPopupDecorator';\n\n\t\tstatic propTypes = /** @lends agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The component rendered within the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * @type {Component}\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupComponent: EnactPropTypes.component.isRequired,\n\n\t\t\t/**\n\t\t\t * Limits the range of voice control to the popup.\n\t\t\t *\n\t\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t\t * @type {Boolean}\n\t\t\t * @default true\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-exclusive': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Direction of popup with respect to the wrapped component.\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t\t * @default 'below center'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t\t/**\n\t\t\t * Disables closing the popup when the user presses the cancel key or taps outside the\n\t\t\t * popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the user has attempted to close the popup.\n\t\t\t *\n\t\t\t * This may occur either when the close button is clicked or when spotlight focus\n\t\t\t * moves outside the boundary of the popup. Setting `spotlightRestrict` to `'self-only'`\n\t\t\t * will prevent Spotlight focus from leaving the popup.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonClose: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the popup is opened.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonOpen: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Displays the contextual popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\topen: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * CSS class name to pass to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * This is commonly used to set width and height of the popup.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupClassName: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to popup component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * The container ID to use with Spotlight.\n\t\t\t *\n\t\t\t * The spotlight container for the popup isn't created until it is open. To configure\n\t\t\t * the container using `Spotlight.set()`, handle the `onOpen` event which is fired after\n\t\t\t * the popup has been created and opened.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupSpotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Indicates the content's text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Registers the ContextualPopupDecorator component with an [ApiDecorator]\n\t\t\t * {@link core/internal/ApiDecorator.ApiDecorator}.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tsetApiProvider: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Shows the close button.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tshowCloseButton: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The current skin for this component.\n\t\t\t *\n\t\t\t * When `noSkin` is set on the config object, `skin` will only be applied to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} and not\n\t\t\t * to the popup's activator component.\n\t\t\t *\n\t\t\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tskin: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Restricts or prioritizes spotlight navigation.\n\t\t\t *\n\t\t\t * Allowed values are:\n\t\t\t * * `'none'` - Spotlight can move freely within and beyond the popup\n\t\t\t * * `'self-first'` - Spotlight should prefer components within the popup over\n\t\t\t *   components beyond the popup, or\n\t\t\t * * `'self-only'` - Spotlight can only be set within the popup\n\t\t\t *\n\t\t\t * @type {('none'|'self-first'|'self-only')}\n\t\t\t * @default 'self-first'\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\t'data-webos-voice-exclusive': true,\n\t\t\tdirection: 'below center',\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tshowCloseButton: false,\n\t\t\tspotlightRestrict: 'self-first'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tarrowPosition: {top: 0, left: 0},\n\t\t\t\tcontainerPosition: {top: 0, left: 0},\n\t\t\t\tcontainerId: Spotlight.add(this.props.popupSpotlightId),\n\t\t\t\tactivator: null\n\t\t\t};\n\n\t\t\tthis.overflow = {};\n\t\t\tthis.adjustedDirection = this.props.direction;\n\n\t\t\tthis.ARROW_OFFSET = ri.scale(18); // actual distance of the svg arrow displayed to offset overlaps with the container.\n\t\t\tthis.ARROW_WIDTH = ri.scale(30); // svg arrow width. used for arrow positioning\n\t\t\tthis.KEEPOUT = ri.scale(12); // keep out distance on the edge of the screen\n\t\t\tthis.MARGIN = ri.scale(9);\n\n\t\t\tif (props.setApiProvider) {\n\t\t\t\tprops.setApiProvider(this);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.props.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t}\n\n\t\tgetSnapshotBeforeUpdate (prevProps, prevState) {\n\t\t\tconst snapshot = {\n\t\t\t\tcontainerWidth: this.getContainerNodeWidth()\n\t\t\t};\n\n\t\t\tif (prevProps.open && !this.props.open) {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tsnapshot.shouldSpotActivator = (\n\t\t\t\t\t// isn't set\n\t\t\t\t\t!current ||\n\t\t\t\t\t// is on the activator and we want to re-spot it so a11y read out can occur\n\t\t\t\t\tcurrent === prevState.activator ||\n\t\t\t\t\t// is within the popup\n\t\t\t\t\tthis.containerNode.contains(current)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn snapshot;\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState, snapshot) {\n\t\t\tif (prevProps.direction !== this.props.direction || snapshot.containerWidth !== this.getContainerNodeWidth()) {\n\t\t\t\tthis.adjustedDirection = this.props.direction;\n\t\t\t\t// NOTE: `setState` is called and will cause re-render\n\t\t\t\tthis.positionContextualPopup();\n\t\t\t}\n\n\t\t\tif (this.props.open && !prevProps.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t} else if (!this.props.open && prevProps.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t\tif (snapshot && snapshot.shouldSpotActivator) {\n\t\t\t\t\tthis.spotActivator(prevState.activator);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.props.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t\tSpotlight.remove(this.state.containerId);\n\t\t}\n\n\t\tgetContainerNodeWidth () {\n\t\t\treturn this.containerNode && this.containerNode.getBoundingClientRect().width || 0;\n\t\t}\n\n\t\tupdateLeaveFor (activator) {\n\t\t\tSpotlight.set(this.state.containerId, {\n\t\t\t\tleaveFor: {\n\t\t\t\t\tup: activator,\n\t\t\t\t\tdown: activator,\n\t\t\t\t\tleft: activator,\n\t\t\t\t\tright: activator\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgetContainerAdjustedPosition = () => {\n\t\t\tconst position = this.adjustedDirection;\n\t\t\tconst arr = this.adjustedDirection.split(' ');\n\t\t\tlet direction = null;\n\t\t\tlet anchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[direction, anchor] = arr;\n\t\t\t} else {\n\t\t\t\tdirection = position;\n\t\t\t}\n\n\t\t\treturn {anchor, direction};\n\t\t};\n\n\t\tgetContainerPosition (containerNode, clientNode) {\n\t\t\tconst position = this.centerContainerPosition(containerNode, clientNode);\n\t\t\tconst {direction} = this.getContainerAdjustedPosition();\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_OFFSET - containerNode.height - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN : clientNode.right + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.right + this.ARROW_OFFSET + this.MARGIN : clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcenterContainerPosition (containerNode, clientNode) {\n\t\t\tconst pos = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverLeft) {\n\t\t\t\t\t// anchor to the left of the screen\n\t\t\t\t\tpos.left = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverRight) {\n\t\t\t\t\t// anchor to the right of the screen\n\t\t\t\t\tpos.left = window.innerWidth - containerNode.width - this.KEEPOUT;\n\t\t\t\t} else if (anchor) {\n\t\t\t\t\tif (anchor === 'center') {\n\t\t\t\t\t\t// center horizontally\n\t\t\t\t\t\tpos.left = clientNode.left + (clientNode.width - containerNode.width) / 2;\n\t\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\t\t// anchor to the left side of the activator\n\t\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// anchor to the right side of the activator\n\t\t\t\t\t\tpos.left = clientNode.right - containerNode.width;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the left side of the activator, matching its width\n\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\tpos.width = clientNode.width;\n\t\t\t\t}\n\n\t\t\t} else if (direction === 'left' || direction === 'right') {\n\t\t\t\tif (this.overflow.isOverTop) {\n\t\t\t\t\t// anchor to the top of the screen\n\t\t\t\t\tpos.top = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverBottom) {\n\t\t\t\t\t// anchor to the bottom of the screen\n\t\t\t\t\tpos.top = window.innerHeight - containerNode.height - this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'middle') {\n\t\t\t\t\t// center vertically\n\t\t\t\t\tpos.top = clientNode.top - (containerNode.height - clientNode.height) / 2;\n\t\t\t\t} else if (anchor === 'top') {\n\t\t\t\t\t// anchor to the top of the activator\n\t\t\t\t\tpos.top = clientNode.top;\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the bottom of the activator\n\t\t\t\t\tpos.top = clientNode.bottom - containerNode.height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn pos;\n\t\t}\n\n\t\tgetArrowPosition (containerNode, clientNode) {\n\t\t\tconst position = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverRight && !this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = window.innerWidth - ((containerNode.width + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t\t} else if (!this.overflow.isOverRight && this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = ((containerNode.width - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\tposition.left = clientNode.left + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else if (anchor === 'right') {\n\t\t\t\t\tposition.left = clientNode.right - containerNode.width + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else {\n\t\t\t\t\tposition.left = clientNode.left + (clientNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t}\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop) {\n\t\t\t\tposition.top = window.innerHeight - ((containerNode.height + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t} else if (!this.overflow.isOverBottom && this.overflow.isOverTop) {\n\t\t\t\tposition.top = ((containerNode.height - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t} else if (anchor === 'top') {\n\t\t\t\tposition.top = clientNode.top + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else if (anchor === 'bottom') {\n\t\t\t\tposition.top = clientNode.bottom - containerNode.height + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else {\n\t\t\t\tposition.top = clientNode.top + (clientNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t}\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left + clientNode.width + this.MARGIN : clientNode.left - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - this.ARROW_WIDTH - this.MARGIN : clientNode.left + clientNode.width + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcalcOverflow (container, client) {\n\t\t\tlet containerHeight, containerWidth;\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tcontainerHeight = container.height;\n\t\t\t\tcontainerWidth = (container.width - client.width) / 2;\n\t\t\t} else {\n\t\t\t\tcontainerHeight = (container.height - client.height) / 2;\n\t\t\t\tcontainerWidth = container.width;\n\t\t\t}\n\n\t\t\tthis.overflow = {\n\t\t\t\tisOverTop: anchor === 'top' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\t!(client.top > this.KEEPOUT) :\n\t\t\t\t\tclient.top - containerHeight - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverBottom: anchor === 'bottom' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\tclient.bottom + this.KEEPOUT > window.innerHeight :\n\t\t\t\t\tclient.bottom + containerHeight + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerHeight,\n\t\t\t\tisOverLeft: anchor === 'left' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\t!(client.left > this.KEEPOUT) :\n\t\t\t\t\tclient.left - containerWidth - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverRight: anchor === 'right' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\tclient.right + this.KEEPOUT > window.innerWidth :\n\t\t\t\t\tclient.right + containerWidth + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerWidth\n\t\t\t};\n\t\t}\n\n\t\tadjustDirection () {\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (this.overflow.isOverTop && !this.overflow.isOverBottom && direction === 'above') {\n\t\t\t\tthis.adjustedDirection = anchor ? `below ${anchor}` : 'below';\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop && direction === 'below') {\n\t\t\t\tthis.adjustedDirection = anchor ? `above ${anchor}` : 'above';\n\t\t\t} else if (this.overflow.isOverLeft && !this.overflow.isOverRight && direction === 'left' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `right ${anchor}` : 'right';\n\t\t\t} else if (this.overflow.isOverRight && !this.overflow.isOverLeft && direction === 'right' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `left ${anchor}` : 'left';\n\t\t\t}\n\t\t}\n\n\t\tadjustRTL (position) {\n\t\t\tlet pos = position;\n\t\t\tif (this.props.rtl) {\n\t\t\t\tconst tmpLeft = pos.left;\n\t\t\t\tpos.left = pos.right;\n\t\t\t\tpos.right = tmpLeft;\n\t\t\t}\n\t\t\treturn pos;\n\t\t}\n\n\t\t/**\n\t\t * Position the popup in relation to the activator.\n\t\t *\n\t\t * Position is based on the dimensions of the popup and its activator. If the popup does not\n\t\t * fit in the specified direction, it will automatically flip to the opposite direction.\n\t\t *\n\t\t * @method\n\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t * @public\n\t\t * @returns {undefined}\n\t\t */\n\t\tpositionContextualPopup = () => {\n\t\t\tif (this.containerNode && this.clientNode) {\n\t\t\t\tconst containerNode = this.containerNode.getBoundingClientRect();\n\t\t\t\tconst {top, left, bottom, right, width, height} = this.clientNode.getBoundingClientRect();\n\t\t\t\tconst clientNode = {top, left, bottom, right, width, height};\n\t\t\t\tclientNode.left = this.props.rtl ? window.innerWidth - right : left;\n\t\t\t\tclientNode.right = this.props.rtl ? window.innerWidth - left : right;\n\n\t\t\t\tthis.calcOverflow(containerNode, clientNode);\n\t\t\t\tthis.adjustDirection();\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdirection: this.adjustedDirection,\n\t\t\t\t\tarrowPosition: this.getArrowPosition(containerNode, clientNode),\n\t\t\t\t\tcontainerPosition: this.getContainerPosition(containerNode, clientNode)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tgetContainerNode = (node) => {\n\t\t\tthis.containerNode = node;\n\t\t};\n\n\t\tgetClientNode = (node) => {\n\t\t\tthis.clientNode = ReactDOM.findDOMNode(node); // eslint-disable-line react/no-find-dom-node\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforProp('open', true),\n\t\t\tforKey('enter'),\n\t\t\t() => Spotlight.getCurrent() === this.state.activator,\n\t\t\tstop,\n\t\t\tforward('onClose')\n\t\t);\n\n\t\thandleOpen = (ev) => {\n\t\t\tforward('onOpen', ev, this.props);\n\t\t\tthis.positionContextualPopup();\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tthis.updateLeaveFor(current);\n\t\t\tthis.setState({\n\t\t\t\tactivator: current\n\t\t\t});\n\t\t\tthis.spotPopupContent();\n\t\t};\n\n\t\thandleClose = () => {\n\t\t\tthis.updateLeaveFor(null);\n\t\t\tthis.setState({\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\thandleDirectionalKey (ev) {\n\t\t\t// prevent default page scrolling\n\t\t\tev.preventDefault();\n\t\t\t// stop propagation to prevent default spotlight behavior\n\t\t\tev.stopPropagation();\n\t\t\t// set the pointer mode to false on keydown\n\t\t\tSpotlight.setPointerMode(false);\n\t\t}\n\n\t\t// handle key event from outside (i.e. the activator) to the popup container\n\t\thandleKeyDown = (ev) => {\n\t\t\tconst {activator, containerId} = this.state;\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tconst hasSpottables = Spotlight.getSpottableDescendants(containerId).length > 0;\n\t\t\tconst spotlessSpotlightModal = spotlightRestrict === 'self-only' && !hasSpottables;\n\t\t\tconst shouldSpotPopup = current === activator && direction === this.adjustedDirection && hasSpottables;\n\n\t\t\tif (shouldSpotPopup || spotlessSpotlightModal) {\n\t\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t\t// we guard against attempting a focus change by verifying the case where a\n\t\t\t\t// spotlightModal popup contains no spottable components\n\t\t\t\tif (!spotlessSpotlightModal && shouldSpotPopup) {\n\t\t\t\t\tthis.spotPopupContent();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// handle key event from contextual popup and closes the popup\n\t\thandleContainerKeyDown = (ev) => {\n\t\t\t// Note: Container will be only rendered if `open`ed, therefore no need to check for `open`\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t// if focus moves outside the popup's container, issue the `onClose` event\n\t\t\tif (Spotlight.move(direction) && !this.containerNode.contains(Spotlight.getCurrent())) {\n\t\t\t\tforward('onClose', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\tspotActivator = (activator) => {\n\t\t\tif (!Spotlight.getPointerMode() && activator && activator === Spotlight.getCurrent()) {\n\t\t\t\tactivator.blur();\n\t\t\t}\n\t\t\tif (!Spotlight.focus(activator)) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t};\n\n\t\tspotPopupContent = () => {\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst {containerId} = this.state;\n\t\t\tconst spottableDescendants = Spotlight.getSpottableDescendants(containerId);\n\t\t\tif (spotlightRestrict === 'self-only' && spottableDescendants.length && Spotlight.getCurrent()) {\n\t\t\t\tSpotlight.getCurrent().blur();\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(containerId)) {\n\t\t\t\tSpotlight.setActiveContainer(containerId);\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst {'data-webos-voice-exclusive': voiceExclusive, showCloseButton, popupComponent: PopupComponent, popupClassName, noAutoDismiss, onClose, open, popupProps, skin, spotlightRestrict, ...rest} = this.props;\n\t\t\tconst scrimType = spotlightRestrict === 'self-only' ? 'transparent' : 'none';\n\t\t\tconst popupPropsRef = Object.assign({}, popupProps);\n\t\t\tconst ariaProps = extractAriaProps(popupPropsRef);\n\n\t\t\tif (!noSkin) {\n\t\t\t\trest.skin = skin;\n\t\t\t}\n\n\t\t\tdelete rest.onOpen;\n\t\t\tdelete rest.popupSpotlightId;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.setApiProvider;\n\n\t\t\tif (openProp) rest[openProp] = open;\n\n\t\t\treturn (\n\t\t\t\t<div className={css.contextualPopupDecorator}>\n\t\t\t\t\t<FloatingLayer\n\t\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\t\tonOpen={this.handleOpen}\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContextualPopupContainer\n\t\t\t\t\t\t\t{...ariaProps}\n\t\t\t\t\t\t\tclassName={popupClassName}\n\t\t\t\t\t\t\tshowCloseButton={showCloseButton}\n\t\t\t\t\t\t\tonCloseButtonClick={onClose}\n\t\t\t\t\t\t\tonKeyDown={this.handleContainerKeyDown}\n\t\t\t\t\t\t\tdirection={this.state.direction}\n\t\t\t\t\t\t\tarrowPosition={this.state.arrowPosition}\n\t\t\t\t\t\t\tcontainerPosition={this.state.containerPosition}\n\t\t\t\t\t\t\tcontainerRef={this.getContainerNode}\n\t\t\t\t\t\t\tdata-webos-voice-exclusive={voiceExclusive}\n\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\tspotlightId={this.state.containerId}\n\t\t\t\t\t\t\tspotlightRestrict={spotlightRestrict}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PopupComponent {...popupPropsRef} />\n\t\t\t\t\t\t</ContextualPopupContainer>\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t\t<Wrapped ref={this.getClientNode} {...rest} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Adds support for positioning a\n * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} relative to the\n * wrapped component.\n *\n * `ContextualPopupDecorator` may be used to show additional settings or actions rendered within a\n * small floating popup.\n *\n * Usage:\n * ```\n * const ButtonWithPopup = ContextualPopupDecorator(Button);\n * <ButtonWithPopup\n *   direction=\"above center\"\n *   open={this.state.open}\n *   popupComponent={CustomPopupComponent}\n * >\n *   Open Popup\n * </ButtonWithPopup>\n * ```\n *\n * @hoc\n * @memberof agate/ContextualPopupDecorator\n * @public\n */\nconst ContextualPopupDecorator = compose(\n\tApiDecorator({api: ['positionContextualPopup']}),\n\tI18nContextDecorator({rtlProp: 'rtl'}),\n\tDecorator\n);\n\nexport default ContextualPopupDecorator;\nexport {\n\tContextualPopupDecorator,\n\tContextualPopup\n};\n","\nconst obliqueMinDistance = 1;\nconst straightMinDistance = 0;\n\nconst calcGroupId = ({x, y}) => y * 3 + x;\n\nconst calcNextGridPosition = (current, next) => {\n\tconst center = current.center;\n\tlet x, y;\n\n\tif (center.x < next.left) {\n\t\tx = 0;\n\t} else if (center.x <= next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (center.y < next.top) {\n\t\ty = 0;\n\t} else if (center.y <= next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nconst calcNextExtendedGridPosition = (current, next) => {\n\tlet x, y;\n\n\tif (current.right <= next.left) {\n\t\tx = 0;\n\t} else if (current.left < next.right) {\n\t\tx = 1;\n\t} else {\n\t\tx = 2;\n\t}\n\n\tif (current.bottom <= next.top) {\n\t\ty = 0;\n\t} else if (current.top < next.bottom) {\n\t\ty = 1;\n\t} else {\n\t\ty = 2;\n\t}\n\n\treturn {x, y};\n};\n\nfunction prioritize (priorities, targetEdge) {\n\tconst destGroup = [];\n\n\tfor (let index = 0; index < priorities.length; index++) {\n\t\tconst destPriority = priorities[index];\n\n\t\tif (destPriority.group.length) {\n\t\t\tconst destDistance = destPriority.distance;\n\t\t\tconst destDifference = destPriority.difference;\n\t\t\tlet distance = 0;\n\t\t\tlet target;\n\n\t\t\tdestPriority.group.sort(function (a, b) {\n\t\t\t\tfor (let i = 0; i < destDistance.length; i++) {\n\t\t\t\t\tconst calcDistance = destDistance[i];\n\t\t\t\t\tconst delta = calcDistance(a) - calcDistance(b);\n\t\t\t\t\tif (delta) {\n\t\t\t\t\t\treturn delta;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\ttarget = destPriority.group[0];\n\t\t\tfor (let i = 0; i < destDifference.length; i++) {\n\t\t\t\tdistance += destDifference[i](target);\n\t\t\t}\n\n\t\t\tdestGroup.push({\n\t\t\t\tdistance: Math.pow(destPriority.multiplier * (distance || destPriority.minDistance) / targetEdge, 2) + targetEdge,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!destGroup.length) {\n\t\treturn null;\n\t}\n\n\tdestGroup.sort(function (a, b) {\n\t\treturn a.distance - b.distance;\n\t});\n\n\treturn destGroup;\n}\n\nfunction partition (rects, targetRect, straightOverlapThreshold, getGroupId) {\n\t// a matrix of elements where the center of the element in relation to targetRect is:\n\tconst groups = [\n\t\t[/* [0] => above/left */],  [/* [1] => above/within */],     [/* [2] => above/right */],\n\t\t[/* [3] => within/left */], [/* [4] => within */],           [/* [5] => within/right */],\n\t\t[/* [6] => below/left */],  [/* [7] => below and within */], [/* [8] => below/right */]\n\t];\n\n\tfor (let i = 0; i < rects.length; i++) {\n\t\tconst rect = rects[i];\n\t\tconst groupId = getGroupId(rect, targetRect);\n\t\tgroups[groupId].push(rect);\n\n\t\tif ([0, 2, 6, 8].indexOf(groupId) !== -1) {\n\t\t\tif (rect.left <= targetRect.right - targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 2) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.right >= targetRect.left + targetRect.width * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[1].push(rect);\n\t\t\t\t} else if (groupId === 6) {\n\t\t\t\t\tgroups[7].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.top <= targetRect.bottom - targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 6) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 8) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (rect.bottom >= targetRect.top + targetRect.height * straightOverlapThreshold) {\n\t\t\t\tif (groupId === 0) {\n\t\t\t\t\tgroups[3].push(rect);\n\t\t\t\t} else if (groupId === 2) {\n\t\t\t\t\tgroups[5].push(rect);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn groups;\n}\n\nfunction generateDistancefunction (targetRect) {\n\treturn {\n\t\tnearPlumbLineIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.center.x - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.center.x;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearHorizonIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.center.y - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.center.y;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetBottomIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.bottom - rect.top;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.bottom;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetLeftIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.left - rect.right;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.left;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetRightIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.x < targetRect.center.x) {\n\t\t\t\td = targetRect.right - rect.left;\n\t\t\t} else {\n\t\t\t\td = rect.left - targetRect.right;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\tnearTargetTopIsBetter: function (rect) {\n\t\t\tlet d;\n\t\t\tif (rect.center.y < targetRect.center.y) {\n\t\t\t\td = targetRect.top - rect.bottom;\n\t\t\t} else {\n\t\t\t\td = rect.top - targetRect.top;\n\t\t\t}\n\t\t\treturn d < 0 ? 0 : d;\n\t\t},\n\t\ttopIsBetter: function (rect) {\n\t\t\treturn rect.top;\n\t\t},\n\t\tbottomIsBetter: function (rect) {\n\t\t\treturn -1 * rect.bottom;\n\t\t},\n\t\tleftIsBetter: function (rect) {\n\t\t\treturn rect.left;\n\t\t},\n\t\trightIsBetter: function (rect) {\n\t\t\treturn -1 * rect.right;\n\t\t}\n\t};\n}\n\nfunction navigate (targetRect, direction, rects, config, partitionRect = targetRect) {\n\tif (!targetRect || !direction || !rects || !rects.length || !config) {\n\t\treturn null;\n\t}\n\n\tconst distanceFunction = generateDistancefunction(targetRect);\n\tconst {obliqueMultiplier, straightMultiplier, straightOnly, straightOverlapThreshold} = config;\n\n\tconst groups = partition(\n\t\trects,\n\t\tpartitionRect,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => (\n\t\t\tcalcGroupId(\n\t\t\t\tdirection === 'up' || direction === 'down' ? calcNextExtendedGridPosition(rect, destRect) : calcNextGridPosition(rect, destRect)\n\t\t\t)\n\t\t)\n\t);\n\n\tconst internalGroups = partition(\n\t\tgroups[4],\n\t\ttargetRect.center,\n\t\tstraightOverlapThreshold,\n\t\t(rect, destRect) => calcGroupId(calcNextGridPosition(rect, destRect))\n\t);\n\n\tlet priorities, targetEdge;\n\n\tswitch (direction) {\n\t\tcase 'left':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[3]).concat(internalGroups[6]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[3],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.rightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\ttargetEdge = direction;\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[2].concat(internalGroups[5]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[5],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'up':\n\t\t\ttargetEdge = 'top';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[0].concat(internalGroups[1]).concat(internalGroups[2]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[1],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[0],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[2],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.bottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetTopIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tcase 'down':\n\t\t\ttargetEdge = 'bottom';\n\t\t\tpriorities = [\n\t\t\t\t{\n\t\t\t\t\tgroup: internalGroups[6].concat(internalGroups[7]).concat(internalGroups[8]),\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[7],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearHorizonIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.leftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: straightMinDistance,\n\t\t\t\t\tmultiplier: straightMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[6],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tgroup: groups[8],\n\t\t\t\t\tdistance: [\n\t\t\t\t\t\tdistanceFunction.nearPlumbLineIsBetter,\n\t\t\t\t\t\tdistanceFunction.topIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetLeftIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tdifference: [\n\t\t\t\t\t\tdistanceFunction.nearTargetBottomIsBetter,\n\t\t\t\t\t\tdistanceFunction.nearTargetRightIsBetter\n\t\t\t\t\t],\n\t\t\t\t\tminDistance: obliqueMinDistance,\n\t\t\t\t\tmultiplier: obliqueMultiplier\n\t\t\t\t}\n\t\t\t];\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn null;\n\t}\n\n\tif (straightOnly) {\n\t\tpriorities.splice(2, 2);\n\t}\n\n\tconst destGroup = prioritize(priorities, targetRect[targetEdge]);\n\tif (!destGroup) {\n\t\treturn null;\n\t}\n\n\treturn destGroup[0].target.element;\n}\n\nexport default navigate;\nexport {\n\tnavigate\n};\n","import clamp from 'ramda/src/clamp';\nimport last from 'ramda/src/last';\n\nimport {\n\tgetAllContainerIds,\n\tgetContainerConfig,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerNode,\n\tgetContainerPreviousTarget,\n\tgetContainersForNode,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisNavigable\n} from './container';\nimport navigate from './navigate';\nimport {\n\tcontains,\n\tgetContainerRect,\n\tgetPointRect,\n\tgetRect,\n\tgetRects,\n\tintersects,\n\tparseSelector\n} from './utils';\n\nfunction isFocusable (elem) {\n\tconst containers = getContainersForNode(elem);\n\tlet verifySelector = true;\n\n\tfor (let i = containers.length - 1; i >= 0; i--) {\n\t\tconst containerId = containers[i];\n\t\tif (!isNavigable(elem, containerId, verifySelector)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// only verify selector for the first (immediate ancestor) container\n\t\tverifySelector = false;\n\t}\n\n\treturn true;\n}\n\nfunction getContainersToSearch (containerId) {\n\tlet range = [];\n\tlet addRange = function (id) {\n\t\tconst config = getContainerConfig(id);\n\t\tif (id && range.indexOf(id) < 0 &&\n\t\t\t\tconfig && !config.selectorDisabled) {\n\t\t\trange.push(id);\n\t\t}\n\t};\n\n\tif (containerId) {\n\t\taddRange(containerId);\n\t} else {\n\t\taddRange(getDefaultContainer());\n\t\taddRange(getLastContainer());\n\t\t[...getAllContainerIds()].map(addRange);\n\t}\n\n\treturn range;\n}\n\nfunction getTargetByContainer (containerId, enterTo) {\n\treturn getContainersToSearch(containerId)\n\t\t.reduce((next, id) => {\n\t\t\treturn next || getContainerFocusTarget(id, enterTo);\n\t\t}, null);\n}\n\nfunction getTargetBySelector (selector) {\n\tif (!selector) return null;\n\n\tif (selector.charAt(0) === '@') {\n\t\tconst containerId = selector.length === 1 ? null : selector.substr(1);\n\n\t\treturn getTargetByContainer(containerId);\n\t}\n\n\tconst next = parseSelector(selector)[0];\n\tif (next) {\n\n\t\tif (isContainer(next)) {\n\t\t\treturn getTargetByContainer(getContainerId(next));\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(next);\n\t\tif (isNavigable(next, last(nextContainerIds), true)) {\n\t\t\treturn next;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction isRestrictedContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && (config.enterTo === 'last-focused' || config.enterTo === 'default-element');\n}\n\nfunction getSpottableDescendantsWithoutContainers (containerId, containerIds) {\n\treturn getSpottableDescendants(containerId).filter(n => {\n\t\treturn !isContainer(n) || containerIds.indexOf(n.dataset.spotlightId) === -1;\n\t});\n}\n\nfunction filterRects (elementRects, boundingRect) {\n\tif (!boundingRect) {\n\t\treturn elementRects;\n\t}\n\n\t// remove elements that are outside of boundingRect, if specified\n\treturn elementRects.filter(rect => {\n\t\tif (isContainer(rect.element)) {\n\t\t\t// For containers, test intersection since they may be larger than the bounding rect\n\t\t\treturn intersects(boundingRect, rect);\n\t\t} else {\n\t\t\t// For elements, use contains with the center to include mostly visible elements\n\t\t\treturn contains(boundingRect, rect.center);\n\t\t}\n\t}).map(rect => {\n\t\tlet topUpdate = rect.top < boundingRect.top;\n\t\tlet bottomUpdate = rect.bottom > boundingRect.bottom;\n\t\tlet leftUpdate = rect.left < boundingRect.left;\n\t\tlet rightUpdate = rect.right > boundingRect.right;\n\n\t\t// if the element's rect is larger than the bounding rect, clamp it to the bounding rect and\n\t\t// recalculate the center based on the new bounds.\n\t\tif (topUpdate || bottomUpdate || leftUpdate || rightUpdate) {\n\t\t\tconst updated = {...rect, center: {...rect.center}};\n\n\t\t\tif (topUpdate) updated.top = boundingRect.top;\n\t\t\tif (bottomUpdate) updated.bottom = boundingRect.bottom;\n\t\t\tif (leftUpdate) updated.left = boundingRect.left;\n\t\t\tif (rightUpdate) updated.right = boundingRect.right;\n\n\t\t\tif (leftUpdate || rightUpdate) {\n\t\t\t\tconst centerX = updated.left + (updated.right - updated.left) / 2;\n\t\t\t\tupdated.center.x = updated.center.left = updated.center.right = centerX;\n\t\t\t}\n\n\t\t\tif (topUpdate || bottomUpdate) {\n\t\t\t\tconst centerY = updated.top + (updated.bottom - updated.top) / 2;\n\t\t\t\tupdated.center.y = updated.center.top = updated.center.bottom = centerY;\n\t\t\t}\n\n\t\t\treturn updated;\n\t\t}\n\n\t\treturn rect;\n\t});\n}\n\nfunction getContainerContainingRect (elementRects, elementRect) {\n\t// find candidates that are containers and *visually* contain element\n\tconst overlapping = elementRects.filter(rect => {\n\t\treturn isContainer(rect.element) && contains(rect, elementRect);\n\t});\n\n\t// if the next element is a container AND the current element is *visually* contained within\n\t// one of the candidate element, we need to ignore container `enterTo` preferences and\n\t// retrieve its spottable descendants and try to navigate to them.\n\tif (overlapping.length) {\n\t\treturn overlapping[0].element.dataset.spotlightId;\n\t}\n\n\treturn false;\n}\n\nfunction getOverflowContainerRect (containerId) {\n\t// if the target container has overflowing content, update the boundingRect to match its\n\t// bounds to prevent finding elements within the container's hierarchy but not visible.\n\t// This filter only applies when waterfalling to prevent filtering out elements that share\n\t// a container tree with `element`\n\tconst nextConfig = getContainerConfig(containerId);\n\tif (nextConfig && nextConfig.overflow) {\n\t\treturn getContainerRect(containerId);\n\t}\n}\n\nfunction getTargetInContainerByDirectionFromPosition (direction, containerId, positionRect, elementContainerIds, boundingRect) {\n\tconst elements = getSpottableDescendantsWithoutContainers(containerId, elementContainerIds);\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, positionRect);\n\n\t\t// if the pointer is within a container that is a candidate element, we need to ignore container\n\t\t// `enterTo` preferences and retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// try to navigate from position to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\tpositionRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId)\n\t\t);\n\n\t\t// if we match a container, recurse into it\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\tnext = getTargetInContainerByDirectionFromPosition(\n\t\t\t\tdirection,\n\t\t\t\tnextContainerId,\n\t\t\t\tpositionRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\n\nfunction getTargetInContainerByDirectionFromElement (direction, containerId, element, elementRect, elementContainerIds, boundingRect) {\n\tconst elements = getSpottableDescendantsWithoutContainers(containerId, elementContainerIds);\n\n\t// shortcut for previous target from element if it were saved\n\tconst previous = getContainerPreviousTarget(containerId, direction, element);\n\tif (previous && elements.indexOf(previous) !== -1) {\n\t\treturn previous;\n\t}\n\n\t// `spotlightOverflow` is a private, and likely temporary, API to allow a component within an\n\t// spotlight container with `overflow: true` to be treated as if it were outside of the\n\t// container. The result is that the candidates, `elements` are filtered by the bounds of the\n\t// overflow container effectively hiding those that have overflowed and are visually hidden.\n\t//\n\t// Currently only used by moonstone/Scroller.Scrollbar as a means to allow 5-way navigation to\n\t// escape the Scrollable from paging controls rather than focusing contents that are out of view\n\tif (element.dataset.spotlightOverflow === 'ignore') {\n\t\tboundingRect = getOverflowContainerRect(containerId) || boundingRect;\n\t}\n\n\tlet elementRects = filterRects(getRects(elements), boundingRect);\n\n\tlet next = null;\n\n\twhile (elementRects.length > 0) {\n\t\tconst overlappingContainerId = getContainerContainingRect(elementRects, elementRect);\n\n\t\t// if the next element is a container AND the current element is *visually* contained within\n\t\t// one of the candidate elements, we need to ignore container `enterTo` preferences and\n\t\t// retrieve its spottable descendants and try to navigate to them.\n\t\tif (overlappingContainerId) {\n\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\toverlappingContainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds,\n\t\t\t\tboundingRect\n\t\t\t);\n\n\t\t\tif (!next) {\n\t\t\t\t// filter out the container and try again\n\t\t\t\telementRects = elementRects.filter(rect => {\n\t\t\t\t\treturn rect.element.dataset.spotlightId !== overlappingContainerId;\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// found a target so break out and return\n\t\t\tbreak;\n\t\t}\n\n\t\t// If one of the downstream containers is configured for partition, we use that\n\t\t// container's bounds as the partition rect for navigation.\n\t\tconst partitionContainer = elementContainerIds\n\t\t\t.slice(elementContainerIds.indexOf(containerId) + 1)\n\t\t\t.find(id => {\n\t\t\t\tconst cfg = getContainerConfig(id);\n\t\t\t\treturn cfg && cfg.partition;\n\t\t\t});\n\n\t\tlet partitionRect = elementRect;\n\t\tif (partitionContainer) {\n\t\t\tpartitionRect = getContainerRect(partitionContainer);\n\t\t}\n\n\t\t// try to navigate from element to one of the candidates in containerId\n\t\tnext = navigate(\n\t\t\telementRect,\n\t\t\tdirection,\n\t\t\telementRects,\n\t\t\tgetContainerConfig(containerId),\n\t\t\tpartitionRect\n\t\t);\n\n\t\t// if we match a container,\n\t\tif (next && isContainer(next)) {\n\t\t\tconst nextContainerId = next.dataset.spotlightId;\n\n\t\t\t// need to cache this reference so we can filter it out later if necessary\n\t\t\tconst lastNavigated = next;\n\n\t\t\t// and it is restricted, return its target\n\t\t\tif (isRestrictedContainer(nextContainerId)) {\n\t\t\t\tnext = getTargetByContainer(nextContainerId);\n\t\t\t} else {\n\t\t\t\t// otherwise, recurse into it\n\t\t\t\tnext = getTargetInContainerByDirectionFromElement(\n\t\t\t\t\tdirection,\n\t\t\t\t\tnextContainerId,\n\t\t\t\t\telement,\n\t\t\t\t\telementRect,\n\t\t\t\t\telementContainerIds,\n\t\t\t\t\tgetOverflowContainerRect(nextContainerId) || boundingRect\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!next) {\n\t\t\t\telementRects = elementRects.filter(rect => rect.element !== lastNavigated);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\t// If we've met every condition and haven't explicitly retried the search via `continue`,\n\t\t// break out and return\n\t\tbreak;\n\t}\n\n\treturn next;\n}\n\nfunction getTargetByDirectionFromElement (direction, element) {\n\tconst extSelector = element.getAttribute('data-spot-' + direction);\n\tif (typeof extSelector === 'string') {\n\t\treturn getTargetBySelector(extSelector);\n\t}\n\n\tconst elementRect = getRect(element);\n\n\tconst next = getNavigableContainersForNode(element)\n\t\t.reduceRight((result, containerId, index, elementContainerIds) => {\n\t\t\tresult = result || getTargetInContainerByDirectionFromElement(\n\t\t\t\tdirection,\n\t\t\t\tcontainerId,\n\t\t\t\telement,\n\t\t\t\telementRect,\n\t\t\t\telementContainerIds\n\t\t\t);\n\n\t\t\tif (!result) {\n\t\t\t\tresult = getLeaveForTarget(containerId, direction);\n\n\t\t\t\t// To support a `leaveFor` configuration with navigation disallowed in the current\n\t\t\t\t// `direction`, we return the current element to prevent further searches for a\n\t\t\t\t// target in this reduction.\n\t\t\t\tif (result === false) {\n\t\t\t\t\tresult = element;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, null);\n\n\t// if the reduce above returns the original element, it means it hit a `leaveFor` config that\n\t// prevents navigation so we enforce that here by returning null.\n\treturn next !== element ? next : null;\n}\n\nfunction getTargetByDirectionFromPosition (direction, position, containerId) {\n\tconst pointerRect = getPointRect(position);\n\n\treturn getNavigableContainersForNode(getContainerNode(containerId))\n\t\t.reduceRight((result, id, index, elementContainerIds) => {\n\t\t\treturn result ||\n\t\t\t\tgetTargetInContainerByDirectionFromPosition(\n\t\t\t\t\tdirection,\n\t\t\t\t\tid,\n\t\t\t\t\tpointerRect,\n\t\t\t\t\telementContainerIds\n\t\t\t\t);\n\t\t}, null);\n}\n\n/**\n * Returns the target identified by the selector configured for the container identified by\n * `containerId` for the given `direction`. If the selector is an empty string, the method returns\n * `false` indicating that navigation isn't allowed out of the container in that direction.\n *\n * @param   {String}        containerId  Identifier for a container\n * @param   {String}        direction    Direction to navigate (up, down, left, right)\n *\n * @returns {Node|Boolean}               Target, if found, or `false` if navigation is disallowed\n * @private\n */\nfunction getLeaveForTarget (containerId, direction) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconst target = config.restrict !== 'self-only' && config.leaveFor && config.leaveFor[direction];\n\t\tif (typeof target === 'string') {\n\t\t\tif (target === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn getTargetBySelector(target);\n\t\t}\n\n\t\tconst nextContainerIds = getContainersForNode(target);\n\t\tif (isNavigable(target, last(nextContainerIds))) {\n\t\t\treturn target;\n\t\t}\n\t}\n\n\treturn null;\n}\n\nfunction getNavigableTarget (target) {\n\tif (target === document) return null;\n\n\tlet parent;\n\twhile (target && (isContainer(target) || !isFocusable(target))) {\n\t\tparent = target.parentNode;\n\t\ttarget = parent === document ? null : parent; // calling isNavigable on document is problematic\n\t}\n\treturn target;\n}\n\nconst getOffsetDistanceToTargetFromPosition = (distance, direction, {x, y}, {left, right, top, bottom}) => {\n\tif (direction === 'left' || direction === 'right') {\n\t\tif (y > bottom) {\n\t\t\tdistance += y - bottom;\n\t\t} else if (y < top) {\n\t\t\tdistance += top - y;\n\t\t}\n\t} else if (x > right) {\n\t\tdistance += x - right;\n\t} else if (x < left) {\n\t\tdistance += left - x;\n\t}\n\n\treturn distance;\n};\n\nconst getDistanceToTargetFromPosition = (direction, position, elementRect) => {\n\tconst {x, y} = position;\n\tlet distance;\n\n\tif (direction === 'left') {\n\t\tdistance = x - elementRect.right;\n\t} else if (direction === 'right') {\n\t\tdistance = elementRect.left - x;\n\t} else if (direction === 'up') {\n\t\tdistance = y - elementRect.bottom;\n\t} else if (direction === 'down') {\n\t\tdistance = elementRect.top - y;\n\t}\n\n\treturn getOffsetDistanceToTargetFromPosition(clamp(0, Math.abs(distance), distance), direction, position, elementRect);\n};\n\nconst getNearestTargetsInContainerFromPosition = (position, containerId) => {\n\treturn ['up', 'left', 'right', 'down'].reduce((result, direction) => {\n\t\tconst target = getTargetByDirectionFromPosition(direction, position, containerId);\n\n\t\tif (target) {\n\t\t\tresult.push({\n\t\t\t\tdirection,\n\t\t\t\ttarget\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}, []);\n};\n\nconst getNearestTargetInContainerFromPosition = (position, containerId) => {\n\tconst targets = getNearestTargetsInContainerFromPosition(position, containerId);\n\n\tif (!targets.length) {\n\t\treturn;\n\t}\n\n\ttargets.forEach((item) => {\n\t\tconst {direction, target} = item;\n\t\titem.distance = getDistanceToTargetFromPosition(direction, position, getRect(target));\n\t});\n\n\ttargets.sort((a, b) => a.distance - b.distance);\n\treturn targets[0].target;\n};\n\nconst getNearestTargetFromPosition = (position, containerId) => (\n\tgetNavigableTarget(document.elementFromPoint(position.x, position.y)) ||\n\tgetNearestTargetInContainerFromPosition(position, containerId)\n);\n\nexport {\n\tgetNavigableTarget,\n\tgetNearestTargetFromPosition,\n\tgetTargetByContainer,\n\tgetTargetByDirectionFromElement,\n\tgetTargetByDirectionFromPosition,\n\tgetTargetBySelector,\n\tisFocusable\n};\n","/**\n * Exports methods and members for creating and maintaining spotlight containers.\n *\n * @module spotlight/container\n * @private\n */\n\nimport and from 'ramda/src/and';\nimport concat from 'ramda/src/concat';\nimport {coerceArray} from '@enact/core/util';\nimport intersection from 'ramda/src/intersection';\nimport last from 'ramda/src/last';\n\nimport {contains, matchSelector, getContainerRect, getRect, intersects} from './utils';\n\nconst containerAttribute = 'data-spotlight-id';\nconst containerConfigs   = new Map();\nconst containerKey       = 'spotlightId';\nconst disabledKey        = 'spotlightContainerDisabled';\nconst containerPrefix    = 'container-';\nconst containerSelector  = '[data-spotlight-container]';\nconst rootContainerId    = 'spotlightRootDecorator';\nconst reverseDirections = {\n\t'left': 'right',\n\t'up': 'down',\n\t'right': 'left',\n\t'down': 'up'\n};\n\n// Incrementer for container IDs\nlet _ids = 0;\n\nlet _defaultContainerId = '';\nlet _lastContainerId = '';\n\n// Note: an <extSelector> can be one of following types:\n// - a valid selector string for \"querySelectorAll\"\n// - a NodeList or an array containing DOM elements\n// - a single DOM element\n// - a string \"@<containerId>\" to indicate the specified container\n// - a string \"@\" to indicate the default container\nlet GlobalConfig = {\n\t// set to false for unmounted containers to omit them from searches\n\tactive: true,\n\tcontinue5WayHold: false,\n\tdefaultElement: '',     // <extSelector> except \"@\" syntax.\n\tenterTo: '',            // '', 'last-focused', 'default-element'\n\tlastFocusedElement: null,\n\tlastFocusedKey: null,\n\tlastFocusedPersist: (node, all) => {\n\t\tconst container = typeof node === 'string';\n\t\treturn {\n\t\t\tcontainer,\n\t\t\telement: !container,\n\t\t\tkey: container ? node : all.indexOf(node)\n\t\t};\n\t},\n\tlastFocusedRestore: ({container, key}, all) => {\n\t\treturn container ? key : all[key];\n\t},\n\tleaveFor: null,         // {left: <extSelector>, right: <extSelector>, up: <extSelector>, down: <extSelector>}\n\tnavigableFilter: null,\n\tobliqueMultiplier: 5,\n\tonEnterContainer: null,     // @private - notify the container when entering via 5-way\n\tonLeaveContainer: null,      // @private - notify the container when leaving via 5-way\n\tonLeaveContainerFail: null,  // @private - notify the container when failing to leave via 5-way\n\toverflow: false,\n\tpartition: false, // use the container bounds for partitioning when leaving\n\trememberSource: false,\n\trestrict: 'self-first', // 'self-first', 'self-only', 'none'\n\tselector: '',           // can be a valid <extSelector> except \"@\" syntax.\n\tselectorDisabled: false,\n\tstraightMultiplier: 1,\n\tstraightOnly: false,\n\tstraightOverlapThreshold: 0.5,\n\ttabIndexIgnoreList: 'a, input, select, textarea, button, iframe, [contentEditable=true]'\n};\n\n/**\n * Calculates nodes within `node` that match `includeSelector` and do not match `excludeSelector`\n *\n * @param   {Node}    node             DOM Node to query\n * @param   {String}  includeSelector  CSS selector of nodes to include\n * @param   {String}  excludeSelector  CSS selector for nodes to exclude\n *\n * @returns {Node[]}                   Array of nodes\n * @memberof spotlight/container\n * @private\n */\nconst querySelector = (node, includeSelector, excludeSelector) => {\n\tconst include = Array.prototype.slice.call(node.querySelectorAll(includeSelector));\n\tconst exclude = node.querySelectorAll(excludeSelector);\n\n\tfor (let i = 0; i < exclude.length; i++) {\n\t\tconst index = include.indexOf(exclude.item(i));\n\t\tif (index >= 0) {\n\t\t\tinclude.splice(index, 1);\n\t\t}\n\t}\n\n\treturn include;\n};\n\n/**\n * Determines if `node` is a spotlight container\n *\n * @param   {Node}     node   Node to check\n *\n * @returns {Boolean}        `true` if `node` is a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainerNode = (node) => {\n\treturn node && node.dataset && 'spotlightContainer' in node.dataset;\n};\n\n/**\n * Walks up the node hierarchy calling `fn` on each node that is a container\n *\n * @param   {Node}     node  Node from which to start the search\n * @param   {Function} fn    Called once for each container with the container node as the first\n *                           argument. The return value is accumulated in the array returned by\n *                           `mapContainers`\n *\n * @returns {Array}          Array of values returned by `fn` in order of outermost container to\n *                           innermost container\n * @memberof spotlight/container\n * @private\n */\nconst mapContainers = (node, fn) => {\n\tconst result = [];\n\n\twhile (node && node !== document) {\n\t\tif (isContainerNode(node)) {\n\t\t\tresult.unshift(fn(node));\n\t\t}\n\t\tnode = node.parentNode;\n\t}\n\n\treturn result;\n};\n\n/**\n * Returns the container config for `containerId`\n *\n * @param   {String}  id  Container ID\n *\n * @returns {Object}      Container config\n * @memberof spotlight/container\n * @private\n */\nconst getContainerConfig = (id) => {\n\treturn containerConfigs.get(id);\n};\n\n/**\n * Determines if node or a container id represents a spotlight container\n *\n * @param   {Node|String}  nodeOrId  Node or container ID\n *\n * @returns {Boolean}                `true` if `nodeOrId` represents a spotlight container\n * @memberof spotlight/container\n * @private\n */\nconst isContainer = (nodeOrId) => {\n\tif (typeof nodeOrId === 'string') {\n\t\treturn containerConfigs.has(nodeOrId);\n\t}\n\n\treturn isContainerNode(nodeOrId);\n};\n\n/**\n * Determines if any of the containers at or above `node` are disabled and, if so, returns `false`.\n *\n * @param   {Node}     node  Spottable node or spotlight container\n *\n * @returns {Boolean}        `true` if all container ancestors are enabled\n * @memberof spotlight/container\n * @private\n */\nconst isContainerEnabled = (node) => {\n\treturn mapContainers(node, container => {\n\t\treturn container.dataset[disabledKey] !== 'true';\n\t}).reduce(and, true);\n};\n\n/**\n * Returns the container ID for `node`\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        Container ID\n * @memberof spotlight/container\n * @private\n */\nconst getContainerId = (node) => node.dataset[containerKey];\n\n/**\n * Generates a CSS selector string for a current container if `node` is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `[${containerAttribute}=\"${getContainerId(node)}\"]`;\n\t}\n\n\treturn '';\n};\n\n/**\n * Generates a CSS selector string for containers within `node` if it is a container\n *\n * @param   {Node}    node  Container Node\n *\n * @returns {String}        CSS selector\n * @memberof spotlight/container\n * @private\n */\nconst getSubContainerSelector = (node) => {\n\tif (isContainerNode(node)) {\n\t\treturn `${getContainerSelector(node)} ${containerSelector}`;\n\t}\n\n\treturn containerSelector;\n};\n\n/**\n * Returns the node for a container\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node}                 DOM node of the container\n * @memberof spotlight/container\n * @private\n */\nconst getContainerNode = (containerId) => {\n\tif (!containerId) {\n\t\treturn null;\n\t} else if (containerId === rootContainerId) {\n\t\treturn document;\n\t}\n\n\treturn document.querySelector(`[${containerAttribute}=\"${containerId}\"]`);\n};\n\n/**\n * Calls the `navigableFilter` function for the container if defined.\n *\n * @param   {Node}    node         DOM node to check if it is navigable\n * @param   {String}  containerId  ID of container\n *\n * @returns {Boolean}              `true` if it passes the `navigableFilter` method or if that\n *                                  method is not defined for the container\n * @memberof spotlight/container\n * @private\n */\nconst navigableFilter = (node, containerId) => {\n\tconst config = getContainerConfig(containerId);\n\tif (config && typeof config.navigableFilter === 'function') {\n\t\tif (config.navigableFilter(node, containerId) === false) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n};\n\n/**\n * Determines nodes that are owned by `node` based on `aria-owns`.\n *\n * @param   {Node}   node          Owner\n *\n * @returns {Node[]}               Array of owned nodes\n * @memberof spotlight/container\n * @private\n */\nconst getOwnedNodes = (node, selector) => {\n\t// if node is document, it will not have getAttribute and therefore can't have aria-owns\n\tconst owns = node && node.getAttribute && node.getAttribute('aria-owns');\n\tif (owns) {\n\t\tconst ids = owns.split(' ');\n\t\treturn ids\n\t\t\t.map(id => id && document.getElementById(id))\n\t\t\t.filter(Boolean)\n\t\t\t.filter(n => isContainerNode(n) || matchSelector(selector, n));\n\t}\n\n\treturn [];\n};\n\n/**\n * Determines all spottable elements and containers that are directly contained by the container\n * identified by `containerId` and no other subcontainers.\n *\n * @param   {String}  containerId  ID of container\n *\n * @returns {Node[]}               Array of spottable elements and containers.\n * @memberof spotlight/container\n * @public\n */\nconst getSpottableDescendants = (containerId) => {\n\tconst node = getContainerNode(containerId);\n\n\t// if it's falsy or is a disabled container, return an empty set\n\tif (!node || (isContainerNode(node) && !isContainerEnabled(node))) {\n\t\treturn [];\n\t}\n\n\tconst {selector, selectorDisabled} = getContainerConfig(containerId) || {};\n\n\tif (!selector || selectorDisabled) {\n\t\treturn [];\n\t}\n\n\tconst spottableSelector = selector;\n\tconst subContainerSelector = getSubContainerSelector(node);\n\tconst candidates = querySelector(\n\t\tnode,\n\t\t`${spottableSelector}, ${getContainerSelector(node)} ${containerSelector}:not([data-spotlight-container-disabled=\"true\"])`,\n\t\t`${subContainerSelector} ${spottableSelector}, ${subContainerSelector} ${containerSelector}`\n\t);\n\n\tcandidates.push(...getOwnedNodes(node, selector));\n\n\treturn candidates.filter(n => navigableFilter(n, containerId));\n};\n\n/**\n * Recursively get spottable descendants by including elements within sub-containers that do not\n * have `enterTo` configured\n *\n * @param   {String}    containerId          ID of container\n * @param   {String[]}  [excludedContainers] IDs of containers to exclude from result set\n *\n * @returns {Node[]}                         Array of spottable elements and containers\n * @memberof spotlight/container\n * @private\n */\nconst getDeepSpottableDescendants = (containerId, excludedContainers) => {\n\treturn getSpottableDescendants(containerId)\n\t\t.map(n => {\n\t\t\tif (isContainer(n)) {\n\t\t\t\tconst id = getContainerId(n);\n\t\t\t\tconst config = getContainerConfig(id);\n\t\t\t\tif (excludedContainers && excludedContainers.indexOf(id) >= 0) {\n\t\t\t\t\treturn [];\n\t\t\t\t} else if (config && !config.enterTo) {\n\t\t\t\t\treturn getDeepSpottableDescendants(id, excludedContainers);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn [n];\n\t\t})\n\t\t.reduce(concat, []);\n};\n\n/**\n * Determines if a container allows 5-way key hold to be preserved or not.\n *\n * @param {String} containerId Container Id\n * @returns {Boolean} `true` if a container is 5 way holdable\n * @memberof spotlight/container\n * @private\n */\nconst isContainer5WayHoldable = (containerId) => {\n\tconst config = getContainerConfig(containerId);\n\treturn (config && config.continue5WayHold) || false;\n};\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getContainersForNode (node) {\n\tconst containers = mapContainers(node, getContainerId);\n\tcontainers.unshift(rootContainerId);\n\n\treturn containers;\n}\n\n/**\n * Returns an array of ids for containers that wrap the element, in order of outer-to-inner, with\n * the last array item being the immediate container id of the element. The container ids are\n * limited to only those between `node` and the first restrict=\"self-only\" container.\n *\n * @param   {Node}      node  Node from which to start the search\n *\n * @returns {String[]}        Array on container IDs\n * @memberof spotlight/container\n * @private\n */\nfunction getNavigableContainersForNode (node) {\n\tconst containerIds = getContainersForNode(node);\n\n\t// find first self-only container id\n\tconst selfOnlyIndex = containerIds\n\t\t.map(getContainerConfig)\n\t\t.filter(config => config != null)\n\t\t.reduceRight((index, config, i) => {\n\t\t\tif (index === -1 && config.restrict === 'self-only') {\n\t\t\t\treturn i;\n\t\t\t}\n\n\t\t\treturn index;\n\t\t}, -1);\n\n\t// if we found one (and it's not the root), slice those off and return\n\tif (selfOnlyIndex > 0) {\n\t\treturn containerIds.slice(selfOnlyIndex);\n\t}\n\n\treturn containerIds;\n}\n\n/**\n * Generates a new unique identifier for a container\n *\n * @returns {String} Container ID\n * @memberof spotlight/container\n * @private\n */\nfunction generateId () {\n\tlet id;\n\t/* eslint no-constant-condition: [\"error\", { \"checkLoops\": false }] */\n\twhile (true) {\n\t\tid = containerPrefix + String(++_ids);\n\t\tif (!isContainer(id)) {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn id;\n}\n\n/**\n * Merges two container configurations while only allowing keys from `updated` which are defined in\n * `GlobalConfig`\n *\n * @param   {Object}  current  Current container configuration\n * @param   {Object}  updated  Updated configuration which may only be a partial configuration\n *\n * @returns {Object}           Merged configuration\n * @memberof spotlight/container\n * @private\n */\nconst mergeConfig = (current, updated) => {\n\tif (!updated) return current;\n\n\tlet cfg = null;\n\n\tObject.keys(updated).forEach(key => {\n\t\tif (key in GlobalConfig && current[key] !== updated[key]) {\n\t\t\tif (cfg == null) {\n\t\t\t\tcfg = Object.assign({}, current);\n\t\t\t}\n\t\t\tcfg[key] = updated[key];\n\t\t}\n\t});\n\n\treturn cfg || current;\n};\n\n/**\n * Adds or updates a container. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst configureContainer = (...args) => {\n\tlet containerId, config;\n\n\tif (typeof args[0] === 'object') {\n\t\tconfig = args[0];\n\t\tcontainerId = config.id;\n\t} else if (typeof args[0] === 'string') {\n\t\tcontainerId = args[0];\n\t\tif (typeof args[1] === 'object') {\n\t\t\tconfig = args[1];\n\t\t}\n\t}\n\n\tif (!containerId) {\n\t\tcontainerId = generateId();\n\t}\n\n\tconfig = mergeConfig(containerConfigs.get(containerId) || {...GlobalConfig}, config);\n\tcontainerConfigs.set(containerId, config);\n\n\treturn containerId;\n};\n\n/**\n * Adds a container and marks it active. When a container id is not specified, it will be generated.\n *\n * @param   {String|Object}  containerIdOrConfig  Either a string container id or a configuration\n *                                                object.\n * @param   {Object}         [config]             Container configuration when `containerIdOrConfig`\n *                                                is a string. When omitted, the container will have\n *                                                the default `GlobalConfig`.\n *\n * @returns {String}                              The container id\n * @memberof spotlight/container\n * @public\n */\nconst addContainer = (...args) => {\n\tconst containerId = configureContainer(...args);\n\tconst config = getContainerConfig(containerId);\n\tconfig.active = true;\n\n\treturn containerId;\n};\n\n/**\n * Removes a container\n *\n * @param   {String}     containerId  ID of the container to remove\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeContainer = (containerId) => {\n\tcontainerConfigs.delete(containerId);\n};\n\n/**\n * Removes all containers\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst removeAllContainers = () => {\n\tcontainerConfigs.clear();\n};\n\n/**\n * Configures the `GlobalConfig` for containers\n *\n * @param   {Object}  config  New global configuration. Cannot introduce new keys\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nconst configureDefaults = (config) => {\n\tGlobalConfig = mergeConfig(GlobalConfig, config);\n};\n\n/**\n * Determines if `node` is a navigable element within the container identified by `containerId`.\n *\n * @param   {Node}     node         DOM node to check if it is navigable\n * @param   {String}   containerId  ID of the container containing `node`\n * @param   {Boolean}  verify       `true` to verify the node matches the container's `selector`\n *\n * @returns {Boolean}               `true` if `node` is navigable\n * @memberof spotlight/container\n * @public\n */\nconst isNavigable = (node, containerId, verify) => {\n\tif (!node || (\n\t\t// jsdom reports all nodes as having no size so we must skip this condition in our tests\n\t\tprocess.env.NODE_ENV !== 'test' &&\n\t\tnode.offsetWidth <= 0 && node.offsetHeight <= 0\n\t)) {\n\t\treturn false;\n\t}\n\n\tconst containerNode = getContainerNode(containerId);\n\tif (containerNode !== document && containerNode.dataset[disabledKey] === 'true') {\n\t\treturn false;\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tif (verify && config && config.selector && !isContainer(node) && !matchSelector(config.selector, node)) {\n\t\treturn false;\n\t}\n\n\treturn navigableFilter(node, containerId);\n};\n\n/**\n * Returns the IDs of all containers\n *\n * @returns {String[]}  Array of container IDs\n * @memberof spotlight/container\n * @private\n */\nconst getAllContainerIds = () => {\n\tconst ids = [];\n\tconst keys = containerConfigs.keys();\n\n\t// PhantomJS-friendly iterator->array conversion\n\tlet id;\n\twhile ((id = keys.next()) && !id.done) {\n\t\tif (isActiveContainer(id.value)) {\n\t\t\tids.push(id.value);\n\t\t}\n\t}\n\n\treturn ids;\n};\n\n/**\n * Returns the default focus element for a container\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node|null}                 Default focus element\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerDefaultElement (containerId, preferredEnterTo) {\n\tconst config = getContainerConfig(containerId);\n\n\tlet defaultElementSelector = config && config.defaultElement;\n\tif (!defaultElementSelector) {\n\t\treturn null;\n\t}\n\n\tdefaultElementSelector = coerceArray(defaultElementSelector);\n\n\t// If a preferred enterTo has been provided, we will favor it by making it first in search array\n\tif (preferredEnterTo && typeof preferredEnterTo === 'string' && preferredEnterTo !== 'default-element') {\n\t\tdefaultElementSelector.unshift(preferredEnterTo);\n\t}\n\n\tconst spottables = getDeepSpottableDescendants(containerId);\n\n\treturn defaultElementSelector.reduce((result, selector) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t}\n\n\t\tif (typeof selector === 'string') {\n\t\t\treturn spottables.filter(elem => {\n\t\t\t\treturn matchSelector(selector, elem) && isNavigable(elem, containerId, true);\n\t\t\t})[0];\n\t\t}\n\n\t\t// FIXME: There is some prior implicit support for `defaultElement` to be an element rather\n\t\t// than a selector. This continues that support but should eventually be removed.\n\t\treturn selector;\n\t}, null);\n}\n\n/**\n * Gets the element last focused within the container.\n *\n * @param   {String}       containerId  ID of container\n *\n * @returns {Node|String|null}               DOM Node last focused\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerLastFocusedElement (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (!config || !config.lastFocusedElement) {\n\t\treturn null;\n\t}\n\n\t// lastFocusedElement may be a container ID so try to convert it to a node to test navigability\n\tconst {lastFocusedElement} = config;\n\tlet node = lastFocusedElement;\n\tif (typeof node === 'string') {\n\t\tnode = getContainerNode(lastFocusedElement);\n\t}\n\n\treturn isNavigable(node, containerId, true) ? lastFocusedElement : null;\n}\n\n/**\n * Sets the element last focused within the container\n *\n * @param   {Node}      node         DOM node last focused\n * @param   {String[]}  containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction setContainerLastFocusedElement (node, containerIds) {\n\tlet lastFocusedElement = node;\n\tfor (let i = containerIds.length - 1; i > -1; i--) {\n\t\tconst id = containerIds[i];\n\t\tconfigureContainer(id, {lastFocusedElement});\n\n\t\t// If any container in the stack is controlling entering focus, use its container id as the\n\t\t// lastFocusedElement instead of the node\n\t\tconst config = getContainerConfig(id);\n\t\tif (config.enterTo) {\n\t\t\tlastFocusedElement = id;\n\t\t}\n\t}\n}\n\n/**\n * Returns all navigable nodes (spottable nodes or containers) visible from outside the container.\n * If the container is restricting navigation into itself via `enterTo`, this method will attempt to\n * return that element as the only element in an array. If that fails or if navigation is not\n * restricted, it will return an array of all possible navigable nodes.\n *\n * @param   {String}                             containerId        Container ID\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node[]}             Navigable elements within container\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerNavigableElements (containerId, preferredEnterTo) {\n\tif (!isContainer(containerId)) {\n\t\treturn [];\n\t}\n\n\tconst config = getContainerConfig(containerId);\n\tconst {enterTo, overflow} = config;\n\n\tconst enterLast = preferredEnterTo === 'last-focused' || (enterTo === 'last-focused' && !preferredEnterTo);\n\tlet next;\n\n\t// if the container has a preferred entry point, try to find it first\n\tif (enterLast) {\n\t\tnext = getContainerLastFocusedElement(containerId);\n\t}\n\n\t// try default element if last focused can't be focused\n\tif (!next) {\n\t\tnext = getContainerDefaultElement(containerId, preferredEnterTo);\n\t}\n\n\tif (!next) {\n\t\tlet spottables = overflow ?\n\t\t\t// overflow requires deep recursion to handle selecting the children of unrestricted\n\t\t\t// containers or restricted containers larger than the container\n\t\t\tgetDeepSpottableDescendants(containerId) :\n\t\t\tgetSpottableDescendants(containerId);\n\n\t\t// if there isn't a preferred entry on an overflow container, filter the visible elements\n\t\tif (overflow) {\n\t\t\tconst containerRect = getContainerRect(containerId);\n\t\t\tnext = containerRect && spottables.filter(element => {\n\t\t\t\tconst elementRect = getRect(element);\n\t\t\t\tif (isContainer(element)) {\n\t\t\t\t\treturn intersects(containerRect, elementRect);\n\t\t\t\t}\n\n\t\t\t\treturn contains(containerRect, getRect(element));\n\t\t\t});\n\t\t}\n\n\t\t// otherwise, return all spottables within the container\n\t\tif (!next) {\n\t\t\tnext = spottables;\n\t\t}\n\t}\n\n\treturn next ? coerceArray(next) : [];\n}\n\n/**\n * Determines the preferred focus target, traversing any sub-containers as necessary, for the given\n * container.\n *\n * @param   {String}                             containerId        ID of container\n * @param   {('last-focused'|'default-element')} [preferredEnterTo] Prefer the given enterTo\n *                                                                  configuration\n *\n * @returns {Node}                 Preferred target as either a DOM node or container-id\n * @memberof spotlight/container\n * @public\n */\nfunction getContainerFocusTarget (containerId, preferredEnterTo) {\n\t// deferring restoration until it's requested to allow containers to prepare first\n\trestoreLastFocusedElement(containerId);\n\n\tlet next = getContainerNavigableElements(containerId, preferredEnterTo);\n\t// If multiple candidates returned, we need to find the first viable target since some may\n\t// be empty containers which should be skipped.\n\treturn next.reduce((result, element) => {\n\t\tif (result) {\n\t\t\treturn result;\n\t\t} else if (isContainer(element)) {\n\t\t\tconst nextId = isContainerNode(element) ? getContainerId(element) : element;\n\t\t\treturn getContainerFocusTarget(nextId);\n\t\t}\n\n\t\treturn element;\n\t}, null) || null;\n}\n\nfunction getContainerPreviousTarget (containerId, direction, destination) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config &&\n\t\tconfig.rememberSource &&\n\t\tconfig.previous &&\n\t\tconfig.previous.reverse === direction &&\n\t\tconfig.previous.destination === destination\n\t) {\n\t\treturn config.previous.target;\n\t}\n}\n\nfunction setContainerPreviousTarget (containerId, direction, destination, target) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config && config.rememberSource) {\n\t\tconfigureContainer(containerId, {\n\t\t\tprevious: {\n\t\t\t\ttarget,\n\t\t\t\tdestination,\n\t\t\t\treverse: reverseDirections[direction]\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * Saves the last focused element into `lastFocusedKey` using a container-defined serialization\n * method configured in `lastFocusedPersist`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction persistLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg) {\n\t\tconst {lastFocusedElement} = cfg;\n\t\tif (lastFocusedElement) {\n\t\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\t\tconst lastFocusedKey = cfg.lastFocusedPersist(lastFocusedElement, all);\n\n\t\t\t// store lastFocusedKey and release node reference to lastFocusedElement\n\t\t\tcfg.lastFocusedKey = lastFocusedKey;\n\t\t\tcfg.lastFocusedElement = null;\n\t\t}\n\t}\n}\n\n/**\n * Restores the last focused element from `lastFocusedKey` using a container-defined deserialization\n * method configured in `lastFocusedRestore`.\n *\n * @param   {String}     containerId  ID of container\n *\n * @returns {undefined}\n * @memberof spotlight/container\n * @public\n */\nfunction restoreLastFocusedElement (containerId) {\n\tconst cfg = getContainerConfig(containerId);\n\tif (cfg && cfg.lastFocusedKey) {\n\t\tconst all = getDeepSpottableDescendants(containerId);\n\t\tconst lastFocusedElement = cfg.lastFocusedRestore(cfg.lastFocusedKey, all);\n\n\t\t// restore lastFocusedElement and release lastFocusedKey\n\t\tcfg.lastFocusedKey = null;\n\t\tcfg.lastFocusedElement = lastFocusedElement;\n\t}\n}\n\nfunction unmountContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\n\tif (config) {\n\t\tconfig.active = false;\n\t\tpersistLastFocusedElement(containerId);\n\n\t\tif (typeof config.defaultElement !== 'string') {\n\t\t\tconfig.defaultElement = null;\n\t\t}\n\t}\n}\n\nfunction isActiveContainer (containerId) {\n\tconst config = getContainerConfig(containerId);\n\treturn config && config.active;\n}\n\n/**\n * Determines if the provided container has a configured restriction.\n *\n * By default, returns `true` for `'self-only'` restrictions but the type of restriction can be\n * passed as well.\n *\n * @param {String} containerId The container id\n * @param {String} [restrict] The container restriction defaulted to `'self-only'`\n * @returns {Boolean} `true` if the container has the specified restriction\n * @private\n */\nfunction isRestrictedContainer (containerId, restrict = 'self-only') {\n\tconst config = getContainerConfig(containerId);\n\n\treturn Boolean(config && config.restrict === restrict);\n}\n\n/**\n * Determines if `innerContainerId` is inside `outerContainerId`.\n *\n * @param {String} outerContainerId The outer container id\n * @param {String} innerContainerId The inner container id\n * @returns {Boolean} `true` if both containers exist and `innerContainerId` is within\n *                    `outerContainerId`\n * @private\n */\nfunction containsContainer (outerContainerId, innerContainerId) {\n\tconst outer = getContainerNode(outerContainerId);\n\tconst inner = getContainerNode(innerContainerId);\n\n\treturn Boolean(outer && inner && outer.contains(inner));\n}\n\n/**\n * Determines if `containerId` may become the active container.\n *\n * @param {String} containerId Spotlight container to which focus is leaving\n * @returns\t{Boolean} `true` if the active container can change to `containerId`\n * @private\n */\nfunction mayActivateContainer (containerId) {\n\tconst currentContainerId = getLastContainer();\n\n\t// If the current container is restricted to 'self-only' and if the next container to be\n\t// activated is not inside the currently activated container, the next container should not be\n\t// activated.\n\treturn (\n\t\t!isRestrictedContainer(currentContainerId) ||\n\t\tcontainsContainer(currentContainerId, containerId)\n\t);\n}\n\nfunction getDefaultContainer () {\n\treturn isActiveContainer(_defaultContainerId) ? _defaultContainerId : '';\n}\n\nfunction setDefaultContainer (containerId) {\n\tif (!containerId) {\n\t\t_defaultContainerId = '';\n\t} else if (!getContainerConfig(containerId)) {\n\t\tthrow new Error('Container \"' + containerId + '\" doesn\\'t exist!');\n\t} else {\n\t\t_defaultContainerId = containerId;\n\t}\n}\n\nfunction getLastContainer () {\n\treturn isActiveContainer(_lastContainerId) ? _lastContainerId : '';\n}\n\nfunction setLastContainer (containerId) {\n\t_lastContainerId = containerId || '';\n}\n\n/**\n * Updates the last container based on the current focus and target focus.\n *\n * @param {Node} current Currently focused node\n * @param {Node} target  Target node. May or may not be focusable\n * @memberof spotlight/container\n * @public\n */\nfunction setLastContainerFromTarget (current, target) {\n\tconst currentContainers = getNavigableContainersForNode(current);\n\tconst currentOuterContainerId = currentContainers[0];\n\tconst currentContainerConfig = getContainerConfig(currentOuterContainerId);\n\tconst targetContainers = getContainersForNode(target);\n\tconst targetInnerContainer = last(targetContainers);\n\n\tconst sharedContainer = last(intersection(currentContainers, targetContainers));\n\n\tif (sharedContainer || !currentContainerConfig || currentContainerConfig.restrict !== 'self-only') {\n\t\t// If the target shares a container with the current container stack or the current\n\t\t// element isn't within a self-only container, use the target's nearest container\n\t\tsetLastContainer(targetInnerContainer);\n\t} else {\n\t\t// Otherwise, the target is not within the current container stack and the current\n\t\t// element was within a 'self-only' container, use the current's outer container\n\t\tsetLastContainer(currentOuterContainerId);\n\t}\n}\n\nfunction isWithinOverflowContainer (target, containerIds = getContainersForNode(target)) {\n\treturn containerIds\n\t\t// ignore the root container id which is set to overflow by the root decorator\n\t\t.filter(id => id !== rootContainerId)\n\t\t// get the config for each container\n\t\t.map(getContainerConfig)\n\t\t// and check if any are set to overflow\n\t\t.some(config => config && config.overflow);\n}\n\n/**\n * Notifies any affected containers that focus has left one of their children for another container\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @param {Node} next To be focused element\n * @param {String[]} nextContainerIds Containers for next\n * @private\n */\nfunction notifyLeaveContainer (direction, current, currentContainerIds, next, nextContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!nextContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onLeaveContainer) {\n\t\t\t\tconfig.onLeaveContainer({\n\t\t\t\t\ttype: 'onLeaveContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: next\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * Notifies any containers that focus attempted to move but failed to find a target\n *\n * @param {String} direction up/down/left/right\n * @param {Node} current currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyLeaveContainerFail (direction, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tconst config = getContainerConfig(containerId);\n\n\t\tif (config && config.onLeaveContainerFail) {\n\t\t\tconfig.onLeaveContainerFail({\n\t\t\t\ttype: 'onLeaveContainerFail',\n\t\t\t\tdirection,\n\t\t\t\ttarget: current\n\t\t\t});\n\t\t}\n\t});\n}\n\n/**\n * Notifies any affected containers that one of their children has received focus.\n *\n * @param {String} direction up/down/left/right\n * @param {Node} previous Previously focused element\n * @param {String[]} previousContainerIds Containers for previous\n * @param {Node} current Currently focused element\n * @param {String[]} currentContainerIds Containers for current\n * @private\n */\nfunction notifyEnterContainer (direction, previous, previousContainerIds, current, currentContainerIds) {\n\tcurrentContainerIds.forEach(containerId => {\n\t\tif (!previousContainerIds.includes(containerId)) {\n\t\t\tconst config = getContainerConfig(containerId);\n\n\t\t\tif (config && config.onEnterContainer) {\n\t\t\t\tconfig.onEnterContainer({\n\t\t\t\t\ttype: 'onEnterContainer',\n\t\t\t\t\tdirection,\n\t\t\t\t\ttarget: current,\n\t\t\t\t\trelatedTarget: previous\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t});\n}\n\nexport {\n\t// Remove\n\tgetAllContainerIds,\n\tgetContainerNode,\n\n\t// Maybe\n\tgetContainerConfig,\n\tgetContainerDefaultElement,\n\tgetContainerLastFocusedElement,\n\tgetContainerNavigableElements,\n\tgetContainersForNode,\n\tisContainer5WayHoldable,\n\tsetContainerLastFocusedElement,\n\n\t// Keep\n\taddContainer,\n\tcontainerAttribute,\n\tconfigureDefaults,\n\tconfigureContainer,\n\tgetContainerFocusTarget,\n\tgetContainerId,\n\tgetContainerPreviousTarget,\n\tgetDefaultContainer,\n\tgetLastContainer,\n\tgetNavigableContainersForNode,\n\tgetSpottableDescendants,\n\tisContainer,\n\tisNavigable,\n\tisWithinOverflowContainer,\n\tmayActivateContainer,\n\tnotifyLeaveContainer,\n\tnotifyLeaveContainerFail,\n\tnotifyEnterContainer,\n\tremoveAllContainers,\n\tremoveContainer,\n\trootContainerId,\n\tsetContainerPreviousTarget,\n\tsetDefaultContainer,\n\tsetLastContainer,\n\tsetLastContainerFromTarget,\n\tunmountContainer\n};\n","import 'core-js';\nimport {addParameters, addDecorator} from '@storybook/react';\nimport {create} from '@storybook/theming';\nimport {withInfo} from '@enact/storybook-utils/addons/info';\nimport configure from '../src/configure';\n\nconst stories = require.context('../stories/default', false, /.js$/);\n\naddParameters({\n\toptions: {\n\t\ttheme: create({\n\t\t\tbase: 'dark',\n\t\t\tbrandTitle: 'AGATE SAMPLER',\n\t\t\tbrandUrl: 'http://enactjs.com/',\n\t\t\tbrandImage: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCI+PGRlZnM+PHN0eWxlPi5hLC5ie2ZpbGw6I2ZmZjt9LmJ7b3BhY2l0eTowLjg7fTwvc3R5bGU+PC9kZWZzPjxwb2x5Z29uIGNsYXNzPSJhIiBwb2ludHM9IjM0OS45IDUyNy44IDE5OS45IDQyOS44IDE5OS45IDM3NC40IDM1MC4xIDQ3Mi43IDM0OS45IDM0OC41IDE5OS45IDI2MS4xIDE5OS45IDIwOS4zIDM1MCAyOTMuNiAzNTAgMjkzLjYgMzUwLjIgMjkzLjcgMzQ5LjkgMTY5LjMgMTAyLjcgNDguNSAxMDIuNyA0NzIuNiAzNTAuMSA2NTEuNiAzNDkuOSA1MjcuOCIvPjxwb2x5Z29uIGNsYXNzPSJiIiBwb2ludHM9IjM1MC4xIDY1MS42IDU5Ny4zIDQ3Mi44IDU5Ny4zIDM2Ni4zIDM0OS45IDUyNy44IDM1MC4xIDY1MS42Ii8+PHBvbHlnb24gY2xhc3M9ImIiIHBvaW50cz0iMzUwLjEgNDcyLjcgNTIzLjUgMzU5LjMgNTIzLjUgMjQ3LjQgMzQ5LjkgMzQ4LjUgMzUwLjEgNDcyLjciLz48cG9seWdvbiBjbGFzcz0iYiIgcG9pbnRzPSIzNTAgMjkzLjYgMzUwIDI5My42IDM1MC4yIDI5My43IDU5Ny4zIDE1NC44IDU5Ny4zIDQ4LjQgMzQ5LjkgMTY5LjMgMzUwIDI5My42Ii8+PC9zdmc+'\n\t\t}),\n\t\tisFullscreen: false,\n\t\tpanelPosition: 'bottom',\n\t\tshowNav: true,\n\t\tshowPanel: true\n\t}\n});\n\naddDecorator(withInfo());\n\nconfigure(stories, module);\n","import {forProp, handle, not, stop} from '@enact/core/handle';\n\nimport {hasPointerMoved} from '../src/pointer';\nimport Spotlight from '../src/spotlight';\n\nconst isNewPointerPosition = (ev) => hasPointerMoved(ev.clientX, ev.clientY);\n\nclass SpotlightContainer {\n\t// set up context and props so we can use handle binding\n\tcontext = {};\n\tprops = {};\n\n\tconstructor ({containerConfig, navigableFilter, preserveId}) {\n\t\t// spotlight id - set either via props or generated by Spotlight\n\t\tthis.id = null;\n\n\t\t// Preserve the spotlight id across instances when it is set via props and preserveId is set\n\t\tthis.canPreserveId = preserveId;\n\t\tthis.preserveId = false;\n\n\t\t// container config - set once when the container is added\n\t\tthis.config = containerConfig;\n\n\t\t// optional filter function to limit the spottable candidates for this container\n\t\tthis.filter = navigableFilter;\n\n\t\t// private hash of spotlight DOM attributes\n\t\tthis.attr = {\n\t\t\t'data-spotlight-container': true\n\t\t};\n\n\t\t// Used to indicate that we want to stop propagation on blur events that occur as a\n\t\t// result of this component imperatively blurring itself on focus when spotlightDisabled\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tget attributes () {\n\t\treturn this.attr;\n\t}\n\n\tsetProps (props) {\n\t\tconst {disabled, id, muted, restrict} = props;\n\t\tthis.props = props;\n\n\t\tif (this.id == null || (id && this.id !== id)) {\n\t\t\tif (this.id) {\n\t\t\t\tthis.releaseContainer(this.id);\n\t\t\t}\n\n\t\t\tthis.id = Spotlight.add({\n\t\t\t\t...this.config,\n\t\t\t\tid,\n\t\t\t\trestrict,\n\t\t\t\tnavigableFilter: this.navigableFilter\n\t\t\t});\n\t\t\tthis.preserveId = this.canPreserveId && this.id === id;\n\t\t} else {\n\t\t\tSpotlight.set(this.id, {restrict});\n\t\t}\n\n\t\tthis.attr['data-spotlight-id'] = this.id;\n\t\tthis.attr['data-spotlight-container-disabled'] = disabled;\n\t\tthis.attr['data-spotlight-container-muted'] = muted;\n\t}\n\n\tunload () {\n\t\tthis.releaseContainer();\n\t}\n\n\treleaseContainer () {\n\t\tif (this.preserveId) {\n\t\t\tSpotlight.unmount(this.id);\n\t\t} else {\n\t\t\tSpotlight.remove(this.id);\n\t\t}\n\t}\n\n\tnavigableFilter = (elem) => {\n\t\t// If the component to which this was applied specified a navigableFilter, run it\n\t\tif (typeof this.filter === 'function') {\n\t\t\tif (this.filter(elem) === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tsilentBlur ({target}) {\n\t\tthis.shouldPreventBlur = true;\n\t\ttarget.blur();\n\t\tthis.shouldPreventBlur = false;\n\t}\n\n\tonBlurCapture = (ev) => {\n\t\tif (this.shouldPreventBlur) {\n\t\t\tstop(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonFocusCapture = (ev) => {\n\t\tif (this.props.disabled === true) {\n\t\t\tstop(ev);\n\t\t\tthis.silentBlur(ev);\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tonPointerEnter = handle(\n\t\tisNewPointerPosition,\n\t\t() => Spotlight.setActiveContainer(this.id)\n\t).bindAs(this, 'onPointerEnter');\n\n\tonPointerLeave = handle(\n\t\tnot(forProp('restrict', 'self-only')),\n\t\tisNewPointerPosition,\n\t\t(ev) => {\n\t\t\tconst parentContainer = ev.currentTarget.parentNode.closest('[data-spotlight-container]');\n\t\t\tlet activeContainer = Spotlight.getActiveContainer();\n\n\t\t\t// if this container is wrapped by another and this is the currently active\n\t\t\t// container, move the active container to the parent\n\t\t\tif (parentContainer && activeContainer === this.id) {\n\t\t\t\tactiveContainer = parentContainer.dataset.spotlightId;\n\t\t\t\tSpotlight.setActiveContainer(activeContainer);\n\t\t\t}\n\t\t}\n\t).bindAs(this, 'onPointerLeave');\n}\n\nexport default SpotlightContainer;\nexport {\n\tSpotlightContainer\n};\n","import useClass from '@enact/core/useClass';\nimport React from 'react';\n\nimport SpotlightContainer from './SpotlightContainer';\n\n/**\n * Configuration for `useSpotlightContainer`\n *\n * @typedef {Object} useSpotlightContainerConfig\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Object}   [containerConfig]                   Spotlight container configuration. This\n *                                                          is a design-time configuration and only\n *                                                          applied once on first render.\n * @property {Function} [navigableFilter]                   Called to determine if a spottable\n *                                                          component is accessible. This is a\n *                                                          design-time configuration and only\n *                                                          applied once on first render.\n * @property {Boolean}  [preserveId]                        Preserves the spotlight `id`, if\n *                                                          specified, when the component unmounts.\n * @property {Boolean}  [disabled]                          Prevents controls in the container from\n *                                                          being navigable. This is a design-time\n *                                                          configuration and only applied once on\n *                                                          first render.\n * @property {Boolean}  [muted]                             Suppresses appearance of focus within\n *                                                          the container while still allowing the\n *                                                          component to gain focus. The components\n *                                                          within the container are responsible for\n *                                                          adjusting their visual appearance based\n *                                                          on the presence of the\n *                                                          `data-spotlight-container-muted`\n *                                                          attribute on an ancestor container.\n * @property {String}   [id]                                Identifies this component within the\n *                                                          Spotlight system. If unset, an id will\n *                                                          be generated.\n * @property {('self-only'|'self-first'|'none')} [restrict] Restricts or prioritizes navigation when\n *                                                          focus attempts to leave the container.\n *                                                          It can be either 'none', 'self-first',\n *                                                          or 'self-only'. Specifying 'self-first'\n *                                                          indicates that elements within the\n *                                                          container will have a higher likelihood\n *                                                          to be chosen as the next navigable\n *                                                          element. Specifying 'self-only'\n *                                                          indicates that elements in other\n *                                                          containers cannot be navigated to by\n *                                                          using 5-way navigation - however,\n *                                                          elements in other containers can still\n *                                                          receive focus by calling\n *                                                          `Spotlight.focus(elem)` explicitly.\n *                                                          Specifying 'none' indicates there should\n *                                                          be no restrictions when 5-way navigating\n *                                                          the container.\n * @private\n */\n\n/**\n * Object returned by `useSpotlightContainer`.\n *\n * @typedef {Object} useSpotlightContainerInterface\n * @memberof spotlight/SpotlightContainerDecorator\n * @property {Function} onBlurCapture    Callback to notify hook when an node was blurred within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onFocusCapture   Callback to notify hook when an node was focused within the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {String}   attributes       An object of DOM attributes of representing the current\n *                                       spotlight container metadata. Must be passed onto the\n *                                       container node.\n * @property {Function} onPointerEnter   Callback to notify hook when the pointer enters the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @property {Function} onPointerLeave   Callback to notify hook when the pointer leaves the\n *                                       container. Must be called during the capture phase of the\n *                                       event flow.\n * @private\n */\n\n/**\n * Support Spotlight container\n *\n * @param {useSpotlightContainerConfig} [config] Configuration options\n * @returns {useSpotlightContainerInterface}\n * @private\n */\nfunction useSpotlightContainer (config = {}) {\n\tconst {disabled, id, muted, restrict, ...rest} = config;\n\n\tconst spotlightContainer = useClass(SpotlightContainer, rest);\n\tspotlightContainer.setProps({\n\t\tdisabled,\n\t\tid,\n\t\tmuted,\n\t\trestrict\n\t});\n\n\tReact.useEffect(() => {\n\t\treturn () => {\n\t\t\tspotlightContainer.unload();\n\t\t};\n\t}, [spotlightContainer]);\n\n\treturn {\n\t\tattributes: spotlightContainer.attributes,\n\t\tonBlurCapture: spotlightContainer.onBlurCapture,\n\t\tonFocusCapture: spotlightContainer.onFocusCapture,\n\t\tonPointerEnter: spotlightContainer.onPointerEnter,\n\t\tonPointerLeave: spotlightContainer.onPointerLeave\n\t};\n}\n\nexport default useSpotlightContainer;\nexport {\n\tuseSpotlightContainer\n};\n","/**\n * A component for managing groups of spottable components.\n *\n * @module spotlight/SpotlightContainerDecorator\n * @exports SpotlightContainerDecorator\n */\n\nimport handle, {forward} from '@enact/core/handle';\nimport useHandlers from '@enact/core/useHandlers';\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useSpotlightContainer from './useSpotlightContainer';\n\nconst callContext = (name) => (ev, props, context) => context[name](ev, props);\nconst containerHandlers = {\n\tonMouseEnter: handle(\n\t\tforward('onMouseEnter'),\n\t\tcallContext('onPointerEnter')\n\t),\n\tonMouseLeave: handle(\n\t\tforward('onMouseLeave'),\n\t\tcallContext('onPointerLeave')\n\t),\n\tonFocusCapture: handle(\n\t\tcallContext('onFocusCapture'),\n\t\tforward('onFocusCapture')\n\t),\n\tonBlurCapture: handle(\n\t\tcallContext('onBlurCapture'),\n\t\tforward('onBlurCapture')\n\t)\n};\n\n/**\n * The class name to apply to the default component to focus in a container.\n *\n * @memberof spotlight/SpotlightContainerDecorator\n * @public\n */\nconst spotlightDefaultClass = 'spottable-default';\n\n/**\n * Default config for {@link spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator}\n *\n * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * When `true`, allows focus to move outside the container to the next spottable element when\n\t * holding 5 way keys.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tcontinue5WayHold: false,\n\n\t/**\n\t * The selector for the default spottable element within the container.\n\t *\n\t * @type {String}\n\t * @default '.spottable-default'\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tdefaultElement: `.${spotlightDefaultClass}`,\n\n\t/**\n\t * Directs which element receives focus when gaining focus from another container. If\n\t * `'default-element'`, the default focused item will be selected. If `'last-focused'`, the\n\t * container will focus the last focused item; if the container has never had focus, the default\n\t * element will receive focus. If `null`, the default 5-way behavior will be applied.\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tenterTo: null,\n\n\t/**\n\t * Filter the navigable elements.\n\t *\n\t * @type {Function}\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tnavigableFilter: null,\n\n\t/**\n\t * Whether the container will preserve the specified `spotlightId` when it unmounts.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.defaultConfig\n\t * @public\n\t */\n\tpreserveId: false\n};\n\n/**\n * Constructs a higher-order component that allows Spotlight focus to be passed to its own\n * configurable hierarchy of spottable child controls.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Example:\n * ```\n *\tconst Component = ({myProp, ...rest}) => (\n *\t\t<div {...rest}>{myProp}</div>\n *\t);\n *\t...\n *\tconst DefaultContainer = SpotlightContainerDecorator(Component);\n *\tconst FocusDefaultContainer = SpotlightContainerDecorator({enterTo: 'default-element'}, Component);\n * ```\n *\n * To specify a default element to spot in a container, utilize the `spotlightDefaultClass`.\n *\n * Example:\n * ```\n *\timport Spotlight from '@enact/spotlight';\n *\timport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\n *\tconst ContainerComponent = SpotlightContainerDecorator(Component);\n *\tconst View = kind({\n *\t\trender: () => {\n *\t\t\t<ContainerComponent>\n *\t\t\t\t<SpottableComponent>foo</SpottableComponent>\n *\t\t\t\t<SpottableComponent className={spotlightDefaultClass}>spot me first</SpottableComponent>\n *\t\t\t</ContainerComponent>\n *\t\t}\n *\t});\n * ```\n * @param  {Object}    defaultConfig  Set of default configuration parameters. Additional parameters\n *                                    are passed as configuration to {@link spotlight/Spotlight.set}\n * @param  {Function} higher-order component\n *\n * @returns {Function} SpotlightContainerDecorator\n * @class SpotlightContainerDecorator\n * @memberof spotlight/SpotlightContainerDecorator\n * @hoc\n */\nconst SpotlightContainerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {navigableFilter, preserveId, ...containerConfig} = config;\n\n\t// eslint-disable-next-line no-shadow\n\tfunction SpotlightContainerDecorator (props) {\n\t\tconst {spotlightDisabled, spotlightId, spotlightMuted, spotlightRestrict, ...rest} = props;\n\n\t\tconst spotlightContainer = useSpotlightContainer({\n\t\t\tid: spotlightId,\n\t\t\tmuted: spotlightMuted,\n\t\t\tdisabled: spotlightDisabled,\n\t\t\trestrict: spotlightRestrict,\n\n\t\t\tcontainerConfig, // continue5WayHold, defaultElement, and enterTo can be in the containerConfig object.\n\t\t\tnavigableFilter,\n\t\t\tpreserveId\n\t\t});\n\t\tconst handlers = useHandlers(containerHandlers, props, spotlightContainer);\n\n\t\treturn (\n\t\t\t<Wrapped {...rest} {...spotlightContainer.attributes} {...handlers} />\n\t\t);\n\t}\n\n\tSpotlightContainerDecorator.propTypes = /** @lends spotlight/SpotlightContainerDecorator.SpotlightContainerDecorator.prototype */ {\n\t\t/**\n\t\t * When `true`, controls in the container cannot be navigated.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Used to identify this component within the Spotlight system.\n\t\t *\n\t\t * If the value is `null`, an id will be generated.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightId: PropTypes.string,\n\n\t\t/**\n\t\t * Whether or not the container is in muted mode.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tspotlightMuted: PropTypes.bool,\n\n\t\t/**\n\t\t * Restricts or prioritizes navigation when focus attempts to leave the container. It\n\t\t * can be either 'none', 'self-first', or 'self-only'. Specifying 'self-first' indicates that\n\t\t * elements within the container will have a higher likelihood to be chosen as the next\n\t\t * navigable element. Specifying 'self-only' indicates that elements in other containers\n\t\t * cannot be navigated to by using 5-way navigation - however, elements in other containers\n\t\t * can still receive focus by calling `Spotlight.focus(elem)` explicitly. Specifying 'none'\n\t\t * indicates there should be no restrictions when 5-way navigating the container.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t};\n\n\tSpotlightContainerDecorator.defaultProps = {\n\t\tspotlightDisabled: false,\n\t\tspotlightMuted: false,\n\t\tspotlightRestrict: 'self-first'\n\t};\n\n\t// Wrapping with a React.Component to maintain ref support\n\treturn class SpotlightContainerDecoratorAdapter extends React.Component {\n\t\trender () {\n\t\t\treturn (\n\t\t\t\t<SpotlightContainerDecorator {...this.props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SpotlightContainerDecorator;\nexport {\n\tSpotlightContainerDecorator,\n\tspotlightDefaultClass,\n\tuseSpotlightContainer\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panels\":\"Panels_panels__3pD3m\",\"viewport\":\"Panels_viewport__c1fSf\",\"controls\":\"Panels_controls__ab0t2\",\"breadcrumbPanels\":\"Panels_breadcrumbPanels__2VcPj\",\"breadcrumbs\":\"Panels_breadcrumbs__3tRlp\",\"breadcrumb\":\"Panels_breadcrumb__Nz15I\",\"breadcrumbContent\":\"Panels_breadcrumbContent__2V_JC\",\"partial\":\"Panels_partial__34_K4\",\"transitioning\":\"Panels_transitioning__3vA9G\"};"],"sourceRoot":""}