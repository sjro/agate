{"version":3,"sources":["webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumb.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Arrangers.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/IdProvider.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Breadcrumbs.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/CancelDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/ApplicationCloseButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Controls.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Viewport.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/BreadcrumbPanels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.js","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/IconList.js","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/hoc/hoc.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ForwardRef/ForwardRef.js","webpack:///./node_modules/nested-object-assign/lib sync ^\\.\\/.*$","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Cell.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.js","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.module.less?87ce","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useThemeScroller.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.js","webpack:///./stories/default sync nonrecursive .js$","webpack:///./stories/default/BodyText.js","webpack:///./stories/default/Button.js","webpack:///./stories/default/Checkbox.js","webpack:///./stories/default/CheckboxItem.js","webpack:///./stories/default/ColorPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/utils.js","webpack:///./stories/default/ContextualPopupDecorator.js","webpack:///./stories/default/DateTimePicker.js","webpack:///./stories/default/Drawer.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScrollbar.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/useThemeScrollContentHandle.js","webpack:///./stories/default/Dropdown.js","webpack:///./stories/default/Header.js","webpack:///./stories/default/Heading.js","webpack:///./stories/default/Icon.js","webpack:///./stories/default/ImageItem.js","webpack:///./stories/default/ImageItemKitchenSink.js","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.js","webpack:///./stories/default/IncrementSlider.js","webpack:///./stories/default/Input.js","webpack:///./stories/default/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.js","webpack:///./stories/default/ItemKitchenSink.js","webpack:///./stories/default/LabeledIcon.js","webpack:///./stories/default/LabeledIconButton.js","webpack:///./stories/default/Picker.js","webpack:///./stories/default/Popup.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollButtons.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.js","webpack:///./stories/default/PopupMenu.js","webpack:///./stories/default/ProgressBar.js","webpack:///./stories/default/RadioItem.js","webpack:///./stories/default/RangePicker.js","webpack:///./stories/default/Scroller.js","webpack:///./stories/default/Slider.js","webpack:///./stories/default/SliderButton.js","webpack:///./stories/default/Spinner.js","webpack:///./stories/default/SwitchItem.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.js","webpack:///./stories/default/TabbedPanels.js","webpack:///./stories/default/Thumbnail.js","webpack:///./stories/default/ThumbnailItem.js","webpack:///./stories/default/ToggleButton.js","webpack:///./stories/default/TooltipDecorator.js","webpack:///./stories/default/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.module.less?6dc4","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/SharedStateDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.js","webpack:////Users/yb.sung/Documents/_Work/agate/Picker/Picker.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Resizable/Resizable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/keymap.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/keymap/index.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputDecoratorIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/pointer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/InputSpotlightDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/Picker/Picker.module.less?a18f","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.module.less?7187","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.module.less?671f","webpack:////Users/yb.sung/Documents/_Work/agate/useScroll/Scrollbar.module.less?6940","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/PopupState.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Drag.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Flick.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Hold.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/config.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/state.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/ClickAllow.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Touchable/Touchable.js","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.js","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.module.less?7803","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/useSlots.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Slottable/Slottable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualList.module.less?9da6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollAnimator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilDOM.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/utilEvent.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/useScroll.js","webpack:///./src/ThemeEnvironment/ThemeEnvironment.module.less?f24b","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.js","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.module.less?5fc2","webpack:////Users/yb.sung/Documents/_Work/agate/internal/$L/$L.js","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.module.less?a1f8","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.js","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSlider.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Layout/Layout.module.less?b312","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/resolution.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/ResolutionDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/resolution/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ComponentOverride/ComponentOverride.js","webpack:////Users/yb.sung/Documents/_Work/agate/internal/ToggleIcon/ToggleIcon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/SliderBehaviorDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.js","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.js","webpack:////Users/yb.sung/Documents/_Work/agate/Input/Input.module.less?e6ef","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/Registry/Registry.js","webpack:////Users/yb.sung/Documents/_Work/agate/DateTimePicker/DateTimePicker.js","webpack:////Users/yb.sung/Documents/_Work/agate/Dropdown/Dropdown.module.less?fec5","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.js","webpack:////Users/yb.sung/Documents/_Work/agate/SliderButton/SliderButton.module.less?ce15","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.js","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.module.less?1ec2","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panel.module.less?6586","webpack:////Users/yb.sung/Documents/_Work/agate/ToggleButton/ToggleButton.module.less?8011","webpack:////Users/yb.sung/Documents/_Work/agate/TabGroup/TabGroup.module.less?7cb1","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.js","webpack:////Users/yb.sung/Documents/_Work/agate/Item/Item.module.less?5510","webpack:///./stories/default/Heading.module.less?4fff","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.js","webpack:////Users/yb.sung/Documents/_Work/agate/Popup/Popup.module.less?1d41","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.js","webpack:////Users/yb.sung/Documents/_Work/agate/RangePicker/RangePicker.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/ScrollbarTrack.module.less?291c","webpack:////Users/yb.sung/Documents/_Work/agate/Spinner/Spinner.module.less?5039","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/cancelHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/modalHandler.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Cancelable/Cancelable.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayerDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/Scrim.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/FloatingLayer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/useFloatingLayer.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/FloatingLayer/index.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useEvent.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/usePreventScroll.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useSpotlight.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/useThemeVirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/handle/handle.js","webpack:///./node_modules/ilib/lib sync ^$","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/deprecate/deprecate.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/internal/prop-types/prop-types.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useClass/useClass.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/Handlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/useHandlers/useHandlers.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/computed.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/util.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/styles.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/kind/kind.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/Job.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/util/util.js","webpack:///./stories/default/icons.js","webpack:////Users/yb.sung/Documents/_Work/agate/Heading/Heading.module.less?62cf","webpack:////Users/yb.sung/Documents/_Work/agate/Icon/Icon.module.less?abdd","webpack:////Users/yb.sung/Documents/_Work/agate/Button/Button.module.less?85be","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIcon/LabeledIcon.module.less?f742","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/TabbedPanels.module.less?316e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/BodyText/BodyText.module.less?39f0","webpack:////Users/yb.sung/Documents/_Work/agate/BodyText/BodyText.module.less?3ea6","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/platform/platform.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Button/Button.module.less?3e42","webpack:////Users/yb.sung/Documents/_Work/agate/Checkbox/Checkbox.module.less?d1a9","webpack:////Users/yb.sung/Documents/_Work/agate/CheckboxItem/CheckboxItem.module.less?b035","webpack:////Users/yb.sung/Documents/_Work/agate/Slider/Slider.module.less?845f","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/SwatchButton.module.less?172c","webpack:////Users/yb.sung/Documents/_Work/agate/ColorPicker/ColorPicker.module.less?2bb0","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.module.less?68ab","webpack:////Users/yb.sung/Documents/_Work/agate/Drawer/Drawer.module.less?cce8","webpack:///./stories/default/Drawer.module.less?1415","webpack:////Users/yb.sung/Documents/_Work/agate/RadioItem/RadioItem.module.less?aa0e","webpack:////Users/yb.sung/Documents/_Work/agate/Header/Header.module.less?a67e","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Icon/Icon.module.less?1a1d","webpack:///./images/icon-enact-docs.png","webpack:///./images/icon-enact-factory.svg","webpack:///./images/icon-enact-logo.svg","webpack:////Users/yb.sung/Documents/_Work/agate/Image/Image.module.less?f956","webpack:////Users/yb.sung/Documents/_Work/agate/ImageItem/ImageItem.module.less?f23f","webpack:////Users/yb.sung/Documents/_Work/agate/IncrementSlider/IncrementSliderButton.module.less?d0b5","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Item/Item.module.less?c6d3","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/LabeledIcon/LabeledIcon.module.less?108b","webpack:////Users/yb.sung/Documents/_Work/agate/LabeledIconButton/LabeledIconButton.module.less?b354","webpack:////Users/yb.sung/Documents/_Work/agate/PopupMenu/PopupMenu.module.less?4d23","webpack:///./stories/default/PopupMenu.module.less?1865","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.module.less?779e","webpack:////Users/yb.sung/Documents/_Work/agate/ProgressBar/ProgressBar.module.less?c5f1","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/useScroll/Scrollbar.module.less?4850","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.module.less?e9c0","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScroller.module.less?fb3c","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Spinner/Spinner.module.less?1e82","webpack:////Users/yb.sung/Documents/_Work/agate/Switch/Switch.module.less?aa78","webpack:////Users/yb.sung/Documents/_Work/agate/SwitchItem/SwitchItem.module.less?f49b","webpack:////Users/yb.sung/Documents/_Work/agate/ThumbnailItem/ThumbnailItem.module.less?81de","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipLabel.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/Tooltip.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/util.js","webpack:////Users/yb.sung/Documents/_Work/agate/TooltipDecorator/TooltipDecorator.js","webpack:////Users/yb.sung/Documents/_Work/agate/ThemeDecorator/ThemeDecorator.js","webpack:///./src/ThemeEnvironment/ThemeEnvironment.js","webpack:///./src/configure.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/ScrollerBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/UiScrollerBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/Scroller/Scroller.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/UiVirtualListBase.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualListBasic.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/VirtualList/VirtualList.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopup.js","webpack:////Users/yb.sung/Documents/_Work/agate/ContextualPopupDecorator/ContextualPopupDecorator.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/ui/ProgressBar/ProgressBar.js","webpack:////Users/yb.sung/Documents/_Work/agate/Skinnable/Skinnable.js","webpack:////Users/yb.sung/Documents/_Work/agate/Panels/Panels.module.less?b66c","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/listeners.js","webpack:////Users/yb.sung/Documents/_Work/Enact/packages/core/dispatcher/dispatcher.js","webpack:///./.storybook/config.js"],"names":["SpottableDiv","Spottable","BreadcrumbBase","kind","name","propTypes","index","PropTypes","number","isRequired","onClick","func","onSelect","styles","css","className","handlers","handle","forward","adaptEvent","ev","type","render","children","rest","aria-label","$L","data-index","breadcrumbContent","animationOptions","easing","offsetForBreadcrumbs","node","isFirst","dataset","unit","scale","PanelsArranger","enter","config","arrange","transform","leave","stay","positionBreadcrumb","crumbIndex","from","to","reverse","keyframes","BreadcrumbArranger","GlobalId","IdProvider","hoc","generateProp","idProp","prefix","Wrapped","React","Component","constructor","super","generateId","key","idPrefix","onUnmount","this","ids","id","componentWillUnmount","props","Object","assign","displayName","Breadcrumbs","max","breadcrumbs","Array","i","Math","Breadcrumb","Icon","CancelDecorator","cancel","Cancelable","modal","onCancel","handleCancel","handler","document","querySelector","transitioning","current","Spotlight","getCurrent","blur","stopPropagation","BreadcrumbDecorator","panelArranger","cfgClassName","calcMax","coerceFunction","Decorator","oneOfType","arrayOf","childProps","object","string","noAnimation","bool","onSelectBreadcrumb","defaultProps","handleBreadcrumbWillTransition","contains","computed","x","isArray","start","Children","toArray","slice","map","child","isValidElement","cloneElement","createElement","updatedChildProps","ariaOwns","push","unshift","join","count","invariant","arranger","duration","end","onWillTransition","Skinnable","ApplicationCloseButton","onApplicationClose","ariaLabel","Button","onTap","size","icon","ControlsBase","closeButtonAriaLabel","forwardRef","shape","any","noCloseButton","ref","close","Controls","ForwardRef","SpotlightContainerDecorator","ViewportBase","addTransitioningClass","classList","add","removeTransitioningClass","remove","pause","paused","resume","bind","handleTransition","handleWillTransition","mapChildren","spotlightId","autoFocus","state","direction","getArranger","orientation","VerticalArranger","HorizontalArranger","getEnteringProp","Pause","prevIndex","componentDidMount","ReactDOM","findDOMNode","componentDidUpdate","prevProps","context","delete","enteringProp","mappedChildren","classnames","viewport","component","enteringDelay","onTransition","contextType","SharedState","Viewport","SharedStateDecorator","getControlsId","PanelsBase","controls","controlsMeasurements","controlsRef","cover","oneOf","noSharedState","onBack","componentCss","publicClassNames","controlsId","owns","styler","append","style","width","viewportId","Panels","compose","Slottable","slots","Measurable","refProp","measurementProp","PanelsDecorator","BreadcrumbPanels","BreadcrumbPanelsDecorator","panelId","PanelBase","header","hideChildren","onScroll","currentTarget","scrollTop","scrollLeft","spotOnRender","enterTo","defaultElement","set","focus","bodyClassName","body","noHeader","visible","headerId","label","role","aria-labelledby","Panel","continue5WayHold","spotlightDefaultClass","preserveId","TabBase","labelPosition","selected","tabLabel","inline","includes","labeledIcon","ToggleButton","LabeledIcon","textAlign","Tab","TabGroupBase","tabPosition","tabs","array","afterTabs","beforeTabs","selectedIndex","cap","tab","title","Layout","align","tabEnds","shrink","tabGroup","childComponent","Group","itemProps","select","selectedProp","defaultSlot","TabGroup","TabbedPanelsBase","view","View","viewProps","column","tabOrientation","panels","TabbedPanels","Changeable","prop","change","iconList","circlelarge","squarelarge","triangleup","plus","minus","arrowup","arrowdown","arrowleftturn","arrowrightturn","arrowharpoonright","ellipsis","check","arrowstraightup","arrowuturn","arrowlargedown","arrowlargeup","arrowlargeleft","arrowlargeright","closex","search","bluetooth2","bluetoothoff","bright1","bright2","bluetooth","usb","volume0","volume1","volume2","wifi","happyface","notification","pairing","user","calendar","edit","gallery","internet","music","video","circle","previous","pairingdisplay","box","play","previoustrack","nexttrack","repeat","shuffle","error","setting","popupstop","accept","decline","stop","carspeaker","speaker","earphone","detail","install","send","netbook","pad","mobile","update","backapp","uninstall","rain","raindrops","raincloud","snow","cloud","ice","fog","sun","profileA1","profileA2","profileA3","profileA4","profileB1","profileB2","profileB3","profileB4","profileC1","profileC2","profileC3","profileC4","ac","auto","airmode","airdown","airright","airup","heatseatleft","heatseatright","aircirculation","fan","defrosterfront","defrosterback","airflow","home","temperature","compass","phone","fanoff","datetime","display","seatbelt","apps","climate","dashboard","expand","radio","rearscreen","weather","fullscreen","menu","history","browser","lock","search2","bookmark","star","starhollow","starhalf","refresh","time","pausebold","playbold","diagnostics","mapbox","displaycontrol","controlleft","controlright","mainpage","playlist","trailer","plusbold","minusbold","iconListSilicon","arrowleft","arrowturnleft","arrowturnright","backspace","triangle","trianglehollow","rewind","rewindprevious","stopsquare","fastforwardnext","fastforward","callaccept","calldecline","calldialing","callmissed","callreceiving","devicesetting","headset","keypad","mic","micmute","car1","car2","carupdate","cardiagnostics","carcharging","carvalet","garagemode","cone","chargingstation","gps","replay","backward10","forward10","remote","light","thumbs","games","unlock","trash","coffee","message","payment","mail","screenshare","photo","userchange","seatcool","fanhigh","fanlow","zoomin","zoomout","headset2","headsetbluetooth","data","data5g","datalte","calling","contact","bluetoothmusic","bluetoothsignalnone","bluetoothsignal1","bluetoothsignal2","bluetoothsignal3","bluetoothsignal4","battery0","battery1","battery2","battery3","battery4","batteryalert","batterycharging","IconBase","skin","spriteCount","UiIcon","Pure","IconDecorator","mergeFn","defaultValue","userValue","undefined","defaultConfig","hawk","factory","defaults","maybeWrapped","isRenderable","cfg","mergeDeepWithKey","withRef","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","resolve","module","exports","MarqueeBodyText","MarqueeDecorator","UiBodyText","BodyTextBase","centered","noWrap","marqueeOn","alignment","BodyText","BodyTextDecorator","SliderBase","activateOnFocus","active","focused","knobStep","min","onActivate","onKeyDown","onKeyUp","progressAnchor","step","value","disabled","onBlur","forProp","forwardWithPrevent","anyPass","handleIncrement","handleDecrement","forKey","progressBarComponent","Slider","SliderBehaviorDecorator","SliderDecorator","toFlexAlign","CellBase","EnactPropTypes","renderable","componentRef","grow","ri","cellSize","alignSelf","flexBasis","Cell","CellDecorator","LayoutBase","wrap","nowrap","wrapReverse","alignParts","split","alignItems","justifyContent","LayoutDecorator","Column","Row","ItemContent","content","hasLabel","Boolean","labelAbove","labelAfter","labelBefore","labelBelow","contentElement","Marquee","ItemBase","slotAfter","slotBefore","Item","UiItemDecorator","MarqueeController","marqueeOnFocus","ItemDecorator","PickerRoot","Touchable","PickerButtonItem","handleChange","clamp","increment","decrement","PickerBase","decrementAriaLabel","incrementAriaLabel","onChange","handleFlick","forEventProp","velocityY","activeClassName","currentValueText","valueText","values","valueId","currentValue","decrementValue","incrementValue","isLast","onFlick","aria-controls","aria-disabled","itemDecrement","aria-valuetext","itemIncrement","PickerDecorator","Picker","useEventKey","mutableRef","useRef","fn","addGlobalKeyDownEventListener","utilEvent","addEventListener","capture","removeGlobalKeyDownEventListener","removeEventListener","useSpottable","instances","scrollContainerRef","scrollContentHandle","scrollContentRef","useEffect","handleLeaveContainer","target","scrollContainerContainsDangerously","scrollBounds","maxLeft","maxTop","scrollPos","left","top","isVerticalDirection","pos","scrollAndFocusScrollbarButton","configureSpotlight","onLeaveContainer","onLeaveContainerFail","useSpotlightConfig","setContainerDisabled","useCallback","spotlightContainerDisabled","getSpotlightContainerForNode","spotlightContainer","expandableContainer","parentNode","calculateScrollTop","item","threshold","calcItemAtStart","ib","sb","st","d","calcItemInView","sh","isItemBeforeView","roundToStart","height","isItemAfterView","roundToEnd","calcItemAtEnd","container","scrollerBounds","getBoundingClientRect","scrollHeight","scrollTopDelta","containerBounds","v","calculateScrollLeft","scrollPosition","scrollContentNode","itemLeft","itemWidth","getFocusedItemBounds","rtl","clientWidth","rtlDirection","containerLeft","scrollLastPosition","currentScrollLeft","newItemLeft","nextScrollLeft","onUpdate","calculatePositionOnFocus","containerNode","horizontal","isHorizontal","vertical","isVertical","utilDOM","containsDangerously","containerRect","getRect","itemRect","right","bottom","focusOnNode","useThemeScroller","scrollContainerHandle","setThemeScrollContentHandle","nop","Scroller","scrollContentWrapper","ScrollContentWrapper","isHorizontalScrollbarVisible","isVerticalScrollbarVisible","resizeContextProps","scrollContainerProps","scrollInnerContainerProps","scrollContentWrapperProps","scrollContentProps","verticalScrollbarProps","horizontalScrollbarProps","useScroll","themeScrollContentProps","Provider","Scrollbar","cbScrollTo","focusableScrollbar","horizontalScrollbar","noScrollByWheel","onScrollStart","onScrollStop","preventBubblingOnKeyDown","scrollDownAriaLabel","scrollLeftAriaLabel","scrollMode","scrollRightAriaLabel","scrollUpAriaLabel","verticalScrollbar","overflow","restrict","I18nContextDecorator","rtlProp","MarqueeImageItem","UiImageItem","ImageItemBase","captionPosition","src","captionOverlay","marqueeProps","imageComponent","ImageBase","ImageItem","ImageItemDecorator","ButtonBase","animateOnRender","animationDelay","backgroundOpacity","badge","badgeColor","decoration","highlighted","iconComponent","joinedPosition","Fragment","minWidth","UiButtonBase","ButtonDecorator","UiButtonDecorator","ContainerDiv","DropdownBase","onClose","onOpen","open","buttonClassName","aria","transitionContainerClassname","transitionContainer","openTransitionContainer","upTransitionContainer","dropdownButtonClassname","dropdownButton","upDropdownButton","dropdownListClassname","dropdownList","dropdownListWithScroller","length","isSelectedValid","transitionDirection","hasChildren","ariaProps","extractAriaProps","opened","DropDownButton","wrapperProps","skinVariants","groupProps","RadioItem","dropDownListItem","onTransitionHide","containerId","containerSelector","isPaused","dropdown","slot","onHide","spotlightDisabled","spotlightRestrict","scroller","group","Dropdown","Toggleable","toggle","activate","deactivate","DropdownDecorator","Config","mergeComponentMetadata","storiesOf","boolean","text","UiButton","casing","colors","icons","action","Checkbox","onToggle","info","CheckboxItem","ColorPicker","ColorPickerBase","presets","StoryOptions","groupId","emitChange","newValue","s","calcStep","proportion","calcProportion","isActive","keyCode","is","either","a","b","args","atMinimum","atMaximum","forwardOnlyType","forwardSpotlightEvents","ContextualButton","ContextualPopupDecorator","renderPopup","marginTop","scaleToRem","noAutoDismiss","popupComponent","showCloseButton","DateTimePicker","removeProps","onSave","Drawer","DrawerBase","headingValues","sizes","spacings","drawerColors","opacityRange","range","noDrawerAnimation","drawerBackgroundColor","drawerBackgroundOpacity","drawerStyle","hex","opacity","background","convert","rgb","galliumNote","color","showLine","spacing","href","animationDuration","epsilon","isPageDown","isPageUp","paginationPageMultiplier","scrollWheelPageMultiplierForMaxPixel","constants","lastPointer","y","useEventFocus","spottable","themeScrollContentHandle","alertScrollbarTrack","calculateAndScrollTo","positionFn","spotItem","lastPos","lastScrollPositionOnFocus","animator","isAnimating","scrolling","contentRect","bounds","getScrollBounds","scrollHorizontally","scrollVertically","targetX","targetY","animate","animateOnFocus","abs","startScrollOnFocus","handleFocus","shouldPreventScrollByFocus","isWheeling","getPointerMode","isDragging","indexToFocus","setLastFocusedNode","hasFocus","scrollers","Map","pointerTracker","clientX","clientY","pageKeyHandler","elem","elementFromPoint","scrollByPageOnPointerMode","useEventMonitor","lastPointerProp","pageKeyHandlerObj","onWindowReady","useEventVoice","onScrollbarButtonClick","isVoiceControl","voiceControlDirection","isReachedEdge","ltrBound","rtlBound","isRtl","bound","handleVoice","verticalDirection","horizontalDirection","scroll","indexOf","window","webOSVoiceReportActionResult","voiceUi","exception","preventDefault","isPreviousScrollButton","isVerticalScrollBar","scrollTo","addVoiceEventListener","platform","webos","setAttribute","removeVoiceEventListener","removeAttribute","stopVoice","scrollContainerNode","viewportBounds","spotItemBounds","nodes","getSpottableDescendants","first","last","nodeBounds","updateFocusAfterVoiceControl","useScrollbar","horizontalScrollbarHandle","verticalScrollbarHandle","wheelDirection","pageDistance","clientHeight","lastInputType","isScrollAnimationTargetAccumulated","scrollToAccumulatedTarget","showScrollbarTrack","startHidingScrollbarTrack","isScrollButtonFocused","isOneOfScrollButtonsFocused","canScrollHorizontally","canScrollingVertically","focusOnScrollButton","scrollbarHandle","focusOnButton","scrollbarProps","cbAlertScrollbarTrack","onNextScroll","onPrevScroll","navigableFilter","scrollbarCss","scrollButton","reverseDirections","down","up","dataIndexAttribute","getIntersectingElement","intersects","isIntersecting","getTargetInViewByDirectionFromPosition","position","getTargetByDirectionFromPosition","getActiveContainer","useThemeScroll","contextSharedState","useContext","nodeToFocus","pointToFocus","useLayoutEffect","restoreScrollPosition","get","useSpotlightRestore","handleWheel","delta","focusedItem","handleWheelNative","canScrollVertically","eventDeltaMode","deltaMode","eventDelta","wheelDeltaY","deltaY","needToHideScrollbarTrack","activeElement","getContainerRef","calculateDistanceByWheel","sign","useEventWheel","handleKeyDown","isContent","scrollByPage","isUp","directionFactor","scrollPossible","contentNode","clientRect","yAdjust","pauseSpotlight","getDirection","element","handleDragEnd","handleDragStart","handleMouseDown","isFlicked","useEventMouse","handleTouchStart","instnaces","useEventTouch","focusOnItem","focusByIndex","elemFromPoint","closest","spottableClass","addEventListeners","handleResizeWindow","handleScroll","handleScrollerUpdate","scrollToInfo","removeEventListeners","scrollStopOnScroll","opt","nodeType","downButtonAriaLabel","upButtonAriaLabel","rightButtonAriaLabel","leftButtonAriaLabel","itemRefs","useThemeScrollContentHandle","instance","collectionOfProperties","assignProperties","assignPropertiesOf","scrollProps","useScrollBase","noScrollByDrag","touchscreen","onDragEnd","onDragStart","onMouseDown","onWheel","setScrollContainerHandle","onTouchStart","itemRenderer","focusableScrollButtons","nextButtonAriaLabel","onKeyDownButton","previousButtonAriaLabel","itemCount","items","fill","Header","HeaderBase","childrenSelection","hideLine","subtitle","titleAbove","Heading","HeadingBase","knobProps","spacingIndicator","spacingNote","SkinnedIcon","iconNames","flip","emptify","docs","logo","showline","ToggleButtonBase","toggleOffLabel","toggleOnLabel","underline","c","aria-pressed","toggleProp","IncrementSlider","IncrementSliderBase","decrementIcon","decrementIcons","incrementIcon","incrementIcons","noFill","InputBase","Input","dismissOnEnter","iconAfter","iconBefore","invalid","invalidMessage","onFocus","placeholder","UiItemBase","UiItem","slotBeforeIcon","slotAfterIcon","filter","subText","ThumbnailItemBase","thumbnail","ThumbnailItem","UiLabeledIconBase","UiLabeledIcon","LabeledIconButton","padding","PopupBase","closeButton","scrimType","ScrollButtonBase","ScrollButton","prepareButton","isPrev","preparePrevButton","prepareNextButton","consumeEvent","ScrollButtons","updateButtons","currentPos","maxPos","shouldDisablePrevButton","shouldDisableNextButton","updatePrevButton","prevButtonDisabled","updateNextButton","nextButtonDisabled","setState","prevButtonRef","nextButtonRef","onClickPrev","onClickNext","focusOnOppositeScrollButton","buttonNode","move","preventBubbling","isNextButton","isPrevButton","nextButton","click","prevButton","currentButton","oppositeButton","setPointerMode","isDown","isLeftMovement","isRightMovement","fromNextToPrev","fromPrevToNext","directionToContent","isLeavingDown","isLeavingUp","isLeavingLeft","isLeavingRight","getTargetByDirectionFromElement","onKeyDownPrev","onKeyDownNext","createRef","scrollbarTrackRenderer","prevIcon","nextIcon","data-spotlight-overflow","onHoldPulse","ScrollbarTrack","ScrollbarBase","memo","scrollButtonsRef","restProps","scrollbarButtonsProps","scrollbarTrackProps","useScrollbarBase","useThemeScrollbar","uiUpdate","corner","minThumbSize","PopupMenu","Story","menuOpen","setMenuOpen","useState","closeButtonLabel","cannotClose","ProgressBar","UiProgressBar","ProgressBarBase","progress","RangePicker","ScrollerConfig","UiScrollerBasic","noScroller","SliderButton","SliderButtonBase","3","5","Spinner","UiSpinnerBase","UiSpinner","SpinnerBase","outline","backgroundColor","borderBottomWidth","fontWeight","fontStyle","fontSize","blockClickOn","scrim","transparent","SwitchItem","offText","onText","classNames","scrollbarTrack","setCSSVariable","variable","setProperty","clientSize","scrollbarContainerRef","scrollbarTrackRef","hideScrollbarTrackJob","Job","hideScrollbarTrack","removeClass","scrollbarTrackShown","addClass","primaryDimension","trackSize","scrollViewSize","scrollContentSize","scrollWidth","scrollbarThumbSizeRatioBase","scrollbarThumbProgressRatio","scrollbarThumbSizeRatio","scrollbar","paddingBottom","Number","UIButtonBase","UIButton","defaultSelected","TooltipButton","TooltipDecorator","tooltipDestinationProp","tooltipText","wrapOption","false","true","updateDataSize","dataSize","itemNumberDigits","headingZeros","VirtualListConfig","UiVirtualListBasic","VirtualList","itemStyle","borderBottom","boxSizing","itemSize","createContext","updateOnMount","sharedState","initSharedState","loadFromContext","isUpdateable","componentOverride","iconFlip","pressed","hasIcon","bg","client","activeProp","LabeledIconButtonBase","UiLabeledIconDecorator","LabeledIconButtonDecorator","ResizeContext","resize","handleResize","call","resizeRegistry","unregister","invalidateBounds","notify","toLowerCase","forEachObj","curry","forEach","oneOrArray","addOne","removeOne","splice","addAll","pageUp","pageDown","InputDecoratorIconBase","InputDecoratorIcon","onlyUpdateForKeys","capturedDown","shouldCapture","isCapturing","setCapturing","capturing","returnsTrue","handlePointerDown","handlePointerUp","handleTap","releasePointer","isBubbling","SELECTABLE_TYPES","isSelectionAtLocation","location","test","selectionStart","InputSpotlightDecorator","noLockPointer","emulateMouse","forwardBlur","forwardMouseDown","forwardFocus","forwardKeyUp","updateFocus","prevState","focusDecorator","decorator","focusInput","relatedTarget","setDownTarget","downTarget","_","onSpotlightDisappear","isLeft","isRight","shouldSpotlightMove","stopImmediate","onDeactivate","inputProps","extractInputProps","input","tabIndex","OpenState","forwardHide","PopupState","handleFloatingLayerOpen","popupOpen","handlePopupHide","floatLayerOpen","activator","prevOpen","onDismiss","Tracking","Drag","dragConfig","setContainerBounds","global","isGlobal","minX","minY","maxX","innerWidth","maxY","innerHeight","computedStyle","getComputedStyle","parseInt","paddingLeft","paddingTop","paddingRight","updatePosition","begin","noResume","onDrag","coords","tracking","startX","startY","updateProps","moveTolerance","dx","dy","sqrt","defaultDragConfig","dragConfigPropType","Flick","maxDuration","maxMoves","minVelocity","cancelJob","startAfter","moves","flickConfig","t","performance","now","shift","m","dt","vx","vy","velocityX","velocity","isTracking","defaultFlickConfig","flickConfigPropType","maxVelocity","Hold","isHolding","holdConfig","isWithinTolerance","onHold","onHoldEnd","events","sort","pulsing","next","holdStart","startJob","cancelOnMove","shouldEnd","suspend","clearInterval","holdJob","handlePulse","holdTime","n","frequency","setInterval","defaultHoldConfig","holdConfigPropType","allowedDragKeys","allowedFlickKeys","allowedHoldKeys","clone","mergeGestureConfig","allowed","mergeConfig","merged","drag","flick","hold","configure","States","setActive","_lastTouchEnd","timeStamp","ClickAllow","lastTouchEndTime","lastMouseUpTime","setLastTouchEnd","setLastMouseUp","shouldAllowMouseEvent","ios","shouldAllowMouseDown","shouldAllowTap","getEventCoordinates","targetTouches","makeTouchableEvent","pageX","pageY","changedTouches","isEnabled","handleDown","named","handleUp","finally","handleEnter","handleLeave","handleMouseEnter","handleMouseMove","handleMouseLeave","handleMouseUp","handleClick","handleTouchMove","handleTouchEnd","complement","handleGlobalUp","handleGlobalMove","handleBlur","prevDisabled","targetHadFocus","clickAllow","bindAs","touch","on","clearTarget","off","setTarget","startTouch","targetBounds","endTouch","startGesture","moveGesture","enterGesture","leaveGesture","blurGesture","endGesture","hasTouchLeftTarget","reduce","hasLeft","containsCurrentTarget","addHandlers","onMouseLeave","onMouseMove","onMouseEnter","onMouseUp","onTouchMove","onTouchEnd","onDown","onUp","LabeledIconBase","LabeledIconDecorator","CheckboxBase","CheckboxItemBase","data-webos-voice-intent","CheckboxItemDecorator","RadioItemBase","RadioItemDecorator","distributeChild","hasSlot","newProps","propNames","distribute","slotNames","remaining","useSlots","slotProps","k","distributed","dist","concat","renderableOverride","iconClassName","ComponentOverride","iconCell","timingFunctions","source","curTime","clampVelocity","ScrollAnimator","rAFId","timingFunction","simulate","sourceX","sourceY","stepX","stepY","deltaX","rAFCallbackFuntion","rAF","requestAnimationFrame","startTimeStamp","perfNow","cAF","cancelAnimationFrame","datasetDangerously","getBoundingClientRectDangerously","getRectDangerously","removeAttributeDangerously","scrollLeftDangerously","scrollTopDangerously","setAttributeDangerously","eventName","param","overscrollTypeNone","overscrollTypeHold","overscrollTypeOnce","overscrollTypeDone","overscrollVelocityFactor","scrollStopWaiting","TouchableDiv","voiceDisabled","voiceFocused","voiceGroupLabel","itemSizes","overhang","overscrollEffectOn","pageScroll","scrollClasses","applyOverscrollEffect","clearOverscrollEffect","forceUpdate","useReducer","setIsHorizontalScrollbarVisible","setIsVerticalScrollbarVisible","overscrollEnabled","animationInfo","pixelPerLine","scrollWheelMultiplierForDeltaPixel","deferScrollTo","overscrollStatus","before","ratio","after","isTouching","accumulatedTargetX","accumulatedTargetY","flickTarget","dragStartX","dragStartY","scrollStopJob","checkAndApplyOverscrollEffect","val","setOverscrollStatus","containerRef","ResizeObserver","resizeObserver","syncClientSize","observe","disconnect","parent","forwardScrollEvent","getReachedEdgeInfo","passive","scrollBehavior","enqueueForceUpdate","calculateMetrics","propsHandleResizeWindow","setTimeout","scrollToPosition","getRtlX","maxPixel","canScrollH","canScrollV","dir","wheel","overscrollEffectRequired","scrollStartOnScroll","safari","setScrollLeft","setScrollTop","didScroll","pageKey","overscrollEffect","getEdgeFromPosition","maxPosition","edge","overscrollEffectType","status","getOverscrollStatus","curPos","clearAllOverscrollEffects","applyOverscrollEffectOnDrag","targetPosition","oppositeEdge","calculateOverscrollRatio","baseSize","overDistance","checkAndApplyOverscrollEffectOnDrag","checkAndApplyOverscrollEffectOnScroll","checkAndApplyOverscrollEffectOnStart","reachedEdgeInfo","moreInfo","getMoreInfo","updateScrollbarTrack","doScrollStop","updatedAnimationInfo","setScrollPositionTarget","scrollAnimation","toBeContinued","curTargetX","curTargetY","setScrollPosition","stopForTranslate","stopForNative","getPositionForScrollTo","itemPos","getItemPosition","stickTo","offset","getNodePosition","setScrollToPositionTarget","isNaN","scrollbarRef","updateScrollbarTrackSize","curHorizontalScrollbarVisible","curVerticalScrollbarVisible","updatedBounds","Registry","create","run","hasDataSizeChanged","clampScrollPosition","updateScrollbars","scrollInnerContainer","scrollContentWrapperNative","voiceProps","scrollFill","getRtlPositionX","register","properties","property","footer","drawerTransitionContainer","DrawerDecorator","standard","subtitleComponent","titleAboveComponent","titleContainer","endSlot","resBundle","getResBundle","createResBundle","options","opts","basePath","ILIB_AGATE_PATH","onLoad","ResBundle","bundle","setResBundle","str","String","toIString","rb","sync","getIStringFromBundle","SliderKnob","tooltipComponent","SliderProgress","backgroundProgress","knobComponent","SliderButtonDecorator","SpinnerCore","spinnerNodes","aria-live","SpinnerDecorator","SwatchButtonBase","colorSwatchStyle","colorSwatch","SwatchButton","SwatchButtonDecorator","convertToHSL","charAt","hsl","extended","onHueChanged","onLightnessChanged","onSaturationChanged","onToggleExtended","sliderValues","palette","childProp","swatch","sliders","ColorPickerExtended","buildValue","h","l","clickedOutsidePalette","handleToggleExtended","handleSlider","sliderValue","defaultExtended","ColorPickerDecorator","IncrementSliderButtonBase","IncrementSliderButton","OnlyUpdate","forwardWithType","onDecrementSpotlightDisappear","onIncrementSpotlightDisappear","onSpotlightDirection","onSpotlightDown","onSpotlightLeft","onSpotlightRight","onSpotlightUp","onDecrement","onIncrement","slider","isIncrement","incrementButton","isDecrement","decrementButton","decrementDisabled","incrementDisabled","ariaHidden","aria-hidden","data-webos-voice-group-label","emitSpotlightEvents","IncrementSliderDecorator","baseScreen","riRatio","screenType","screenTypeObject","workspaceBounds","screenTypes","pxPerRem","aspectRatioName","base","unitToPixelFactors","getScreenTypeObject","defineScreenTypes","types","init","getScreenType","rez","bestMatch","swap","calculateFontSize","scrObj","orientationHandling","getResolutionClasses","classes","getRiRatio","getUnitToPixelFactors","getAspectRatio","getAspectRatioName","px","pixels","toUnit","substr","selectSrc","newSrc","fhd","uhd","hd","measurementNode","updateWorkspaceBounds","rem","updateBaseFontSize","documentElement","dynamic","didClassesChange","resolutionClasses","rootNode","prevClassNames","ToggleIconBase","ToggleIcon","ToggleIconDecorator","useHintOnActive","useHintText","toggleActive","handleActivate","handleSpotlightEvents","dragging","prevValue","getValueText","ariaValueText","verticalHint","horizontalHint","mergeStyle","updated","backgroundImage","dingbat","iconProps","iconProp","fromCodePoint","isUri","draggable","ResponsiveImageDecorator","Image","ImageDecorator","currentParent","registry","freeze","exclude","f","PickerCell","pickerCol","DateTimePickerBase","ranges","years","months","days","hours","minutes","meridiem","handleTimeChange","hour","minute","month","day","year","dateTimePicker","pickerLeft","pickerCell","pickerRight","TransitionContainer","Transition","buttons","withCloseButton","withTitle","transitionType","wideLayout","popupTransitionContainer","Popup","PopupDecorator","SwitchBase","animated","Switch","SwitchItemBase","aria-checked","switchIcon","SwitchItemDecorator","UiHeading","HeadingDecorator","PopupMenuBase","PopupMenuDecorator","RangePickerBase","cancelHandlers","forCancel","ok","modals","dispatchToModals","handled","onCancelIsString","onCancelIsFunction","dispatchCancelToConfig","stopped","cancelEvent","handleKeyUp","isFirstRender","obj","removeModal","renderWrapped","renderUnwrapped","renderModal","forAction","FloatingLayerContext","floatLayerId","wrappedClassName","getFloatingLayer","floatingLayer","getElementById","handleNotify","setFloatingLayer","notifyMount","handleCloseAll","FloatingLayerDecorator","transparentClassName","translucentClassName","translucent","scrimStack","removeTranslucentScrim","pop","show","Scrim","hide","pushTranslucentScrim","forwardDismiss","forwardClose","forwardOpen","FloatingLayerBase","handleClose","nativeEvent","stopImmediatePropagation","nodeRendered","controller","renderNode","removeChild","isNewLayer","floatLayerClassName","zIndex","appendChild","createPortal","FloatingLayer","useFloatingLayer","running","scrimClassName","spinnerContainerClassName","spinnerContainer","isEnter","getNumberValue","findSpottableItem","indexFrom","indexTo","getNextIndex","isPrimaryDirectionVertical","dimensionToExtent","row","isDownKey","isUpKey","isNextRow","isNextAdjacent","isBackward","isWrapped","nextIndex","targetIndex","handle5WayKeyUp","handleDirectionKeyDown","handlePageUpDownKeyDown","spotlightAcceleratorProcessKey","isNotItem","matches","candidate","candidateIndex","isLeaving","directions","isScrollbarVisible","floor","usePreventScroll","preventScroll","getItemNode","preservedIndex","lastSpotlightDirection","restoreLastFocused","restoreFocus","isPlaceholderFocused","vlPlaceholder","isScrolledByJump","foundLastFocused","handlePlaceholderFocus","handleRestoreLastFocus","firstIndex","lastIndex","setPreservedIndex","updateStatesAndBounds","numOfItems","firstVisibleIndex","lastVisibleIndex","SpotlightAccelerator","Accelerator","SpotlightPlaceholder","itemNode","isScrolledBy5way","isWrappedBy5way","lastFocusedIndex","lastFocusedPersist","lastFocusedRestore","all","find","el","obliqueMultiplier","eventType","onAcceleratedKeyDown","nextTargetIndex","reset","processKey","handleGlobalKeyDown","primary","scrollPositionTarget","nextRow","getGridPosition","primaryPosition","getItemBottomPosition","startBoundary","endBoundary","returnVal","offsetToClientEnd","focusedIndex","getAttribute","gridPosition","secondaryPosition","gridPositionToItemPosition","useThemeVirtualList","itemRest","placeholderRenderer","data-vl-placeholder","onUpdateItems","minSize","itemSizesShape","VirtualGridList","gridListItemSizeShape","makeHandler","apply","hasPropsAndContext","prototype","hasOwnProperty","decorateHandleFunction","_outer","prepareHandleArgs","caller","cleanup","handleWithFinally","result","cond","callOnEvent","methodName","prevented","wrappedEvent","forKeyCode","log","method","adapter","forwardCustom","not","webpackEmptyContext","deprecate","thing","componentName","propFullName","propValue","deprecated","warn","useClass","Ctor","Handlers","_handlers","setContext","useHandlers","optProps","renderComputed","addInternalProp","defineProperty","enumerable","writable","configCss","allowedClassNames","renderStyles","mergeClassNameMaps","cn","joinedClassName","NoContext","cfgComputed","functional","cfgStyles","renderKind","ctx","defaultPropKeys","handlerKeys","_props","timeout","cancelIdleCallback","clearTimeout","throttle","throttleUntil","idle","idleUntil","requestIdleCallback","startRaf","startRafAfter","callback","timestamp","promise","then","toUpperCase","unless","isType","Function","always","tag","ReactIs","Date","baseMap","additiveMap","listIcons","mediaIcons","arrowIcons","starIcons","iconsSilicon","platforms","regex","forceVersion","extra","silk","luneos","legacy","_platform","detect","gesture","unknown","userAgent","navigator","plat","msMaxTouchPoints","maxTouchPoints","msManipulationViewsEnabled","PointerEvent","matchMedia","p","exec","platformName","parseUserAgent","uniq","TooltipLabel","multi","isRtlText","TooltipBase","arrowAnchor","labelOffset","relative","tooltipRef","cappedPosition","absolute","tooltipAnchor","tooltipArrow","Tooltip","getLabelOffset","tooltipNode","tooltipDirection","tooltipPosition","tooltipWidth","isOverWide","isOverCenterLeft","isOverCenterRight","pixelOffset","percentageOffset","offsetBoundaryPercentage","getLabelUnavailableSpace","currentTooltip","screenEdgeKeepout","showTooltipJob","showing","setTooltipLayoutJob","setTooltipLayout","startTooltipLayoutJob","tooltipUpdateDelay","showTooltip","tooltipDelay","clientRef","mutationObserver","attributes","childList","hideTooltip","handleMouseOver","handleMouseOut","getTooltipRef","MutationObserver","arr","clientNode","calcOverflow","edgeKeepout","windowWidth","windowHeight","clientHorizontalCenter","tooltipSafeWidth","tooltipCenterdSafeWidth","isTooltipWide","isOverTop","isOverBottom","isOverLeft","isOverRight","adjustDirection","adjustAnchor","getPosition","renderTooltip","tooltipRelative","tooltipProps","renderedTooltip","onMouseOut","onMouseOver","customSkin","float","i18n","noAutoFocus","overlay","spotlight","CustomizableSkinStyle","accent","highlight","cssRules","accentObj","highlightObj","styleRules","rule","ThemeDecorator","bgClassName","App","ResolutionDecorator","I18nDecorator","SpotlightRootDecorator","defaultSkin","pointerHide","pointerShow","allClassNames","root","SkinFrame","reloadPage","protocol","host","pathname","description","panel","storyBody","FullscreenBase","Agate","locales","skins","getPropFromURL","propName","fallbackValue","encodeURI","locationParams","startIndex","keyIndex","valueIndex","decodeURIComponent","substring","memory","StorybookDecorator","story","sample","locale","defaultColors","carbon","cobalt","copper","electro","gallium","silicon","titanium","skinFromURL","currentSkin","newSkin","accentFromURL","highlightFromURL","localeFromURL","currentLocale","allSkins","skinKnobs","Wrapper","parameters","trim","stories","mod","configureActions","addDecorator","withKnobs","loadStories","ScrollerBasic","nodeLeft","nodeTop","nodeHeight","nodeWidth","containerTop","mergedStyle","overflowX","overflowY","ScrollerBase","minHeight","VirtualListBaseFactory","VirtualListCore","nextState","secondary","isItemSized","shouldUpdateBounds","maxFirstIndex","curDataSize","cc","itemPositions","indexToScrollIntoView","updateScrollPosition","itemPosition","gridSize","getItemTopPositionFromPreviousItemBottomPosition","getXY","getClientSize","getStatesAndUpdateBounds","ceil","wasFirstIndexMax","dataSizeDiff","newFirstIndex","calculateScrollBounds","updateMoreInfo","calculateFirstIndex","setContainerSize","contentRef","itemContainerRef","applyStyleToNewNode","getComponentProps","itemElement","componentProps","listItem","composeStyle","applyStyleToHideNode","getScrollHeight","getVirtualScrollDimension","getScrollWidth","total","prevChildProps","prevFirstIndex","updateFrom","updateTo","shouldInvalidate","diff","emitUpdateItems","adjustItemPositionWithItemSize","itemBounds","equals","newState","xMax","yMax","extent","firstIndexInExtent","calculateAndCacheItemPosition","heightInfo","minItemSize","widthInfo","thresholdBase","Infinity","maxOfMin","numOfUpperLine","firstIndexFromPosition","expectedFirstIndex","syncThreshold","newThresholdMin","newThresholdMax","overhangBefore","firstRenderedIndex","diffToFirstIndex","firstExtent","applyItemPositionToDOMElement","childNode","updateThresholdWithItemPosition","updateScrollBoundsWithItemPositions","scrollBoundsDimension","acc","cur","endPosition","positionItems","hideTo","j","getContainerClasses","containerClass","virtualList","getContentClasses","itemsRenderer","containerClasses","contentClasses","data-webos-voice-focused","VirtualListBase","VirtualListBasic","scrollToPositionTarget","optionalOffset","itemContainerRefs","getAffordance","scrollModeNative","native","data-webos-voice-disabled","ContextualPopupArrow","arrow","viewBox","arrowFill","ContextualPopupRoot","ContextualPopupBase","arrowPosition","containerPosition","onCloseButtonClick","arrowDirection","fixedSize","reserveClose","contextualPopup","ContextualPopupContainer","ContextualPopup","noSkin","openProp","getContainerAdjustedPosition","adjustedDirection","anchor","positionContextualPopup","getArrowPosition","getContainerPosition","getContainerNode","getClientNode","handleOpen","updateLeaveFor","spotPopupContent","hasSpottables","spotlessSpotlightModal","shouldSpotPopup","handleDirectionalKey","handleContainerKeyDown","spotActivator","spottableDescendants","setActiveContainer","popupSpotlightId","ARROW_OFFSET","ARROW_WIDTH","KEEPOUT","MARGIN","setApiProvider","getSnapshotBeforeUpdate","snapshot","containerWidth","getContainerNodeWidth","shouldSpotActivator","leaveFor","centerContainerPosition","adjustRTL","containerHeight","tmpLeft","voiceExclusive","PopupComponent","popupClassName","popupProps","popupPropsRef","contextualPopupDecorator","data-webos-voice-exclusive","ApiDecorator","api","progressToProportion","calcBarStyle","startProp","endProp","fillOverHalf","loadOverHalf","bar","load","allowedVariants","defaultVariants","UiSkinnable","targets","getListeners","listeners","getDefaultTarget","invoker","console","dispatcher","inv","addListener","require","addParameters","theme","brandTitle","brandUrl","brandImage","isFullscreen","showNav","showPanel","panelPosition","withInfo"],"mappings":"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","file":"main.8094acfe5b7075857e4c.bundle.js","sourcesContent":["import {handle, forward, adaptEvent} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport css from './Panels.module.less';\n\n// Since we expose `onSelect` to handle breadcrumb selection, we need that handler to be set on a\n// component that proxies mouse events for key events so we create a spottable div that will\n// get the right classes as well as handle events correctly.\nconst SpottableDiv = Spottable('div');\n\n/**\n * The width of a breadcrumb which may be used to allocate space for it in a panels layout.\n *\n * @type {Number}\n * @default 105;\n * @private\n * @memberof agate/Panels\n */\nexport const breadcrumbWidth = 105;\n\n/**\n * Vertical, transparent bar used to navigate to a prior Panel.\n *\n * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels} has one breadcrumb.\n *\n * @class Breadcrumb\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbBase = kind({\n\tname: 'Breadcrumb',\n\n\tpropTypes: /** @lends agate/Panels.Breadcrumb.prototype */ {\n\t\t/**\n\t\t * Index of the associated panel.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t */\n\t\tindex: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * @private\n\t\t * @type {Function}\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the breadcrumb is clicked.\n\t\t *\n\t\t * The index of the clicked breadcrumb is passed in the event data.\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonSelect: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'breadcrumb'\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onClick'),\n\t\t\tadaptEvent((ev, {index}) => ({type: 'onSelect', index}), forward('onSelect'))\n\t\t)\n\t},\n\n\trender: ({children, index, onSelect, ...rest}) => (\n\t\t<SpottableDiv\n\t\t\t{...rest}\n\t\t\taria-label={$L('GO TO PREVIOUS')}\n\t\t\tdata-index={index}\n\t\t\tonClick={onSelect}\n\t\t>\n\t\t\t<div className={css.breadcrumbContent}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</SpottableDiv>\n\t)\n});\n\nexport default BreadcrumbBase;\nexport {\n\tBreadcrumbBase as Breadcrumb,\n\tBreadcrumbBase\n};\n","import {scale, unit} from '@enact/ui/resolution';\nimport {arrange} from '@enact/ui/ViewManager/Arranger';\n\nimport {breadcrumbWidth} from './Breadcrumb';\n\nconst quadInOut = 'cubic-bezier(0.455, 0.030, 0.515, 0.955)';\nconst animationOptions = {easing: quadInOut};\n\n// Actvity Arranger\n\n/*\n * Appends a transform that accounts for a single breadcrumb\n *\n * @param  {Node} node      DOM Node\n *\n * @returns {undefined}\n * @private\n */\nconst offsetForBreadcrumbs = (node) => {\n\tconst isFirst = node && node.dataset && node.dataset.index === '0';\n\n\treturn `translateX(${isFirst ? 0 : unit(scale(breadcrumbWidth), 'rem')})`;\n};\n\n/**\n * Arranger that slides panels in from the right and out to the left allowing space for the single\n * breadcrumb when `to` index is greater than zero.\n *\n * @type {Arranger}\n * @private\n */\nconst PanelsArranger = {\n\tenter: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: `${offsetForBreadcrumbs(node)} translateX(100%)`},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t},\n\tleave: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: 'translateX(-100%)'}\n\t\t], animationOptions);\n\t},\n\tstay: (config) => {\n\t\tconst {node} = config;\n\n\t\treturn arrange(config, [\n\t\t\t{transform: offsetForBreadcrumbs(node)},\n\t\t\t{transform: offsetForBreadcrumbs(node)}\n\t\t], animationOptions);\n\t}\n};\n\n/**\n * Positions a breadcrumb based on its `data-index` and the current index, `to`\n *\n * @param  {Object} config  Arrangement configuration object\n * @returns {undefined}\n * @method\n * @private\n */\nconst positionBreadcrumb = (node, index) => {\n\tconst crumbIndex = node.dataset.index;\n\tconst x = (index - crumbIndex);\n\tconst percentX = x * -100;\n\n\treturn `translateX(${percentX}%)`;\n};\n\nconst enter = (config) => {\n\tconst {node, from, to, reverse} = config;\n\tconst keyframes = reverse ? [\n\t\t{transform: positionBreadcrumb(node, to)},\n\t\t{transform: positionBreadcrumb(node, from)}\n\t] : [\n\t\t{transform: positionBreadcrumb(node, from)},\n\t\t{transform: positionBreadcrumb(node, to)}\n\t];\n\n\treturn arrange(config, keyframes, animationOptions);\n};\n\n/**\n * Arranger for panel breadcrumbs\n *\n * @type {Arranger}\n * @private\n */\nconst BreadcrumbArranger = {\n\tenter: enter,\n\tstay: enter,\n\tleave: enter\n};\n\nexport {\n\tBreadcrumbArranger,\n\tPanelsArranger\n};\n","import hoc from '@enact/core/hoc';\nimport React from 'react';\n\nlet GlobalId = 0;\n\nconst ID_KEY = '$$ID$$';\n\n/**\n * Default config for {@link agate/Panels.IdProvider}\n *\n * @hocconfig\n * @memberof agate/Panels.IdProvider\n */\nconst defaultConfig = {\n\t/**\n\t * Prop to pass the identifier generation function\n\t *\n\t * @type {String}\n\t * @default generateId\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tgenerateProp: 'generateId',\n\n\t/**\n\t * Prop to pass the identifier\n\t *\n\t * @type {String}\n\t * @default id\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tidProp: 'id',\n\n\t/**\n\t * Optional prefix for the identifier\n\t *\n\t * @type {String}\n\t * @default 'c_'\n\t * @memberof agate/Panels.IdProvider.defaultConfig\n\t */\n\tprefix: 'c_'\n};\n\n/**\n * A higher-order component that generates globally-unique identifiers\n *\n * @class IdProvider\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst IdProvider = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {generateProp, idProp, prefix} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'IdProvider';\n\n\t\tconstructor () {\n\t\t\tsuper();\n\n\t\t\tthis.ids = {};\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\t// Call the onUnmount handler for each generated id (note: not the key)\n\t\t\tfor (const key in this.ids) {\n\t\t\t\tconst {id, onUnmount} = this.ids[key];\n\t\t\t\tif (typeof onUnmount === 'function') {\n\t\t\t\t\tonUnmount(id);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tgenerateId = (key, idPrefix = prefix, onUnmount) => {\n\t\t\t// if an id has been generated for the key, return it\n\t\t\tif (key in this.ids) {\n\t\t\t\treturn this.ids[key].id;\n\t\t\t}\n\n\t\t\t// otherwise generate a new id (with an optional prefix), cache it, and return it\n\t\t\tconst id = `${idPrefix}${++GlobalId}`;\n\t\t\tthis.ids[typeof key === 'undefined' ? `generated-${id}` : key] = {\n\t\t\t\tid,\n\t\t\t\tonUnmount\n\t\t\t};\n\n\t\t\treturn id;\n\t\t};\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (generateProp) {\n\t\t\t\tprops[generateProp] = this.generateId;\n\t\t\t}\n\n\t\t\tif (idProp && !props[idProp]) {\n\t\t\t\tprops[idProp] = this.generateId(ID_KEY);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default IdProvider;\nexport {\n\tIdProvider\n};\n","import React from 'react';\n\nimport Icon from '../Icon';\n\nimport Breadcrumb from './Breadcrumb';\n\n/**\n * Generates an array of at most `max` breadcrumbs\n *\n * @param {Number} index      Index of active breadcrumb\n * @param {Number} max        Maximum number of breadcrumbs to dispaly\n * @param {Function} onSelect Handler for selecting a breadcrumb\n * @returns {React.element[]} Array of breadcrumbs\n * @private\n */\nconst Breadcrumbs = (id, index, max, onSelect) => {\n\tconst breadcrumbs = new Array(index < max ? index : max);\n\tconst start = Math.max(index - max, 0);\n\n\tfor (let i = start; i < index; i++) {\n\t\tbreadcrumbs[index - i - 1] = (\n\t\t\t<Breadcrumb\n\t\t\t\tonSelect={onSelect}\n\t\t\t\tid={`${id}_bc_${i}`}\n\t\t\t\tindex={i}\n\t\t\t\tkey={i}\n\t\t\t>\n\t\t\t\t<Icon>arrowlargeleft</Icon>\n\t\t\t</Breadcrumb>\n\t\t);\n\t}\n\n\treturn breadcrumbs;\n};\n\nexport default Breadcrumbs;\nexport {\n\tBreadcrumbs\n};\n","import hoc from '@enact/core/hoc';\nimport Spotlight from '@enact/spotlight';\nimport Cancelable from '@enact/ui/Cancelable';\n\nimport css from './Panels.module.less';\n\nconst defaultConfig = {\n\tcancel: null\n};\n\nconst CancelDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {cancel} = config;\n\n\tfunction handleCancel (ev, props) {\n\t\tconst {index, [cancel]: handler} = props;\n\n\t\tif (index > 0 && handler && !document.querySelector(`.${css.transitioning}`)) {\n\t\t\t// clear Spotlight focus\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tif (current) {\n\t\t\t\tcurrent.blur();\n\t\t\t}\n\n\t\t\thandler({\n\t\t\t\tindex: index - 1\n\t\t\t});\n\n\t\t\tev.stopPropagation();\n\t\t}\n\t}\n\n\treturn Cancelable(\n\t\t{modal: true, onCancel: handleCancel},\n\t\tWrapped\n\t);\n});\n\nexport default CancelDecorator;\nexport {\n\tCancelDecorator\n};\n","import hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {coerceFunction} from '@enact/core/util';\nimport Spotlight from '@enact/spotlight';\nimport ViewManager from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport IdProvider from './IdProvider';\nimport {BreadcrumbArranger} from './Arrangers';\nimport Breadcrumb from './Breadcrumb';\nimport Breadcrumbs from './Breadcrumbs';\nimport CancelDecorator from './CancelDecorator';\n\nimport css from './Panels.module.less';\n\n// TODO: Figure out how to document private sub-module members\n\n/**\n * Default config for {@link agate/Panels.BreadcrumbDecorator}\n * @hocconfig\n * @memberof agate/Panels.BreadcrumbDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Classes to be added to the root node\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tclassName: null,\n\n\t/**\n\t * Maximum number of breadcrumbs to display. If a function, it will be called on render to\n\t * calculate the number of breadcrumbs\n\t *\n\t * @type {Number|Function}\n\t * @default 0\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tmax: 0,\n\n\t/**\n\t * Arranger for Panels\n\t *\n\t * @type {Object}\n\t * @default null\n\t * @memberof agate/Panels.BreadcrumbDecorator.defaultConfig\n\t */\n\tpanelArranger: null\n};\n\n\n/**\n * A higher-order component that adds breadcrumbs to a Panels component\n *\n * @class BreadcrumbDecorator\n * @type {Function}\n * @hoc\n * @private\n * @memberof agate/Panels\n */\nconst BreadcrumbDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {max, panelArranger, className: cfgClassName} = config;\n\tconst calcMax = coerceFunction(max);\n\n\tconst Decorator = kind({\n\t\tname: 'BreadcrumbDecorator',\n\n\t\tpropTypes: /** @lends agate/Panels.BreadcrumbDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Array of breadcrumbs or a function that generates an array of breadcrumbs\n\t\t\t *\n\t\t\t * @type {Function|Node[]}\n\t\t\t * @default Breadcrumbs\n\t\t\t */\n\t\t\tbreadcrumbs: PropTypes.oneOfType([\n\t\t\t\tPropTypes.func,\t\t\t\t\t\t// generator\n\t\t\t\tPropTypes.arrayOf(PropTypes.node)\t// static array of breadcrumbs\n\t\t\t]),\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to each child. `aria-owns` will be added\n\t\t\t * or updated to this object to add the breadcrumbs to the accessibility tree of each\n\t\t\t * panel.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Panels to be rendered\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t */\n\t\t\tchildren: PropTypes.node,\n\n\t\t\t/**\n\t\t\t * Function that generates unique identifiers for Panel instances\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\tgenerateId: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Unique identifier for the Panels instance\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tid: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Index of the active panel\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t */\n\t\t\tindex: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Disable breadcrumb transitions.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t */\n\t\t\tnoAnimation: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when a breadcrumb is clicked. The payload includes the `index` of the selected\n\t\t\t * breadcrumb\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t */\n\t\t\tonSelectBreadcrumb: PropTypes.func\n\t\t},\n\n\t\tdefaultProps: {\n\t\t\tbreadcrumbs: Breadcrumbs,\n\t\t\tindex: 0,\n\t\t\tnoAnimation: false\n\t\t},\n\n\t\tstyles: {\n\t\t\tcss,\n\t\t\tclassName: cfgClassName\n\t\t},\n\n\t\thandlers: {\n\t\t\thandleBreadcrumbWillTransition: (ev, {id}) => {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tif (!current) return;\n\n\t\t\t\tconst breadcrumbs = document.querySelector(`#${id} .${css.breadcrumbs}`);\n\t\t\t\tif (breadcrumbs && breadcrumbs.contains(current)) {\n\t\t\t\t\tcurrent.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tcomputed: {\n\t\t\t// Invokes the breadcrumb generator, if provided\n\t\t\tbreadcrumbs: ({breadcrumbs, id, index, onSelectBreadcrumb}) => {\n\t\t\t\tconst x = calcMax(index);\n\t\t\t\tif (Array.isArray(breadcrumbs)) {\n\t\t\t\t\t// limit the number of breadcrumbs based on the index and config.max\n\t\t\t\t\tconst start = Math.max(index - x, 0);\n\t\t\t\t\tconst children = React.Children.toArray(breadcrumbs).slice(start, start + x);\n\n\t\t\t\t\t// map over the children to either clone it with the appropriate props or to\n\t\t\t\t\t// create a Breadcrumb if passed an array of renderable primitives\n\t\t\t\t\treturn React.Children.map(children, (child, i) => {\n\t\t\t\t\t\tconst props = {\n\t\t\t\t\t\t\tid: `${id}_bc_${i}`,\n\t\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\t\tonSelect: onSelectBreadcrumb\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (React.isValidElement(child)) {\n\t\t\t\t\t\t\treturn React.cloneElement(child, props);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn React.createElement(Breadcrumb, props, child);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturn breadcrumbs(id, index, x, onSelectBreadcrumb);\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildProps: ({childProps, id, index}) => {\n\t\t\t\tif (!id || index === 0) {\n\t\t\t\t\treturn childProps;\n\t\t\t\t}\n\n\t\t\t\tconst start = Math.max(index - calcMax(index), 0);\n\t\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\t\tconst ariaOwns = [];\n\t\t\t\tfor (let i = start; i < index; i++) {\n\t\t\t\t\tariaOwns.push(`${id}_bc_${i}`);\n\t\t\t\t}\n\n\t\t\t\tif (updatedChildProps['aria-owns']) {\n\t\t\t\t\tariaOwns.unshift(updatedChildProps['aria-owns']);\n\t\t\t\t}\n\n\t\t\t\tupdatedChildProps['aria-owns'] = ariaOwns.join(' ');\n\n\t\t\t\treturn updatedChildProps;\n\t\t\t}\n\t\t},\n\n\t\trender: ({breadcrumbs, childProps, children, className, generateId, handleBreadcrumbWillTransition, id, index, noAnimation, ...rest}) => {\n\t\t\tdelete rest.onSelectBreadcrumb;\n\n\t\t\tconst count = React.Children.count(children);\n\t\t\tinvariant(\n\t\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<div className={className} data-index={index} id={id}>\n\t\t\t\t\t<ViewManager\n\t\t\t\t\t\tarranger={BreadcrumbArranger}\n\t\t\t\t\t\tclassName={css.breadcrumbs}\n\t\t\t\t\t\tduration={300}\n\t\t\t\t\t\tend={calcMax()}\n\t\t\t\t\t\tindex={index - 1}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\t\tonWillTransition={handleBreadcrumbWillTransition}\n\t\t\t\t\t\tstart={0}\n\t\t\t\t\t>\n\t\t\t\t\t\t{breadcrumbs}\n\t\t\t\t\t</ViewManager>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tarranger={panelArranger}\n\t\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\t\tid={`${id}_panels`}\n\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\tnoAnimation={noAnimation}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Wrapped>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t});\n\n\treturn CancelDecorator(\n\t\t{cancel: 'onSelectBreadcrumb'},\n\t\tIdProvider(\n\t\t\tSkinnable(\n\t\t\t\tDecorator\n\t\t\t)\n\t\t)\n\t);\n});\n\nexport default BreadcrumbDecorator;\nexport {\n\tBreadcrumbDecorator\n};\n","import kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\n\n/**\n * An {@link agate/ApplicationCloseButton.ApplicationCloseButton} with `closex` icon. It is used in\n * {@link agate/Panels.Panels} positioned at the top right corner.\n * `onApplicationClose` callback function should be specified to close your app. The recommended\n * action to take with the event is `window.close()`, but you may also want to also do operations\n * like save user work or close database connections.\n *\n * @class ApplicationCloseButton\n * @memberof agate/Panels\n * @private\n */\nconst ApplicationCloseButton = kind({\n\tname: 'ApplicationCloseButton',\n\n\tpropTypes: /** @lends agate/Panels.ApplicationCloseButton.prototype */ {\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @memberof agate/Panels.ApplicationCloseButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when app close button is clicked\n\t\t *\n\t\t * @type {Function}\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': ariaLabel}) => ariaLabel == null ? $L('Exit app') : ariaLabel\n\t},\n\n\trender: ({onApplicationClose, ...rest}) => {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tonTap={onApplicationClose}\n\t\t\t\tsize=\"small\"\n\t\t\t\ticon=\"closex\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default ApplicationCloseButton;\nexport {\n\tApplicationCloseButton\n};\n","import kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ApplicationCloseButton from './ApplicationCloseButton';\n\nimport css from './Panels.module.less';\n\n/**\n * Group of controls shared across Panel instances\n *\n * @class ControlsBase\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst ControlsBase = kind({\n\tname: 'Controls',\n\n\tpropTypes: /** @lends agate/Panels.ControlsBase.prototype */ {\n\t\t/**\n\t\t * Additional controls displayed before the close button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called with a reference to the root DOM node of this component.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @public\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'controls'\n\t},\n\n\trender: ({children, closeButtonAriaLabel, forwardRef, noCloseButton, onApplicationClose, ...rest}) => {\n\t\tif (!children && noCloseButton) return null;\n\n\t\treturn (\n\t\t\t<div {...rest} ref={forwardRef}>\n\t\t\t\t{children}\n\t\t\t\t{noCloseButton ? null : (\n\t\t\t\t\t<ApplicationCloseButton\n\t\t\t\t\t\taria-label={closeButtonAriaLabel}\n\t\t\t\t\t\tclassName={css.close}\n\t\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Group of controls shared across Panel instances.\n *\n * ```\n * // remove the close button and use a star icon button\n * <Controls noCloseButton>\n *   <Button icon=\"star\" />\n * </Controls>\n * ```\n *\n * @class Controls\n * @mixes spotlight/SpotlightContainerDecorator\n * @memberof agate/Panels\n * @ui\n * @private\n */\nconst Controls = ForwardRef(SpotlightContainerDecorator(ControlsBase));\n\nexport default Controls;\nexport {\n\tControls,\n\tControlsBase\n};\n","import classnames from 'classnames';\nimport {forward, handle} from '@enact/core/handle';\nimport Spotlight from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport ViewManager, {shape, SlideBottomArranger as VerticalArranger, SlideRightArranger as HorizontalArranger} from '@enact/ui/ViewManager';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport SharedStateDecorator, {SharedState} from './SharedStateDecorator';\n\nimport css from './Panels.module.less';\n\n/**\n * The container for a set of Panels\n *\n * @class Viewport\n * @memberof agate/Panels\n * @private\n */\nconst ViewportBase = class extends React.Component {\n\tstatic displayName = 'Viewport';\n\n\tstatic contextType = SharedState;\n\n\tstatic propTypes = /** @lends agate/Panels.Viewport.prototype */ {\n\n\t\t/**\n\t\t * A function that generates a globally-unique identifier for a panel index\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport\n\t\t *\n\t\t * @type {Arranger}\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * Panels to be rendered\n\t\t *\n\t\t * @type {Panel}\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disable panel transitions\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string\n\t};\n\n\tstatic defaultProps = {\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false\n\t};\n\n\tconstructor () {\n\t\tsuper();\n\n\t\tthis.paused = new Pause('Viewport');\n\t\tthis.state = {\n\t\t\tprevIndex: -1,\n\t\t\tdirection: 'forward'\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\treturn {\n\t\t\tprevIndex: props.index,\n\t\t\tdirection: state.prevIndex > props.index ? 'backward' : 'forward'\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\tthis.node = ReactDOM.findDOMNode(this);\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tfor (let i = prevProps.index; this.context && i > this.props.index; i--) {\n\t\t\tthis.context.delete(i);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tthis.paused.resume();\n\t}\n\n\taddTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.add(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tremoveTransitioningClass = () => {\n\t\tif (this.node) {\n\t\t\tthis.node.classList.remove(css.transitioning);\n\t\t}\n\n\t\treturn true;\n\t};\n\n\tpause = () => this.paused.pause();\n\n\tresume = () => this.paused.resume();\n\n\thandle = handle.bind(this);\n\n\thandleTransition = this.handle(\n\t\tforward('onTransition'),\n\t\tthis.removeTransitioningClass,\n\t\tthis.resume\n\t);\n\n\thandleWillTransition = this.handle(\n\t\tforward('onWillTransition'),\n\t\tthis.addTransitioningClass,\n\t\tthis.pause\n\t);\n\n\tmapChildren = (children, generateId) => React.Children.map(children, (child, index) => {\n\t\tif (child) {\n\t\t\tconst {spotlightId = generateId(index, 'panel-container', Spotlight.remove)} = child.props;\n\t\t\tconst props = {\n\t\t\t\tspotlightId,\n\t\t\t\t'data-index': index\n\t\t\t};\n\n\t\t\tif (child.props.autoFocus == null && this.state.direction === 'forward') {\n\t\t\t\tprops.autoFocus = 'default-element';\n\t\t\t}\n\n\t\t\treturn React.cloneElement(child, props);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t});\n\n\tgetArranger = () => {\n\t\tconst {arranger, orientation} = this.props;\n\n\t\tif (arranger) return arranger;\n\t\tif (orientation === 'vertical') return VerticalArranger;\n\t\telse return HorizontalArranger;\n\t};\n\n\tgetEnteringProp = (noAnimation) => noAnimation ? null : 'hideChildren';\n\n\trender () {\n\t\tconst {children, duration, generateId, index, noAnimation, ...rest} = this.props;\n\t\tconst arranger = this.getArranger();\n\t\tconst enteringProp = this.getEnteringProp(noAnimation);\n\t\tconst mappedChildren = this.mapChildren(children, generateId);\n\t\tconst className = classnames(css.viewport, rest.className);\n\n\t\tconst count = React.Children.count(mappedChildren);\n\t\tinvariant(\n\t\t\tindex === 0 && count === 0 || index < count,\n\t\t\t`Panels index, ${index}, is invalid for number of children, ${count}`\n\t\t);\n\n\t\tdelete rest.arranger;\n\t\tdelete rest.orientation;\n\n\t\treturn (\n\t\t\t<ViewManager\n\t\t\t\t{...rest}\n\t\t\t\tarranger={arranger}\n\t\t\t\tclassName={className}\n\t\t\t\tcomponent=\"main\"\n\t\t\t\tduration={duration}\n\t\t\t\tenteringDelay={100} // TODO: Can we remove this?\n\t\t\t\tenteringProp={enteringProp}\n\t\t\t\tindex={index}\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tonTransition={this.handleTransition}\n\t\t\t\tonWillTransition={this.handleWillTransition}\n\t\t\t>\n\t\t\t\t{mappedChildren}\n\t\t\t</ViewManager>\n\t\t);\n\t}\n};\n\nconst Viewport = SharedStateDecorator(ViewportBase);\n\nexport default Viewport;\nexport {\n\tViewport,\n\tViewportBase\n};\n","import kind from '@enact/core/kind';\nimport Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport CancelDecorator from './CancelDecorator';\nimport Controls from './Controls';\nimport IdProvider from './IdProvider';\nimport Viewport from './Viewport';\n\nimport componentCss from './Panels.module.less';\n\nconst getControlsId = (id) => id && `${id}-controls`;\n\n/**\n * Basic Panels component without breadcrumbs or default [arranger]{@link ui/ViewManager.Arranger}\n *\n * @class Panels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelsBase = kind({\n\tname: 'Panels',\n\n\tpropTypes: /** @lends agate/Panels.Panels.prototype */ {\n\t\t/**\n\t\t * Function that generates unique identifiers for Panel instances.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tgenerateId: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Set of functions that control how the panels are transitioned into and out of the\n\t\t * viewport.\n\t\t *\n\t\t * @see {@link ui/ViewManager.SlideRightArranger}\n\t\t * @type {ui/ViewManager.Arranger}\n\t\t * @public\n\t\t */\n\t\tarranger: shape,\n\n\t\t/**\n\t\t * An object whose keys will used as props for each child\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the application close button.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'Exit app'\n\t\t * @public\n\t\t */\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A slot to insert additional Panels-level buttons into the global-navigation area.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tcontrols: PropTypes.node,\n\n\t\t/**\n\t\t * The measurement bounds of the controls node\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsMeasurements: PropTypes.object,\n\n\t\t/**\n\t\t * The method which receives the reference node to the controls element, used to determine\n\t\t * the `controlsMeasurements`.\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tcontrolsRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t]),\n\n\t\t/**\n\t\t * The portion of the screen that this `Panels` instance should cover.\n\t\t *\n\t\t * @type {('full'|'partial')}\n\t\t * @default 'full'\n\t\t * @public\n\t\t */\n\t\tcover: PropTypes.oneOf(['full', 'partial']),\n\n\t\t/**\n\t\t * Duration of the animation (in ms) when transitioning between `Panel` components.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 500\n\t\t * @public\n\t\t */\n\t\tduration: PropTypes.number,\n\n\t\t/**\n\t\t * Unique identifier for the Panels instance.\n\t\t *\n\t\t * When defined, `Panels` will manage the presentation state of `Panel` instances in order\n\t\t * to restore it when returning to the `Panel`. See\n\t\t * [noSharedState]{@link agate/Panels.Panels.noSharedState} for more details on shared\n\t\t * state.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Index of the active panel\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tindex: PropTypes.number,\n\n\t\t/**\n\t\t * Disables panel transitions.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the close button will not be rendered on the top right corner.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoCloseButton: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents maintaining shared state for framework components within this `Panels` instance.\n\t\t *\n\t\t * When `false`, each `Panel` will track the state of some framework components in order to\n\t\t * restore that state when the Panel is recreated. For example, the scroll position of a\n\t\t * `agate/Scroller` within a `Panel` will be saved and restored when returning to that\n\t\t * `Panel`.\n\t\t *\n\t\t * This only applied when navigating \"back\" (to a lower index) to `Panel`. When navigating\n\t\t * \"forwards\" (to a higher index), the `Panel` and its contained components will use their\n\t\t * default state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoSharedState: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the app close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonApplicationClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called with cancel/back key events.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonBack: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the animation when transitioning between `Panel` components.\n\t\t *\n\t\t * This is only applied when no arranger has been set. When using `'horizontal'`, a `SlideRightArranger` is used.\n\t\t * When using `'vertical'`, a `SlideBottomArranger` is used.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical'])\n\t},\n\n\tdefaultProps: {\n\t\tcover: 'full',\n\t\tduration: 500,\n\t\tindex: 0,\n\t\tnoAnimation: false,\n\t\tnoCloseButton: false,\n\t\tnoSharedState: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panels',\n\t\tpublicClassNames: 'panels enact-fit'\n\t},\n\n\tcomputed: {\n\t\tchildProps: ({childProps, controls, id, noCloseButton}) => {\n\t\t\tif ((noCloseButton && !controls) || !id) {\n\t\t\t\treturn childProps;\n\t\t\t}\n\n\t\t\tconst updatedChildProps = Object.assign({}, childProps);\n\t\t\tconst controlsId = getControlsId(id);\n\t\t\tconst owns = updatedChildProps['aria-owns'];\n\n\t\t\tif (owns) {\n\t\t\t\tupdatedChildProps['aria-owns'] = `${owns} ${controlsId}`;\n\t\t\t} else {\n\t\t\t\tupdatedChildProps['aria-owns'] = controlsId;\n\t\t\t}\n\n\t\t\treturn updatedChildProps;\n\t\t},\n\n\t\tclassName: ({controls, cover, noCloseButton, styler}) => styler.append(cover, {\n\t\t\t'agate-panels-hasControls': (!noCloseButton || !!controls) // If there is a close button or controls were specified\n\t\t}),\n\n\t\tstyle: ({controlsMeasurements, style = {}}) => (controlsMeasurements ? {\n\t\t\t...style,\n\t\t\t'--agate-panels-controls-width': controlsMeasurements.width + 'px'\n\t\t} : style),\n\n\t\tviewportId: ({id}) => id && `${id}-viewport`\n\t},\n\n\trender: ({\n\t\tarranger,\n\t\tchildProps,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcontrols,\n\t\tcontrolsRef,\n\t\tduration,\n\t\tgenerateId,\n\t\tid,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tnoSharedState,\n\t\tonApplicationClose,\n\t\torientation,\n\t\tviewportId,\n\t\t...rest\n\t}) => {\n\t\tdelete rest.controlsMeasurements;\n\t\tdelete rest.cover;\n\t\tdelete rest.onBack;\n\n\t\tconst controlsId = getControlsId(id);\n\n\t\treturn (\n\t\t\t<div {...rest} id={id}>\n\t\t\t\t<Controls\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tid={controlsId}\n\t\t\t\t\tspotlightId={controlsId}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tref={controlsRef}\n\t\t\t\t>\n\t\t\t\t\t{controls}\n\t\t\t\t</Controls>\n\t\t\t\t<Viewport\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tchildProps={childProps}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tgenerateId={generateId}\n\t\t\t\t\tid={viewportId}\n\t\t\t\t\tindex={index}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoSharedState={noSharedState}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Viewport>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst PanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tCancelDecorator({cancel: 'onBack'}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tIdProvider,\n\tSkinnable\n);\n\nconst Panels = PanelsDecorator(PanelsBase);\n\nexport default Panels;\nexport {\n\tPanels,\n\tPanelsBase\n};\n","import Measurable from '@enact/ui/Measurable';\nimport Slottable from '@enact/ui/Slottable';\nimport compose from 'ramda/src/compose';\n\nimport Skinnable from '../Skinnable/Skinnable';\n\nimport {PanelsArranger} from './Arrangers';\nimport BreadcrumbDecorator from './BreadcrumbDecorator';\nimport {PanelsBase} from './Panels';\n\nconst BreadcrumbPanelsDecorator = compose(\n\tSlottable({slots: ['controls']}),\n\tMeasurable({refProp: 'controlsRef', measurementProp: 'controlsMeasurements'}),\n\tSkinnable,\n\tBreadcrumbDecorator({\n\t\tclassName: 'panels breadcrumbPanels enact-fit',\n\t\tmax: 1,\n\t\tpanelArranger: PanelsArranger\n\t})\n);\n\n/**\n * An instance of Panels in which the Panel uses the entire viewable screen with a single breadcrumb\n * for the previous panel when viewing any panel beyond the first.\n *\n * **Note** BreadcrumbPanels requires that the `data-index` property that all panels variations add to\n * its children be applied to the root DOM node of each child in order to manage layout correctly.\n * It is recommended that you spread any extra props on the root node but you may also handle this\n * property explicitly if necessary.\n *\n * @class BreadcrumbPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst BreadcrumbPanels = BreadcrumbPanelsDecorator(PanelsBase);\nBreadcrumbPanels.displayName = 'BreadcrumbPanels';\n\nexport default BreadcrumbPanels;\nexport {\n\tBreadcrumbPanels\n};\n","import {forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Slottable from '@enact/ui/Slottable';\nimport Spotlight from '@enact/spotlight';\nimport SpotlightContainerDecorator, {spotlightDefaultClass} from '@enact/spotlight/SpotlightContainerDecorator';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Panel.module.less';\n\nlet panelId = 0;\n\n/**\n * A Panel is the standard view container used inside a [Panels]{@link agate/Panels.Panels} view\n * manager instance. [Panels]{@link agate/Panels.Panels} will typically contain several\n * instances of these and transition between them.\n *\n * @class Panel\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst PanelBase = kind({\n\n\tname: 'Panel',\n\n\tpropTypes: /** @lends agate/Panels.Panel.prototype */ {\n\t\t/**\n\t\t * By default, the panel will be labeled by its [Header]{@link agate/Header.Header}.\n\t\t * When `aria-label` is set, it will be used instead to provide an accessibility label for\n\t\t * the panel.\n\t\t *\n\t\t * @memberof agate/Panels.Panel.prototype\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Sets the strategy used to automatically focus an element within the panel upon render.\n\t\t *\n\t\t * * \"none\" - Automatic focus is disabled\n\t\t * * \"last-focused\" - The element last focused in the panel with be restored\n\t\t * * \"default-element\" - The first spottable component within the body will be focused\n\t\t * * Custom Selector - A custom CSS selector may also be provided which will be used to find\n\t\t *   the target within the Panel\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'last-focused'\n\t\t * @public\n\t\t */\n\t\tautoFocus: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `panel` - The root class name\n\t\t * * `body` - Applied to the <section> element that displays the `children` of the `Panel`\n\t\t * * `header` - Applied to the header element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Header for the panel.\n\t\t *\n\t\t * This is usually passed by the [Slottable]{@link ui/Slottable.Slottable} API by using a\n\t\t * [Header]{@link agate/Header.Header} component as a child of the Panel.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\theader: PropTypes.node,\n\n\t\t/**\n\t\t * Hides the body components.\n\t\t *\n\t\t * When a Panel is used within [`Panels`]{@link agate/Panels.Panels},\n\t\t * [`BreadcrumbPanels`]{@link agate/Panels.BreadcrumbPanels}, or\n\t\t * [`TabbedPanels`]{@link agate/Panels.TabbedPanels},\n\t\t * this property will be set automatically to `true` on render and `false` after animating\n\t\t * into view.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\thideChildren: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tautoFocus: 'last-focused',\n\t\thideChildren: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'panel',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonScroll: handle(\n\t\t\tforward('onScroll'),\n\t\t\t({currentTarget}) => {\n\t\t\t\tcurrentTarget.scrollTop = 0;\n\t\t\t\tcurrentTarget.scrollLeft = 0;\n\t\t\t}\n\t\t),\n\t\tspotOnRender: (node, {autoFocus}) => {\n\t\t\tif (node && !Spotlight.getCurrent()) {\n\t\t\t\tconst {spotlightId} = node.dataset;\n\t\t\t\tconst config = {\n\t\t\t\t\tenterTo: 'last-focused'\n\t\t\t\t};\n\n\t\t\t\tif (autoFocus !== 'last-focused') {\n\t\t\t\t\tconfig.enterTo = 'default-element';\n\n\t\t\t\t\tif (autoFocus !== 'default-element') {\n\t\t\t\t\t\tconfig.defaultElement = autoFocus;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tSpotlight.set(spotlightId, config);\n\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tspotOnRender: ({autoFocus, hideChildren, spotOnRender}) => {\n\t\t\t// In order to spot the body components, we defer spotting until !hideChildren. If the\n\t\t\t// Panel opts out of hideChildren support by explicitly setting it to false, it'll spot\n\t\t\t// on first render.\n\t\t\tif (hideChildren || autoFocus === 'none') {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn spotOnRender;\n\t\t},\n\t\tchildren: ({children, hideChildren}) => hideChildren ? null : children,\n\t\tbodyClassName: ({header, hideChildren, styler}) => styler.join({\n\t\t\tbody: true,\n\t\t\tnoHeader: !header,\n\t\t\tvisible: !hideChildren\n\t\t}),\n\t\t// nulling headerId prevents the aria-labelledby relationship which is necessary to allow\n\t\t// aria-label to take precedence\n\t\t// (see https://www.w3.org/TR/wai-aria/states_and_properties#aria-labelledby)\n\t\theaderId: ({'aria-label': label}) => label ? null : `panel_${++panelId}_header`\n\t},\n\n\trender: ({bodyClassName, css, children, header, headerId, spotOnRender, ...rest}) => {\n\t\tdelete rest.autoFocus;\n\t\tdelete rest.hideChildren;\n\n\t\treturn (\n\t\t\t<article role=\"region\" {...rest} aria-labelledby={headerId} ref={spotOnRender}>\n\t\t\t\t{header ? <div className={css.header} id={headerId}>{header}</div> : null}\n\t\t\t\t<section className={bodyClassName}>{children}</section>\n\t\t\t</article>\n\t\t);\n\t}\n});\n\nconst Panel = SpotlightContainerDecorator(\n\t{\n\t\t// prefer any spottable within the panel body for first render\n\t\tcontinue5WayHold: true,\n\t\tdefaultElement: [`.${spotlightDefaultClass}`, `.${componentCss.body} *`],\n\t\tenterTo: 'last-focused',\n\t\tpreserveId: true\n\t},\n\tSlottable(\n\t\t{slots: ['header']},\n\t\tSkinnable(\n\t\t\tPanelBase\n\t\t)\n\t)\n);\n\nexport default Panel;\nexport {\n\tPanel,\n\tPanelBase\n};\n","/**\n * Provides an Agate-themed tab group.\n *\n * @module agate/TabGroup\n * @exports TabGroup\n * @exports TabGroupBase\n */\n\nimport {cap} from '@enact/core/util';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Group from '@enact/ui/Group';\nimport kind from '@enact/core/kind';\nimport ToggleButton from '../ToggleButton';\nimport LabeledIcon from '../LabeledIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\nimport Spottable from '@enact/spotlight/Spottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './TabGroup.module.less';\n\nconst TabBase = kind({\n\tname: 'Tab',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\ticon: PropTypes.string,\n\t\tlabelPosition: PropTypes.string,\n\t\tonClick: PropTypes.func,\n\t\torientation: PropTypes.string,\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'star'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tab'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected}),\n\t\ttabLabel: ({children, className, css, icon, labelPosition, orientation, selected}) => {\n\t\t\tlet inline;\n\t\t\tif (orientation === 'horizontal') {\n\t\t\t\tinline = true;\n\t\t\t}\n\n\t\t\tif (className.includes('copper') || className.includes('cobalt')) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={css.labeledIcon}>\n\t\t\t\t\t\t<ToggleButton\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<LabeledIcon\n\t\t\t\t\t\tclassName={css.labeledIcon}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tinline={inline}\n\t\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</LabeledIcon>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({onClick, orientation, style = {}, tabLabel, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\t\tdelete rest.selected;\n\n\t\tif (orientation === 'horizontal') {\n\t\t\tstyle.textAlign = 'center';\n\t\t}\n\t\treturn (\n\t\t\t<Cell {...rest} style={style} onClick={onClick}>\n\t\t\t\t{tabLabel}\n\t\t\t</Cell>\n\t\t);\n\t}\n});\nconst Tab = Skinnable(Spottable(TabBase));\n\n/**\n * TBD.\n *\n * @class TabGroup\n * @memberof agate/TabGroup\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst TabGroupBase = kind({\n\tname: 'TabGroup',\n\n\tpropTypes: /** @lends agate/TabGroup.TabGroup.prototype */ {\n\t\ttabPosition: PropTypes.string.isRequired,\n\t\ttabs: PropTypes.array.isRequired,\n\t\tafterTabs: PropTypes.node,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcss: PropTypes.object,\n\t\torientation: PropTypes.string,\n\t\tselectedIndex: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabBar'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, tabPosition, styler}) => styler.append(orientation, ['position' + cap(tabPosition)]),\n\t\tlabelPosition: ({orientation, tabPosition}) => {\n\t\t\t// TODO: this keeps the label always between the icon and the panels, is it necessary?\n\t\t\tif (orientation === 'vertical') {\n\t\t\t\tif (tabPosition === 'before') {\n\t\t\t\t\treturn 'after';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'before';\n\t\t\t\t}\n\t\t\t} else if (tabPosition === 'before') {\n\t\t\t\treturn 'below';\n\t\t\t} else {\n\t\t\t\treturn 'above';\n\t\t\t}\n\t\t},\n\t\tchildren: ({tabs}) => tabs.map((tab, i) => {\n\t\t\ttab.key = 'tab' + i;\n\t\t\ttab.children = tab.title || tab.children;\n\t\t\tdelete tab.title;\n\t\t\treturn tab;\n\t\t})\n\t},\n\n\trender: ({afterTabs, beforeTabs, className, css, labelPosition, orientation, selectedIndex, style, ...rest}) => {\n\t\tdelete rest.tabPosition;\n\t\tdelete rest.tabs;\n\n\t\treturn (\n\t\t\t<Layout orientation={orientation} className={className} align=\"stretch\" style={style}>\n\t\t\t\t{beforeTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{beforeTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t\t<Cell>\n\t\t\t\t\t<Layout\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\tclassName={css.tabGroup}\n\t\t\t\t\t\talign=\"stretch center\"\n\t\t\t\t\t\tchildComponent={Tab}\n\t\t\t\t\t\tcomponent={Group}\n\t\t\t\t\t\titemProps={{\n\t\t\t\t\t\t\tlabelPosition,\n\t\t\t\t\t\t\torientation,\n\t\t\t\t\t\t\tshrink: (orientation === 'vertical')\n\t\t\t\t\t\t}}\n\t\t\t\t\t\torientation={orientation}\n\t\t\t\t\t\tselect=\"radio\"\n\t\t\t\t\t\tselected={selectedIndex}\n\t\t\t\t\t\tselectedProp=\"selected\"\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t{afterTabs ? <Cell className={css.tabEnds} shrink>\n\t\t\t\t\t{afterTabs}\n\t\t\t\t</Cell> : null}\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\nTabGroupBase.defaultSlot = 'tabs';\n\n// Only documenting TabGroup since base is not useful for extension as-is\nconst TabGroup = Skinnable(Slottable({slots: ['tabs', 'afterTabs', 'beforeTabs']}, TabGroupBase));\n\nexport default TabGroup;\nexport {\n\tTabGroup,\n\tTabGroupBase\n};\n","import {adaptEvent, forward, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport {Changeable} from '@enact/ui/Changeable';\nimport {Cell, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport {shape} from '@enact/ui/ViewManager';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport TabGroup from '../TabGroup';\n\nimport Panels from './Panels';\n\nimport componentCss from './TabbedPanels.module.less';\n\n/**\n * Tabbed Panels component.\n *\n * @class TabbedPanels\n * @memberof agate/Panels\n * @ui\n * @public\n */\nconst TabbedPanelsBase = kind({\n\tname: 'TabbedPanels',\n\tpropTypes: /** @lends agate/Panels.TabbedPanels.prototype */ {\n\t\tafterTabs: PropTypes.node,\n\t\tarranger: shape,\n\t\tbeforeTabs: PropTypes.node,\n\t\tcloseButtonAriaLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tduration: PropTypes.number,\n\t\tindex: PropTypes.number,\n\t\tnoAnimation: PropTypes.bool,\n\t\tnoCloseButton: PropTypes.bool,\n\t\tonApplicationClose: PropTypes.func,\n\t\tonBack: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\ttabPosition: PropTypes.string,\n\t\ttabs: PropTypes.array\n\t},\n\tdefaultProps: {\n\t\tindex: 0,\n\t\tnoCloseButton: false,\n\t\ttabPosition: 'before'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'tabbedPanels enact-fit'\n\t},\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tadaptEvent(({selected}) => ({index: selected}), forward('onSelect'))\n\t\t)\n\t},\n\tcomputed: {\n\t\tchildren: ({children, tabs}) => {\n\t\t\t// if there are children use them\n\t\t\tif (children) {\n\t\t\t\treturn children;\n\t\t\t}\n\t\t\t// otherwise try to make children from the tabs' view and viewProps\n\t\t\tif (tabs) {\n\t\t\t\treturn tabs.map((tab, index) => {\n\t\t\t\t\tconst {view: View, viewProps} = tab;\n\t\t\t\t\treturn <View key={index} {...viewProps} />;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tclassName: ({css, orientation, styler, tabPosition}) => styler.append(tabPosition === 'after' ? css.reverse : '', orientation === 'vertical' ? css.column : ''),\n\t\ttabOrientation: ({orientation}) => orientation === 'vertical' ? 'horizontal' : 'vertical'\n\t},\n\trender: ({\n\t\tafterTabs,\n\t\tarranger,\n\t\tbeforeTabs,\n\t\tchildren,\n\t\tcloseButtonAriaLabel,\n\t\tcss,\n\t\tduration,\n\t\tindex,\n\t\tnoAnimation,\n\t\tnoCloseButton,\n\t\tonApplicationClose,\n\t\tonBack,\n\t\tonSelect,\n\t\ttabOrientation,\n\t\ttabPosition,\n\t\ttabs,\n\t\t...rest\n\t}) => {\n\t\treturn (\n\t\t\t<Layout {...rest}>\n\t\t\t\t<Cell shrink>\n\t\t\t\t\t<TabGroup\n\t\t\t\t\t\tafterTabs={afterTabs}\n\t\t\t\t\t\tbeforeTabs={beforeTabs}\n\t\t\t\t\t\tclassName={css.tabs}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\t\ttabs={tabs}\n\t\t\t\t\t\ttabPosition={tabPosition}\n\t\t\t\t\t\tselectedIndex={index}\n\t\t\t\t\t/>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell\n\t\t\t\t\tarranger={arranger}\n\t\t\t\t\tclassName={css.panels}\n\t\t\t\t\tcloseButtonAriaLabel={closeButtonAriaLabel}\n\t\t\t\t\tcomponent={Panels}\n\t\t\t\t\tduration={duration}\n\t\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\t\tnoCloseButton={noCloseButton}\n\t\t\t\t\tonApplicationClose={onApplicationClose}\n\t\t\t\t\tonBack={onBack}\n\t\t\t\t\torientation={tabOrientation}\n\t\t\t\t\tindex={index}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Cell>\n\t\t\t</Layout>\n\t\t);\n\t}\n});\n\n// Currently not documenting the base output since it's not exported from index.js\nconst TabbedPanels = Slottable(\n\t{slots: ['tabs', 'afterTabs', 'beforeTabs']},\n\tChangeable(\n\t\t{prop: 'index', change: 'onSelect'},\n\t\tTabbedPanelsBase\n\t)\n);\n\nexport default TabbedPanels;\nexport {\n\tTabbedPanels,\n\tTabbedPanelsBase\n};\n","// Full List (Hash) of Agate Supported Icons\n//\n\n// Agate Common Icons\nconst iconList = {\n\tcirclelarge       : 0x0025EF, // shape: LARGE CIRCLE\n\tsquarelarge       : 0x002B1B, // shape: BLACK SQUARE LARGE\n\ttriangleup        : 0x0025B2, // shape: BLACK UP-POINTING TRIANGLE\n\tplus              : 0x00002B, // plus\n\tminus             : 0x00002D, // hyphen\n\tarrowup           : 0x002191, // arrowup\n\tarrowdown         : 0x002193, // arrowdown\n\tarrowleftturn     : 0x0021B6, // arrowleftturn\n\tarrowrightturn    : 0x0021B7, // arrowrightturn\n\tarrowharpoonright : 0x0021C0, // arrowharpoonright\n\tellipsis          : 0x0022EF, // ellipsis\n\tcheck             : 0x002713, // checkmark\n\tarrowstraightup   : 0x0EFFEB, // arrowstraightup\n\tarrowuturn        : 0x0EFFEC, // arrowuturn\n\tarrowlargedown    : 0x0EFFED, // caret_down_large\n\tarrowlargeup      : 0x0EFFEE, // caret_up_large\n\tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n\tarrowlargeright   : 0x0EFFF0, // caret_right_large\n\tclosex            : 0x0EFFF5, // close\n\tsearch            : 0x0EFFF6, // search\n\tbluetooth2        : 0x0F000A, // bluetooth2\n\tbluetoothoff      : 0x0F000B, // bluetoothoff\n\tbright1           : 0x0F000C, // bright01\n\tbright2           : 0x0F000D, // bright02\n\tbluetooth         : 0x0F000E, // bluetooth\n\tusb               : 0x0F000F, // usb\n\tvolume0           : 0x0F0010, // volume00\n\tvolume1           : 0x0F0011, // volume01\n\tvolume2           : 0x0F0012, // volume02\n\twifi              : 0x0F0013, // wifi\n\thappyface         : 0x0F0014, // happyface\n\tnotification      : 0x0F0015, // notification\n\tpairing           : 0x0F0016, // pairing\n\tuser              : 0x0F0017, // user\n\tcalendar          : 0x0F0018, // calendar\n\tedit              : 0x0F0019, // edit\n\tgallery           : 0x0F001A, // gallery\n\tinternet          : 0x0F001B, // internet\n\tmap               : 0x0F001C, // map\n\tmusic             : 0x0F001D, // music\n\tvideo             : 0x0F001E, // video\n\tcircle            : 0x0F001F, // circle\n\tprevious          : 0x0F0020, // previous\n\tpairingdisplay    : 0x0F0021, // pairingdisplay\n\tbox               : 0x0F0022, // box\n\tplay              : 0x0F0023, // playicon\n\tprevioustrack     : 0x0F0024, // previoustrack\n\tpause             : 0x0F0025, // pause\n\tnexttrack         : 0x0F0026, // nexttrack\n\trepeat            : 0x0F0027, // repeat\n\tshuffle           : 0x0F0028, // shuffle\n\terror             : 0x0F002A, // error\n\tsetting           : 0x0F002B, // setting\n\tpopupstop         : 0x0F0035, // popupstop\n\taccept            : 0x0F0036, // accept\n\tdecline           : 0x0F0037, // decline\n\tstop              : 0x0F0038, // stop\n\tcancel            : 0x0F0039, // cancel\n\tcarspeaker        : 0x0F003A, // carspeaker\n\tspeaker           : 0x0F003B, // speaker\n\tearphone          : 0x0F003C, // earphone\n\tdetail            : 0x0F003D, // detail\n\tinstall           : 0x0F003E, // install\n\tsend              : 0x0F003F, // send\n\tnetbook           : 0x0F0040, // netbook\n\tpad               : 0x0F0041, // pad\n\tmobile            : 0x0F0042, // mobile\n\tupdate            : 0x0F0043, // update\n\tbackapp           : 0x0F0044, // backapp\n\tuninstall         : 0x0F0045, // uninstall\n\train              : 0x0F0060, // rain\n\traindrops         : 0x0F0061, // raindrops\n\traincloud         : 0x0F0062, // raincloud\n\tsnow              : 0x0F0063, // snow\n\tcloud             : 0x0F0064, // cloud\n\tice               : 0x0F0065, // ice\n\tfog               : 0x0F0066, // fog\n\tsun               : 0x0F0067, // sun\n\tprofileA1         : 0x0F008A, // profileA1\n\tprofileA2         : 0x0F008B, // profileA2\n\tprofileA3         : 0x0F008C, // profileA3\n\tprofileA4         : 0x0F008D, // profileA4\n\tprofileB1         : 0x0F008E, // profileB1\n\tprofileB2         : 0x0F008F, // profileB2\n\tprofileB3         : 0x0F0090, // profileB3\n\tprofileB4         : 0x0F0091, // profileB4\n\tprofileC1         : 0x0F0092, // profileC1\n\tprofileC2         : 0x0F0093, // profileC2\n\tprofileC3         : 0x0F0094, // profileC3\n\tprofileC4         : 0x0F0095, // profileC4\n\tac                : 0x0F00B2, // ac\n\tauto              : 0x0F00B3, // auto\n\tairmode           : 0x0F00B4, // air_mode\n\tairdown           : 0x0F00B5, // air_down\n\tairright          : 0x0F00B6, // air_right\n\tairup             : 0x0F00B7, // air_up\n\theatseatleft      : 0x0F00B8, // seat_heat_left\n\theatseatright     : 0x0F00B9, // seat_heat_right\n\taircirculation    : 0x0F00BA, // air_circulation\n\tfan               : 0x0F00BB, // fan\n\tdefrosterfront    : 0x0F00BC, // defroster_front\n\tdefrosterback     : 0x0F00BD, // defroster_back\n\tairflow           : 0x0F00BE, // airflow\n\thome              : 0x0F00BF, // home\n\ttemperature       : 0x0F00C0, // temperature_icon\n\tcompass           : 0x0F00C1, // compass\n\tphone             : 0x0F00C2, // phone\n\tfanoff            : 0x0F00C9, // fan_off\n\tdatetime          : 0x0F00CB, // date_time\n\tdisplay           : 0x0F00CC, // display\n\tseatbelt          : 0x0F00CD, // seat_belt\n\tapps              : 0x0F00CF, // apps\n\tclimate           : 0x0F00D0, // climate\n\tdashboard         : 0x0F00D1, // dashboard\n\texpand            : 0x0F00D3, // expand\n\tradio             : 0x0F00D4, // radio\n\trearscreen        : 0x0F00D5, // rear_screen\n\tweather           : 0x0F00D6, // weather\n\tfullscreen        : 0x0F00E1, // fullscreen\n\tmenu              : 0x0F00E2, // menu\n\thistory           : 0x0F00E3, // history\n\tbrowser           : 0x0F00E4, // browser\n\tlock              : 0x0F00E5, // lock\n\tsearch2           : 0x0F00E6, // search2\n\tbookmark          : 0x0F00E7, // bookmark\n\tstar              : 0x0F00E8, // star_full\n\tstarhollow        : 0x0F00E9, // star_empty\n\tstarhalf          : 0x0F00EA, // star_half\n\trefresh           : 0x0F00EB, // refresh\n\ttime              : 0x0F00E3, // time\n\tpausebold         : 0x0F002D, // pause2\n\tplaybold          : 0x0F002E, // play2\n\tcontrols          : 0x0F00EC, // controls\n\tdiagnostics       : 0x0F00ED, // diagnostics\n\tmapbox            : 0x0F00EE, // mapbox\n\tdisplaycontrol    : 0x0F00EF, // displaycontrol\n\tcontrolleft       : 0x0F00F0, // controlleft\n\tcontrolright      : 0x0F00F1, // controlright\n\tmainpage          : 0x0F00F2, // mainpage\n\tplaylist          : 0x0F00F3, // playlist\n\tresume            : 0x0F00F4, // resume\n\ttrailer           : 0x0F00F5, // trailer\n\tplusbold          : 0x0F00F6, // plus2\n\tminusbold         : 0x0F00F7  // minus2\n};\n\n// Silicon-specific Icons\n// The common icons are layered into the @font-face definition in the font definition file.\nconst iconListSilicon = {\n\t...iconList,\n\tarrowleft         : 0x002190, // arrowleft\n\tarrowturnleft     : 0x0021B0, // arrowturnleft\n\tarrowturnright    : 0x0021B1, // arrowturnright\n\tbackspace         : 0x002408, // backspace\n\ttriangle          : 0x0025B2, // triangle\n\ttrianglehollow    : 0x0025B3, // trianglehollow\n\trewind            : 0x0F0030, // rewind\n\trewindprevious    : 0x0F0031, // rewindprevious\n\tstopsquare        : 0x0F0032, // stopsquare\n\tfastforwardnext   : 0x0F0033, // fastforwardnext\n\tfastforward       : 0x0F0034, // fastforward\n\tcallaccept        : 0x0F00FE, // callaccept\n\tcalldecline       : 0x0F00FF, // calldecline\n\tcalldialing       : 0x0F0100, // calldialing\n\tcallmissed        : 0x0F0101, // callmissed\n\tcallreceiving     : 0x0F0102, // callreceiving\n\tdevicesetting     : 0x0F0103, // devicesetting\n\theadset           : 0x0F0104, // headset\n\tkeypad            : 0x0F0105, // keypad\n\tmic               : 0x0F0106, // mic\n\tmicmute           : 0x0F0107, // micmute\n\tcar1              : 0x0F0108, // car1\n\tcar2              : 0x0F0109, // car2\n\tcarupdate         : 0x0F010A, // carupdate\n\tcardiagnostics    : 0x0F010B, // cardiagnostics\n\tcarcharging       : 0x0F010C, // carcharging\n\tcarvalet          : 0x0F010D, // carvalet\n\tgaragemode        : 0x0F010E, // garagemode\n\tcone              : 0x0F010F, // cone\n\tchargingstation   : 0x0F0110, // chargingstation\n\tgps               : 0x0F0111, // gps\n\treplay            : 0x0F0112, // replay\n\tbackward10        : 0x0F0113, // backward10\n\tforward10         : 0x0F0114, // forward10\n\tremote            : 0x0F0116, // remote\n\tlight             : 0x0F0118, // light\n\tthumbs            : 0x0F0119, // thumbs\n\tgames             : 0x0F011A, // games\n\tunlock            : 0x0F011D, // unlock\n\ttrash             : 0x0F011E, // trash\n\tcoffee            : 0x0F011F, // coffee\n\tmessage           : 0x0F0122, // message\n\tpayment           : 0x0F0123, // payment\n\tmail              : 0x0F0124, // mail\n\tscreenshare       : 0x0F0125, // screenshare\n\tphoto             : 0x0F0126, // photo\n\tadd               : 0x0F012A, // add\n\tuserchange        : 0x0F012C, // userchange\n\tseatcool          : 0x0F012D, // seatcool\n\tfanhigh           : 0x0F012E, // fanhigh\n\tfanlow            : 0x0F012F, // fanlow\n\tzoomin            : 0x0F0130, // zoomin\n\tzoomout           : 0x0F0131, // zoomout\n\theadset2          : 0x0F0150, // headset2\n\theadsetbluetooth  : 0x0F0151, // headsetbluetooth\n\tdata              : 0x0F0152, // data\n\tdata5g            : 0x0F0153, // data5g\n\tdatalte           : 0x0F0154, // datalte\n\tcalling           : 0x0F0155, // calling\n\tcontact           : 0x0F0156, // contact\n\tbluetoothmusic    : 0x0F0157, // bluetoothmusic\n\tbluetoothsignalnone: 0x0F0158, // bluetoothsignalnone\n\tbluetoothsignal1  : 0x0F0159, // bluetoothsignal1\n\tbluetoothsignal2  : 0x0F015A, // bluetoothsignal2\n\tbluetoothsignal3  : 0x0F015B, // bluetoothsignal3\n\tbluetoothsignal4  : 0x0F015C, // bluetoothsignal4\n\tbattery0          : 0x0F015D, // battery0\n\tbattery1          : 0x0F015E, // battery1\n\tbattery2          : 0x0F015F, // battery2\n\tbattery3          : 0x0F0160, // battery3\n\tbattery4          : 0x0F0161, // battery4\n\tbatteryalert      : 0x0F0162, // batteryalert\n\tbatterycharging   : 0x0F0163  // batterycharging\n};\n\n// Deprecated icon list from `Moonstone-Agate.ttf` for reference\n\n// export default {\n// \tplus              : 0x00002B, // plus\n// \tminus             : 0x00002D, // hyphen\n// \tarrowhookleft     : 0x0021A9, // LeftArrowHook\n// \tarrowhookright    : 0x0021AA, // RightArrowHook\n// \tellipsis          : 0x0022EF, // ellipsis\n// \tcheck             : 0x002713, // checkmark\n// \tcircle            : 0x0EFFDB, // record\n// \tstop              : 0x0EFFDC, // stop\n// \tplay              : 0x0EFFDD, // play\n// \tpause             : 0x0EFFDE, // pause\n// \tforward           : 0x0EFFDF, // forward\n// \tbackward          : 0x0EFFE0, // rewind\n// \tskipforward       : 0x0EFFE1, // skip_forward\n// \tskipbackward      : 0x0EFFE2, // skip_backwards\n// \tpauseforward      : 0x0EFFE3, // indicator_forward\n// \tpausebackward     : 0x0EFFE4, // indicator_backward\n// \tpausejumpforward  : 0x0EFFE5, // indicator_skip_forward\n// \tpausejumpbackward : 0x0EFFE6, // indicator_skip_backward\n// \tjumpforward       : 0x0EFFE7, // indicator_end\n// \tjumpbackward      : 0x0EFFE8, // indicator_begin\n// \tdenselist         : 0x0EFFE9, // list_big\n// \tbulletlist        : 0x0EFFEA, // list_bullets\n// \tlist              : 0x0EFFEB, // list_simple\n// \tdrawer            : 0x0EFFEC, // list_actions\n// \tarrowlargedown    : 0x0EFFED, // caret_down_large\n// \tarrowlargeup      : 0x0EFFEE, // caret_up_large\n// \tarrowlargeleft    : 0x0EFFEF, // caret_left_large\n// \tarrowlargeright   : 0x0EFFF0, // caret_right_large\n// \tarrowsmallup      : 0x0EFFF1, // caret_up_small\n// \tarrowsmalldown    : 0x0EFFF2, // caret_down_small\n// \tarrowsmallleft    : 0x0EFFF3, // caret_left_small\n// \tarrowsmallright   : 0x0EFFF4, // caret_right_small\n// \tclosex            : 0x0EFFF5, // close_x\n// \tsearch            : 0x0EFFF6, // magnify\n// \trollforward       : 0x0EFFF7, // redo\n// \trollbackward      : 0x0EFFF8, // undo\n// \texitfullscreen    : 0x0EFFF9, // minimize\n// \tfullscreen        : 0x0EFFFA, // maximize\n// \tarrowshrinkleft   : 0x0EFFFB, // shrink_panel_left\n// \tarrowshrinkright  : 0x0EFFFC, // shrink_panel_right\n// \tarrowextend       : 0x0F0021, // arrow_left\n// \tarrowshrink       : 0x0F0022, // arrow_right\n// \tflag              : 0x0F0023, // flag\n// \tfunnel            : 0x0F0024, // filter\n// \ttrash             : 0x0F0025, // trash\n// \tstar              : 0x0F0028, // star_full\n// \thollowstar        : 0x0F0029, // star_empty\n// \thalfstar          : 0x0F002A, // star_half\n// \tgear              : 0x0F002B, // gear\n// \tplug              : 0x0F002C, // input\n// \tlock              : 0x0F002D, // lock\n// \tforward15         : 0x0F0041, // forward15\n// \tback15            : 0x0F0042, // back15\n// \tcontinousplay     : 0x0F0043, // continous_play\n// \tplaylist          : 0x0F0044, // playlist\n// \tresumeplay        : 0x0F0045, // resume_play\n// \timage             : 0x0F0046, // image\n// \taudio             : 0x0F0061, // audio\n// \tmusic             : 0x0F0062, // music\n// \tlanguages         : 0x0F0081, // languages\n// \tcc                : 0x0F0082, // cc\n// \tccon              : 0x0F0083, // cc_on\n// \tccoff             : 0x0F0084, // cc_off\n// \tsub               : 0x0F0085, // sub\n// \trecordings        : 0x0F00A1, // recordings\n// \tlivezoom          : 0x0F00A2, // live_zoom\n// \tliveplayback      : 0x0F00A3, // live_playback\n// \tliveplaybackoff   : 0x0F00A4, // live_playback_off\n// \trepeat            : 0x0F00A5, // repeat\n// \trepeatoff         : 0x0F00A6, // repeat_off\n// \tseries            : 0x0F00A7, // series\n// \trepeatdownload    : 0x0F00A8, // repeat_download\n// \tview360           : 0x0F00A9, // view_360\n// \tview360off        : 0x0F00AA, // view_360_off\n// \tinfo              : 0x0F00AB, // info\n// \tairdown           : 0x0F00B5, // air_down\n// \tairright          : 0x0F00B6, // air_right\n// \tairup             : 0x0F00B7, // air_up\n// \theatseatleft      : 0x0F00B8, // seat_heat_left\n// \theatseatright     : 0x0F00B9, // seat_heat_right\n// \taircirculation    : 0x0F00BA, // air_circulation\n// \tfan               : 0x0F00BB, // fan\n// \tdefrosterfront    : 0x0F00BC, // defroster_front\n// \tdefrosterback     : 0x0F00BD, // defroster_back\n// \tuser              : 0x0F00BE, // users\n// \thome              : 0x0F00BF, // home\n// \ttemperature       : 0x0F00C0, // temperature_icon\n// \tcompass           : 0x0F00C1, // compass\n// \tphone             : 0x0F00C2, // phone\n// \tfanoff            : 0x0F00C9, // fan_off\n// \tbluetooth         : 0x0F00CA, // bluetooth\n// \tdatetime          : 0x0F00CB, // date_time\n// \tdisplay           : 0x0F00CC, // display\n// \tseatbelt          : 0x0F00CD, // seat_belt\n// \twifi              : 0x0F00CE, // wifi\n// \tapps              : 0x0F00CF, // apps\n// \tclimate           : 0x0F00D0, // climate\n// \tdashboard         : 0x0F00D1, // dashboard\n// \tedit              : 0x0F00D2, // edit\n// \texpand            : 0x0F00D3, // expand\n// \tradio             : 0x0F00D4, // radio\n// \trearscreen        : 0x0F00D5, // rear_screen\n// \tweather           : 0x0F00D6  // weather\n// };\n\nexport default iconList;\nexport {\n\ticonList,\n\ticonListSilicon\n};\n","/**\n * Provides Agate styled icon components and behaviors.\n *\n * @example\n * <Icon>flag</Icon>\n *\n * @module agate/Icon\n * @exports Icon\n * @exports IconBase\n * @exports IconDecorator\n * @exports icons\n */\n\nimport kind from '@enact/core/kind';\nimport UiIcon from '@enact/ui/Icon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport iconList, {iconListSilicon} from './IconList.js';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Renders an Agate-styled icon without any behavior.\n *\n * @class IconBase\n * @memberof agate/Icon\n * @extends ui/Icon.Icon\n * @ui\n * @public\n */\nconst IconBase = kind({\n\tname: 'Icon',\n\n\tpropTypes: /** @lends agate/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root class name\n\t\t * * `dingbat` - Applied to dingbat icon\n\t\t * * `focus` - Applied when icon is focused\n\t\t * * `huge` - Applied to a `size='huge'` icon\n\t\t * * `small` - Applied to a `size='small'` icon\n\t\t * * `smallest` - Applied to a `size='smallest'` icon\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The current skin.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * This property only affects image-based icons, not icon glyphs.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large',\n\t\tspriteCount: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(\n\t\t\tsize\n\t\t),\n\t\tstyle: ({spriteCount, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-icon-sprite-count': spriteCount\n\t\t})\n\t},\n\n\trender: ({css, skin, ...rest}) => {\n\t\tdelete rest.spriteCount;\n\n\t\treturn UiIcon.inline({\n\t\t\t...rest,\n\t\t\tcss: css,\n\t\t\ticonList: (skin === 'silicon' ? iconListSilicon : iconList)\n\t\t});\n\t}\n});\n\n// Let's find a way to import this list directly, and bonus feature, render our icons in the docs\n// next to their names.\n/**\n * An object whose keys can be used as the child of an [Icon]{@link agate/Icon.Icon} component.\n *\n * List of Icons:\n * ```\n * circlelarge\n * squarelarge\n * triangleup\n * plus\n * minus\n * arrowup\n * arrowdown\n * arrowleftturn\n * arrowrightturn\n * arrowharpoonright\n * ellipsis\n * check\n * arrowstraightup\n * arrowuturn\n * arrowlargedown\n * arrowlargeup\n * arrowlargeleft\n * arrowlargeright\n * closex\n * search\n * bluetooth2\n * bluetoothoff\n * bright1\n * bright2\n * bluetooth\n * usb\n * volume0\n * volume1\n * volume2\n * wifi\n * happyface\n * notification\n * pairing\n * user\n * calendar\n * edit\n * gallery\n * internet\n * map\n * music\n * video\n * circle\n * previous\n * pairingdisplay\n * box\n * play\n * previoustrack\n * pause\n * nexttrack\n * repeat\n * shuffle\n * error\n * setting\n * popupstop\n * accept\n * decline\n * stop\n * cancel\n * carspeaker\n * speaker\n * earphone\n * detail\n * install\n * send\n * netbook\n * pad\n * mobile\n * update\n * backapp\n * uninstall\n * rain\n * raindrops\n * raincloud\n * snow\n * cloud\n * ice\n * fog\n * sun\n * profileA1\n * profileA2\n * profileA3\n * profileA4\n * profileB1\n * profileB2\n * profileB3\n * profileB4\n * profileC1\n * profileC2\n * profileC3\n * profileC4\n * ac\n * auto\n * airmode\n * airdown\n * airright\n * airup\n * heatseatleft\n * heatseatright\n * aircirculation\n * fan\n * defrosterfront\n * defrosterback\n * airflow\n * home\n * temperature\n * compass\n * phone\n * fanoff\n * datetime\n * display\n * seatbelt\n * apps\n * climate\n * dashboard\n * expand\n * radio\n * rearscreen\n * weather\n * fullscreen\n * menu\n * history\n * browser\n * lock\n * search2\n * bookmark\n * star\n * hollowstar\n * halfstar\n * refresh\n * time\n * pausebold\n * playbold\n * controls\n * diagnostics\n * mapbox\n * displaycontrol\n * controlleft\n * controlright\n * mainpage\n * playlist\n * resume\n * trailer\n * plusbold\n * minusbold\n * ```\n *\n * @name iconList\n * @memberof agate/Icon\n * @constant\n * @type {Object}\n * @public\n */\n\n/**\n * Agate-specific behaviors to apply to [IconBase]{@link agate/Icon.IconBase}.\n *\n * @hoc\n * @memberof agate/Icon\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst IconDecorator = compose(\n\tPure,\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate-styled icon.\n *\n * @class Icon\n * @memberof agate/Icon\n * @extends agate/Icon.IconBase\n * @mixes agate/Icon.IconDecorator\n * @ui\n * @public\n */\nconst Icon = IconDecorator(IconBase);\n\nexport default Icon;\nexport {\n\tIcon,\n\tIconBase,\n\tIconDecorator,\n\ticonList as icons,\n\ticonListSilicon as iconsSilicon\n};\n","/**\n * Provides the {@link core/hoc.hoc} method to create higher-order components (HOCs).\n *\n * @module core/hoc\n * @exports hoc\n */\n\nimport {isRenderable} from '../util';\nimport mergeDeepWithKey from 'ramda/src/mergeDeepWithKey';\n\nconst mergeFn = (key, defaultValue, userValue) => {\n\t// eslint-disable-next-line no-undefined\n\tif (userValue === undefined) {\n\t\treturn defaultValue;\n\t}\n\n\treturn userValue;\n};\n\n/**\n * Constructs a higher-order component (HOC) using an optional set of default configuration parameters and\n * a factory method that accepts instance configuration parameters and a component to wrap. The\n * returned function can accept:\n *\t* an instance config and a component constructor to wrap and return a renderable component, or\n *\t* an instance config only and return a decorator function expecting a component constructor\n *\t(like the next bullet), or\n *\t* a component constructor and return a renderable component\n *\n * Example:\n * ```\n *\tconst Countable = hoc({prop: 'data-count'}, (config, Wrapped) => {\n *\t\treturn class extends React.Component {\n *\t\t\tconstructor (props) {\n *\t\t\t\tsuper(props);\n *\t\t\t\tthis.state = {\n *\t\t\t\t\tcount: 0\n *\t\t\t\t};\n *\t\t\t},\n *\t\t\tinc = () => this.setState({count: this.state.count + 1}),\n *\t\t\trender () {\n *\t\t\t\tconst props = Object.assign({}, this.props, {\n *\t\t\t\t\t[config.prop]: this.state.count,\n *\t\t\t\t\tonClick: this.inc\n *\t\t\t\t});\n *\t\t\t\treturn <Wrapped {...props} />\n *\t\t\t}\n *\t\t}\n *\t});\n *\n *\tconst CountableAsDataNumber({prop: 'data-number'});\n *\tconst CountableDiv('div');\n *\tconst CountableDivAsDataNumber = CountableAsDataNumber('div');\n * ```\n *\n * @function\n * @param  {Object} defaultConfig Set of default configuration parameters\n * @param  {Function} hawk        Higher-order component\n *\n * @returns {Function}             HOC Decorator\n * @memberof core/hoc\n * @public\n */\nconst hoc = (defaultConfig, hawk) => {\n\n\t// normalize arguments to allow defaultConfig to be omitted\n\tlet factory = hawk;\n\tlet defaults = defaultConfig;\n\tif (!factory && typeof defaultConfig === 'function') {\n\t\tfactory = defaultConfig;\n\t\tdefaults = null;\n\t}\n\n\treturn (config, maybeWrapped) => {\n\t\tif (isRenderable(config)) {\n\t\t\treturn factory(defaults, config);\n\t\t} else {\n\t\t\tconst cfg = mergeDeepWithKey(mergeFn, defaults, config);\n\t\t\tif (isRenderable(maybeWrapped)) {\n\t\t\t\treturn factory(cfg, maybeWrapped);\n\t\t\t} else {\n\t\t\t\treturn (Wrapped) => factory(cfg, Wrapped);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default hoc;\nexport {hoc};\n","/**\n * A higher-order component interface for `ref` forwarding.\n *\n * @module ui/ForwardRef\n * @exports\tForwardRef\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\n/**\n * Default config for {@link ui/ForwardRef.ForwardRef}.\n *\n * @memberof ui/ForwardRef.ForwardRef\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The prop name to pass the ref callback\n\t *\n\t * @type {String}\n\t * @default 'forwardRef'\n\t * @memberof ui/ForwardRef.ForwardRef.defaultConfig\n\t */\n\tprop: 'forwardRef'\n};\n\n/**\n * A higher-order component that adapts [`React.forwardRef`](https://reactjs.org/docs/forwarding-refs.html)\n * to be chainable with other HOCs.\n *\n * The following examples are equivalent:\n *\n * ```\n * import ForwardRef from '@enact/ui/ForwardRef';\n * import Component from './Component';\n *\n * React.forwardRef((props, ref) => (\n * \t<Component {...props} setMyRef={ref} />\n * ));\n * ForwardRef({prop: 'setMyRef'}, Component);\n * ```\n *\n * @class ForwardRef\n * @memberof ui/ForwardRef\n * @hoc\n * @public\n */\nconst ForwardRef = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {prop} = config;\n\n\treturn React.forwardRef((props, ref) => {\n\t\tconst withRef = {\n\t\t\t...props,\n\t\t\t[prop]: ref\n\t\t};\n\n\t\treturn (\n\t\t\t<Wrapped {...withRef} />\n\t\t);\n\t});\n});\n\nexport default ForwardRef;\nexport {\n\tForwardRef\n};\n","var map = {\n\t\"./nestedObjectAssign\": 655,\n\t\"./nestedObjectAssign.js\": 655\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1274;","/**\n * Agate styled text block components and behaviors.\n *\n * @example\n * <BodyText centered>Hello Enact!</BodyText>\n *\n * @module agate/BodyText\n * @exports BodyText\n * @exports BodyTextBase\n * @exports BodyTextDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiBodyText from '@enact/ui/BodyText';\nimport Pure from '@enact/ui/internal/Pure';\n\nimport {MarqueeDecorator} from '@enact/ui/Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './BodyText.module.less';\n\n// Create a Marquee using BodyText as the base\nconst MarqueeBodyText = MarqueeDecorator(UiBodyText);\n\n/**\n * A simple text block component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [BodyText]{@link agate/BodyText.BodyText}.\n *\n * @class BodyTextBase\n * @memberof agate/BodyText\n * @extends ui/BodyText.BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'BodyText',\n\n\tpropTypes: /** @lends agate/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Toggles multi-line (`false`) vs single-line (`true`) behavior. `noWrap` mode\n\t\t * automatically enables {@link ui/Marquee} so long text isn't permanently occluded.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoWrap: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the text size to one of the preset sizes.\n\t\t * Available sizes: 'large' (default) and 'small'.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tnoWrap: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: 'bodyText'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noWrap, size, styler}) => styler.append(size, {noWrap})\n\t},\n\n\trender: ({centered, css, noWrap, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\tif (noWrap) {\n\t\t\treturn (\n\t\t\t\t<MarqueeBodyText\n\t\t\t\t\tcomponent=\"div\" // Assign a new component to BodyText, since DIV is not allowed inside a P tag (the default for BodyText)\n\t\t\t\t\tmarqueeOn=\"render\"\n\t\t\t\t\t{...rest}\n\t\t\t\t\talignment={centered ? 'center' : null} // Centering Marquee\n\t\t\t\t\tcentered={centered} // Centering UiBodyText\n\t\t\t\t\tcss={css}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<UiBodyText\n\t\t\t\t{...rest}\n\t\t\t\tcentered={centered}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [BodyText]{@link agate/BodyText.BodyTextBase}.\n *\n * @hoc\n * @memberof agate/BodyText\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst BodyTextDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A simple text block component, ready to use in Agate applications.\n *\n * `BodyText` may be used to display a block of text and is sized and spaced appropriately for a\n * Agate application.\n *\n * Usage:\n * ```\n * <BodyText>\n *  I have a Ham radio. There are many like it, but this one is mine.\n * </BodyText>\n * ```\n *\n * @class BodyText\n * @memberof agate/BodyText\n * @extends agate/BodyText.BodyTextBase\n * @mixes agate/BodyText.BodyTextDecorator\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Provides Agate-themed slider components and behaviors.\n *\n * @example\n * <Slider\n *   defaultValue={-30}\n *   max={100}\n *   min={-100}\n *   step={10}\n * />\n *\n * @module agate/Slider\n * @exports Slider\n * @exports SliderBase\n * @exports SliderDecorator\n */\n\n// TODO: Add 'activated' styling for slider (If 5-way is needed)\n\nimport {forKey, forProp, forward, forwardWithPrevent, handle} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport ProgressBar from '@enact/ui/ProgressBar';\nimport Pure from '@enact/ui/internal/Pure';\nimport Slottable from '@enact/ui/Slottable';\nimport UiSlider from '@enact/ui/Slider';\nimport PropTypes from 'prop-types';\nimport anyPass from 'ramda/src/anyPass';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport SliderBehaviorDecorator from './SliderBehaviorDecorator';\nimport {\n\thandleDecrement,\n\thandleIncrement\n} from './utils';\n\nimport componentCss from './Slider.module.less';\n\n/**\n * Range-selection input component.\n *\n * @class SliderBase\n * @extends ui/Slider.SliderBase\n * @memberof agate/Slider\n * @ui\n * @public\n */\nconst SliderBase = kind({\n\tname: 'Slider',\n\n\tpropTypes: /** @lends agate/Slider.SliderBase.prototype */ {\n\t\t/**\n\t\t * Activates the component when focused so that it may be manipulated via the directional\n\t\t * input keys.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactivateOnFocus: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `slider` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Indicates that the slider has gained focus.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down while the slider is focused.\n\t\t *\n\t\t * When a directional key is pressed down and the knob is active (either by first\n\t\t * pressing enter or when `activateOnFocus` is enabled), the Slider will increment or\n\t\t * decrement the current value and emit an `onChange` event. This default behavior can be\n\t\t * prevented by calling `preventDefault()` on the event passed to this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is released while the slider is focused.\n\t\t *\n\t\t * When the enter key is released and `activateOnFocus` is not enabled, the slider will be\n\t\t * activated to enable incrementing or decrementing the value via directional keys. This\n\t\t * default behavior can be prevented by calling `preventDefault()` on the event passed to\n\t\t * this callback.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonKeyUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tactivateOnFocus: false,\n\t\tactive: false,\n\t\tdisabled: false,\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tprogressAnchor: 0,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'slider',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonBlur: handle(\n\t\t\tforward('onBlur'),\n\t\t\tforProp('active', true),\n\t\t\tforward('onActivate')\n\t\t),\n\t\tonKeyDown: handle(\n\t\t\tforwardWithPrevent('onKeyDown'),\n\t\t\tanyPass([\n\t\t\t\thandleIncrement,\n\t\t\t\thandleDecrement\n\t\t\t])\n\t\t),\n\t\tonKeyUp: handle(\n\t\t\tforwardWithPrevent('onKeyUp'),\n\t\t\tforProp('activateOnFocus', false),\n\t\t\tforKey('enter'),\n\t\t\tforward('onActivate')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\tclassName: ({activateOnFocus, active, styler}) => styler.append({\n\t\t\tactivateOnFocus,\n\t\t\tactive\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.activateOnFocus;\n\t\tdelete rest.active;\n\t\tdelete rest.focused;\n\t\tdelete rest.knobStep;\n\t\tdelete rest.onActivate;\n\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<ProgressBar css={css} />\n\t\t\t\t}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific slider behaviors to apply to [SliderBase]{@link agate/Slider.SliderBase}.\n *\n * @hoc\n * @memberof agate/Slider\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @mixes ui/Slottable.Slottable\n * @mixes ui/Slider.SliderDecorator\n * @public\n */\nconst SliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tSliderBehaviorDecorator,\n\tSpottable,\n\tSlottable({slots: ['knob']}),\n\tSkinnable\n);\n\n/**\n * Slider input with Agate styling, [`Spottable`]{@link spotlight/Spottable.Spottable},\n * [Touchable]{@link ui/Touchable} and [`SliderDecorator`]{@link agate/Slider.SliderDecorator}\n * applied.\n *\n * By default, `Slider` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the\n * component, supply a value to `value` at creation time and update it in response to `onChange`\n * events.\n *\n * @class Slider\n * @memberof agate/Slider\n * @mixes agate/Slider.SliderDecorator\n * @ui\n * @public\n */\n\n/**\n * Overrides the `aria-valuetext` for the slider.\n *\n * By default, `aria-valuetext` is set to the current value. This should only be used when\n * the parent controls the value of the slider directly through the props.\n *\n * @name aria-valuetext\n * @memberof agate/Slider.Slider.prototype\n * @type {String|Number}\n * @public\n */\n\nconst Slider = SliderDecorator(SliderBase);\n\nexport default Slider;\nexport {\n\tSlider,\n\tSliderBase,\n\tSliderDecorator\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ForwardRef from '../ForwardRef';\nimport ri from '../resolution';\n\nimport css from './Layout.module.less';\n\nconst toFlexAlign = (align) => (\n\talign === 'end' && 'flex-end' ||\n\talign === 'start' && 'flex-start' ||\n\talign\n);\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}, without [CellDecorator](ui/Layout.CellDecorator) applied.\n *\n * @class CellBase\n * @memberof ui/Layout\n * @ui\n * @public\n */\nconst CellBase = kind({\n\tname: 'Cell',\n\n\tpropTypes: /** @lends ui/Layout.CellBase.prototype */ {\n\t\t/**\n\t\t * The alignment of `Cell`.\n\t\t *\n\t\t * Aligns this `Cell` vertically in the case of a horizontal layout or\n\t\t * horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-self` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Any valid [Node]{@link /docs/developer-guide/glossary/#node} that should be positioned in this `Cell`.\n\t\t *\n\t\t * @type {Any}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Cell`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Cell.Cell#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Sizes `Cell` to its contents.\n\t\t *\n\t\t * A `shrink`able cell will contract to its minimum size, according to the dimensions of its\n\t\t * contents. This is used when you want the size of this Cell's content to influence the\n\t\t * dimensions of this cell. `shrink` will not allow the contents of the Layout to be pushed\n\t\t * beyond its boundaries (overflowing). See the [size]{@link ui/Layout.Cell#size} property\n\t\t * for more details.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshrink: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the desired size of the Cell using any valid CSS measurement value.\n\t\t *\n\t\t * When used in conjunction with [shrink]{@link ui/Layout.Cell#shrink}, the size will be\n\t\t * the maximum size, shrinking as necessary, to fit the content.\n\t\t *\n\t\t * E.g.\n\t\t * * `size=\"400px\"` -> cell will be 400px, regardless of the dimensions of your content\n\t\t * * `size=\"400px\" shrink` -> cell will be 400px if your content is greater than 400px,\n\t\t *   and will match your contents size if it's smaller\n\t\t *\n\t\t * This accepts any valid CSS measurement value string. If a numeric value is used, it will\n\t\t * be treated as a pixel value and converted to a\n\t\t * [relative unit]{@link ui/resolution.unit} based on the rules of\n\t\t * [resolution independence]{@link ui/resolution}.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tshrink: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'cell'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({shrink, size, styler}) => styler.append({shrink, grow: (!shrink && !size)}),\n\t\tstyle: ({align, shrink, size, style}) => {\n\t\t\tif (typeof size === 'number') size = ri.unit(ri.scale(size), 'rem');\n\n\t\t\tlet cellSize = size;\n\t\t\tif (!size) {\n\t\t\t\tif (shrink) {\n\t\t\t\t\tcellSize = '100%';\n\t\t\t\t} else {\n\t\t\t\t\tcellSize = 'none';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignSelf: toFlexAlign(align),\n\t\t\t\tflexBasis: (shrink ? null : size),\n\t\t\t\t// Setting 100% below in the presence of `shrink`` and absense of `size` prevents overflow\n\t\t\t\t'--cell-size': cellSize\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.shrink;\n\t\tdelete rest.size;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Cell behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst CellDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A stateless component that provides a space for your content in a\n * [Layout]{@link ui/Layout.Layout}.\n *\n * @class Cell\n * @memberof ui/Layout\n * @extends ui/Layout.CellBase\n * @mixes ui/Layout.CellDecorator\n * @ui\n * @public\n */\nconst Cell = CellDecorator(CellBase);\n\nexport default Cell;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\ttoFlexAlign\n};\n","/**\n * A convenient tool for laying-out content using `Layout`, `Cell`, `Row`, and `Column`.\n *\n * Layout is a powerful and versatile tool used for arranging content on the screen. On a conceptual\n * level, it mixes the best parts of HTML tables wtih the best parts of HTML framesets, both of\n * which were largely abandoned for their drawbacks, ignoring their strengths. A `Layout` is simply\n * a container for `Cell`, the only \"legal\" child. Conversely, `Cell` may only be used in a\n * `Layout`. Cells in a Layout can either be positioned next to each other (horizontally) or\n * above/below each other (vertically) in what we refer to as a [Row]{@link ui/Layout.Row} or\n * [Column]{@link ui/Layout.Column}, respectively.\n *\n * The `Row` and `Column` layout presets describe the direction of layout for their children. This\n * can sometimes cause confusion. A `Row` of children naturally forms a _layout_ whose children can\n * have the _appearance_ of columns. To keep things clear, think about the layout rather than the\n * what the children themselves represent.\n *\n * `Layout` is an implementation of flex-box, but with built-in rails, properties, and features to\n * help avoid common problems with flex-box; things like content overflowing, sizing quirks, and\n * positioning problems regarding content of unknown or undefined dimension.\n *\n * The following scenarios are some common cases where `Layout` can truly help out. A quality of\n * `Cell` you'll see below is that when a `Cell` has no defined size, it automatically sizes to fill\n * any remaining space in the `Layout`. If there are multiple auto-sizing `Cell` components, they\n * share the space, subdividing it equally among themselves. It's great to leverage this and only\n * apply sizes to `Cell`s which must have defined sizes. `shrink` is one of the ways you can impose\n * size guidelines on a `Cell`. It automatically fits the size of the Cell to the size of its\n * content.\n *\n * A row of cells where the last one should always attach to the right side, regardless of the size\n * of the main \"content\" cell:\n * ```\n * \n * Main   R\n * \n * ```\n *\n * ```\n * <Row>\n * \t<Cell>Main Content</Cell>\n * \t<Cell shrink>Right Side</Cell>\n * </Row>\n * ```\n *\n * A \"two-column\" layout with equal sized cells using `Row`:\n * ```\n * \n * L   R   \n * \n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell>Left Column</Cell>\n * \t<Cell>Right Column</Cell>\n * </Row>\n * ```\n * *Remember:* The cells of the `Row` are the columns in our layout. It's likely that in a complex\n * layout `Column` would be used inside the left and right cells to arrange the components, as in\n * the example below.\n *\n * A full-height sidebar with a header and body to the right:\n * ```\n * \n * S HEADER\n *   \n *   Body  \n *         \n * \n * ```\n *\n * ```\n * <Row style={{height: '100%'}}>\n * \t<Cell size=\"20%\">Sidebar</Cell>\n * \t<Cell>\n * \t\t<Column>\n * \t\t\t<Cell size={90} component=\"header\">\n * \t\t\t\t<h1>HEADER</h1>\n * \t\t\t</Cell>\n * \t\t\t<Cell>\n * \t\t\t\t<p>Body area</p>\n * \t\t\t</Cell>\n * \t\t</Column>\n * \t</Cell>\n * </Row>\n * ```\n * *Note:* Here, we've set the height of `Row` so it fills the height of the screen, allowing the\n * Sidebar Cell and content Cell to stretch from the top to the bottom. We've also leveraged the\n * `component` prop on the header cell, which tells `Cell` to render itself as a \"header\" HTML tag\n * rather than its usual \"div\" tag.\n *\n * The example below produces a layout like the following:\n * ```\n * \n * oItem o\n * \n * ```\n *\n * You'll notice the use of some special classes in the example: `\"debug layout\"`. Adding these on\n * any element in your DOM hierarchy will enable borders in Layout and Cell to help visualize what\n * is happening in the layout. They automatically change color the deeper in the stack they go.\n *\n * @example\n * <Layout className=\"debug layout\">\n * \t<Cell shrink>\n * \t\t<button>First</button>\n * \t</Cell>\n * \t<Cell>\n * \t\t<div>A div with some long text in it</div>\n * \t</Cell>\n * \t<Cell shrink>\n * \t\t<button>Last</button>\n * \t</Cell>\n * </Layout>\n *\n * @module ui/Layout\n * @exports Cell\n * @exports CellBase\n * @exports CellDecorator\n * @exports Column\n * @exports Layout\n * @exports LayoutBase\n * @exports LayoutDecorator\n * @exports Row\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport {Cell, CellBase, CellDecorator, toFlexAlign} from './Cell';\n\nimport css from './Layout.module.less';\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class LayoutBase\n * @ui\n * @memberof ui/Layout\n * @public\n */\nconst LayoutBase = kind({\n\tname: 'LayoutBase',\n\n\tpropTypes: /** @lends ui/Layout.LayoutBase.prototype */ {\n\t\t/**\n\t\t * The alignment of children.\n\t\t *\n\t\t * Aligns the children [Cells]{@link ui/Layout.Cell} vertically in the case of a horizontal\n\t\t * layout or horizontally in the case of a vertical layout. `\"start\"`, `\"center\"` and\n\t\t * `\"end\"` are the most commonly used, although all values of `align-items` are supported.\n\t\t * `\"start\"` refers to the top in a horizontal layout, and left in a vertical LTR layout\n\t\t * `\"end\"` refers to the bottom in a horizontal layout, and right in a vertical LTR layout\n\t\t * `\"start\"` and `\"end\"` reverse places when in a vertical layout in a RTL locale.\n\t\t * This includes support for `align-parts` which is shorthand for combining `align-items`\n\t\t * and `justify-content` into a single property, separated by a space, in that order.\n\t\t * This allows you to specify both the horizontal and vertical alignment in one property,\n\t\t * separated by a space.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\talign: PropTypes.string,\n\n\t\t/**\n\t\t * Only [Cell]{@link ui/Layout.Cell} components are supported as children.\n\t\t *\n\t\t * @type {Cell|Cell[]}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.any,\n\n\t\t/**\n\t\t * The type of component to use to render as the `Layout`. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent:  EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Layout.Layout#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Allows this `Layout` to have following siblings drawn on the same line as itself\n\t\t * instead of carving out the entire horizontal space for itself.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The orientation of the `Layout`, i.e. how the children [Cells]{@link ui/Layout.Cell} are\n\t\t * positioned on the screen. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the Layout's `flex-wrap` values.\n\t\t *\n\t\t * Determines how a Layout handles its cells if there are more than fit in the available\n\t\t * space. This works like a normal `Boolean` prop, but also accepts strings for customization\n\t\t * beyond the basic on/off support. In addition to `true` and `false`, the following strings\n\t\t * are supported: 'wrap', 'nowrap', 'reverse'. 'reverse' performs standard line wrapping but\n\t\t * additional lines are placed above/before the preceding line instead of below/after.\n\t\t *\n\t\t * @type {Boolean|String}\n\t\t * @public\n\t\t */\n\t\twrap: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf(['reverse', 'nowrap', 'wrap'])])\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false,\n\t\torientation: 'horizontal',\n\t\twrap: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'layout'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, orientation, wrap, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\torientation,\n\t\t\t\t{\n\t\t\t\t\tinline,\n\t\t\t\t\tnowrap: wrap === false || wrap === 'nowrap',\n\t\t\t\t\twrap: wrap === true || wrap === 'wrap',\n\t\t\t\t\twrapReverse: wrap === 'wrapReverse'\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\tstyle: ({align, style}) => {\n\t\t\tif (!align) return style;\n\n\t\t\t// This is effectively a polyfill for the upcoming `place-items` prop which is shorthand\n\t\t\t// for align-items and justify-items together\n\t\t\tconst alignParts = align.split(' ');\n\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\talignItems: toFlexAlign(alignParts[0]),\n\t\t\t\tjustifyContent: toFlexAlign(alignParts[1])\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.align;\n\t\tdelete rest.inline;\n\t\tdelete rest.orientation;\n\t\tdelete rest.wrap;\n\n\t\treturn <Component ref={componentRef} {...rest} />;\n\t}\n});\n\n/**\n * Applies Layout behaviors.\n *\n * @hoc\n * @memberof ui/Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst LayoutDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A container for `Cell`s.\n *\n * A stateless component that acts as a containing area for [Cells]{@link ui/Layout.Cell} to be\n * positioned in a row or a column (horizontally or vertically, respectively. It supports an\n * [orientation]{@link ui/Layout.Layout#orientation} property for laying-out its contents\n * (`Cells`) in an organized, readable way.\n *\n * Example:\n * ```\n * import Input from '@enact/moonstone/Input';\n * import css from './LayoutExample.less';\n * ...\n * <fieldset>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>First Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"First\" className={css.input} />\n * \t</Layout>\n * \t<Layout align=\"center\">\n * \t\t<Cell component=\"label\" size=\"40%\" className={css.label} shrink>Last Name</Cell>\n * \t\t<Cell component={Input} placeholder=\"Last\" className={css.input} />\n * \t</Layout>\n * </fieldset>\n * ```\n *\n * @class Layout\n * @memberof ui/Layout\n * @extends ui/Layout.LayoutBase\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Layout = LayoutDecorator(LayoutBase);\n\n/**\n * Shorthand for `<Layout orientation=\"vertical\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} vertically.\n * ```\n * \n * \n * \n * \n * \n * ```\n *\n * @class Column\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Column = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\t\torientation: 'vertical'\n\t})\n));\nColumn.displayName = 'Column';\n\n/**\n * Shorthand for `<Layout orientation=\"horizontal\">`, which positions its\n * [Cells]{@link ui/Layout.Cell} horizontally.\n * ```\n * \n *     \n * \n * ```\n *\n * @class Row\n * @memberof ui/Layout\n * @extends ui/Layout.Layout\n * @mixes ui/ForwardRef.ForwardRef\n * @ui\n * @public\n */\nconst Row = LayoutDecorator((props) => (\n\tLayoutBase.inline({\n\t\t...props,\n\n\t\torientation: 'horizontal'\n\t})\n));\nRow.displayName = 'Row';\n\nexport default Layout;\nexport {\n\tCell,\n\tCellBase,\n\tCellDecorator,\n\tColumn,\n\tLayout,\n\tLayoutBase,\n\tLayoutDecorator,\n\tRow\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dateTimePicker\":\"DateTimePicker_dateTimePicker__21ogl\",\"pickerCol\":\"DateTimePicker_pickerCol__2oZ6Y\",\"pickerCell\":\"DateTimePicker_pickerCell__2Sidq\",\"pickerLeft\":\"DateTimePicker_pickerLeft__38mp0\",\"pickerRight\":\"DateTimePicker_pickerRight__Fnimn\",\"label\":\"DateTimePicker_label__IdI-c\"};","/**\n * Provides Agate-themed item components and behaviors. Useful for content in lists.\n *\n * @example\n * <Item>Hello Enact!</Item>\n *\n * @module agate/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport Slottable from '@enact/ui/Slottable';\nimport {ItemBase as UiItemBase, ItemDecorator as UiItemDecorator} from '@enact/ui/Item';\nimport {Cell, Layout, Row} from '@enact/ui/Layout';\nimport {Marquee, MarqueeController} from '@enact/ui/Marquee';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport componentCss from './Item.module.less';\nimport Skinnable from '../Skinnable';\n\nconst ItemContent = kind({\n\tname: 'ItemContent',\n\tpropTypes: {\n\t\tcontent: PropTypes.any,\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.any,\n\t\tlabelPosition: PropTypes.any\n\t},\n\tdefaultProps: {\n\t\tlabelPosition: 'below'\n\t},\n\tstyles: {\n\t\tclassName: 'itemContent',\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['label']\n\t},\n\tcomputed: {\n\t\tclassName: ({label, labelPosition, styler}) => styler.append({\n\t\t\thasLabel: Boolean(label),\n\t\t\tlabelAbove: labelPosition === 'above',\n\t\t\tlabelAfter: labelPosition === 'after',\n\t\t\tlabelBefore: labelPosition === 'before',\n\t\t\tlabelBelow: labelPosition === 'below'\n\t\t}),\n\t\torientation: ({labelPosition}) => {\n\t\t\treturn (labelPosition === 'above' || labelPosition === 'below') ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\trender: ({orientation, content, css, label, ...rest}) => {\n\t\tdelete rest.labelPosition;\n\n\t\t// Due to flex-box sizing (used in Layout/Cell), in a vertical orientation with no height\n\t\t// specified, all of the cells should be set to `shrink` so their height is summed to define\n\t\t// the height of the entire Layout. Without this, a cell will collapse, causing unwanted overlap.\n\t\tconst contentElement = (\n\t\t\t<Cell component={Marquee} className={css.content} shrink={(label != null && orientation === 'vertical')}>\n\t\t\t\t{content}\n\t\t\t</Cell>\n\t\t);\n\n\t\tif (label == null) return contentElement;\n\n\t\treturn (\n\t\t\t<Cell {...rest}>\n\t\t\t\t<Layout orientation={orientation}>\n\t\t\t\t\t{contentElement}\n\t\t\t\t\t<Cell component={Marquee} className={css.label} shrink>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Cell>\n\t\t);\n\t}\n});\n\n/**\n * Renders an Agate-styled Item without any behavior.\n *\n * @class ItemBase\n * @memberof agate/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'Item',\n\tpropTypes: /** @lends agate/Item.ItemBase.prototype */ {\n\t\tcomponentRef: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n\t\tcss: PropTypes.object,\n\t\tlabel: PropTypes.node,\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below']),\n\t\tselected: PropTypes.bool,\n\t\tslotAfter: PropTypes.node,\n\t\tslotBefore: PropTypes.node\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['item', 'label', 'slotAfter', 'slotBefore']\n\t},\n\tcomputed: {\n\t\tclassName: ({selected, styler}) => styler.append({selected})\n\t},\n\trender: ({children, componentRef, css, label, labelPosition, slotAfter, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<UiItemBase {...rest} css={css} align=\"center\" component={Row} ref={componentRef}>\n\t\t\t\t{slotBefore ? (\n\t\t\t\t\t<Cell className={css.slotBefore} shrink>\n\t\t\t\t\t\t{slotBefore}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t\t<ItemContent\n\t\t\t\t\tcontent={children}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tlabelPosition={labelPosition}\n\t\t\t\t/>\n\t\t\t\t{slotAfter ? (\n\t\t\t\t\t<Cell className={css.slotAfter} shrink>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</Cell>\n\t\t\t\t) : null}\n\t\t\t</UiItemBase>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [Item]{@link agate/Item.ItemBase}.\n *\n * @hoc\n * @memberof agate/Item\n * @mixes ui/Item.ItemDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tSlottable({slots: ['label', 'slotAfter', 'slotBefore']}),\n\tPure,\n\tUiItemDecorator,\n\tSpottable,\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable\n);\n\n/**\n * An item component with Agate behaviors applied.\n *\n * @class Item\n * @memberof agate/Item\n * @extends agate/Item.ItemBase\n * @mixes agate/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","/**\n * A internal Picker component.\n *\n * @module agate/internal/Picker\n * @exports Picker\n * @exports PickerDecorator\n */\n\nimport {adaptEvent, forEventProp, forward, handle, oneOf} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Touchable from '@enact/ui/Touchable';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../$L';\nimport Skinnable from '../../Skinnable';\n\nimport css from './Picker.module.less';\n\nconst PickerRoot = Touchable('div');\nconst PickerButtonItem = Spottable('div');\n\nconst handleChange = direction => handle(\n\tadaptEvent(\n\t\t(ev, {min, max, step, value}) => ({\n\t\t\tvalue: clamp(min, max, value + (direction * step))\n\t\t}),\n\t\tforward('onChange')\n\t)\n);\n\nconst increment = handleChange(1);\nconst decrement = handleChange(-1);\n\n/**\n * The base component for {@link agate/internal/Picker.Picker}.\n *\n * @class Picker\n * @memberof agate/internal/Picker\n * @ui\n * @private\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/internal/Picker.Picker.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/internal/Picker.Picker.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the picker directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/internal/Picker.Picker.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Children from which to pick\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the decrement button.\n\t\t *\n\t\t * @default 'previous item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The picker id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the increment button.\n\t\t *\n\t\t * @default 'next item'\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * A function to run when the control should increment or decrement.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Orientation of the picker.\n\t\t *\n\t\t * Controls whether the buttons are arranged horizontally or vertically around the value.\n\t\t *\n\t\t * * Values: `'horizontal'`, `'vertical'`\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Allow the picker to only increment or decrement by a given value.\n\t\t *\n\t\t * A step of `2` would cause a picker to increment from 10 to 12 to 14, etc. It must evenly\n\t\t * divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tstep: 1,\n\t\tvalue: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'picker',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\thandleDecrement: decrement,\n\t\thandleFlick: handle(\n\t\t\tforEventProp('direction', 'vertical'),\n\t\t\t// ignore \"slow\" flicks by filtering out velocity below a threshold\n\t\t\toneOf(\n\t\t\t\t[({velocityY}) => velocityY < 0, increment],\n\t\t\t\t[({velocityY}) => velocityY > 0, decrement]\n\t\t\t)\n\t\t),\n\t\thandleIncrement: increment\n\t},\n\n\tcomputed: {\n\t\tactiveClassName: ({styler}) => styler.join('active', 'item'),\n\t\tclassName: ({orientation, styler}) => styler.append(orientation),\n\t\tcurrentValueText: ({'aria-valuetext': valueText, children: values, value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : values[value]}`;\n\t\t\t} else {\n\t\t\t\treturn `${typeof valueText !== 'undefined' ? valueText : value}`;\n\t\t\t}\n\t\t},\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, children: values, decrementAriaLabel = $L('previous item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${decrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t\t}\n\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, children: values, incrementAriaLabel = $L('next item'), value}) => {\n\t\t\tif (Array.isArray(values)) {\n\t\t\t\treturn `${valueText != null ? valueText : values[value]} ${incrementAriaLabel}`;\n\t\t\t} else {\n\t\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t\t}\n\t\t},\n\t\tvalueId: ({id}) => `${id}_value`\n\t},\n\n\trender: (props) => {\n\t\tconst {\n\t\t\tactiveClassName,\n\t\t\tchildren: values,\n\t\t\tcurrentValueText,\n\t\t\tdecrementAriaLabel,\n\t\t\thandleDecrement,\n\t\t\thandleFlick,\n\t\t\thandleIncrement,\n\t\t\tincrementAriaLabel,\n\t\t\tmin,\n\t\t\tmax,\n\t\t\tstep,\n\t\t\tvalue,\n\t\t\tvalueId,\n\t\t\t...rest\n\t\t} = props;\n\t\tconst currentValue = Array.isArray(values) ? values[value] : value;\n\t\tconst decrementValue = clamp(min, max, Array.isArray(values) ? values[value - step] : value - step);\n\t\tconst incrementValue = clamp(min, max, Array.isArray(values) ? values[value + step] : value + step);\n\t\tconst isFirst = value <= min;\n\t\tconst isLast = value >= max;\n\n\t\treturn (\n\t\t\t<PickerRoot {...rest} onFlick={handleFlick}>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isFirst}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.itemDecrement}\n\t\t\t\t\tdisabled={isFirst}\n\t\t\t\t\tonClick={handleDecrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isFirst ? '' : decrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t\t<div\n\t\t\t\t\taria-valuetext={currentValueText}\n\t\t\t\t\tclassName={activeClassName}\n\t\t\t\t\tid={valueId}\n\t\t\t\t\trole=\"spinbutton\"\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{currentValue}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<PickerButtonItem\n\t\t\t\t\taria-controls={valueId}\n\t\t\t\t\taria-disabled={isLast}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.itemIncrement}\n\t\t\t\t\tdisabled={isLast}\n\t\t\t\t\tonClick={handleIncrement}\n\t\t\t\t>\n\t\t\t\t\t<div className={css.label}>\n\t\t\t\t\t\t{isLast ? '' : incrementValue}\n\t\t\t\t\t</div>\n\t\t\t\t</PickerButtonItem>\n\t\t\t</PickerRoot>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PickerBase]{@link agate/Picker.PickerBase}.\n *\n * @hoc\n * @memberof agate/internal/Picker\n * @mixes ui/Changeable.Changeable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PickerDecorator = compose(\n\tIdProvider({generateProp: null}),\n\tChangeable,\n\tSkinnable\n);\n\nconst Picker = PickerDecorator(PickerBase);\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase,\n\tPickerDecorator\n};\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useRef} from 'react';\n\nconst useEventKey = () => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import Spotlight from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport ri from '@enact/ui/resolution';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useCallback, useEffect} from 'react';\n\nimport {useEventKey} from './useEvent';\nimport {useSpotlightConfig} from './useSpotlight';\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollContainerRef, scrollContentHandle, scrollContentRef} = instances;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, instances);\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey();\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(() => {\n\t\t\t\t\tsetContainerDisabled(false);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\tuseEffect(() => {\n\t\treturn () => setContainerDisabled(false);\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst {onUpdate} = props;\n\n\t\tif (onUpdate) {\n\t\t\tonUpdate();\n\t\t}\n\t});\n\n\t// Functions\n\n\t/**\n\t * Returns the first spotlight container between `node` and the scroller\n\t *\n\t * @param {Node} node A DOM node\n\t *\n\t * @returns {Node|Null} Spotlight container for `node`\n\t * @private\n\t */\n\tfunction getSpotlightContainerForNode (node) {\n\t\tdo {\n\t\t\tif (node.dataset.spotlightId && node.dataset.spotlightContainer && !node.dataset.expandableContainer) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t} while ((node = node.parentNode) && node !== scrollContentRef.current);\n\t}\n\n\t/**\n\t * Calculates the \"focus bounds\" of a node. If the node is within a spotlight container, that\n\t * container is scrolled into view rather than just the element.\n\t *\n\t * @param {Node} node Focused node\n\t *\n\t * @returns {Object} Bounds as returned by `getBoundingClientRect`\n\t * @private\n\t */\n\tfunction getFocusedItemBounds (node) {\n\t\tnode = getSpotlightContainerForNode(node) || node;\n\t\treturn node.getBoundingClientRect();\n\t}\n\n\t/**\n\t * Calculates the new `scrollTop`.\n\t *\n\t * @param {Node} item Focused item node\n\t *\n\t * @returns {Number} Calculated `scrollTop`\n\t * @private\n\t */\n\tfunction calculateScrollTop (item) {\n\t\tconst threshold = ri.scale(48);\n\t\tconst roundToStart = (sb, st) => {\n\t\t\t// round to start\n\t\t\tif (st < threshold) return 0;\n\n\t\t\treturn st;\n\t\t};\n\t\tconst roundToEnd = (sb, st, sh) => {\n\t\t\t// round to end\n\t\t\tif (sh - (st + sb.height) < threshold) return sh - sb.height;\n\n\t\t\treturn st;\n\t\t};\n\t\t// adding threshold into these determinations ensures that items that are within that are\n\t\t// near the bounds of the scroller cause the edge to be scrolled into view even when the\n\t\t// item itself is in view (e.g. due to margins)\n\t\tconst isItemBeforeView = (ib, sb, d) => ib.top + d - threshold < sb.top;\n\t\tconst isItemAfterView = (ib, sb, d) => ib.top + d + ib.height + threshold > sb.top + sb.height;\n\t\tconst canItemFit = (ib, sb) => ib.height <= sb.height;\n\t\tconst calcItemAtStart = (ib, sb, st, d) => ib.top + st + d - sb.top;\n\t\tconst calcItemAtEnd = (ib, sb, st, d) => ib.top + ib.height + st + d - (sb.top + sb.height);\n\t\tconst calcItemInView = (ib, sb, st, sh, d) => {\n\t\t\tif (isItemBeforeView(ib, sb, d)) {\n\t\t\t\treturn roundToStart(sb, calcItemAtStart(ib, sb, st, d));\n\t\t\t} else if (isItemAfterView(ib, sb, d)) {\n\t\t\t\treturn roundToEnd(sb, calcItemAtEnd(ib, sb, st, d), sh);\n\t\t\t}\n\t\t\treturn st;\n\t\t};\n\n\t\tconst container = getSpotlightContainerForNode(item);\n\t\tconst scrollerBounds = scrollContentRef.current.getBoundingClientRect();\n\t\tlet {scrollHeight, scrollTop} = scrollContentRef.current;\n\t\tlet scrollTopDelta = 0;\n\n\t\tconst adjustScrollTop = (v) => {\n\t\t\tscrollTopDelta = scrollTop - v;\n\t\t\tscrollTop = v;\n\t\t};\n\n\t\tif (container) {\n\t\t\tconst containerBounds = container.getBoundingClientRect();\n\n\t\t\t// if the entire container fits in the scroller, scroll it into view\n\t\t\tif (canItemFit(containerBounds, scrollerBounds)) {\n\t\t\t\treturn calcItemInView(containerBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t\t\t}\n\n\t\t\t// if the container doesn't fit, adjust the scroll top ...\n\t\t\tif (containerBounds.top > scrollerBounds.top) {\n\t\t\t\t// ... to the top of the container if the top is below the top of the scroller\n\t\t\t\tadjustScrollTop(calcItemAtStart(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t}\n\t\t\t// removing support for \"snap to bottom\" for 2.2.8\n\t\t\t// } else if (containerBounds.top + containerBounds.height < scrollerBounds.top + scrollerBounds.height) {\n\t\t\t// \t// ... to the bottom of the container if the bottom is above the bottom of the\n\t\t\t// \t// scroller\n\t\t\t// \tadjustScrollTop(calcItemAtEnd(containerBounds, scrollerBounds, scrollTop, scrollTopDelta));\n\t\t\t// }\n\n\t\t\t// N.B. if the container covers the scrollable area (its top is above the top of the\n\t\t\t// scroller and its bottom is below the bottom of the scroller), we need not adjust the\n\t\t\t// scroller to ensure the container is wholly in view.\n\t\t}\n\n\t\tconst itemBounds = item.getBoundingClientRect();\n\n\t\treturn calcItemInView(itemBounds, scrollerBounds, scrollTop, scrollHeight, scrollTopDelta);\n\t}\n\n\t/**\n\t * Calculates the new `scrollLeft`.\n\t *\n\t * @param {Node} focusedItem node\n\t * @param {Number} scrollPosition last target position, passed when scroll animation is ongoing\n\t *\n\t * @returns {Number} Calculated `scrollLeft`\n\t * @private\n\t */\n\tfunction calculateScrollLeft (item, scrollPosition) {\n\t\tconst scrollContentNode = scrollContentRef.current;\n\t\tconst {\n\t\t\tleft: itemLeft,\n\t\t\twidth: itemWidth\n\t\t} = getFocusedItemBounds(item);\n\n\t\tconst\n\t\t\t{rtl} = props,\n\t\t\t{clientWidth} = scrollContentHandle.current.scrollBounds,\n\t\t\trtlDirection = rtl ? -1 : 1,\n\t\t\t{left: containerLeft} = scrollContentNode.getBoundingClientRect(),\n\t\t\tscrollLastPosition = scrollPosition ? scrollPosition : scrollContentHandle.current.scrollPos.left,\n\t\t\tcurrentScrollLeft = rtl ? (scrollContentHandle.current.scrollBounds.maxLeft - scrollLastPosition) : scrollLastPosition,\n\t\t\t// calculation based on client position\n\t\t\tnewItemLeft = scrollContentNode.scrollLeft + (itemLeft - containerLeft);\n\t\tlet nextScrollLeft = scrollContentHandle.current.scrollPos.left;\n\n\t\tif (newItemLeft + itemWidth > (clientWidth + currentScrollLeft) && itemWidth < clientWidth) {\n\t\t\t// If focus is moved to an element outside of view area (to the right), scroller will move\n\t\t\t// to the right just enough to show the current `focusedItem`. This does not apply to\n\t\t\t// `focusedItem` that has a width that is bigger than `scrollBounds.clientWidth`.\n\t\t\tnextScrollLeft += rtlDirection * ((newItemLeft + itemWidth) - (clientWidth + currentScrollLeft));\n\t\t} else if (newItemLeft < currentScrollLeft) {\n\t\t\t// If focus is outside of the view area to the left, move scroller to the left accordingly.\n\t\t\tnextScrollLeft += rtlDirection * (newItemLeft - currentScrollLeft);\n\t\t}\n\n\t\treturn nextScrollLeft;\n\t}\n\n\t/**\n\t * Calculates the new top and left position for scroller based on focusedItem.\n\t *\n\t * @param {Node} item node\n\t * @param {Number} scrollPosition last target position, passed scroll animation is ongoing\n\t *\n\t * @returns {Object} with keys {top, left} containing calculated top and left positions for scroll.\n\t * @private\n\t */\n\tfunction calculatePositionOnFocus ({item, scrollPosition}) {\n\t\tconst containerNode = scrollContentRef.current;\n\t\tconst horizontal = scrollContentHandle.current.isHorizontal();\n\t\tconst vertical = scrollContentHandle.current.isVertical();\n\n\t\tif (!vertical && !horizontal || !item || !utilDOM.containsDangerously(containerNode, item)) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst containerRect = getRect(containerNode);\n\t\tconst itemRect = getRect(item);\n\n\t\tif (horizontal && !(itemRect.left >= containerRect.left && itemRect.right <= containerRect.right)) {\n\t\t\tscrollContentHandle.current.scrollPos.left = calculateScrollLeft(item, scrollPosition);\n\t\t}\n\n\t\tif (vertical && !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom)) {\n\t\t\tscrollContentHandle.current.scrollPos.top = calculateScrollTop(item);\n\t\t}\n\n\t\treturn scrollContentHandle.current.scrollPos;\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\tSpotlight.focus(node);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t};\n};\n\nconst useThemeScroller = (props) => {\n\tconst {scrollContainerRef, scrollContentHandle, ...rest} = props;\n\tconst {scrollContentRef} = rest;\n\n\tdelete rest.onUpdate;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.setThemeScrollContentHandle;\n\tdelete rest.spotlightId;\n\n\t// Hooks\n\n\tconst {calculatePositionOnFocus, focusOnNode, setContainerDisabled} = useSpottable(props, {scrollContainerRef, scrollContentHandle, scrollContentRef});\n\n\tprops.setThemeScrollContentHandle({\n\t\tcalculatePositionOnFocus,\n\t\tfocusOnNode,\n\t\tsetContainerDisabled\n\t});\n\n\t// Render\n\n\treturn rest;\n};\n\nexport default useThemeScroller;\nexport {\n\tuseThemeScroller\n};\n","import Spotlight from '@enact/spotlight';\nimport {useEffect} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\tconst {scrollContentHandle} = instances;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction handleLeaveContainer ({direction, target}) {\n\t\t\t// ensure we only scroll to boundary from the contents and not a scroll button which\n\t\t\t// lie outside of scrollContentRef but within the spotlight container\n\t\t\tif (props.scrollContainerContainsDangerously(target)) {\n\t\t\t\tconst\n\t\t\t\t\t{scrollBounds: {maxLeft, maxTop}, scrollPos: {left, top}} = scrollContentHandle.current,\n\t\t\t\t\tisVerticalDirection = (direction === 'up' || direction === 'down'),\n\t\t\t\t\tpos = isVerticalDirection ? top : left,\n\t\t\t\t\tmax = isVerticalDirection ? maxTop : maxLeft;\n\n\t\t\t\t// If max is equal to 0, it means scroller can not scroll to the direction.\n\t\t\t\tif (pos >= 0 && pos <= max && max !== 0) {\n\t\t\t\t\tprops.scrollAndFocusScrollbarButton(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props.spotlightId, {\n\t\t\t\tonLeaveContainer: handleLeaveContainer,\n\t\t\t\tonLeaveContainerFail: handleLeaveContainer\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, scrollContentHandle]);\n};\n\nexport {\n\tuseSpotlightConfig\n};\n","/**\n * Provides Agate-themed scroller components and behaviors.\n *\n * @example\n * <Scroller>\n * \t<div style={{height: '300px'}}>\n * \t\t<p>San Francisco</p>\n * \t\t<p>Seoul</p>\n * \t\t<p>Bangalore</p>\n * \t\t<p>New York</p>\n * \t\t<p>London</p>\n * \t</div>\n * </Scroller>\n *\n * @module agate/Scroller\n * @exports Scroller\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport useThemeScroller from './useThemeScroller';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled Scroller, useScroll applied.\n *\n * Usage:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof agate/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nlet Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\tconst themeScrollContentProps = useThemeScroller(scrollContentProps);\n\n\t// Render\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiScrollerBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'Scroller';\n\nScroller.propTypes = /** @lends agate/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the scroller could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `Scroller` is within a [Panel]{@link agate/Panels.Panel}, the\n\t * `Scroller` will store its scroll position and restore that position when returning to the\n\t * `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'none'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {('native'|'translate')}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.oneOf(['native', 'translate']),\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tScroller\n\t\t)\n\t)\n);\n\nScroller.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpreventBubblingOnKeyDown: 'none',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller\n};\n","/**\n * Agate styled ImageItem.\n *\n * @module agate/ImageItem\n * @exports ImageItem\n * @exports ImageItemBase\n * @exports ImageItemDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {ImageItem as UiImageItem} from '@enact/ui/ImageItem';\nimport {MarqueeDecorator, MarqueeController} from '@enact/ui/Marquee';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ImageBase from '../Image';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ImageItem.module.less';\n\nconst MarqueeImageItem = MarqueeDecorator(UiImageItem);\n\n/**\n * An Agate styled ImageItem.\n *\n * @class ImageItemBase\n * @memberof agate/ImageItem\n * @extends ui/ImageItem.ImageItem\n * @ui\n * @public\n */\nconst ImageItemBase = kind({\n\tname: 'ImageItem',\n\n\tpropTypes: /** @lends agate/ImageItem.ImageItemBase.prototype */ {\n\t\t/**\n\t\t * Sets the position for caption.\n\t\t * Available positions: 'below' (default) and 'overlay'.\n\t\t *\n\t\t * @type {('below'|'overlay')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tcaptionPosition: PropTypes.oneOf(['below', 'overlay']),\n\n\t\t/**\n\t\t * The caption displayed with the image.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `imageItem` - The root component class\n\t\t * * `caption` - The caption component class\n\t\t * * `horizontal` - Applied when `orientation=\"horizontal\"`\n\t\t * * `image` - The image component class\n\t\t * * `vertical` - Applied when `orientation=\"vertical\"`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The layout orientation of the component.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on a specific\n\t\t * screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'vertical',\n\t\tcaptionPosition: 'below'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'imageItem'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({captionPosition, styler}) => styler.append({\n\t\t\tcaptionOverlay: captionPosition === 'overlay'\n\t\t})\n\t},\n\n\trender: ({captionPosition, children, css,  src, ...rest}) => {\n\t\tconst [Component, marqueeProps] = (children && (captionPosition === 'below')) ? [MarqueeImageItem, {\n\t\t\talignment: 'center'\n\t\t}] : [UiImageItem, null];\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{...rest}\n\t\t\t\t{...marqueeProps}\n\t\t\t\tcss={css}\n\t\t\t\timageComponent={ImageBase}\n\t\t\t\tsrc={src}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [ImageItemBase]{@link agate/ImageItem.ImageItemBase}\n *\n * @hoc\n * @memberof agate/ImageItem\n * @mixes ui/Marquee.MarqueeController\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @public\n */\nconst ImageItemDecorator = compose(\n\tMarqueeController({marqueeOnFocus: true}),\n\tSkinnable,\n\tSpottable\n);\n\n/**\n * An Agate styled ImageItem with built-in support for marqueed text, and Spotlight focus.\n *\n * @class ImageItem\n * @memberof agate/ImageItem\n * @extends agate/ImageItem.ImageItemBase\n * @mixes agate/ImageItem.ImageItemDecorator\n * @public\n */\nconst ImageItem = ImageItemDecorator(ImageItemBase);\n\nexport default ImageItem;\nexport {\n\tImageItem,\n\tImageItemBase,\n\tImageItemDecorator\n};\n","/**\n * Agate styled button components and behaviors.\n *\n * @example\n * <Button>Hello Enact!</Button>\n *\n * @module agate/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport Spottable from '@enact/spotlight/Spottable';\nimport {ButtonBase as UiButtonBase, ButtonDecorator as UiButtonDecorator} from '@enact/ui/Button';\nimport ComponentOverride from '@enact/ui/ComponentOverride';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport {IconBase} from '../Icon';\n// import {MarqueeDecorator} from '../Marquee';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Button.module.less';\n\n// Make a basic Icon in case we need it later. This cuts `Pure` out of icon for a small gain.\nconst Icon = Skinnable(IconBase);\n\n/**\n * A button component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Button]{@link agate/Button.Button}.\n *\n * @class ButtonBase\n * @memberof agate/Button\n * @extends ui/Button.ButtonBase\n * @omit minWidth\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'Button',\n\n\tpropTypes: /** @lends agate/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Animate when this component renders.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tanimateOnRender: PropTypes.bool,\n\n\t\t/**\n\t\t * The delay before the button is animated, in milliseconds.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tanimationDelay: PropTypes.number,\n\n\t\t/**\n\t\t * The background opacity of this button.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'opaque'`,\n\t\t * * `'lightOpaque'`, and\n\t\t * * `'transparent'`.\n\t\t *\n\t\t * @type {('opaque'|'lightOpaque'|'transparent')}\n\t\t * @public\n\t\t */\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\n\t\t/**\n\t\t * A small message overlaid onto the button.\n\t\t *\n\t\t * @type {Number|String}\n\t\t * @public\n\t\t */\n\t\tbadge: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n\t\t/**\n\t\t * A custom color for the badge element.\n\t\t *\n\t\t * This prop is only visible if the `badge` prop is also set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tbadgeColor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root class name\n\t\t * * `bg` - The background node of the button\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a button specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The component used to render the icon.\n\t\t *\n\t\t * @type {Component}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * The position of this button in relation to other buttons.\n\t\t *\n\t\t * To create a collection of buttons that appear as one entity: buttons that butt up against\n\t\t * each other. Specify where the button is in the arrangement: 'left', 'center', or 'right'.\n\t\t * This prop is not recommended for use on a lonely button with no other buttons nearby.\n\t\t * Not specifying this optional prop leaves the button behaving normally.\n\t\t *\n\t\t * @type {('left'|'center'|'right')}\n\t\t * @public\n\t\t */\n\t\tjoinedPosition: PropTypes.oneOf(['left', 'center', 'right']),\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image of the `icon` being supplied. This prop has no effect without `icon`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @default 'standard'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard'])\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundOpacity: 'opaque',\n\t\ticonComponent: Icon,\n\t\tsize: 'large',\n\t\ttype: 'standard'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({animateOnRender, backgroundOpacity, highlighted, joinedPosition, selected, type, size, styler}) => styler.append(\n\t\t\tbackgroundOpacity,\n\t\t\tsize,\n\t\t\ttype,\n\t\t\t(joinedPosition && 'joined' + cap(joinedPosition)),  // If `joinedPosition` is present, prepend the word \"joined\" to the variable, so the classes are clearer.\n\t\t\t{\n\t\t\t\tanimateOnRender,\n\t\t\t\thighlighted,\n\t\t\t\tselected\n\t\t\t}\n\t\t),\n\t\tdecoration: ({badge, css, decoration}) => {\n\t\t\tif (!badge) return decoration;\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<div className={css.badge}>{badge}</div>\n\t\t\t\t\t{decoration}\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t},\n\t\ticonComponent: ({iconComponent, spriteCount}) => {\n\t\t\t// Don't burden basic HTML elements with the spriteCount prop (or other Icon-specific props)\n\t\t\tif (typeof iconComponent === 'string') return iconComponent;\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride\n\t\t\t\t\tcomponent={iconComponent}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\tstyle: ({animationDelay, badgeColor, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-button-animation-delay': animationDelay,\n\t\t\t'--agate-button-badge-bg-color': badgeColor\n\t\t}),\n\t\tminWidth: ({children}) => (React.Children.count(children) === 0 || children === '')\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.animateOnRender;\n\t\tdelete rest.animationDelay;\n\t\tdelete rest.backgroundOpacity;\n\t\tdelete rest.badge;\n\t\tdelete rest.badgeColor;\n\t\tdelete rest.highlighted;\n\t\tdelete rest.joinedPosition;\n\t\tdelete rest.selected;\n\t\tdelete rest.spriteCount;\n\t\tdelete rest.type;\n\n\t\treturn UiButtonBase.inline({\n\t\t\t'data-webos-voice-intent': 'Select',\n\t\t\t...rest,\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [Button]{@link agate/Button.ButtonBase} components.\n *\n * @hoc\n * @memberof agate/Button\n * @mixes ui/Button.ButtonDecorator\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ButtonDecorator = compose(\n\tPure,\n\t// MarqueeDecorator({className: componentCss.marquee}),\n\tUiButtonDecorator,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * A button component, ready to use in Agate applications.\n *\n * Usage:\n * ```\n * <Button\n * \tbackgroundOpacity=\"translucent\"\n * \tcolor=\"blue\"\n * >\n * \tPress me!\n * </Button>\n * ```\n *\n * @class Button\n * @memberof agate/Button\n * @extends agate/Button.ButtonBase\n * @mixes agate/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","/**\n * Agate styled Dropdown.\n *\n * @example\n * <Dropdown\n * \t\tdefaultSelected={2}\n *\t\ttitle=\"Dropdown\"\n * >\n *   {['Option 1', 'Option 2', 'Option 3', 'Option 4']}\n * </Dropdown>\n *\n * @module agate/Dropdown\n * @exports Dropdown\n * @exports DropdownBase\n * @exports DropdownDecorator\n */\n\nimport {handle, forward, forProp} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport {extractAriaProps} from '@enact/core/util';\nimport Spotlight from '@enact/spotlight';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport RadioItem from '../RadioItem';\nimport Scroller from '../Scroller';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Dropdown.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\nconst isSelectedValid = ({children, selected}) => Array.isArray(children) && children[selected] != null;\n\nconst handleTransitionHide = (containerId) => () => {\n\tconst containerSelector = `[data-spotlight-id='${containerId}']`;\n\tconst current = Spotlight.getCurrent();\n\n\tif (!Spotlight.isPaused() && current && document.querySelector(`${containerSelector} .${componentCss.dropdownList}`).contains(current)) {\n\t\tSpotlight.focus(`${containerSelector} .${componentCss.dropdown}`);\n\t}\n};\n\n/**\n * A stateless Dropdown component.\n *\n * @class DropdownBase\n * @memberof agate/Dropdown\n * @ui\n * @public\n */\nconst DropdownBase = kind({\n\tname: 'Dropdown',\n\n\tpropTypes: /** @lends agate/Dropdown.DropdownBase.prototype */ {\n\t\t/**\n\t\t * The selections for Dropdown\n\t\t *\n\t\t * @type {String[]|Array.<{key: (Number|String), children: (String|Component)}>}\n\t\t */\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The direction where the dropdown list appears.\n\t\t *\n\t\t * @type {('left'|'right'|'down'|'up')}\n\t\t * @default 'down'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['down', 'left', 'right', 'up']),\n\n\t\t/**\n\t\t * Disables Dropdown and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the Dropdown is closing.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the Dropdown is opening.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Called when an item is selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSelect: PropTypes.func,\n\n\t\t/**\n\t\t * Displays the items.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Index of the selected item.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.number,\n\n\t\t/**\n\t\t * The current skin for this component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tskin: PropTypes.string,\n\n\t\t/**\n\t\t * The primary title text of Dropdown.\n\t\t *\n\t\t * The title will be replaced with the selected item, if set.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'down',\n\t\topen: false\n\t},\n\n\thandlers: {\n\t\tonSelect: handle(\n\t\t\tforward('onSelect'),\n\t\t\tforward('onClose')\n\t\t),\n\t\tonOpen: handle(\n\t\t\tforProp('open', false),\n\t\t\tforward('onOpen')\n\t\t)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'dropdown',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tbuttonClassName: ({open, styler}) => styler.append({open}),\n\t\tchildren: ({children, selected}) => {\n\t\t\tif (!Array.isArray(children)) return [];\n\n\t\t\treturn children.map((child, i) => {\n\t\t\t\tconst aria = {\n\t\t\t\t\trole: 'checkbox',\n\t\t\t\t\t'aria-checked': selected === i\n\t\t\t\t};\n\n\t\t\t\tif (typeof child === 'string') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...aria,\n\t\t\t\t\t\tchildren: child,\n\t\t\t\t\t\tkey: `item_${child}`\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...aria,\n\t\t\t\t\t...child\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\ttransitionContainerClassname: ({css, open, direction, styler}) => styler.join(css.transitionContainer, {openTransitionContainer: open, upTransitionContainer: direction === 'up'}),\n\t\tdropdownButtonClassname: ({css, direction, styler}) => styler.join(css.dropdownButton, {upDropdownButton: direction === 'up'}),\n\t\tdropdownListClassname: ({children, css, styler}) => styler.join(css.dropdownList, {dropdownListWithScroller: children.length > 4}),\n\t\ttitle: ({children, selected, title}) => {\n\t\t\tif (isSelectedValid({children, selected})) {\n\t\t\t\tconst child = children[selected];\n\t\t\t\treturn typeof child === 'object' ? child.children : child;\n\t\t\t}\n\n\t\t\treturn title;\n\t\t},\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t},\n\t\thasChildren: ({children}) => {\n\t\t\treturn children.length > 0;\n\t\t}\n\t},\n\n\trender: ({buttonClassName, children, css, dropdownButtonClassname, dropdownListClassname, disabled, hasChildren, onClose, onOpen, onSelect, open, selected, skin, transitionContainerClassname, transitionDirection, title, ...rest}) => {\n\t\tconst ariaProps = extractAriaProps(rest);\n\t\tconst opened = !disabled && open;\n\t\tconst [DropDownButton, wrapperProps, skinVariants, groupProps] = (skin === 'silicon') ? [\n\t\t\tButton,\n\t\t\t{className: dropdownButtonClassname},\n\t\t\t{'night': false},\n\t\t\t{childComponent: RadioItem, itemProps: {size: 'small', className: css.dropDownListItem, css}, selectedProp: 'selected'}\n\t\t] : [\n\t\t\tItem,\n\t\t\t{},\n\t\t\t{},\n\t\t\t{childComponent: Item, itemProps: {size: 'small'}}\n\t\t];\n\t\tconst onTransitionHide = handleTransitionHide(rest['data-spotlight-id']);\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div {...wrapperProps}>\n\t\t\t\t\t<DropDownButton\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\tdisabled={hasChildren ? disabled : true}\n\t\t\t\t\t\tonClick={opened ? onClose : onOpen}\n\t\t\t\t\t\t{...ariaProps}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Icon slot=\"slotAfter\" className={css.icon} size=\"small\">{open ? 'arrowlargeup' : 'arrowlargedown'}</Icon>\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</DropDownButton>\n\t\t\t\t\t<Transition\n\t\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\t\tvisible={opened}\n\t\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t\t\tonHide={onTransitionHide}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContainerDiv className={dropdownListClassname} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t\t<Scroller skinVariants={skinVariants} className={css.scroller}>\n\t\t\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t\t\t\t\t{...groupProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{children || []}\n\t\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t\t</ContainerDiv>\n\t\t\t\t\t</Transition>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DropdownBase]{@link agate/Dropdown.DropdownBase}.\n *\n * @hoc\n * @memberof agate/Dropdown\n * @mixes agate/Dropdown.DropdownDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DropdownDecorator = compose(\n\tSpotlightContainerDecorator({\n\t\tenterTo: 'default-element',\n\t\tpreserveId: true\n\t}),\n\tIdProvider({\n\t\tgenerateProp: null,\n\t\tprefix: 'd_'\n\t}),\n\tToggleable({toggle: null, prop: 'open', activate: 'onOpen', deactivate: 'onClose'}),\n\tChangeable({change: 'onSelect', prop: 'selected'}),\n\tSkinnable({prop: 'skin'})\n);\n\n/**\n * An Agate Dropdown component.\n *\n * By default, `Dropdown` maintains the state of its `selected` property. Supply the\n * `defaultSelected` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `selected` at creation time and update it in response to\n * `onSelect` events.\n *\n * @class Dropdown\n * @memberof agate/Dropdown\n * @extends agate/Dropdown.DropdownBase\n * @mixes agate/Dropdown.DropdownDecorator\n * @ui\n * @public\n */\nconst Dropdown = DropdownDecorator(DropdownBase);\n\nexport default Dropdown;\nexport {\n\tDropdown,\n\tDropdownBase,\n\tDropdownDecorator\n};\n","var map = {\n\t\"./BodyText.js\": 2016,\n\t\"./Button.js\": 2021,\n\t\"./Checkbox.js\": 2063,\n\t\"./CheckboxItem.js\": 2065,\n\t\"./ColorPicker.js\": 2067,\n\t\"./ContextualPopupDecorator.js\": 2085,\n\t\"./DateTimePicker.js\": 2086,\n\t\"./Drawer.js\": 2089,\n\t\"./Dropdown.js\": 2092,\n\t\"./Header.js\": 2093,\n\t\"./Heading.js\": 2094,\n\t\"./Icon.js\": 2095,\n\t\"./ImageItem.js\": 2096,\n\t\"./ImageItemKitchenSink.js\": 2099,\n\t\"./IncrementSlider.js\": 2100,\n\t\"./Input.js\": 2107,\n\t\"./Item.js\": 2108,\n\t\"./ItemKitchenSink.js\": 2115,\n\t\"./LabeledIcon.js\": 2116,\n\t\"./LabeledIconButton.js\": 2117,\n\t\"./Picker.js\": 2118,\n\t\"./Popup.js\": 2119,\n\t\"./PopupMenu.js\": 2120,\n\t\"./ProgressBar.js\": 2121,\n\t\"./RadioItem.js\": 2122,\n\t\"./RangePicker.js\": 2123,\n\t\"./Scroller.js\": 2124,\n\t\"./Slider.js\": 2125,\n\t\"./SliderButton.js\": 2126,\n\t\"./Spinner.js\": 2127,\n\t\"./SwitchItem.js\": 2129,\n\t\"./TabbedPanels.js\": 2130,\n\t\"./Thumbnail.js\": 2131,\n\t\"./ThumbnailItem.js\": 2132,\n\t\"./ToggleButton.js\": 2133,\n\t\"./TooltipDecorator.js\": 2134,\n\t\"./VirtualList.js\": 2135,\n\t\"./icons.js\": 78\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2015;","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiBodyText from '@enact/ui/BodyText';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText, {BodyTextBase} from '@enact/agate/BodyText';\n\nBodyText.displayName = 'BodyText';\nconst Config = mergeComponentMetadata('BodyText', UiBodyText, BodyText, BodyTextBase);\n\nconst prop = {\n\tsizes: ['', 'large', 'small']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'BodyText',\n\t\t() => (\n\t\t\t<BodyText\n\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\tnoWrap={boolean('noWrap', Config)}\n\t\t\t\tsize={select('size', prop.sizes, Config)}\n\t\t\t>\n\t\t\t\t{text('children', BodyText, 'This is a body text')}\n\t\t\t</BodyText>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Body Text'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\n\nimport icons from './icons';\n\nButton.displayName = 'Button';\nconst Config = mergeComponentMetadata('Button', UiButton, ButtonBase, Button);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\tcasing: ['preserve', 'sentence', 'word', 'upper'],\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\ticons: ['', ...icons],\n\tjoinedPosition: ['', 'left', 'center', 'right']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Button',\n\t\t() => (\n\t\t\t<Button\n\t\t\t\tanimateOnRender={boolean('animateOnRender', Config)}\n\t\t\t\tanimationDelay={number('animationDelay', Config)}\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tbadge={text('badge', Config)}\n\t\t\t\tbadgeColor={select('badgeColor', prop.colors, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', prop.icons, Config)}\n\t\t\t\tjoinedPosition={select('joinedPosition', prop.joinedPosition, Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttype={select('type', ['standard', 'grid'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</Button>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Button'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Checkbox from '@enact/agate/Checkbox';\n\nCheckbox.displayName = 'Checkbox';\nconst Config = mergeComponentMetadata('Checkbox', Checkbox);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Checkbox',\n\t\t() => (\n\t\t\t<Checkbox\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of Checkbox'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport CheckboxItem from '@enact/agate/CheckboxItem';\n\nCheckboxItem.displayName = 'CheckboxItem';\nconst Config = mergeComponentMetadata('CheckboxItem', CheckboxItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'CheckboxItem',\n\t\t() => (\n\t\t\t<CheckboxItem\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabel={text('label', Config, '')}\n\t\t\t\tlabelPosition={select('labelPosition', ['', 'above', 'after', 'before', 'below'], Config, '')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello CheckboxItem')}\n\t\t\t</CheckboxItem>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of CheckboxItem'\n\t\t\t}\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ColorPicker, {ColorPickerBase} from '@enact/agate/ColorPicker';\n\nColorPicker.displayName = 'ColorPicker';\nconst Config = mergeComponentMetadata('ColorPicker', ColorPicker, ColorPickerBase);\n\nconst prop = {\n\tdirection: ['up', 'right', 'down', 'left'],\n\tpresets: {\n\t\t'Default': ['green', 'yellow', 'orange', 'red', 'black', 'gray', 'white', '#cc5500', 'maroon', 'brown'],\n\t\t'Duck Tales': ['lavender', 'red', 'blue', 'green']\n\t}\n};\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ColorPicker',\n\t\t() => {\n\t\t\tconst direction = select('direction', prop.direction, Config, 'right'); // moved out of component to force order of knobs in the story\n\t\t\tconst colors = prop.presets[\n\t\t\t\tselect('color palette', Object.keys(prop.presets), StoryOptions, 'Default')\n\t\t\t];\n\t\t\treturn (\n\t\t\t\t<ColorPicker\n\t\t\t\t\tdirection={direction}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\tdefaultValue={colors[0]}\n\t\t\t\t>\n\t\t\t\t\t{colors}\n\t\t\t\t</ColorPicker>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic ColorPicker'\n\t\t}\n\t);\n","import clamp from 'ramda/src/clamp';\nimport {adaptEvent, forKey, forProp, forward, handle, oneOf, stop} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {calcProportion} from '@enact/ui/Slider/utils';\n\nconst calcStep = (knobStep, step) => {\n\tlet s;\n\n\tif (knobStep != null) {\n\t\ts = knobStep;\n\t} else if (step != null) {\n\t\ts = step;\n\t}\n\n\t// default to a step of 1 if neither are set or are set to 0\n\t// otherwise, increment/decrement would be no-ops\n\treturn s || 1;\n};\n\nconst isIncrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('up', keyCode) : is('right', keyCode);\n};\n\nconst isDecrement = ({keyCode}, {orientation}) => {\n\treturn orientation === 'vertical' ? is('down', keyCode) : is('left', keyCode);\n};\n\nconst isNotMax = (ev, {value, max}) => {\n\treturn value !== max;\n};\n\nconst isNotMin = (ev, {min, value = min}) => {\n\treturn value !== min;\n};\n\nconst emitChange = (direction) =>  adaptEvent(\n\t(ev, {knobStep, max, min, step, value = min}) => {\n\t\tconst newValue = clamp(min, max, value + (calcStep(knobStep, step) * direction));\n\n\t\treturn {\n\t\t\tvalue: newValue,\n\t\t\tproportion: calcProportion(min, max, newValue),\n\t\t\ttype: 'onChange'\n\t\t};\n\t},\n\tforward('onChange')\n);\n\nconst isActive = (ev, props) => {\n\treturn props.active || props.activateOnFocus;\n};\n\nconst handleIncrement = handle(\n\tisActive,\n\tisIncrement,\n\tstop,\n\tisNotMax,\n\temitChange(1)\n);\n\nconst handleDecrement = handle(\n\tisActive,\n\tisDecrement,\n\tstop,\n\tisNotMin,\n\temitChange(-1)\n);\n\nconst either = (a, b) => (...args) => a(...args) || b(...args);\nconst atMinimum = (ev, {min, value = min}) => value <= min;\nconst atMaximum = (ev, {max, min, value = min}) => value >= max;\nconst forwardOnlyType = (type) => adaptEvent(() => ({type}), forward(type));\n\nconst forwardSpotlightEvents = oneOf(\n\t[forKey('left'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMinimum),\n\t\tforwardOnlyType('onSpotlightLeft')\n\t)],\n\t[forKey('right'), handle(\n\t\teither(forProp('orientation', 'vertical'), atMaximum),\n\t\tforwardOnlyType('onSpotlightRight')\n\t)],\n\t[forKey('down'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMinimum),\n\t\tforwardOnlyType('onSpotlightDown')\n\t)],\n\t[forKey('up'), handle(\n\t\teither(forProp('orientation', 'horizontal'), atMaximum),\n\t\tforwardOnlyType('onSpotlightUp')\n\t)]\n);\n\nexport {\n\tforwardSpotlightEvents,\n\temitChange,\n\thandleDecrement,\n\thandleIncrement\n};\n","import {ContextualPopupDecorator} from '@enact/agate/ContextualPopupDecorator';\nimport BodyText from '@enact/agate/BodyText';\nimport Button from '@enact/agate/Button';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\n\nconst ContextualButton = ContextualPopupDecorator(Button);\nContextualButton.displayName = 'ContextualButton';\n\nconst Config = mergeComponentMetadata('ContextualPopupDecorator', Button, ContextualButton);\n\n// NOTE: Something about the HOC is inhibiting accessing its defaultProps, so we're adding them here\n// manually. This can (should) be revisited later to find out why and a solution.\nConfig.defaultProps = {\n\tdirection: 'below center',\n\topen: false,\n\tspotlightRestrict: 'self-first'\n};\n\nconst renderPopup = () => (\n\t<div>{text('popup string', {groupId: 'Popup'}, 'Hello Contextual Popup')}</div>\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ContextualPopupDecorator',\n\t\t() => (\n\t\t\t<div style={{textAlign: 'center', marginTop: ri.scaleToRem(99)}}>\n\t\t\t\t<ContextualButton\n\t\t\t\t\tdirection={select('direction', ['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom'], Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tpopupComponent={renderPopup}\n\t\t\t\t\tshowCloseButton={boolean('showCloseButton', Config)}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['none', 'self-first', 'self-only'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('button string', Config, 'Hello Contextual Button')}\n\t\t\t\t</ContextualButton>\n\t\t\t\t<BodyText centered>Use KNOBS to interact with the ContextualPopup.</BodyText>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\tinfo: {\n\t\t\t\ttext: 'Basic usage of ContextualPopupDecorator'\n\t\t\t}\n\t\t}\n\t);\n","import {mergeComponentMetadata, removeProps} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport DateTimePicker from '@enact/agate/DateTimePicker';\n\nconst Config = mergeComponentMetadata('DateTimePicker', DateTimePicker);\nremoveProps(Config, 'year defaultOpen day maxDays maxMonths month onChangeDate onChangeMonth onChangeYear order');\n\nDateTimePicker.displayName = 'DateTimePicker';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'DateTimePicker',\n\t\t() => (\n\t\t\t<DateTimePicker\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonClose={action('onClose')}\n\t\t\t\tonSave={action('onSave')}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic DateTimePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport BodyText from '@enact/ui/BodyText';\nimport {boolean, number, select, text} from '@enact/storybook-utils/addons/knobs';\nimport convert from 'color-convert';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Drawer, {DrawerBase} from '@enact/agate/Drawer';\nimport Heading from '@enact/agate/Heading';\n\nimport css from './Drawer.module.less';\n\nDrawer.displayName = 'Drawer';\nconst Config = mergeComponentMetadata('Drawer', Drawer, DrawerBase);\n\nconst StoryOptions = {\n\tgroupId: 'Story Options'\n};\n\nconst headingValues = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nconst {colors: drawerColors} = headingValues;\n\nconst opacityRange = {\n\trange: true,\n\tmin: 0,\n\tmax: 1,\n\tstep: 0.1\n};\n\nconst convertToRGBa = (hex, opacity) => `rgba(${convert.hex.rgb(hex)},${opacity})`;\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Drawer',\n\t\t() => {\n\t\t\tconst noDrawerAnimation = boolean('noAnimation', Config); // moved out of component to force order of knobs in the story\n\t\t\tconst drawerBackgroundColor = select('Drawer background color', drawerColors, StoryOptions);\n\t\t\tconst drawerBackgroundOpacity = number('Drawer background opacity', StoryOptions, opacityRange, 0.85);\n\t\t\tconst drawerStyle = {};\n\n\t\t\tif (drawerBackgroundColor && drawerBackgroundOpacity) {\n\t\t\t\tdrawerStyle.background = convertToRGBa(drawerBackgroundColor, drawerBackgroundOpacity);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<BodyText>\n\t\t\t\t\tUse the <em>open</em> knob to show or hide the Drawer.<br />\n\t\t\t\t\t<br />\n\t\t\t\t\t<span className={css.galliumNote}>\n\t\t\t\t\t\tThe styling in the Gallium skin does not set a background color for the Drawer,\n\t\t\t\t\t\ttherefore it will inherit the value that &lt;body&gt; has.  In some cases it\n\t\t\t\t\t\tmay be difficult to see the contents clearly.<br />\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tYou can override the background color for the Drawer in the Story Options or\n\t\t\t\t\t\tchoose a different skin (or night mode) from the Global Knobs to see!\n\t\t\t\t\t</span>\n\t\t\t\t\t<Drawer\n\t\t\t\t\t\tnoAnimation={noDrawerAnimation}\n\t\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\t\tstyle={drawerStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<Heading\n\t\t\t\t\t\t\t\tcolor={select('Heading color', headingValues.colors, StoryOptions)}\n\t\t\t\t\t\t\t\tshowLine={boolean('Heading showLine', StoryOptions)}\n\t\t\t\t\t\t\t\tsize={select('Heading size', headingValues.sizes, StoryOptions)}\n\t\t\t\t\t\t\t\tspacing={select('Heading spacing', headingValues.spacings, StoryOptions)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{text('header', Config, '[insert witty header text]')}\n\t\t\t\t\t\t\t</Heading>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tThis Drawer is using a <a href=\"./?path=/story/agate--heading\">Heading</a> component\n\t\t\t\t\t\t\tin the <em>header</em> slot and plain text for the <em>footer</em> slot.<br />\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tThe Heading props can be adjusted in Story Options.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t\t<footer>\n\t\t\t\t\t\t\t{text('footer', Config, '')}\n\t\t\t\t\t\t</footer>\n\t\t\t\t\t</Drawer>\n\t\t\t\t</BodyText>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Drawer'\n\t\t}\n\t);\n","import {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport {onWindowReady} from '@enact/core/snapshot';\nimport {clamp} from '@enact/core/util';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getRect} from '@enact/spotlight/src/utils';\nimport {constants} from '@enact/ui/useScroll';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst {animationDuration, epsilon, isPageDown, isPageUp, paginationPageMultiplier, scrollWheelPageMultiplierForMaxPixel} = constants;\nlet lastPointer = {x: 0, y: 0};\n\nconst useEventFocus = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {scrollContainerHandle, scrollContainerRef, scrollContentRef, spottable, themeScrollContentHandle} = instances;\n\tconst {alertScrollbarTrack} = context;\n\n\t// Functions\n\n\tconst startScrollOnFocus = (pos) => {\n\t\tif (pos) {\n\t\t\tconst\n\t\t\t\t{top, left} = pos,\n\t\t\t\tbounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && left !== scrollContainerHandle.current.scrollLeft,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && top !== scrollContainerHandle.current.scrollTop;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: (animationDuration > 0) && spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tscrollHorizontally = bounds.maxLeft > 0 && Math.abs(left - scrollContainerHandle.current.scrollLeft) > epsilon,\n\t\t\t\t\tscrollVertically = bounds.maxTop > 0 && Math.abs(top - scrollContainerHandle.current.scrollTop) > epsilon;\n\n\t\t\t\tif (scrollHorizontally || scrollVertically) {\n\t\t\t\t\tscrollContainerHandle.current.start({\n\t\t\t\t\t\ttargetX: left,\n\t\t\t\t\t\ttargetY: top,\n\t\t\t\t\t\tanimate: spottable.current.animateOnFocus\n\t\t\t\t\t});\n\t\t\t\t\tspottable.current.lastScrollPositionOnFocus = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction calculateAndScrollTo () {\n\t\tconst\n\t\t\tpositionFn = themeScrollContentHandle.current.calculatePositionOnFocus,\n\t\t\tscrollContentNode = scrollContentRef.current,\n\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\tif (spotItem && positionFn && utilDOM.containsDangerously(scrollContentNode, spotItem)) {\n\t\t\tconst lastPos = spottable.current.lastScrollPositionOnFocus;\n\t\t\tlet pos;\n\n\t\t\t// If scroll animation is ongoing, we need to pass last target position to\n\t\t\t// determine correct scroll position.\n\t\t\tif (lastPos & (\n\t\t\t\tscrollMode === 'translate' && scrollContainerHandle.current.animator.isAnimating() ||\n\t\t\t\tscrollMode === 'native' && scrollContainerHandle.current.scrolling\n\t\t\t)) {\n\t\t\t\tconst\n\t\t\t\t\tcontentRect = getRect(scrollContentNode),\n\t\t\t\t\titemRect = getRect(spotItem);\n\t\t\t\tlet scrollPosition;\n\n\t\t\t\tif (props.direction === 'horizontal' || props.direction === 'both' && !(itemRect.left >= contentRect.left && itemRect.right <= contentRect.right)) {\n\t\t\t\t\tscrollPosition = lastPos.left;\n\t\t\t\t} else if (props.direction === 'vertical' || props.direction === 'both' && !(itemRect.top >= contentRect.top && itemRect.bottom <= contentRect.bottom)) {\n\t\t\t\t\tscrollPosition = lastPos.top;\n\t\t\t\t}\n\n\t\t\t\tpos = positionFn({item: spotItem, scrollPosition});\n\t\t\t} else {\n\t\t\t\tpos = positionFn({item: spotItem});\n\t\t\t}\n\n\t\t\tif (pos && (pos.left !== scrollContainerHandle.current.scrollLeft || pos.top !== scrollContainerHandle.current.scrollTop)) {\n\t\t\t\tstartScrollOnFocus(pos);\n\t\t\t}\n\n\t\t\t// update `scrollHeight`\n\t\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t\t}\n\t}\n\n\tfunction handleFocus (ev) {\n\t\tconst shouldPreventScrollByFocus = themeScrollContentHandle.current.shouldPreventScrollByFocus ?\n\t\t\tthemeScrollContentHandle.current.shouldPreventScrollByFocus() :\n\t\t\tfalse;\n\n\t\tif (spottable.current.isWheeling) {\n\t\t\tscrollContainerHandle.current.stop();\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tspottable.current.animateOnFocus = false;\n\t\t\t}\n\t\t}\n\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\talertScrollbarTrack();\n\t\t}\n\n\t\tif (!(shouldPreventScrollByFocus || Spotlight.getPointerMode() || scrollContainerHandle.current.isDragging || spottable.current.indexToFocus)) {\n\t\t\tconst\n\t\t\t\titem = ev.target,\n\t\t\t\tspotItem = Spotlight.getCurrent();\n\n\t\t\tif (item && item === spotItem) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t} else if (themeScrollContentHandle.current.setLastFocusedNode) {\n\t\t\tthemeScrollContentHandle.current.setLastFocusedNode(ev.target);\n\t\t}\n\t}\n\n\tfunction hasFocus () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && scrollContainerRef.current) {\n\t\t\treturn utilDOM.containsDangerously(scrollContainerRef, current);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculateAndScrollTo,\n\t\thandleFocus,\n\t\thasFocus\n\t};\n};\n\nconst useEventKey = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, spottable, scrollContentRef, scrollContainerHandle} = instances;\n\tconst {hasFocus, isContent} = context;\n\n\t// Functions\n\n\tfunction handleKeyDown (ev) {\n\t\tconst {keyCode, repeat, target} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\n\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && hasFocus()) {\n\t\t\tlet direction = null;\n\n\t\t\tif (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\tif (props.direction === 'vertical' || props.direction === 'both') {\n\t\t\t\t\tdirection = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\t\t\tif (isContent(target)) {\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\tscrollByPage(direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (getDirection(keyCode) && (scrollMode === 'translate' || scrollMode === 'native' && !Spotlight.getPointerMode())) {\n\t\t\t\tscrollContainerHandle.current.lastInputType = 'arrowKey';\n\t\t\t\tdirection = getDirection(keyCode);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction scrollByPage (direction) {\n\t\tconst\n\t\t\t{scrollTop} = scrollContainerHandle.current,\n\t\t\tfocusedItem = Spotlight.getCurrent(),\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tisUp = direction === 'up',\n\t\t\tdirectionFactor = isUp ? -1 : 1,\n\t\t\tpageDistance = directionFactor * bounds.clientHeight * paginationPageMultiplier;\n\t\tlet scrollPossible = false;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop > scrollTop;\n\t\t} else {\n\t\t\tscrollPossible = isUp ? scrollTop > 0 : bounds.maxTop - scrollTop > epsilon;\n\t\t}\n\n\t\tscrollContainerHandle.current.lastInputType = 'pageKey';\n\n\t\tif (directionFactor !== scrollContainerHandle.current.wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = directionFactor;\n\t\t}\n\n\t\tif (scrollPossible) {\n\t\t\tif (focusedItem) {\n\t\t\t\tconst contentNode = scrollContentRef.current;\n\n\t\t\t\t// Should do nothing when focusedItem is paging control button of Scrollbar\n\t\t\t\tif (utilDOM.containsDangerously(contentNode, focusedItem)) {\n\t\t\t\t\tconst\n\t\t\t\t\t\tcontentRect = contentNode.getBoundingClientRect(),\n\t\t\t\t\t\tclientRect = focusedItem.getBoundingClientRect(),\n\t\t\t\t\t\tyAdjust = isUp ? 1 : -1,\n\t\t\t\t\t\tx = clamp(contentRect.left, contentRect.right, (clientRect.right + clientRect.left) / 2);\n\t\t\t\t\tlet y = 0;\n\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\ty = bounds.maxTop <= scrollTop + pageDistance || 0 >= scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentRect[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ty = bounds.maxTop - epsilon < scrollTop + pageDistance || epsilon > scrollTop + pageDistance ?\n\t\t\t\t\t\t\tcontentNode.getBoundingClientRect()[isUp ? 'top' : 'bottom'] + yAdjust :\n\t\t\t\t\t\t\tclamp(contentRect.top, contentRect.bottom, (clientRect.bottom + clientRect.top) / 2);\n\t\t\t\t\t}\n\n\t\t\t\t\tfocusedItem.blur();\n\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.pauseSpotlight(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.pointToFocus = {direction, x, y};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspottable.current.pointToFocus = {direction, x: lastPointer.x, y: lastPointer.y};\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, true);\n\t\t}\n\t}\n\n\tfunction scrollByPageOnPointerMode (ev) {\n\t\tconst {keyCode, repeat} = ev;\n\n\t\tforward('onKeyDown', ev, props);\n\t\tev.preventDefault();\n\n\t\tspottable.current.animateOnFocus = true;\n\n\t\tif (!repeat && (props.direction === 'vertical' || props.direction === 'both')) {\n\t\t\tconst direction = isPageUp(keyCode) ? 'up' : 'down';\n\n\t\t\tscrollByPage(direction);\n\n\t\t\treturn true; // means consumed\n\t\t}\n\n\t\treturn false; // means to be propagated\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleKeyDown,\n\t\tlastPointer,\n\t\tscrollByPageOnPointerMode\n\t};\n};\n\n/*\n * Track the last position of the pointer to check if a list should scroll by\n * page up/down keys when the pointer is on a list without any focused node.\n * `keydown` event does not occur if there is no focus on the node and\n * its descendants, we add `keydown` handler to `document` also.\n */\nconst scrollers = new Map();\n\n// An app could have lists and/or scrollers more than one,\n// so we should test all of them when page up/down key is pressed.\nconst pointerTracker = (ev) => {\n\tlastPointer.x = ev.clientX;\n\tlastPointer.y = ev.clientY;\n};\n\nconst pageKeyHandler = (ev) => {\n\tconst {keyCode} = ev;\n\n\tif (Spotlight.getPointerMode() && !Spotlight.getCurrent() && (isPageUp(keyCode) || isPageDown(keyCode))) {\n\t\tconst\n\t\t\t{x, y} = lastPointer,\n\t\t\telem = document.elementFromPoint(x, y);\n\n\t\tif (elem) {\n\t\t\tfor (const [key, value] of scrollers) {\n\t\t\t\tif (utilDOM.containsDangerously(value, elem)) {\n\t\t\t\t\t/* To handle page keys in nested scrollable components,\n\t\t\t\t\t * break the loop only when `scrollByPageOnPointerMode` returns `true`.\n\t\t\t\t\t * This approach assumes that an inner scrollable component is\n\t\t\t\t\t * mounted earlier than an outer scrollable component.\n\t\t\t\t\t */\n\t\t\t\t\tif (key.scrollByPageOnPointerMode(ev)) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useEventMonitor = (props, instances, context) => {\n\tconst {scrollContainerRef} = instances;\n\tconst {lastPointer: lastPointerProp, scrollByPageOnPointerMode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({pageKeyHandlerObj: {scrollByPageOnPointerMode}});\n\n\tlastPointer = lastPointerProp;\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst setMonitorEventTarget = (target) => {\n\t\t\tscrollers.set(mutableRef.current.pageKeyHandlerObj, target);\n\t\t};\n\n\t\tconst deleteMonitorEventTarget = () => {\n\t\t\tscrollers.delete(mutableRef.current.pageKeyHandlerObj);\n\t\t};\n\n\t\tsetMonitorEventTarget(scrollContainerRef.current);\n\n\t\treturn () => {\n\t\t\t// TODO: Replace `this` to something.\n\t\t\tdeleteMonitorEventTarget();\n\t\t};\n\t}, [scrollContainerRef]);\n};\n\nonWindowReady(() => {\n\tutilEvent('mousemove').addEventListener(document, pointerTracker);\n\tutilEvent('keydown').addEventListener(document, pageKeyHandler);\n});\n\nconst useEventMouse = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContainerHandle} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleDragEnd () {\n\t\tscrollContainerHandle.current.isDragging = false;\n\n\t\tif (!scrollContainerHandle.current.isFlicked) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\tfunction handleDragStart () {\n\t\tscrollContainerHandle.current.isDragging = true;\n\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t}\n\n\tfunction handleFlick ({direction}) {\n\t\tconst\n\t\t\t{canScrollHorizontally, canScrollVertically} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tfocusedItem = Spotlight.getCurrent();\n\n\t\tscrollContainerHandle.current.isFlicked = true;\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif ((\n\t\t\tdirection === 'vertical' && canScrollVertically(bounds) ||\n\t\t\tdirection === 'horizontal' && canScrollHorizontally(bounds)\n\t\t) && !props['data-spotlight-container-disabled']) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t}\n\t}\n\n\tfunction handleMouseDown (ev) {\n\t\tif (isScrollButtonFocused()) {\n\t\t\tev.preventDefault();\n\t\t}\n\n\t\tif (props['data-spotlight-container-disabled']) {\n\t\t\tev.preventDefault();\n\t\t} else if (scrollMode === 'native') {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleMouseDown\n\t};\n};\n\nconst useEventTouch = (props, instnaces, context) => {\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleTouchStart () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (!Spotlight.isPaused() && focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleTouchStart\n\t};\n};\n\nconst useEventVoice = (props, instances, context) => {\n\tconst {scrollContainerRef, scrollContainerHandle} = instances;\n\tconst {onScrollbarButtonClick} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisVoiceControl: false,\n\t\tvoiceControlDirection: 'vertical'\n\t});\n\n\t// Functions\n\n\tconst updateFocusAfterVoiceControl = () => {\n\t\tconst\n\t\t\tspotItem = Spotlight.getCurrent(),\n\t\t\tscrollContainerNode = scrollContainerRef.current;\n\n\t\tif (utilDOM.containsDangerously(scrollContainerNode, spotItem)) {\n\t\t\tconst\n\t\t\t\tviewportBounds = scrollContainerNode.getBoundingClientRect(),\n\t\t\t\tspotItemBounds = spotItem.getBoundingClientRect(),\n\t\t\t\tnodes = Spotlight.getSpottableDescendants(scrollContainerNode.dataset.spotlightId),\n\t\t\t\tfirst = mutableRef.current.voiceControlDirection === 'vertical' ? 'top' : 'left',\n\t\t\t\tlast = mutableRef.current.voiceControlDirection === 'vertical' ? 'bottom' : 'right';\n\n\t\t\tif (spotItemBounds[last] < viewportBounds[first] || spotItemBounds[first] > viewportBounds[last]) {\n\t\t\t\tfor (let i = 0; i < nodes.length; i++) {\n\t\t\t\t\tconst nodeBounds = nodes[i].getBoundingClientRect();\n\n\t\t\t\t\tif (nodeBounds[first] > viewportBounds[first] && nodeBounds[last] < viewportBounds[last]) {\n\t\t\t\t\t\tSpotlight.focus(nodes[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tfunction stopVoice () {\n\t\tif (mutableRef.current.isVoiceControl) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t\tupdateFocusAfterVoiceControl();\n\t\t}\n\t}\n\n\tconst isReachedEdge = (scrollPos, ltrBound, rtlBound, isRtl = false) => {\n\t\tconst bound = isRtl ? rtlBound : ltrBound;\n\t\treturn (bound === 0 && scrollPos === 0) || (bound > 0 && scrollPos >= bound - 1);\n\t};\n\n\tconst handleVoice = (e) => {\n\t\tconst\n\t\t\tisHorizontal = (props.direction === 'horizontal'),\n\t\t\tisRtl = scrollContainerHandle.current.rtl,\n\t\t\t{scrollTop, scrollLeft} = scrollContainerHandle.current,\n\t\t\t{maxLeft, maxTop} = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tverticalDirection = ['up', 'down', 'top', 'bottom'],\n\t\t\thorizontalDirection = isRtl ? ['right', 'left', 'rightmost', 'leftmost'] : ['left', 'right', 'leftmost', 'rightmost'],\n\t\t\tmovement = ['previous', 'next', 'first', 'last'];\n\t\tlet\n\t\t\tscroll = e && e.detail && e.detail.scroll,\n\t\t\tindex = movement.indexOf(scroll);\n\n\t\tif (index > -1) {\n\t\t\tscroll = isHorizontal ? horizontalDirection[index] : verticalDirection[index];\n\t\t}\n\n\t\tmutableRef.current.voiceControlDirection = verticalDirection.includes(scroll) && 'vertical' || horizontalDirection.includes(scroll) && 'horizontal' || null;\n\n\t\t// Case 1. Invalid direction\n\t\tif (mutableRef.current.voiceControlDirection === null) {\n\t\t\tmutableRef.current.isVoiceControl = false;\n\t\t// Case 2. Cannot scroll\n\t\t} else if (\n\t\t\t(['up', 'top'].includes(scroll) && isReachedEdge(scrollTop, 0)) ||\n\t\t\t(['down', 'bottom'].includes(scroll) && isReachedEdge(scrollTop, maxTop)) ||\n\t\t\t(['left', 'leftmost'].includes(scroll) && isReachedEdge(scrollLeft, 0, maxLeft, isRtl)) ||\n\t\t\t(['right', 'rightmost'].includes(scroll) && isReachedEdge(scrollLeft, maxLeft, 0, isRtl))\n\t\t) {\n\t\t\tif (window.webOSVoiceReportActionResult) {\n\t\t\t\twindow.webOSVoiceReportActionResult({voiceUi: {exception: 'alreadyCompleted'}});\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t// Case 3. Can scroll\n\t\t} else {\n\t\t\tmutableRef.current.isVoiceControl = true;\n\n\t\t\tif (['up', 'down', 'left', 'right'].includes(scroll)) {\n\t\t\t\tconst isPreviousScrollButton = (scroll === 'up') || (scroll === 'left' && !isRtl) || (scroll === 'right' && isRtl);\n\t\t\t\tonScrollbarButtonClick({isPreviousScrollButton, isVerticalScrollBar: verticalDirection.includes(scroll)});\n\t\t\t} else { // ['top', 'bottom', 'leftmost', 'rightmost'].includes(scroll)\n\t\t\t\tscrollContainerHandle.current.scrollTo({align: verticalDirection.includes(scroll) && scroll || (scroll === 'leftmost' && isRtl || scroll === 'rightmost' && !isRtl) && 'right' || 'left'});\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t};\n\n\tfunction addVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').addEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.setAttribute('data-webos-voice-intent', 'Scroll');\n\t\t}\n\t}\n\n\tfunction removeVoiceEventListener (scrollContentRef) {\n\t\tif (platform.webos) {\n\t\t\tutilEvent('webOSVoice').removeEventListener(scrollContentRef, handleVoice);\n\t\t\tscrollContentRef.current.removeAttribute('data-webos-voice-intent');\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t};\n};\n\nconst useEventWheel = (props, instances, context) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle, spottable} = instances;\n\tconst {isScrollButtonFocused} = context;\n\n\t// Functions\n\n\tfunction handleWheel ({delta}) {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem && !isScrollButtonFocused()) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\tspottable.current.isWheeling = true;\n\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * wheel event handler;\n\t * - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t * - for vertical scroll, supports wheel action on scrollbars only\n\t */\n\tfunction handleWheelNative (ev) {\n\t\tconst\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tcanScrollHorizontally = scrollContainerHandle.current.canScrollHorizontally(bounds),\n\t\t\tcanScrollVertically = scrollContainerHandle.current.canScrollVertically(bounds),\n\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\tlet\n\t\t\tdelta = 0,\n\t\t\tneedToHideScrollbarTrack = false;\n\n\t\tif (typeof window !== 'undefined') {\n\t\t\twindow.document.activeElement.blur();\n\t\t}\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\n\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\tif (canScrollVertically) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollTop > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollTop < bounds.maxTop) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\tif ((horizontalScrollbarHandle.current && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target)) ||\n\t\t\t\t\t(verticalScrollbarHandle.current && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target))) {\n\t\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t} else if (canScrollHorizontally) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\tif (eventDelta < 0 && scrollContainerHandle.current.scrollLeft > 0 || eventDelta > 0 && scrollContainerHandle.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\tif (!spottable.current.isWheeling) {\n\t\t\t\t\tif (!props['data-spotlight-container-disabled']) {\n\t\t\t\t\t\tthemeScrollContentHandle.current.setContainerDisabled(true);\n\t\t\t\t\t}\n\n\t\t\t\t\tspottable.current.isWheeling = true;\n\t\t\t\t}\n\n\t\t\t\tdelta = scrollContainerHandle.current.calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\tev.preventDefault();\n\t\t\t\tev.stopPropagation();\n\t\t\t} else {\n\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t}\n\t\t}\n\n\t\tif (delta !== 0) {\n\t\t\t/* prevent native scrolling feature for vertical direction */\n\t\t\tev.preventDefault();\n\n\t\t\tconst direction = Math.sign(delta);\n\n\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\tif (direction !== scrollContainerHandle.current.wheelDirection) {\n\t\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t\t}\n\n\t\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(delta, canScrollVertically);\n\t\t}\n\n\t\tif (needToHideScrollbarTrack) {\n\t\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandleWheel: scrollMode === 'translate' ? handleWheel : handleWheelNative\n\t};\n};\n\nexport {\n\tuseEventFocus,\n\tuseEventKey,\n\tuseEventMonitor,\n\tuseEventMouse,\n\tuseEventTouch,\n\tuseEventVoice,\n\tuseEventWheel\n};\n","import {constants} from '@enact/ui/useScroll';\n\nconst {paginationPageMultiplier} = constants;\n\nconst useScrollbar = (props, instances) => {\n\tconst {horizontalScrollbarHandle, scrollContainerHandle, verticalScrollbarHandle} = instances;\n\n\tconst scrollbarProps = {\n\t\tcbAlertScrollbarTrack: alertScrollbarTrack,\n\t\tonNextScroll: onScrollbarButtonClick,\n\t\tonPrevScroll: onScrollbarButtonClick\n\t};\n\n\t// Functions\n\n\tfunction isScrollButtonFocused () {\n\t\treturn (\n\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.isOneOfScrollButtonsFocused() ||\n\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.isOneOfScrollButtonsFocused()\n\t\t);\n\t}\n\n\tfunction onScrollbarButtonClick ({isPreviousScrollButton, isVerticalScrollBar}) {\n\t\tconst\n\t\t\t{wheelDirection} = scrollContainerHandle.current,\n\t\t\tbounds = scrollContainerHandle.current.getScrollBounds(),\n\t\t\tdirection = isPreviousScrollButton ? -1 : 1,\n\t\t\tpageDistance = direction * (isVerticalScrollBar ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tscrollContainerHandle.current.lastInputType = 'scrollbarButton';\n\n\t\tif (direction !== wheelDirection) {\n\t\t\tscrollContainerHandle.current.isScrollAnimationTargetAccumulated = false;\n\t\t\tscrollContainerHandle.current.wheelDirection = direction;\n\t\t}\n\n\t\tscrollContainerHandle.current.scrollToAccumulatedTarget(pageDistance, isVerticalScrollBar);\n\t}\n\n\tfunction focusOnScrollButton (scrollbarHandle, isPreviousScrollButton) {\n\t\tif (scrollbarHandle.current) {\n\t\t\tscrollbarHandle.current.focusOnButton(isPreviousScrollButton);\n\t\t}\n\t}\n\n\tfunction scrollAndFocusScrollbarButton (direction) {\n\t\tif (scrollContainerHandle.current) {\n\t\t\tconst\n\t\t\t\t{rtl} = scrollContainerHandle.current,\n\t\t\t\tisPreviousScrollButton = direction === 'up' || (rtl ? direction === 'right' : direction === 'left'),\n\t\t\t\tisHorizontalDirection = direction === 'left' || direction === 'right',\n\t\t\t\tisVerticalDirection = direction === 'up' || direction === 'down',\n\t\t\t\tcanScrollHorizontally = isHorizontalDirection && (props.direction === 'horizontal' || props.direction === 'both'),\n\t\t\t\tcanScrollingVertically = isVerticalDirection && (props.direction === 'vertical' || props.direction === 'both');\n\n\t\t\tif (canScrollHorizontally || canScrollingVertically) {\n\t\t\t\tonScrollbarButtonClick({\n\t\t\t\t\tisPreviousScrollButton,\n\t\t\t\t\tisVerticalScrollBar: canScrollingVertically\n\t\t\t\t});\n\n\t\t\t\tif (props.focusableScrollbar) {\n\t\t\t\t\tfocusOnScrollButton(\n\t\t\t\t\t\tcanScrollingVertically ? verticalScrollbarHandle : horizontalScrollbarHandle,\n\t\t\t\t\t\tisPreviousScrollButton\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction alertScrollbarTrack () {\n\t\tconst bounds = scrollContainerHandle.current.getScrollBounds();\n\n\t\tscrollContainerHandle.current.showScrollbarTrack(bounds);\n\t\tscrollContainerHandle.current.startHidingScrollbarTrack();\n\t}\n\n\t// Return\n\n\treturn {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t};\n};\n\nexport default useScrollbar;\nexport {\n\tuseScrollbar\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useContext, useEffect, useLayoutEffect} from 'react';\n\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport scrollbarCss from './Scrollbar.module.less';\n\nconst navigableFilter = (elem) => {\n\tif (\n\t\t!Spotlight.getPointerMode() &&\n\t\t// ignore containers passed as their id\n\t\ttypeof elem !== 'string' &&\n\t\tutilDOM.containsDangerously(elem.classList, scrollbarCss.scrollButton)\n\t) {\n\t\treturn false;\n\t}\n};\n\nconst useSpotlightConfig = (props) => {\n\t// Hooks\n\n\tuseLayoutEffect(() => {\n\t\tfunction configureSpotlight () {\n\t\t\tSpotlight.set(props['data-spotlight-id'], {\n\t\t\t\tnavigableFilter: props.focusableScrollbar ? null : navigableFilter\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props]);\n};\n\nconst useSpotlightRestore = (props, instances) => {\n\tconst {scrollContainerHandle} = instances;\n\tconst context = useContext(SharedState);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\t// Only intended to be used within componentDidMount, this method will fetch the last stored\n\t\t// scroll position from SharedState and scroll (without animation) to that position\n\t\tfunction restoreScrollPosition () {\n\t\t\tconst {id} = props;\n\t\t\tif (id && context && context.get) {\n\t\t\t\tconst scrollPosition = context.get(`${id}.scrollPosition`);\n\n\t\t\t\tif (scrollPosition) {\n\t\t\t\t\tscrollContainerHandle.current.scrollTo({\n\t\t\t\t\t\tposition: scrollPosition,\n\t\t\t\t\t\tanimate: false\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trestoreScrollPosition();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","/**\n * Agate-themed scrollable hook and behaviors.\n *\n * @module agate/useScroll\n * @exports dataIndexAttribute\n * @exports useScroll\n * @private\n */\n\nimport {forward} from '@enact/core/handle';\nimport platform from '@enact/core/platform';\nimport Spotlight from '@enact/spotlight';\nimport {spottableClass} from '@enact/spotlight/Spottable';\nimport {getTargetByDirectionFromPosition} from '@enact/spotlight/src/target';\nimport {getRect, intersects} from '@enact/spotlight/src/utils';\nimport {useScrollBase} from '@enact/ui/useScroll';\nimport {assignPropertiesOf} from '@enact/ui/useScroll';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useContext, useRef} from 'react';\n\nimport $L from '../internal/$L';\nimport {SharedState} from '../Panels/SharedStateDecorator';\n\nimport {useThemeScrollContentHandle} from './useThemeScrollContentHandle';\nimport {\n\tuseEventFocus, useEventKey, useEventMonitor, useEventMouse,\n\tuseEventTouch, useEventVoice, useEventWheel\n} from './useEvent';\nimport useScrollbar from './useScrollbar';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst\n\treverseDirections = {\n\t\tdown: 'up',\n\t\tup: 'down'\n\t};\n\n/**\n * The name of a custom attribute which indicates the index of an item in\n * [VirtualList]{@link agate/VirtualList.VirtualList} or\n * [VirtualGridList]{@link agate/VirtualList.VirtualGridList}.\n *\n * @constant dataIndexAttribute\n * @memberof agate/useScroll\n * @type {String}\n * @private\n */\nconst dataIndexAttribute = 'data-index';\n\nconst isIntersecting = (elem, container) => elem && intersects(getRect(container), getRect(elem));\nconst getIntersectingElement = (elem, container) => isIntersecting(elem, container) && elem;\nconst getTargetInViewByDirectionFromPosition = (direction, position, container) => {\n\tconst target = getTargetByDirectionFromPosition(direction, position, Spotlight.getActiveContainer());\n\treturn getIntersectingElement(target, container);\n};\n\nconst useThemeScroll = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {themeScrollContentHandle, scrollContentRef, scrollContainerHandle, scrollContainerRef} = instances;\n\tconst contextSharedState = useContext(SharedState);\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tanimateOnFocus: false,\n\t\tindexToFocus: null,\n\t\tisWheeling: false,\n\t\tlastScrollPositionOnFocus: null,\n\t\tnodeToFocus: null,\n\t\tpointToFocus: null\n\t});\n\n\t// Hooks\n\n\tconst {\n\t\talertScrollbarTrack,\n\t\tisScrollButtonFocused,\n\t\tonScrollbarButtonClick,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps\n\t} = useScrollbar(props, instances);\n\n\tuseSpotlightConfig(props);\n\n\tuseSpotlightRestore(props, instances);\n\n\tconst {handleWheel} = useEventWheel(props, {...instances, spottable: mutableRef}, {isScrollButtonFocused});\n\n\tconst {calculateAndScrollTo, handleFocus, hasFocus} = useEventFocus(props, {...instances, spottable: mutableRef}, {alertScrollbarTrack});\n\n\tconst {handleKeyDown, lastPointer, scrollByPageOnPointerMode} = useEventKey(props, {...instances, spottable: mutableRef}, {hasFocus, isContent});\n\n\tuseEventMonitor({}, instances, {lastPointer, scrollByPageOnPointerMode});\n\n\tconst {handleDragEnd, handleDragStart, handleFlick, handleMouseDown} = useEventMouse({}, instances, {isScrollButtonFocused});\n\n\tconst {handleTouchStart} = useEventTouch({}, instances, {isScrollButtonFocused});\n\n\tconst {\n\t\taddVoiceEventListener,\n\t\tremoveVoiceEventListener,\n\t\tstopVoice\n\t} = useEventVoice(props, instances, {onScrollbarButtonClick});\n\n\t// Functions\n\n\tfunction isContent (element) {\n\t\treturn (element && utilDOM.containsDangerously(scrollContentRef, element));\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tmutableRef.current.indexToFocus = (opt.focus && typeof opt.index === 'number') ? opt.index : null;\n\t\tmutableRef.current.nodeToFocus = (opt.focus && opt.node instanceof Object && opt.node.nodeType === 1) ? opt.node : null;\n\t}\n\n\tfunction start (animate) {\n\t\tif (scrollMode === 'native' && !animate) {\n\t\t\tfocusOnItem();\n\t\t}\n\t}\n\n\tfunction stop () {\n\t\tif (mutableRef.current.isDragging && !mutableRef.current.isFlicked) return;\n\n\t\tif (!props['data-spotlight-container-disabled'] || mutableRef.current.isFlicked || mutableRef.current.isWheeling) {\n\t\t\tthemeScrollContentHandle.current.setContainerDisabled(false);\n\t\t}\n\n\t\tif (themeScrollContentHandle.current.pauseSpotlight) {\n\t\t\tthemeScrollContentHandle.current.pauseSpotlight(false);\n\t\t}\n\n\t\tfocusOnItem();\n\t\tmutableRef.current.lastScrollPositionOnFocus = null;\n\t\tmutableRef.current.isFlicked = false;\n\t\tmutableRef.current.isWheeling = false;\n\t\tstopVoice();\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tstop();\n\t}\n\n\tfunction focusOnItem () {\n\t\tif (mutableRef.current.indexToFocus !== null && typeof themeScrollContentHandle.current.focusByIndex === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusByIndex(mutableRef.current.indexToFocus);\n\t\t\tmutableRef.current.indexToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.nodeToFocus !== null && typeof themeScrollContentHandle.current.focusOnNode === 'function') {\n\t\t\tthemeScrollContentHandle.current.focusOnNode(mutableRef.current.nodeToFocus);\n\t\t\tmutableRef.current.nodeToFocus = null;\n\t\t}\n\n\t\tif (mutableRef.current.pointToFocus !== null) {\n\t\t\t// no need to focus on pointer mode\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tconst\n\t\t\t\t\t{direction, x, y} = mutableRef.current.pointToFocus,\n\t\t\t\t\tposition = {x, y},\n\t\t\t\t\telemFromPoint = document.elementFromPoint(x, y),\n\t\t\t\t\ttarget =\n\t\t\t\t\t\telemFromPoint && elemFromPoint.closest && getIntersectingElement(elemFromPoint.closest(`.${spottableClass}`), scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(direction, position, scrollContainerRef.current) ||\n\t\t\t\t\t\tgetTargetInViewByDirectionFromPosition(reverseDirections[direction], position, scrollContainerRef.current);\n\n\t\t\t\tif (target) {\n\t\t\t\t\tSpotlight.focus(target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.pointToFocus = null;\n\t\t}\n\t}\n\n\tfunction handleScroll (ev) {\n\t\tconst\n\t\t\t{scrollLeft: x, scrollTop: y} = ev,\n\t\t\t{id} = props;\n\n\t\tforward('onScroll', ev, props);\n\n\t\tif (id && contextSharedState && contextSharedState.set) {\n\t\t\tcontextSharedState.set(ev, props);\n\t\t\tcontextSharedState.set(`${id}.scrollPosition`, {x, y});\n\t\t}\n\t}\n\n\t// Callback for scroller updates; calculate and, if needed, scroll to new position based on focused item.\n\tfunction handleScrollerUpdate () {\n\t\tif (scrollContainerHandle.current.scrollToInfo === null) {\n\t\t\tconst scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\n\t\t\tif (scrollHeight !== scrollContainerHandle.current.bounds.scrollHeight) {\n\t\t\t\tcalculateAndScrollTo();\n\t\t\t}\n\t\t}\n\n\t\t// oddly, Scroller manages scrollContainerHandle.current.bounds so if we don't update it here (it is also\n\t\t// updated in calculateAndScrollTo but we might not have made it to that point), it will be\n\t\t// out of date when we land back in this method next time.\n\t\tscrollContainerHandle.current.bounds.scrollHeight = scrollContainerHandle.current.getScrollBounds().scrollHeight;\n\t}\n\n\tfunction handleResizeWindow () {\n\t\tconst focusedItem = Spotlight.getCurrent();\n\n\t\tif (focusedItem) {\n\t\t\tfocusedItem.blur();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').addEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\taddVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners (ref) { // `ref` is always `scrollContentRef`.\n\t\tutilEvent('focusin').removeEventListener(ref, handleFocus);\n\n\t\tif (ref.current) {\n\t\t\tremoveVoiceEventListener(ref);\n\t\t}\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll,\n\t\tscrollTo,\n\t\tstart,\n\t\tstop\n\t};\n};\n\n/**\n * A custom hook that passes Agate-themed scrollable behavior information as its render prop.\n *\n * @class\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst useScroll = (props) => {\n\tconst\n\t\t{\n\t\t\t'data-spotlight-container': spotlightContainer,\n\t\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t\t'data-spotlight-id': spotlightId,\n\t\t\tfocusableScrollbar,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tscrollDownAriaLabel,\n\t\t\tscrollLeftAriaLabel,\n\t\t\tscrollMode,\n\t\t\tscrollRightAriaLabel,\n\t\t\tscrollUpAriaLabel,\n\t\t\t...rest\n\t\t} = props,\n\t\tdownButtonAriaLabel = scrollDownAriaLabel == null ? $L('scroll down') : scrollDownAriaLabel,\n\t\tupButtonAriaLabel = scrollUpAriaLabel == null ? $L('scroll up') : scrollUpAriaLabel,\n\t\trightButtonAriaLabel = scrollRightAriaLabel == null ? $L('scroll right') : scrollRightAriaLabel,\n\t\tleftButtonAriaLabel = scrollLeftAriaLabel == null ? $L('scroll left') : scrollLeftAriaLabel;\n\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef();\n\tconst scrollContentHandle = useRef();\n\tconst scrollContentRef = useRef();\n\tconst itemRefs = useRef([]);\n\n\tconst horizontalScrollbarHandle = useRef();\n\tconst verticalScrollbarHandle = useRef();\n\n\t// Handles\n\n\tconst [themeScrollContentHandle, setThemeScrollContentHandle] = useThemeScrollContentHandle();\n\n\tconst scrollContainerHandle = useRef({\n\t\tanimator: null,\n\t\tbounds: null,\n\t\tcalculateDistanceByWheel: null,\n\t\tcanScrollHorizontally: null,\n\t\tcanScrollVertically: null,\n\t\tgetScrollBounds: null,\n\t\tisDragging: null,\n\t\tisFlicked: null,\n\t\tisScrollAnimationTargetAccumulated: null,\n\t\tlastInputType: null,\n\t\trtl: null,\n\t\tscrollBounds: null,\n\t\tscrollHeight: null,\n\t\tscrolling: null,\n\t\tscrollLeft: null,\n\t\tscrollPos: null,\n\t\tscrollTo: null,\n\t\tscrollToAccumulatedTarget: null,\n\t\tscrollToInfo: null,\n\t\tscrollTop: null,\n\t\tshowScrollbarTrack: null,\n\t\tstart: null,\n\t\tstartHidingScrollbarTrack: null,\n\t\tstop: null,\n\t\twheelDirection: null\n\t});\n\n\tconst setScrollContainerHandle = (handle) => {\n\t\tscrollContainerHandle.current = handle;\n\t};\n\n\t// Hooks\n\n\tconst instance = {\n\t\t// Ref\n\t\tscrollContainerRef,\n\t\tscrollContentRef,\n\n\t\t// Handle\n\t\tthemeScrollContentHandle,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\thorizontalScrollbarHandle,\n\t\tverticalScrollbarHandle\n\t};\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties),\n\t\tscrollProps = {};\n\n\tconst {\n\t\taddEventListeners,\n\t\thandleDragEnd,\n\t\thandleDragStart,\n\t\thandleFlick,\n\t\thandleKeyDown,\n\t\thandleMouseDown,\n\t\thandleResizeWindow,\n\t\thandleScroll,\n\t\thandleScrollerUpdate,\n\t\thandleTouchStart,\n\t\thandleWheel,\n\t\tremoveEventListeners,\n\t\tscrollAndFocusScrollbarButton,\n\t\tscrollbarProps,\n\t\tscrollStopOnScroll, // scrollMode 'native'\n\t\tscrollTo,\n\t\tstart, // scrollMode 'native'\n\t\tstop // scrollMode 'translate'\n\t} = useThemeScroll(props, instance);\n\n\t// Render\n\n\tif (scrollMode === 'translate') {\n\t\tscrollProps.stop = stop;\n\t} else {\n\t\tscrollProps.scrollStopOnScroll = scrollStopOnScroll;\n\t\tscrollProps.start = start;\n\t}\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...rest,\n\t\t...scrollProps,\n\t\tassignProperties,\n\t\tnoScrollByDrag: !platform.touchscreen,\n\t\taddEventListeners,\n\t\thandleResizeWindow,\n\t\thorizontalScrollbarHandle,\n\t\tonDragEnd: handleDragEnd,\n\t\tonDragStart: handleDragStart,\n\t\tonFlick: handleFlick,\n\t\tonKeyDown: handleKeyDown,\n\t\tonMouseDown: handleMouseDown,\n\t\tonScroll: handleScroll,\n\t\tonWheel: handleWheel,\n\t\tremoveEventListeners,\n\t\tscrollTo,\n\t\tsetScrollContainerHandle,\n\t\tscrollMode,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tscrollContainerRef,\n\t\tspotlightContainerDisabled,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {\n\t\t'data-spotlight-container': spotlightContainer,\n\t\t'data-spotlight-container-disabled': spotlightContainerDisabled,\n\t\t'data-spotlight-id': spotlightId,\n\t\tonTouchStart: handleTouchStart,\n\t\tref: scrollContainerRef\n\t});\n\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tonUpdate: handleScrollerUpdate,\n\t\tscrollContainerRef,\n\t\tscrollAndFocusScrollbarButton,\n\t\tsetThemeScrollContentHandle,\n\t\tspotlightId,\n\t\tscrollContainerHandle,\n\t\tscrollContentHandle,\n\t\tscrollContentRef\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: downButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: upButtonAriaLabel,\n\t\tscrollbarHandle: verticalScrollbarHandle\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\t...scrollbarProps,\n\t\tfocusableScrollButtons: focusableScrollbar,\n\t\tnextButtonAriaLabel: rightButtonAriaLabel,\n\t\tonKeyDownButton: handleKeyDown,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel: leftButtonAriaLabel,\n\t\tscrollbarHandle: horizontalScrollbarHandle\n\t});\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tdataIndexAttribute,\n\tuseScroll\n};\n","import {useRef} from 'react';\n\nconst useThemeScrollContentHandle = () => {\n\t// Mutable value\n\n\tconst themeScrollContentHandle = useRef({\n\t\tcalculatePositionOnFocus: null,\n\t\tfocusByIndex: null,\n\t\tfocusOnNode: null,\n\t\tgetScrollBounds: null,\n\t\tpauseSpotlight: null,\n\t\tsetContainerDisabled: null,\n\t\tsetLastFocusedNode: null,\n\t\tshouldPreventScrollByFocus: null\n\t});\n\n\t// Functions\n\n\tconst setThemeScrollContentHandle = (handle) => {\n\t\tthemeScrollContentHandle.current = handle;\n\t};\n\n\t// Return\n\n\treturn [themeScrollContentHandle, setThemeScrollContentHandle];\n};\n\nexport {\n\tuseThemeScrollContentHandle\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, number, text} from  '@enact/storybook-utils/addons/knobs';\nimport {action} from '@storybook/addon-actions';\nimport {storiesOf} from '@storybook/react';\nimport React from 'react';\n\nimport Dropdown, {DropdownBase} from '@enact/agate/Dropdown';\nimport ri from '@enact/ui/resolution';\n\nconst Config = mergeComponentMetadata('Dropdown', Dropdown, DropdownBase);\nDropdown.displayName = 'Dropdown';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Dropdown',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\ttitle={text('title', Config, 'Please select')}\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</div>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Dropdown', module)\n\t.add(\n\t\t'with 4 directions',\n\t\t() => {\n\t\t\tconst itemCount = number('items', Config, {range: true, min: 0, max: 50}, 5);\n\t\t\tconst items = (new Array(itemCount)).fill().map((i, index) => `Option ${index + 1}`);\n\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"left\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, right: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Left dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"right\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: 0, width:'25%'}}\n\t\t\t\t\t\ttitle=\"Right dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"down\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: 0, left: '50%', transform: 'translateX(-50%)', width:'25%'}}\n\t\t\t\t\t\ttitle=\"Down dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t\t<Dropdown\n\t\t\t\t\t\tdirection=\"up\"\n\t\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\t\tstyle={{position: 'absolute', top: ri.scaleToRem(440),  width:'25%'}}\n\t\t\t\t\t\ttitle=\"Up dropdown\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</Dropdown>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Dropdown'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Header, HeaderBase} from '@enact/agate/Header';\n\nHeader.displayName = 'Header';\nconst Config = mergeComponentMetadata('Header', HeaderBase, Header);\n\n// Set up some defaults for children knob\nconst prop = {\n\tchildren: {\n\t\t'no buttons': null,\n\t\t'1 button': <Button icon=\"home\" />,\n\t\t'2 buttons': (\n\t\t\t<React.Fragment>\n\t\t\t\t<Button>A Button</Button>\n\t\t\t\t<Button icon=\"home\" />\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Header',\n\t\t() => {\n\t\t\tconst childrenSelection = select('children', ['no buttons', '1 button', '2 buttons'], Config);\n\t\t\tconst children = prop.children[childrenSelection];\n\n\t\t\tconst story = (\n\t\t\t\t<Header\n\t\t\t\t\thideLine={boolean('hideLine', Config)}\n\t\t\t\t\tsubtitle={text('subtitle', Config, 'Sub Title')}\n\t\t\t\t\ttitle={text('title', Config, 'Main Title')}\n\t\t\t\t\ttitleAbove={text('titleAbove', Config, '')}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Header>\n\t\t\t);\n\t\t\treturn story;\n\t\t},\n\t\t{\n\t\t\ttext: 'A block to use as a screen\\'s title and description. Supports additional buttons, subtitle and title above.'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/ui/BodyText';\nimport Heading, {HeadingBase} from '@enact/agate/Heading';\n\nimport css from './Heading.module.less';\n\nHeading.displayName = 'Heading';\nconst Config = mergeComponentMetadata('Heading', Heading, HeadingBase);\n\nconst prop = {\n\tcolors: ['', '#E6444B', '#FDC902', '#986AAD', '#4E75E1', '#30CC83', '#44C8D5', '#47439B', '#2D32A6', '#4E75E1'],\n\tsizes: ['', 'title', 'subtitle', 'large', 'medium', 'small', 'tiny'],\n\tspacings: ['', 'auto', 'title', 'large', 'medium', 'small', 'none']\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Heading',\n\t\t() => {\n\t\t\tconst knobProps = {\n\t\t\t\tcolor: select('color', prop.colors, Config),\n\t\t\t\tshowLine: boolean('showLine', Config),\n\t\t\t\tsize: select('size', prop.sizes, Config),\n\t\t\t\tspacing: select('spacing', prop.spacings, Config)\n\t\t\t};\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<Heading {...knobProps}>\n\t\t\t\t\t\t{text('children', Heading, 'Heading Text')}\n\t\t\t\t\t</Heading>\n\t\t\t\t\t<BodyText\n\t\t\t\t\t\tcentered\n\t\t\t\t\t\tclassName={css.spacingIndicator}\n\t\t\t\t\t>\n\t\t\t\t\t\tThis <a href=\"https://enactjs.com/docs/modules/ui/BodyText/\">BodyText</a> component is rendered immediately after the Heading component and is<br />\n\t\t\t\t\t\tmeant to provide a visual indicator of the effects of changing the <code>spacing</code> prop.\n\t\t\t\t\t\t<span className={css.spacingNote}>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<strong>Note</strong>: The <code>spacing</code> prop will have no effect when using the Gallium skin.\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tChoose a different skin from the Global Knobs to see!\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{(knobProps.size === 'title' || typeof knobProps.color === 'undefined') ? null : (\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<strong>Note</strong>: The <code>color</code> prop only applies when the <code>size</code> prop is &quot;title&quot;.\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</BodyText>\n\t\t\t\t</>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'The basic Heading'\n\t\t}\n\t);\n","import {emptify, mergeComponentMetadata} from '@enact/storybook-utils';\nimport {select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {iconList, iconListSilicon} from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Skinnable from '@enact/agate/Skinnable';\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport Heading from '@enact/agate/Heading';\n\n// import icons\nimport docs from '../../images/icon-enact-docs.png';\nimport factory from '../../images/icon-enact-factory.svg';\nimport logo from '../../images/icon-enact-logo.svg';\n\nIcon.displayName = 'Icon';\nconst Config = mergeComponentMetadata('Icon', UiIcon, IconBase, Icon);\n\nconst SkinnedIcon = Skinnable(\n\t{prop: 'skin'},\n\t({skin, ...rest}) => {\n\t\tlet iconNames;\n\t\tconst flip = select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '');\n\t\tconst size = select('size', ['smallest', 'small', 'large', 'huge'], Config, 'large');\n\t\tconst spriteCount = number('spriteCount', Config, {min: 1}, 1);\n\n\t\tswitch (skin) {\n\t\t\tcase 'silicon':  {\n\t\t\t\ticonNames = iconListSilicon; break;\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\ticonNames = iconList;\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Icon\n\t\t\t\t\t{...rest}\n\t\t\t\t\tflip={flip}\n\t\t\t\t\tsize={size}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t>\n\t\t\t\t\t{emptify(select('src', ['', docs, factory, logo], Icon, '')) + emptify(select('icon', ['', ...iconNames], Icon, 'home')) + emptify(text('custom icon', Icon, ''))}\n\t\t\t\t</Icon>\n\t\t\t\t<br />\n\t\t\t\t<br />\n\t\t\t\t<Heading>All Icons</Heading>\n\t\t\t\t{iconNames.map((icon, index) => <Icon key={index} size={size} title={icon}>{icon}</Icon>)}\n\t\t\t</>\n\t\t);\n\t}\n);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Icon',\n\t\t() => (\n\t\t\t<SkinnedIcon />\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Icon'\n\t\t}\n\t);\n","import ri from '@enact/ui/resolution';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ImageItem, {ImageItemBase} from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nconst Config = mergeComponentMetadata('ImageItem', ImageItem, ImageItemBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ImageItem',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\t\tcaptionPosition={select('captionPosition', ['below', 'overlay'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'caption')}\n\t\t\t\t</ImageItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ImageItem'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Image', module)\n\t.add(\n\t\t'without children',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<ImageItem\n\t\t\t\t\tsrc=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t)\n\t);\n","import ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport ImageItem from '@enact/agate/ImageItem';\n\nImageItem.displayName = 'ImageItem';\n\nstoriesOf('Agate QA.ImageItem', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<div style={{width: ri.scaleToRem(400), height: ri.scaleToRem(300)}}>\n\t\t\t\t<Heading showline>ImageItem</Heading>\n\t\t\t\t<ImageItem src=\"http://placehold.it/300x400/9037ab/ffffff&text=Image0\" />\n\t\t\t</div>\n\t\t)\n\t);\n","/**\n * Agate styled ToggleButton components and behaviors.\n *\n * @example\n * <ToggleButton underline>Hello Enact!</ToggleButton>\n *\n * @module agate/ToggleButton\n * @exports ToggleButton\n * @exports ToggleButtonBase\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport Toggleable from '@enact/ui/Toggleable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ToggleButton.module.less';\n\n/**\n * A stateless [Button]{@link agate/Button.Button} that can be toggled by changing its\n * `selected` property.\n *\n * @class ToggleButtonBase\n * @memberof agate/ToggleButton\n * @extends agate/Button.Button\n * @ui\n * @public\n */\nconst ToggleButtonBase = kind({\n\tname: 'ToggleButton',\n\n\tpropTypes: /** @lends agate/ToggleButton.ToggleButtonBase.prototype */ {\n\t\t/**\n\t\t * The string to be displayed as the main content of the toggle button.\n\t\t *\n\t\t * If `toggleOffLabel` and/or `toggleOnLabel` are provided, they will be used for the\n\t\t * respective states.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the button is currently in an \"on\" or \"off\" state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * @type {('smallest'|'small'|'large'|'huge')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['smallest', 'small', 'large', 'huge']),\n\n\t\t/**\n\t\t * Button text displayed in the 'off' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'off' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOffLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Button text displayed in the 'on' state.\n\t\t *\n\t\t * If not specified, `children` will be used for 'on' button text.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\ttoggleOnLabel: PropTypes.string,\n\n\t\t/**\n\t\t * The button type.\n\t\t *\n\t\t * Grid buttons are intended to be grouped with other related buttons.\n\t\t *\n\t\t * @type {('grid'|'standard')}\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['grid', 'standard']),\n\n\t\t/**\n\t\t * Shows toggle indicator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tunderline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tselected: false,\n\t\tsize: 'large',\n\t\ttoggleOffLabel: '',\n\t\ttoggleOnLabel: '',\n\t\tunderline: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'toggleButton',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({selected, styler, underline}) => styler.append({selected, underline}),\n\t\tchildren: ({children, selected, toggleOnLabel, toggleOffLabel}) => {\n\t\t\tlet c = children;\n\t\t\tif (selected && toggleOnLabel) {\n\t\t\t\tc = toggleOnLabel;\n\t\t\t} else if (!selected && toggleOffLabel) {\n\t\t\t\tc = toggleOffLabel;\n\t\t\t}\n\t\t\treturn c;\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tdelete props.underline;\n\t\tdelete props.toggleOffLabel;\n\t\tdelete props.toggleOnLabel;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...props}\n\t\t\t\taria-pressed={props.selected}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * A toggleable button.\n *\n * By default, `ToggleButton` maintains the state of its `selected` property.\n * Supply the `defaultSelected` property to control its initial value. If you\n * wish to directly control updates to the component, supply a value to `selected` at creation time\n * and update it in response to `onToggle` events.\n *\n * @class ToggleButton\n * @memberof agate/ToggleButton\n * @extends agate/ToggleButton.ToggleButtonBase\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ToggleButton = Pure(\n\tToggleable(\n\t\t{prop: 'selected', toggleProp: 'onTap'},\n\t\tSkinnable(\n\t\t\tToggleButtonBase\n\t\t)\n\t)\n);\n\nexport default ToggleButton;\nexport {\n\tToggleButton,\n\tToggleButtonBase\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport IncrementSlider, {IncrementSliderBase} from '@enact/agate/IncrementSlider';\n\nimport {decrementIcons, incrementIcons} from './icons';\n\nIncrementSlider.displayName = 'IncrementSlider';\nconst Config = mergeComponentMetadata('IncrementSlider', IncrementSliderBase, IncrementSlider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'IncrementSlider',\n\t\t() => (\n\t\t\t<IncrementSlider\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdecrementIcon={select('decrementIcon', decrementIcons, Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tincrementIcon={select('incrementIcon', incrementIcons, Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tnoFill={boolean('noFill', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonDragEnd={action('onDragEnd')}\n\t\t\t\tonDragStart={action('onDragStart')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config, 'horizontal')}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic IncrementSlider'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport icons from './icons';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Input, {InputBase} from '@enact/agate/Input';\n\nconst iconNames = ['', ...icons];\n\nconst Config = mergeComponentMetadata('Input', InputBase, Input);\nInput.displayName = 'Input';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Input',\n\t\t() => (\n\t\t\t<Input\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tdismissOnEnter={boolean('dismissOnEnter', Config)}\n\t\t\t\ticonAfter={select('iconAfter', iconNames, Config)}\n\t\t\t\ticonBefore={select('iconBefore', iconNames, Config)}\n\t\t\t\tinvalid={boolean('invalid', Config)}\n\t\t\t\tinvalidMessage={text('invalidMessage', Config)}\n\t\t\t\tonBlur={action('onBlur')}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tonFocus={action('onFocus')}\n\t\t\t\tplaceholder={text('placeholder', Config, 'Input text here')}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t\ttype={text('type', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Input'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiItem, {ItemBase as UiItemBase} from '@enact/ui/Item';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {icons} from '@enact/agate/Icon';\nimport Item, {ItemBase} from '@enact/agate/Item';\n\nconst Config = mergeComponentMetadata('Item', UiItemBase, UiItem, ItemBase, Item);\nItem.displayName = 'Item';\n\nconst iconList = [null, ...Object.keys(icons)];\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Item',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfterIcon = select('slotAfter Icon', iconList, Config);\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfterIcon ? <slotAfter>\n\t\t\t\t\t\t<Icon>{slotAfterIcon}</Icon>\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\ttext: 'Basic usage of Item'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'with icons and a text in slotAfter',\n\t\t() => {\n\t\t\tconst slotBeforeIcon = select('slotBefore Icon', iconList, Config);\n\t\t\tconst slotAfter = [\n\t\t\t\tselect('slotAfter Icon 1', iconList, Config),\n\t\t\t\tselect('slotAfter Icon 2', iconList, Config),\n\t\t\t\ttext('slotAfter Text', Config, 'Sub Text')\n\t\t\t].filter(subText => !!subText).map(subText => (iconList.indexOf(subText) > 0 ? <Icon key={subText}>{subText}</Icon> : subText));\n\n\t\t\treturn (\n\t\t\t\t<Item\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\t\tlabel={text('label', Config)}\n\t\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below'], Config, 'below')}\n\t\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\t>\n\t\t\t\t\t{slotBeforeIcon ? <slotBefore>\n\t\t\t\t\t\t<Icon>{slotBeforeIcon}</Icon>\n\t\t\t\t\t</slotBefore> : null}\n\t\t\t\t\t{text('children', Config, 'Hello Item')}\n\t\t\t\t\t{slotAfter.length > 0 ? <slotAfter>\n\t\t\t\t\t\t{slotAfter}\n\t\t\t\t\t</slotAfter> : null}\n\t\t\t\t</Item>\n\t\t\t);\n\t\t}\n\t);\n","/* eslint-disable jsx-a11y/alt-text */\n/**\n * Provides an Agate-themed thumbnail item.\n *\n * @example\n * <ThumbnailItem src=\"https://dummyimage.com/64/e048e0/0011ff\">An image!</ThumbnailItem>\n *\n * @module agate/ThumbnailItem\n * @exports ThumbnailItem\n * @exports ThumbnailItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Image from '../Image';\nimport Item from '../Item';\n\nimport componentCss from './ThumbnailItem.module.less';\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItemBase\n * @memberof agate/ThumbnailItem\n * @extends agate/Item.Item\n * @ui\n * @public\n */\nconst ThumbnailItemBase = kind({\n\tname: 'ThumbnailItem',\n\n\tpropTypes: /** @lends agate/ThumbnailItem.ThumbnailItemBase.prototype */ {\n\t\t/**\n\t\t * The main content displayed with the thumbnail.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `thumbnailItem` - The root component class\n\t\t * * `content` - The content component class\n\t\t * * `subContent` - The subContent component class\n\t\t * * `roundThumbnail` - Applied when `roundThumbnail=\"true\"`\n\t\t * * `thumbnail` - The thumbnail component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies `selected` className.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * Nodes to be inserted before `children`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tslotBefore: PropTypes.node,\n\n\t\t/**\n\t\t * String value used to determine which thumbnail will appear on a specific screenSize.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.string,\n\n\t\t/**\n\t\t * The thumbnail type.\n\t\t *\n\t\t * @type {('normal'|'styled')}\n\t\t * @default 'normal'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['normal', 'styled'])\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'normal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'thumbnailItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({type, selected, styler}) => styler.append(type, {selected})\n\t},\n\n\trender: ({css, children, src, slotBefore, ...rest}) => {\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<slotBefore>\n\t\t\t\t\t<Image\n\t\t\t\t\t\tclassName={css.thumbnail}\n\t\t\t\t\t\tsrc={src}\n\t\t\t\t\t/>\n\t\t\t\t\t{slotBefore}\n\t\t\t\t</slotBefore>\n\t\t\t\t<div className={css.content}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\nconst ThumbnailItem = Slottable({slots: ['img', 'slotBefore']}, ThumbnailItemBase);\n\n/**\n * A stateless, unfocusable item that can display a thumbnail.\n *\n * @class ThumbnailItem\n * @memberof agate/ThumbnailItem\n * @extends agate/ThumbnailItem.ThumbnailItemBase\n * @ui\n * @public\n */\n\nexport default ThumbnailItem;\nexport {\n\tThumbnailItem,\n\tThumbnailItemBase\n};\n","import React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Heading from '@enact/agate/Heading';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\n\nItem.displayName = 'Item';\n\nstoriesOf('Agate QA.Item', module)\n\t.add(\n\t\t'Kitchen Sink',\n\t\t() => (\n\t\t\t<>\n\t\t\t\t<Heading showLine>Item variations</Heading>\n\t\t\t\t<Item>Default Item</Item>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>All Items inlined</Heading>\n\t\t\t\t<Item inline>Default Item</Item>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\">Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\">Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\">Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\">Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels and slot after</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Heading showLine>Item with labels, slot after, and slot before</Heading>\n\t\t\t\t<Item inline label=\"label above\" labelPosition=\"above\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label below\" labelPosition=\"below\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label before\" labelPosition=\"before\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t\t<Item inline label=\"label after\" labelPosition=\"after\" slotAfter={<Icon>home</Icon>} slotBefore={<Icon>home</Icon>}>Item</Item>\n\t\t\t</>\n\t\t),\n\t\t{\n\t\t\ttext: 'Item Kitchen Sink'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UiIcon from '@enact/ui/Icon';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Icon, {IconBase} from '@enact/agate/Icon';\nimport LabeledIcon from '@enact/agate/LabeledIcon';\n\nimport iconNames from './icons';\n\nLabeledIcon.displayName = 'LabeledIcon';\n\nconst Config = mergeComponentMetadata('LabeledIcon', UiLabeledIconBase, UiLabeledIcon, UiIcon, IconBase, Icon, LabeledIcon);\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIcon',\n\t\t() => (\n\t\t\t<LabeledIcon\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tflip={select('flip', ['', 'both', 'horizontal', 'vertical'], Config, '')}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIcon')}\n\t\t\t</LabeledIcon>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIcon'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text, number} from '@enact/storybook-utils/addons/knobs';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIcon as UiLabeledIcon} from '@enact/ui/LabeledIcon';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('LabeledIconButton', UiLabeledIconBase, UiLabeledIcon, LabeledIconButton);\nConfig.displayName = 'LabeledIconButton';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'LabeledIconButton',\n\t\t() => (\n\t\t\t<LabeledIconButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['', 'opaque', 'lightOpaque', 'transparent'], Config, '')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\thighlighted={boolean('highlighted', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'temperature')}\n\t\t\t\tinline={boolean('inline', Config)}\n\t\t\t\tlabelPosition={select('labelPosition', ['above', 'after', 'before', 'below', 'left', 'right'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\tspriteCount={number('spriteCount', Config, {min: 1}, 1)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Hello LabeledIconButton')}\n\t\t\t</LabeledIconButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of LabeledIconButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport Picker from '@enact/agate/Picker';\n\nconst Config = mergeComponentMetadata('Picker', Picker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Picker',\n\t\t() => (\n\t\t\t<div style={{padding: '0 20%'}}>\n\t\t\t\t<Picker\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\tonChange={action('onChange')}\n\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\t>\n\t\t\t\t\t{['LO', '16\\xB0', '17\\xB0', '18\\xB0', '19\\xB0', 'HI']}\n\t\t\t\t</Picker>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Picker'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport {Popup, PopupBase} from '@enact/agate/Popup';\n\nconst Config = mergeComponentMetadata('Popup', PopupBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Popup',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Popup'\n\t\t}\n\t);\n\nstoriesOf('Agate QA.Popup', module)\n\t.add(\n\t\t'with buttons',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<Button>Button</Button>\n\t\t\t\t<Popup\n\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\tcloseButton={boolean('closeButton', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={boolean('noAutoDismiss', Config)}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\tposition={select('position', ['center', 'top'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t>\n\t\t\t\t\t<div>{text('children', Config, 'Hello Popup')}</div>\n\t\t\t\t\t<buttons>\n\t\t\t\t\t\t<Button>NO</Button>\n\t\t\t\t\t\t<Button>YES</Button>\n\t\t\t\t\t</buttons>\n\t\t\t\t</Popup>\n\t\t\t\tUse KNOBS to interact with Popup.\n\t\t\t</div>\n\t\t)\n\t);\n","import kind from '@enact/core/kind';\nimport ForwardRef from '@enact/ui/ForwardRef';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '../Button';\n\nimport css from './Scrollbar.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} used within\n * a [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @class ScrollButton\n * @memberof agate/useScroll\n * @extends agate/Button.Button\n * @ui\n * @private\n */\nconst ScrollButtonBase = kind({\n\tname: 'ScrollButton',\n\n\tpropTypes: /** @lends agate/useScroll.ScrollButton.prototype */ {\n\t\t/**\n\t\t * Name of icon.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Sets the `aria-label`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the scroll bar button.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/useScroll.ScrollButton.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\t/**\n\t\t * Disables the button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Returns a ref to the root node of the scroll button\n\t\t *\n\t\t * See: https://github.com/facebook/prop-types/issues/240\n\t\t *\n\t\t * @type {Function|Object}\n\t\t * @private\n\t\t */\n\t\tforwardRef: PropTypes.oneOfType([\n\t\t\tPropTypes.func,\n\t\t\tPropTypes.shape({current: PropTypes.any})\n\t\t])\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'scrollButton'\n\t},\n\n\thandlers: {\n\t\tforwardRef: (node, {forwardRef}) => {\n\t\t\t// Allowing findDOMNode in the absence of a means to retrieve a node ref through Button\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tconst current = ReactDOM.findDOMNode(node);\n\n\t\t\t// Safely handle old ref functions and new ref objects\n\t\t\tswitch (typeof forwardRef) {\n\t\t\t\tcase 'object':\n\t\t\t\t\tforwardRef.current = current;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'function':\n\t\t\t\t\tforwardRef(current);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({active, 'aria-label': ariaLabel}) => (active ? null : ariaLabel)\n\t},\n\n\trender: ({forwardRef, ...rest}) => {\n\t\tdelete rest.active;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\tref={forwardRef}\n\t\t\t\tsize=\"small\"\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst ScrollButton = ForwardRef(ScrollButtonBase);\n\nexport default ScrollButton;\nexport {\n\tScrollButton\n};\n","import {forward} from '@enact/core/handle';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ScrollButton from './ScrollButton';\n\nconst\n\tnop = () => {},\n\tprepareButton = (isPrev) => (isVertical) => {\n\t\tlet direction;\n\n\t\tif (isVertical) {\n\t\t\tdirection = isPrev ? 'up' : 'down';\n\t\t} else {\n\t\t\tdirection = isPrev ? 'left' : 'right';\n\t\t}\n\n\t\treturn 'arrowlarge' + direction;\n\t},\n\tpreparePrevButton = prepareButton(true),\n\tprepareNextButton = prepareButton(false),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tconsumeEvent = (ev) => {\n\t\tev.preventDefault();\n\t\tev.stopPropagation();\n\t};\n\n/**\n * An Agate-styled scroll buttons. It is used in [Scrollbar]{@link agate/useScroll.Scrollbar}.\n *\n * @class ScrollButtons\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nclass ScrollButtons extends Component {\n\tstatic displayName = 'ScrollButtons';\n\n\tstatic propTypes = /** @lends agate/useScroll.ScrollButtons.prototype */ {\n\t\t/**\n\t\t * The render function for scrollbar track.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tscrollbarTrackRenderer: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * Specifies to reflect scrollbar's disabled property to the paging controls.\n\t\t * When it is `true`, both prev/next buttons are going to be disabled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * When it is `true`, it allows 5 way navigation to the ScrollButtons.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @private\n\t\t */\n\t\tfocusableScrollButtons: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the next button in the scroll bar.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tnextButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Called when the scrollbar's button is pressed and needs to be bubbled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonKeyDownButton: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the scrollbar's down/right button is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonNextScroll: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the scrollbar's up/left button is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonPrevScroll: PropTypes.func,\n\n\t\t/**\n\t\t * Specifies preventing keydown events from bubbling up to applications.\n\t\t * Valid values are `'none'`, and `'programmatic'`.\n\t\t *\n\t\t * When it is `'none'`, every keydown event is bubbled.\n\t\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t\t * which invokes programmatic spotlight moving.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t\t/**\n\t\t * Sets the hint string read when focusing the previous button in the scroll bar.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tpreviousButtonAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * `true` if rtl, `false` if ltr.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The scrollbar will be oriented vertically.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tvertical: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tfocusableScrollButtons: false,\n\t\tonKeyDownButton: nop,\n\t\tonNextScroll: nop,\n\t\tonPrevScroll: nop\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tprevButtonDisabled: true,\n\t\t\tnextButtonDisabled: true\n\t\t};\n\n\t\tthis.nextButtonRef = React.createRef();\n\t\tthis.prevButtonRef = React.createRef();\n\t}\n\n\tcomponentDidMount () {\n\t\tutilEvent('keydown').addEventListener(this.nextButtonRef, this.onKeyDownNext);\n\t\tutilEvent('keydown').addEventListener(this.prevButtonRef, this.onKeyDownPrev);\n\t}\n\n\tcomponentWillUnmount () {\n\t\tutilEvent('keydown').removeEventListener(this.nextButtonRef, this.onKeyDownNext);\n\t\tutilEvent('keydown').removeEventListener(this.prevButtonRef, this.onKeyDownPrev);\n\t}\n\n\tupdateButtons = (bounds) => {\n\t\tconst\n\t\t\t{vertical} = this.props,\n\t\t\tcurrentPos = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tmaxPos = vertical ? bounds.maxTop : bounds.maxLeft,\n\t\t\tshouldDisablePrevButton = currentPos <= 0,\n\t\t\t/* If a scroll size or a client size is not integer,\n\t\t\t   browser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t\tshouldDisableNextButton = maxPos - currentPos <= 1,\n\t\t\tupdatePrevButton = (this.state.prevButtonDisabled !== shouldDisablePrevButton),\n\t\t\tupdateNextButton = (this.state.nextButtonDisabled !== shouldDisableNextButton);\n\n\t\tif (updatePrevButton || updateNextButton) {\n\t\t\tthis.setState(() => {\n\t\t\t\tif (updatePrevButton && updateNextButton) {\n\t\t\t\t\treturn {prevButtonDisabled: shouldDisablePrevButton, nextButtonDisabled: shouldDisableNextButton};\n\t\t\t\t} else if (updatePrevButton) {\n\t\t\t\t\treturn {prevButtonDisabled: shouldDisablePrevButton};\n\t\t\t\t} else if (updateNextButton) {\n\t\t\t\t\treturn {nextButtonDisabled: shouldDisableNextButton};\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t};\n\n\tisOneOfScrollButtonsFocused = () => {\n\t\tconst current = Spotlight.getCurrent();\n\t\treturn current === this.prevButtonRef.current || current === this.nextButtonRef.current;\n\t};\n\n\tonClickPrev = (ev) => {\n\t\tconst {onPrevScroll, vertical} = this.props;\n\t\tonPrevScroll({...ev, isPreviousScrollButton: true, isVerticalScrollBar: vertical});\n\t};\n\n\tonClickNext = (ev) => {\n\t\tconst {onNextScroll, vertical} = this.props;\n\t\tonNextScroll({...ev, isPreviousScrollButton: false, isVerticalScrollBar: vertical});\n\t};\n\n\tfocusOnButton = (isPrev) => {\n\t\tSpotlight.focus(isPrev ? this.prevButtonRef.current : this.nextButtonRef.current);\n\t};\n\n\tfocusOnOppositeScrollButton = (ev, direction) => {\n\t\tconst buttonNode = (ev.target === this.nextButtonRef.current) ? this.prevButtonRef.current : this.nextButtonRef.current;\n\n\t\tif (!Spotlight.focus(buttonNode)) {\n\t\t\tSpotlight.move(direction);\n\t\t}\n\t};\n\n\tonKeyDownButton = (ev, position) => {\n\t\tconst\n\t\t\t{focusableScrollButtons, vertical, preventBubblingOnKeyDown} = this.props,\n\t\t\t{keyCode} = ev,\n\t\t\tdirection = getDirection(ev.keyCode),\n\t\t\tpreventBubbling = preventBubblingOnKeyDown === 'programmatic',\n\t\t\tisNextButton = position === 'next',\n\t\t\tisPrevButton = position === 'prev',\n\t\t\tnextButton = {\n\t\t\t\tdisabled: this.state.nextButtonDisabled,\n\t\t\t\tref: this.nextButtonRef.current,\n\t\t\t\tclick: this.onClickNext\n\t\t\t},\n\t\t\tprevButton = {\n\t\t\t\tdisabled: this.state.prevButtonDisabled,\n\t\t\t\tref: this.prevButtonRef.current,\n\t\t\t\tclick: this.onClickPrev\n\t\t\t},\n\t\t\tcurrentButton = isPrevButton ? prevButton : nextButton,\n\t\t\toppositeButton = isPrevButton ? nextButton : prevButton;\n\n\t\tif (isPageDown(keyCode) || isPageUp(keyCode)) {\n\t\t\tif (!vertical) {\n\t\t\t\t// should not call stopPropagation() here\n\t\t\t\tev.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (isPrevButton && isPageDown(keyCode) || isNextButton && isPageUp(keyCode)) {\n\t\t\t\tif (focusableScrollButtons && !Spotlight.getPointerMode()) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.setPointerMode(false);\n\t\t\t\t\tSpotlight.focus(ReactDOM.findDOMNode(oppositeButton.ref)); // eslint-disable-line react/no-find-dom-node\n\t\t\t\t} else if (!oppositeButton.disabled) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\toppositeButton.click(ev);\n\t\t\t\t}\n\t\t\t} else if (!currentButton.disabled) {\n\t\t\t\tconsumeEvent(ev);\n\t\t\t\tcurrentButton.click(ev);\n\t\t\t}\n\t\t} else if (direction) {\n\t\t\tconst\n\t\t\t\t{rtl} = this.props,\n\t\t\t\tisDown = direction === 'down',\n\t\t\t\tisLeftMovement = direction === (rtl ? 'right' : 'left'),\n\t\t\t\tisRightMovement = direction === (rtl ? 'left' : 'right'),\n\t\t\t\tisUp = direction === 'up',\n\t\t\t\tfromNextToPrev = vertical ? isUp : isLeftMovement,\n\t\t\t\tfromPrevToNext = vertical ? isDown : isRightMovement;\n\n\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\tif (isNextButton && fromNextToPrev || isPrevButton && fromPrevToNext) {\n\t\t\t\tif (focusableScrollButtons) {\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tthis.focusOnOppositeScrollButton(ev, direction);\n\t\t\t\t\tif (!preventBubbling) {\n\t\t\t\t\t\tforward('onKeyDownButton', ev, this.props);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t// If it is vertical Scroller, move focus to the left for ltr or to the right for rtl\n\t\t\t\t\t// If is is horizontal Scroller, move focus to the up\n\t\t\t\t\tdirectionToContent = !vertical && 'up' || rtl && 'right' || 'left',\n\t\t\t\t\tisLeavingDown = vertical && isNextButton && isDown,\n\t\t\t\t\tisLeavingUp = vertical && isPrevButton && isUp,\n\t\t\t\t\tisLeavingLeft = !vertical && isPrevButton && isLeftMovement,\n\t\t\t\t\tisLeavingRight = !vertical && isNextButton && isRightMovement,\n\t\t\t\t\tisDirectionToLeave =\n\t\t\t\t\t\t(vertical && isRightMovement || isLeavingUp || isLeavingDown) ||\n\t\t\t\t\t\t(!vertical && isDown || isLeavingLeft || isLeavingRight);\n\n\t\t\t\tif (isDirectionToLeave) {\n\t\t\t\t\tif (!focusableScrollButtons && !getTargetByDirectionFromElement(direction, ev.target)) {\n\t\t\t\t\t\tif (preventBubbling && isLeavingDown || isLeavingUp || isLeavingLeft || isLeavingRight) {\n\t\t\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// move focus into contents and allow bubbling\n\t\t\t\t\t\tSpotlight.move(directionToContent);\n\t\t\t\t\t}\n\t\t\t\t} else if (preventBubbling) {\n\t\t\t\t\t// move focus directly to stop bubbling\n\t\t\t\t\tconsumeEvent(ev);\n\t\t\t\t\tSpotlight.move(direction);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tonKeyDownPrev = (ev) => {\n\t\tthis.onKeyDownButton(ev, 'prev');\n\t};\n\n\tonKeyDownNext = (ev) => {\n\t\tthis.onKeyDownButton(ev, 'next');\n\t};\n\n\trender () {\n\t\tconst\n\t\t\t{disabled, nextButtonAriaLabel, previousButtonAriaLabel, rtl, scrollbarTrackRenderer, vertical} = this.props,\n\t\t\t{prevButtonDisabled, nextButtonDisabled} = this.state,\n\t\t\tprevIcon = preparePrevButton(vertical),\n\t\t\tnextIcon = prepareNextButton(vertical);\n\n\t\treturn [\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? nextButtonAriaLabel : previousButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || prevButtonDisabled}\n\t\t\t\tkey=\"prevButton\"\n\t\t\t\tonClick={this.onClickPrev}\n\t\t\t\tonHoldPulse={this.onClickPrev}\n\t\t\t\tref={this.prevButtonRef}\n\t\t\t\ticon={prevIcon}\n\t\t\t/>,\n\t\t\tscrollbarTrackRenderer(),\n\t\t\t<ScrollButton\n\t\t\t\taria-label={rtl && !vertical ? previousButtonAriaLabel : nextButtonAriaLabel}\n\t\t\t\tdata-spotlight-overflow=\"ignore\"\n\t\t\t\tdisabled={disabled || nextButtonDisabled}\n\t\t\t\tkey=\"nextButton\"\n\t\t\t\tonClick={this.onClickNext}\n\t\t\t\tonHoldPulse={this.onClickNext}\n\t\t\t\tref={this.nextButtonRef}\n\t\t\t\ticon={nextIcon}\n\t\t\t/>\n\t\t];\n\t}\n}\n\nexport default ScrollButtons;\nexport {\n\tScrollButtons\n};\n","import {ScrollbarTrack as UiScrollbarTrack} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef, useEffect} from 'react';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollbar track with agate behavior\n *\n * @class ScrollbarTrack\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef(({cbAlertScrollbarTrack, ...rest}, ref) => {\n\tuseEffect (() => {\n\t\tcbAlertScrollbarTrack();\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\treturn <UiScrollbarTrack {...rest} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends agate/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * Called when [ScrollbarTrack]{@link agate/useScroll.ScrollbarTrack} is updated.\n\t *\n\t * @type {Function}\n\t * @private\n\t */\n\tcbAlertScrollbarTrack: PropTypes.func\n};\n\nScrollbarTrack.defaultProps = {\n\tcbAlertScrollbarTrack: nop\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import {useScrollbar as useScrollbarBase} from '@enact/ui/useScroll/Scrollbar';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect, useRef} from 'react';\n\nimport ScrollButtons from './ScrollButtons';\nimport ScrollbarTrack from './ScrollbarTrack';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst useThemeScrollbar = (props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbarBase(props);\n\n\tconst {\n\t\tcbAlertScrollbarTrack,\n\t\tfocusableScrollButtons,\n\t\tnextButtonAriaLabel,\n\t\tonKeyDownButton,\n\t\tonNextScroll,\n\t\tonPrevScroll,\n\t\tpreventBubblingOnKeyDown,\n\t\tpreviousButtonAriaLabel,\n\t\trtl,\n\t\t...rest\n\t} = restProps;\n\n\tconst {vertical} = scrollbarTrackProps;\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps: {\n\t\t\tfocusableScrollButtons,\n\t\t\tnextButtonAriaLabel,\n\t\t\tonKeyDownButton,\n\t\t\tonNextScroll,\n\t\t\tonPrevScroll,\n\t\t\tpreventBubblingOnKeyDown,\n\t\t\tpreviousButtonAriaLabel,\n\t\t\trtl,\n\t\t\tvertical\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\t...scrollbarTrackProps,\n\t\t\tcbAlertScrollbarTrack\n\t\t}\n\t};\n};\n\n/**\n * An Agate-styled scrollbar base component.\n *\n * @class ScrollbarBase\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst ScrollbarBase = memo((props) => {\n\tconst scrollButtonsRef = useRef();\n\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarButtonsProps,\n\t\tscrollbarTrackProps\n\t} = useThemeScrollbar(props);\n\n\tuseEffect(() => {\n\t\tconst {scrollbarHandle} = props;\n\t\tconst {update: uiUpdate} = scrollbarHandle.current;\n\t\tconst {focusOnButton, isOneOfScrollButtonsFocused, updateButtons} = scrollButtonsRef.current;\n\n\t\tscrollbarHandle.current.update = (bounds) => {\n\t\t\tupdateButtons(bounds);\n\t\t\tuiUpdate(bounds);\n\t\t};\n\n\t\tscrollbarHandle.current.focusOnButton = focusOnButton;\n\t\tscrollbarHandle.current.isOneOfScrollButtonsFocused = isOneOfScrollButtonsFocused;\n\t});\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollButtons\n\t\t\t\t{...scrollbarButtonsProps}\n\t\t\t\tref={scrollButtonsRef}\n\t\t\t\tscrollbarTrackRenderer={() => { // eslint-disable-line react/jsx-no-bind\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ScrollbarTrack\n\t\t\t\t\t\t\t{...scrollbarTrackProps}\n\t\t\t\t\t\t\tkey=\"scrollbarTrack\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n});\n\nScrollbarBase.displayName = 'ScrollbarBase';\n\nScrollbarBase.propTypes = /** @lends agate/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * If `true`, add the corner between vertical and horizontal scrollbars.\n\t *\n\t * @type {Booelan}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * The minimum size of the thumb.\n\t * This value will be applied ri.scale.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * `true` if rtl, `false` if ltr.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\trtl: PropTypes.bool,\n\n\t/**\n\t * The scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarBase.defaultProps = {\n\tcorner: false,\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\n/**\n * An Agate-styled scroll bar.\n *\n * @class Scrollbar\n * @memberof agate/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = Skinnable(ScrollbarBase);\n\nScrollbar.displayName = 'Scrollbar';\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbarBase\n};\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React, {useState} from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport CheckboxItem from '@enact/agate/CheckboxItem';\nimport Input from '@enact/agate/Input';\nimport Picker from '@enact/agate/Picker';\nimport PopupMenu from '@enact/agate/PopupMenu';\n\nimport css from './PopupMenu.module.less';\n\nconst Config = mergeComponentMetadata('PopupMenu', PopupMenu);\n\nconst Story = ({children: {props, type: Component}, ...rest}) => {\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\n\tfunction onClose () {\n\t\tsetMenuOpen(false);\n\t}\n\n\tfunction onOpen () {\n\t\tsetMenuOpen(true);\n\t}\n\n\treturn (\n\t\t<div {...rest}>\n\t\t\t{menuOpen ? null : (<Button onClick={onOpen}>Open Menu</Button>)}\n\t\t\t<Component\n\t\t\t\t{...props}\n\t\t\t\tonClose={onClose}\n\t\t\t\topen={menuOpen}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nstoriesOf('Agate', module).add(\n\t'PopupMenu',\n\t() => {\n\t\tconst closeButton = boolean('closeButton', Config);\n\t\tconst noAutoDismiss = boolean('noAutoDismiss', Config);\n\n\t\treturn (\n\t\t\t<Story>\n\t\t\t\t<PopupMenu\n\t\t\t\t\tcloseButton={closeButton}\n\t\t\t\t\tcloseButtonLabel={text('closeButtonLabel', Config)}\n\t\t\t\t\tnoAnimation={boolean('noAnimation', Config)}\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\tonClose={action('onClose')}\n\t\t\t\t\tonHide={action('onHide')}\n\t\t\t\t\topen={boolean('open', Config)}\n\t\t\t\t\torientation={select('orientation', ['horizontal'], Config)}\n\t\t\t\t\tscrimType={select('scrimType', ['none', 'translucent', 'transparent'], Config, 'translucent')}\n\t\t\t\t\tspotlightRestrict={select('spotlightRestrict', ['self-first', 'self-only'], Config, 'self-only')}\n\t\t\t\t\ttitle={text('title', Config, 'Title')}\n\t\t\t\t>\n\t\t\t\t\t{!(noAutoDismiss && !closeButton) ? null : (\n\t\t\t\t\t\t<h2 className={css.cannotClose}>\n\t\t\t\t\t\t\tWarning! With <code>closeButton=false</code> and <code>noAutoDismiss=true</code> it will be impossible to close this menu.\n\t\t\t\t\t\t</h2>)}\n\t\t\t\t\t<Picker>\n\t\t\t\t\t\t{['Crunchy', 'Smooth']}\n\t\t\t\t\t</Picker>\n\t\t\t\t\t<Input placeholder=\"How many?\" type=\"number\" />\n\t\t\t\t\t<CheckboxItem>\n\t\t\t\t\t\tRush delivery\n\t\t\t\t\t</CheckboxItem>\n\t\t\t\t</PopupMenu>\n\t\t\t</Story>\n\t\t);\n\t},\n\t{\n\t\ttext: 'Basic usage of PopupMenu'\n\t}\n);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ProgressBar, {ProgressBarBase} from '@enact/agate/ProgressBar';\n\nProgressBar.displayName = 'ProgressBar';\nconst Config = mergeComponentMetadata('ProgressBar', UiProgressBar, ProgressBarBase, ProgressBar);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ProgressBar',\n\t\t() => (\n\t\t\t<ProgressBar\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config)}\n\t\t\t\tprogress={number('progress', Config, {range: true, min: 0, max: 1, step: 0.01}, 0.4)}\n\t\t\t\tsize={select('size', ['small', 'large'], Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ProgressBar'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport RadioItem from '@enact/agate/RadioItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('RadioItem', RadioItem);\nRadioItem.displayName = 'RadioItem';\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RadioItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<RadioItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</RadioItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic RadioItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport {PickerBase} from '@enact/agate/internal/Picker';\nimport RangePicker from '@enact/agate/RangePicker';\n\nconst Config = mergeComponentMetadata('RangePicker', RangePicker, PickerBase);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'RangePicker',\n\t\t() => (\n\t\t\t<RangePicker\n\t\t\t\tdefaultValue={5}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tmax={number('max', Config, 20)}\n\t\t\t\tmin={number('min', Config, 0)}\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], Config)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of RangePicker'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {ScrollerBasic as UiScrollerBasic} from '@enact/ui/Scroller';\nimport {storiesOf} from '@storybook/react';\n\nimport BodyText from '@enact/agate/BodyText';\nimport Scroller from '@enact/agate/Scroller';\n\nconst prop = {\n\tdirection: ['both', 'horizontal', 'vertical'],\n\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\tscrollModeOption: ['native', 'translate']\n};\n\nconst ScrollerConfig = mergeComponentMetadata('Scroller', UiScrollerBasic, Scroller);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Scroller',\n\t\t() => (\n\t\t\t<Scroller\n\t\t\t\tdirection={select('direction', prop.direction, ScrollerConfig)}\n\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', ScrollerConfig)}\n\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', ScrollerConfig)}\n\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, ScrollerConfig)}\n\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', ScrollerConfig, false)}\n\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, ScrollerConfig)}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\theight: ri.scaleToRem(2004),\n\t\t\t\t\t\twidth: ri.scaleToRem(4002)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<BodyText>\n\t\t\t\t\t\tLorem ipsum dolor sit amet, consectetur adipiscing elit.<br />\n\t\t\t\t\t\tAenean id blandit nunc. Donec lacinia nisi vitae mi dictum, eget pulvinar nunc tincidunt. Integer vehicula tempus rutrum. Sed efficitur neque in arcu dignissim cursus.\n\t\t\t\t\t</BodyText>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: ri.scaleToRem(1602)\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BodyText>\n\t\t\t\t\t\t\tMauris blandit sollicitudin mattis. Fusce commodo arcu vitae risus consectetur sollicitudin. Aliquam eget posuere orci. Cras pellentesque lobortis sapien non lacinia.\n\t\t\t\t\t\t</BodyText>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Scroller>\n\t\t),\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of Scroller'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, number} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Slider, {SliderBase} from '@enact/agate/Slider';\n\nSlider.displayName = 'Slider';\nconst Config = mergeComponentMetadata('Slider', SliderBase, Slider);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Slider',\n\t\t() => (\n\t\t\t<Slider\n\t\t\t\tactivateOnFocus={boolean('activateOnFocus', Config)}\n\t\t\t\tactive={boolean('active', Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tfocused={boolean('focused', Config)}\n\t\t\t\tknobStep={number('knobStep', Config)}\n\t\t\t\tmax={number('max', Config)}\n\t\t\t\tmin={number('min', Config)}\n\t\t\t\tonActivate={action('onActivate')}\n\t\t\t\tonKeyDown={action('onKeyDown')}\n\t\t\t\tonKeyUp={action('onKeyUp')}\n\t\t\t\torientation={select('orientation', ['horizontal', 'vertical'], Config, 'horizontal')}\n\t\t\t\tprogressAnchor={number('progressAnchor', Config, {range: true, min: 0, max: 1, step: 0.1}, 0)}\n\t\t\t\tstep={number('step', Config)}\n\t\t\t/>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic Slider'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SliderButton, {SliderButtonBase} from '@enact/agate/SliderButton';\nimport {icons} from '@enact/agate/Icon';\n\nSliderButton.displayName = 'SliderButton';\nconst Config = mergeComponentMetadata('SliderButton', SliderButtonBase, SliderButton);\n\n// Set up some defaults for info and knobs\nconst prop = {\n\ticons: ['', ...Object.keys(icons)],\n\t3: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed'\n\t],\n\t5: [\n\t\t'Light Speed',\n\t\t'Ridiculous Speed',\n\t\t'Ludicrous Speed',\n\t\t'Bananas Speed',\n\t\t'OK Enough Speed'\n\t]\n};\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SliderButton',\n\t\t() => (\n\t\t\t<SliderButton\n\t\t\t\tonChange={action('onChange')}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t>\n\t\t\t\t{prop[select('options', [3, 5], Config, '3')]}\n\t\t\t</SliderButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SliderButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\nimport UiSpinner, {SpinnerBase as UiSpinnerBase} from '@enact/ui/Spinner';\nimport ri from '@enact/ui/resolution';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Spinner, {SpinnerBase} from '@enact/agate/Spinner';\n\nSpinner.displayName = 'Spinner';\nconst Config = mergeComponentMetadata('Spinner', UiSpinnerBase, UiSpinner, SpinnerBase, Spinner);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'Spinner',\n\t\t() => (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\tposition: 'relative',\n\t\t\t\t\tpadding: ri.unit(90, 'rem'),\n\t\t\t\t\tbackgroundColor: 'rgba(0, 187, 187, 0.5)'\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\theight: ri.unit(180, 'rem')\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<label\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\toutline: 'teal dashed 1px',\n\t\t\t\t\t\t\tbackgroundColor: 'rgba(0, 128, 128, 0.5)',\n\t\t\t\t\t\t\tcolor: '#0bb',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttransform: 'translateY(-100%)',\n\t\t\t\t\t\t\tborderBottomWidth: 0,\n\t\t\t\t\t\t\tpadding: '0.1em 1em',\n\t\t\t\t\t\t\tfontWeight: 100,\n\t\t\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\t\t\tfontSize: ri.unit(15, 'rem')\n\t\t\t\t\t\t}}\n\t\t\t\t\t>Container</label>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\twidth: '100%'\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Spinner\n\t\t\t\t\t\tblockClickOn={select('blockClickOn', [null, 'container', 'screen'], Config)}\n\t\t\t\t\t\tcentered={boolean('centered', Config)}\n\t\t\t\t\t\tcolor={select('color', ['dark', 'light'], Config, 'light')}\n\t\t\t\t\t\tpaused={boolean('paused', Config)}\n\t\t\t\t\t\tscrim={boolean('scrim', Config)}\n\t\t\t\t\t\tsize={select('size', ['huge', 'large', 'small', 'smallest'], Config)}\n\t\t\t\t\t\ttype={select('type', ['loading', 'searching'], Config, 'searching')}\n\t\t\t\t\t\ttransparent={boolean('transparent', Config)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of Spinner'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport SwitchItem from '@enact/agate/SwitchItem';\n\nimport iconNames from './icons';\n\nconst Config = mergeComponentMetadata('SwitchItem', SwitchItem);\nSwitchItem.displayName = 'SwitchItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'SwitchItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<SwitchItem\n\t\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\t\ticon={select('icon', ['', ...iconNames], Config, 'music')}\n\t\t\t\t\toffText={text('offText', Config)}\n\t\t\t\t\tonText={text('onText', Config)}\n\t\t\t\t>\n\t\t\t\t\t{text('children', Config, 'Sound')}\n\t\t\t\t</SwitchItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic SwitchItem'\n\t\t}\n\t);\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {forwardRef} from 'react';\n\nimport css from './ScrollbarTrack.module.less';\n\n/**\n * An unstyled scroll track without any behavior.\n *\n * @function ScrollbarTrack\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst ScrollbarTrack = forwardRef((props, ref) => {\n\tconst\n\t\t{vertical, ...rest} = props,\n\t\tclassName = classNames(css.scrollbarTrack, vertical ? css.vertical : null);\n\n\treturn <div {...rest} className={className} ref={ref} />;\n});\n\nScrollbarTrack.displayName = 'ui:ScrollbarTrack';\n\nScrollbarTrack.propTypes = /** @lends ui/useScroll.ScrollbarTrack.prototype */ {\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbarTrack.defaultProps = {\n\tvertical: true\n};\n\nexport default ScrollbarTrack;\nexport {\n\tScrollbarTrack,\n\tScrollbarTrack as ScrollbarTrackBase\n};\n","import classNames from 'classnames';\nimport {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React, {memo, useEffect, useRef} from 'react';\nimport ReactDOM from 'react-dom';\n\nimport ri from '../resolution';\n\nimport ScrollbarTrack from './ScrollbarTrack';\n\nimport componentCss from './Scrollbar.module.less';\n\nconst scrollbarTrackHidingDelay = 900; // 900ms + 100ms(fade out duration) = 1000ms.\n\nconst addClass = (element, className) => {\n\tconst node = ReactDOM.findDOMNode(element); // eslint-disable-line react/no-find-dom-node\n\tif (node) {\n\t\tnode.classList.add(className);\n\t}\n};\n\nconst removeClass = (element, className) => {\n\tconst node = ReactDOM.findDOMNode(element); // eslint-disable-line react/no-find-dom-node\n\tif (node) {\n\t\tnode.classList.remove(className);\n\t}\n};\n\n/*\n * Set CSS Variable value.\n *\n * @method\n * @param {Node} element - Node.\n * @param {String} variable - CSS Variable property.\n * @param {String} value - CSS Variable value.\n */\nconst setCSSVariable = (element, variable, value) => {\n\tReactDOM.findDOMNode(element).style.setProperty(variable, value); // eslint-disable-line react/no-find-dom-node\n};\n\n/**\n * A custom hook that passes scrollbar behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollbar = (props) => {\n\tconst {className, clientSize, corner, css, minThumbSize, scrollbarHandle, vertical, ...rest} = props;\n\t// Refs\n\tconst scrollbarContainerRef = useRef();\n\tconst scrollbarTrackRef = useRef();\n\tconst hideScrollbarTrackJob = useRef(null);\n\n\thideScrollbarTrackJob.current = hideScrollbarTrackJob.current || new Job(hideScrollbarTrack, scrollbarTrackHidingDelay);\n\n\tfunction hideScrollbarTrack () {\n\t\tremoveClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\thideScrollbarTrackJob.current.stop();\n\t\t};\n\t}, []);\n\n\tfunction getContainerRef () {\n\t\treturn scrollbarContainerRef;\n\t}\n\n\tfunction showScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.stop();\n\t\taddClass(scrollbarTrackRef.current, css.scrollbarTrackShown);\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\thideScrollbarTrackJob.current.start();\n\t}\n\n\tfunction update (bounds) {\n\t\tconst\n\t\t\tprimaryDimension = vertical ? 'clientHeight' : 'clientWidth',\n\t\t\ttrackSize = clientSize ? clientSize[primaryDimension] : scrollbarContainerRef.current[primaryDimension],\n\t\t\tscrollViewSize = vertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tscrollContentSize = vertical ? bounds.scrollHeight : bounds.scrollWidth,\n\t\t\tscrollOrigin = vertical ? bounds.scrollTop : bounds.scrollLeft,\n\t\t\tscrollbarThumbSizeRatioBase = (scrollViewSize / scrollContentSize),\n\t\t\tscrollbarThumbProgressRatio = (scrollOrigin / (scrollContentSize - scrollViewSize)),\n\t\t\tscrollbarThumbSizeRatio = Math.max(ri.scale(minThumbSize) / trackSize, Math.min(1, scrollbarThumbSizeRatioBase));\n\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-size-ratio', scrollbarThumbSizeRatio);\n\t\tsetCSSVariable(scrollbarTrackRef.current, '--scrollbar-thumb-progress-ratio', scrollbarThumbProgressRatio);\n\t}\n\n\tscrollbarHandle.current = {\n\t\tgetContainerRef,\n\t\tshowScrollbarTrack,\n\t\tstartHidingScrollbarTrack,\n\t\tupdate\n\t};\n\n\treturn {\n\t\trestProps: rest,\n\t\tscrollbarProps: {\n\t\t\tclassName: classNames(\n\t\t\t\tclassName,\n\t\t\t\tcorner ? css.corner : null,\n\t\t\t\tcss.scrollbar,\n\t\t\t\tvertical ? css.vertical : css.horizontal\n\t\t\t),\n\t\t\tref: scrollbarContainerRef\n\t\t},\n\t\tscrollbarTrackProps: {\n\t\t\tref: scrollbarTrackRef,\n\t\t\tvertical\n\t\t}\n\t};\n};\n\n/**\n * An unstyled scroll bar.\n *\n * @class Scrollbar\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst Scrollbar = memo((props) => {\n\tconst {\n\t\trestProps,\n\t\tscrollbarProps,\n\t\tscrollbarTrackProps\n\t} = useScrollbar(props);\n\n\treturn (\n\t\t<div {...restProps} {...scrollbarProps}>\n\t\t\t<ScrollbarTrack {...scrollbarTrackProps} />\n\t\t</div>\n\t);\n});\n\nScrollbar.displayName = 'ui:Scrollbar';\n\nScrollbar.propTypes = /** @lends ui/useScroll.Scrollbar.prototype */ {\n\t/**\n\t * Client size of the container; valid values are an object that has `clientWidth` and `clientHeight`.\n\t *\n\t * @type {Object}\n\t * @property {Number}    clientHeight    The client height of the list.\n\t * @property {Number}    clientWidth    The client width of the list.\n\t * @public\n\t */\n\tclientSize: PropTypes.shape({\n\t\tclientHeight: PropTypes.number.isRequired,\n\t\tclientWidth: PropTypes.number.isRequired\n\t}),\n\n\t/**\n\t * Adds a corner between the vertical and horizontal scrollbars.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tcorner: PropTypes.bool,\n\n\t/**\n\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t * corresponding internal elements and states of this component.\n\t *\n\t * The following classes are supported:\n\t *\n\t * * `scrollbar` - The scrollbar component class\n\t *\n\t * @type {Object}\n\t * @public\n\t */\n\tcss: PropTypes.object,\n\n\t/**\n\t * The minimum size of the thumb.\n\t *\n\t * This value will be scaled.\n\t *\n\t * @type {number}\n\t * @public\n\t */\n\tminThumbSize: PropTypes.number,\n\n\t/**\n\t * If `true`, the scrollbar will be oriented vertically.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tvertical: PropTypes.bool\n};\n\nScrollbar.defaultProps = {\n\tcorner: false,\n\tcss: componentCss,\n\tminThumbSize: 18,\n\tvertical: true\n};\n\nexport default Scrollbar;\nexport {\n\tScrollbar,\n\tScrollbar as ScrollbarBase,\n\tScrollbarTrack,\n\tuseScrollbar\n};\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button from '@enact/agate/Button';\nimport Icon from '@enact/agate/Icon';\nimport Item from '@enact/agate/Item';\nimport LabeledIconButton from '@enact/agate/LabeledIconButton';\nimport {Panel, TabbedPanels} from '@enact/agate/Panels';\n\nTabbedPanels.displayName = 'TabbedPanels';\n\n// `paddingBottom: '56.25%'` is a trick to impose 16:9 aspect ratio on the component, since padding percentage is based on the width, not the height.\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TabbedPanels',\n\t\t() => (\n\t\t\t<div style={{paddingBottom: '56.25%'}}>\n\t\t\t\t<TabbedPanels\n\t\t\t\t\tduration={number('duration', TabbedPanels)}\n\t\t\t\t\tonClick={action('onClick')}\n\t\t\t\t\tindex={Number(select('index', ['0', '1', '2', '3'], TabbedPanels, '0'))}\n\t\t\t\t\tnoCloseButton={boolean('noCloseButton', TabbedPanels)}\n\t\t\t\t\tonSelect={action('onSelect')}\n\t\t\t\t\torientation={select('orientation', ['vertical', 'horizontal'], TabbedPanels, 'vertical')}\n\t\t\t\t\ttabPosition={select('tabPosition', ['before', 'after'], TabbedPanels, 'before')}\n\t\t\t\t\ttabs={[\n\t\t\t\t\t\t{title: 'Button', icon: 'netbook'},\n\t\t\t\t\t\t{title: 'Item', icon: 'aircirculation'},\n\t\t\t\t\t\t{title: 'LabeledIconButton', icon: 'temperature'}\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<beforeTabs>\n\t\t\t\t\t\t<Button size=\"small\" type=\"grid\" icon=\"arrowlargeleft\" />\n\t\t\t\t\t</beforeTabs>\n\t\t\t\t\t<afterTabs>\n\t\t\t\t\t\t<Button size=\"small\" type=\"grid\" icon=\"arrowlargeright\" />\n\t\t\t\t\t</afterTabs>\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t<Button icon=\"netbook\">Click me!</Button>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t<Item label=\"label\" labelPosition=\"before\" slotBefore={<Icon>aircirculation</Icon>}>Hello Item</Item>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel className=\"enact-fit\">\n\t\t\t\t\t\t<LabeledIconButton\n\t\t\t\t\t\t\tlabelPosition=\"after\"\n\t\t\t\t\t\t\ticon=\"temperature\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHello LabeledIconButton\n\t\t\t\t\t\t</LabeledIconButton>\n\t\t\t\t\t</Panel>\n\t\t\t\t\t<Panel>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\tA simple view with no associated tab\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Panel>\n\t\t\t\t</TabbedPanels>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic TabbedPanels'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\nThumbnailItem.displayName = 'ThumbnailItem';\n\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<div>\n\t\t\t\t<ThumbnailItem\n\t\t\t\t\tsrc={text('src', Config, 'https://dummyimage.com/64/e048e0/0011ff')}\n\t\t\t\t>\n\t\t\t\t\tAn image!\n\t\t\t\t</ThumbnailItem>\n\t\t\t</div>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {text, select, boolean} from '@enact/storybook-utils/addons/knobs';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport ThumbnailItem from '@enact/agate/ThumbnailItem';\n\nThumbnailItem.displayName = 'ThumbnailItem';\n\nconst Config = mergeComponentMetadata('ThumbnailItem', ThumbnailItem);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ThumbnailItem',\n\t\t() => (\n\t\t\t<ThumbnailItem\n\t\t\t\tsrc=\"https://dummyimage.com/64/e048e0/0011ff\"\n\t\t\t\tlabel={text('label', Config, 'Sub Content')}\n\t\t\t\ttype={select('type', ['normal', 'styled'], Config)}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t>\n\t\t\t\t{text('children', Config, 'Main Content')}\n\t\t\t</ThumbnailItem>\n\t\t),\n\t\t{\n\t\t\ttext: 'Basic usage of ThumbnailItem'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport UIButton, {ButtonBase as UIButtonBase} from '@enact/ui/Button';\nimport React from 'react';\nimport {storiesOf} from '@storybook/react';\n\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport ToggleButton, {ToggleButtonBase} from '@enact/agate/ToggleButton';\n\nimport iconNames from './icons';\n\nToggleButton.displayName = 'ToggleButton';\nconst Config = mergeComponentMetadata('ToggleButton', UIButtonBase, UIButton, ButtonBase, Button, ToggleButtonBase, ToggleButton);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'ToggleButton',\n\t\t() => (\n\t\t\t<ToggleButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdefaultSelected={boolean('defaultSelected', Config, true)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\ticon={select('icon', ['', ...iconNames], Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tonToggle={action('onToggle')}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttoggleOffLabel={text('toggleOffLabel', Config, 'Off')}\n\t\t\t\ttoggleOnLabel={text('toggleOnLabel', Config, 'On')}\n\t\t\t\ttype={select('type', ['grid', 'standard'], Config, 'standard')}\n\t\t\t\tunderline={boolean('underline', Config, true)}\n\t\t\t>\n\t\t\t\t{text('children', ToggleButton, 'Click me')}\n\t\t\t</ToggleButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic ToggleButton'\n\t\t}\n\t);\n","import {mergeComponentMetadata} from '@enact/storybook-utils';\nimport {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, select, text} from '@enact/storybook-utils/addons/knobs';\nimport {storiesOf} from '@storybook/react';\nimport Button, {ButtonBase} from '@enact/agate/Button';\nimport TooltipDecorator from '@enact/agate/TooltipDecorator';\nimport UiButton from '@enact/ui/Button';\nimport React from 'react';\n\nButton.displayName = 'TooltipDecorator';\nconst Config = mergeComponentMetadata('TooltipDecorator', UiButton, ButtonBase, Button);\nconst TooltipButton = TooltipDecorator({tooltipDestinationProp: 'decoration'}, Button);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'TooltipDecorator',\n\t\t() => (\n\t\t\t<TooltipButton\n\t\t\t\tbackgroundOpacity={select('backgroundOpacity', ['opaque', 'lightOpaque', 'transparent'], Config)}\n\t\t\t\tdisabled={boolean('disabled', Config)}\n\t\t\t\tonClick={action('onClick')}\n\t\t\t\tselected={boolean('selected', Config)}\n\t\t\t\tsize={select('size', ['smallest', 'small', 'large', 'huge'], Config)}\n\t\t\t\ttooltipText={text('tooltip', Config, 'Tooltip')}\n\t\t\t>\n\t\t\t\t{text('children', Button, 'Click me')}\n\t\t\t</TooltipButton>\n\t\t),\n\t\t{\n\t\t\ttext: 'The basic TooltipDecorator'\n\t\t}\n\t);\n","import {action} from '@enact/storybook-utils/addons/actions';\nimport {boolean, number, select} from '@enact/storybook-utils/addons/knobs';\nimport {mergeComponentMetadata} from '@enact/storybook-utils';\nimport React from 'react';\nimport ri from '@enact/ui/resolution';\nimport {storiesOf} from '@storybook/react';\nimport {VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\n\nimport Item from '@enact/agate/Item';\nimport VirtualList from '@enact/agate/VirtualList';\n\nconst\n\twrapOption = {\n\t\tfalse: false,\n\t\ttrue: true,\n\t\t'&quot;noAnimation&quot;': 'noAnimation'\n\t},\n\tprop = {\n\t\tscrollbarOption: ['auto', 'hidden', 'visible'],\n\t\tscrollModeOption: ['native', 'translate']\n\t},\n\titems = [],\n\tdefaultDataSize = 1000,\n\t// eslint-disable-next-line enact/prop-types, enact/display-name\n\trenderItem = (size) => ({index, ...rest}) => {\n\t\tconst itemStyle = {\n\t\t\tborderBottom: ri.unit(6, 'rem') + ' solid #202328',\n\t\t\tboxSizing: 'border-box',\n\t\t\theight: ri.unit(size, 'rem')\n\t\t};\n\n\t\treturn (\n\t\t\t<Item {...rest} style={itemStyle}>\n\t\t\t\t{items[index]}\n\t\t\t</Item>\n\t\t);\n\t};\n\nconst updateDataSize = (dataSize) => {\n\tconst\n\t\titemNumberDigits = dataSize > 0 ? ((dataSize - 1) + '').length : 0,\n\t\theadingZeros = Array(itemNumberDigits).join('0');\n\n\titems.length = 0;\n\n\tfor (let i = 0; i < dataSize; i++) {\n\t\titems.push('Item ' + (headingZeros + i).slice(-itemNumberDigits));\n\t}\n\n\treturn dataSize;\n};\n\nupdateDataSize(defaultDataSize);\n\nconst VirtualListConfig = mergeComponentMetadata('VirtualList', UiVirtualListBasic, VirtualList);\n\nstoriesOf('Agate', module)\n\t.add(\n\t\t'VirtualList',\n\t\t() => {\n\t\t\treturn (\n\t\t\t\t<VirtualList\n\t\t\t\t\tdataSize={updateDataSize(number('dataSize', VirtualListConfig, defaultDataSize))}\n\t\t\t\t\tfocusableScrollbar={boolean('focusableScrollbar', VirtualListConfig)}\n\t\t\t\t\thorizontalScrollbar={select('horizontalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\titemRenderer={renderItem(ri.scale(number('itemSize', VirtualListConfig, 144)))}\n\t\t\t\t\titemSize={ri.scale(number('itemSize', VirtualListConfig, 144))}\n\t\t\t\t\tkey={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tnoScrollByWheel={boolean('noScrollByWheel', VirtualListConfig)}\n\t\t\t\t\tonScrollStart={action('onScrollStart')}\n\t\t\t\t\tonScrollStop={action('onScrollStop')}\n\t\t\t\t\tscrollMode={select('scrollMode', prop.scrollModeOption, VirtualListConfig)}\n\t\t\t\t\tspacing={ri.scale(number('spacing', VirtualListConfig))}\n\t\t\t\t\tspotlightDisabled={boolean('spotlightDisabled', VirtualListConfig, false)}\n\t\t\t\t\tverticalScrollbar={select('verticalScrollbar', prop.scrollbarOption, VirtualListConfig)}\n\t\t\t\t\twrap={wrapOption[select('wrap', ['false', 'true', '\"noAnimation\"'], VirtualListConfig)]}\n\t\t\t\t/>\n\t\t\t);\n\t\t},\n\t\t{\n\t\t\tprops: {\n\t\t\t\tnoScroller: true\n\t\t\t},\n\t\t\ttext: 'Basic usage of VirtualList'\n\t\t}\n\t);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopup\":\"ContextualPopup_contextualPopup__nPYMY\",\"container\":\"ContextualPopup_container__Y29Ih\",\"none\":\"ContextualPopup_none__1HCEQ\",\"fixedSize\":\"ContextualPopup_fixedSize__2CDmW\",\"closeButton\":\"ContextualPopup_closeButton__xocnQ\",\"bg\":\"ContextualPopup_bg___AwW8\",\"arrow\":\"ContextualPopup_arrow__24gRy\",\"above\":\"ContextualPopup_above__3XYBq\",\"left\":\"ContextualPopup_left__2cemN\",\"right\":\"ContextualPopup_right__EFxZ8\",\"icon\":\"ContextualPopup_icon__2DT7r\",\"reserveClose\":\"ContextualPopup_reserveClose__QEzDu\",\"arrowFill\":\"ContextualPopup_arrowFill__JCpGT\"};","import hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst SharedState = React.createContext(null);\n\nconst defaultConfig = {\n\tidProp: 'id',\n\tupdateOnMount: false\n};\n\n/**\n * Adds shared state to a component.\n *\n * The purpose of shared state is to store framework component state at significant container\n * boundaries in order to restore it when the \"same\" component is mounted later.\n *\n * \"Sameness\" is determined by the `idProp` config member (defaults to \"id\"). If multiple\n * descendants have the same `idProp` within the subtree, SharedStateDecorator will not distinguish\n * between them and will allow each to read from and write over each other's data.\n *\n * For example, Panels and Panel are considered \"significant container boundaries\" since they are\n * key building blocks for applications. When components are rendered within a Panel, we may want to\n * store those components state on unmount so that we can restore it when returning to the panel.\n * Panel can (and does) use SharedStateDecorator to establish a shared state which can be used by\n * contained components.\n *\n * It's important to note that SharedStateDecorator doesn't prescribe how or what is stored nor how\n * the data is managed. That is left to the consuming component to determine. Also, unlike React\n * state or third-party state management solutions like Redux, updating shared state will not\n * initiate an update cycle in React. The intent is only to restore state on mount.\n *\n * If shared state is used in the render method for a component, it may be necessary to use the\n * `updateOnMount` config member which will initiate an update cycle within React once the data is\n * available from an upstream shared state.\n *\n * @hoc\n * @memberof agate/Panels\n * @private\n */\nconst SharedStateDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {idProp, updateOnMount} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SharedStateDecorator';\n\n\t\tstatic contextType = SharedState;\n\n\t\tstatic propTypes = /** @lends agate/Panels.SharedStateDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Prevents the component from setting or restoring any framework shared state.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoSharedState: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.data = {};\n\t\t\tthis.sharedState = this.initSharedState();\n\t\t\tthis.state = {\n\t\t\t\tupdateOnMount: false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.loadFromContext();\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.noSharedState && this.props.noSharedState) {\n\t\t\t\tthis.data = {};\n\t\t\t} else if (prevProps.noSharedState && !this.props.noSharedState) {\n\t\t\t\tthis.loadFromContext();\n\t\t\t}\n\t\t}\n\n\t\tisUpdateable () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\treturn !noSharedState && (id || id === 0);\n\t\t}\n\n\t\tinitSharedState () {\n\t\t\treturn {\n\t\t\t\tset: (key, value) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable()) {\n\t\t\t\t\t\tthis.data[id] = this.data[id] || {};\n\t\t\t\t\t\tthis.data[id][key] = value;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tget: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\treturn (this.isUpdateable() && this.data[id]) ? this.data[id][key] : null;\n\t\t\t\t},\n\n\t\t\t\tdelete: (key) => {\n\t\t\t\t\tconst {[idProp]: id} = this.props;\n\n\t\t\t\t\tif (this.isUpdateable() && this.data[id]) {\n\t\t\t\t\t\tdelete this.data[id][key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tloadFromContext () {\n\t\t\tconst {[idProp]: id, noSharedState} = this.props;\n\n\t\t\tif (!noSharedState && this.context && this.context.get) {\n\t\t\t\tconst data = this.context.get(id);\n\n\t\t\t\tif (data) {\n\t\t\t\t\tthis.data = data;\n\t\t\t\t} else {\n\t\t\t\t\tthis.context.set(id, this.data);\n\t\t\t\t}\n\n\t\t\t\tif (updateOnMount) {\n\t\t\t\t\tthis.setState({updateOnMount: true});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst {...props} = this.props;\n\n\t\t\tdelete props.noSharedState;\n\n\t\t\treturn (\n\t\t\t\t<SharedState.Provider value={this.sharedState}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</SharedState.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SharedStateDecorator;\nexport {\n\tSharedState,\n\tSharedStateDecorator\n};\n","/**\n * Text block component to be customized by a theme or application.\n *\n * @module ui/BodyText\n * @exports BodyText\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './BodyText.module.less';\n\n/**\n * A simple, unstyled text block component, without\n * [BodyTextDecorator](ui/BodyText.BodyTextDecorator) applied.\n *\n * @class BodyTextBase\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyTextBase = kind({\n\tname: 'ui:BodyText',\n\n\tpropTypes: /** @lends ui/BodyText.BodyTextBase.prototype */ {\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * Applies the `centered` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'p', etc.) or a custom component.\n\t\t *\n\t\t * @type {Component}\n\t\t * @default 'p'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/BodyText.BodyText#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `bodyText` - The root class name\n\t\t * * `centered` - Applied when `centered` prop is `true`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcomponent: 'p'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'bodyText',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, styler}) => styler.append({centered})\n\t},\n\n\trender: ({component: Component, componentRef, ...rest}) => {\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Applies BodyText behaviors.\n *\n * @hoc\n * @memberof ui/BodyText\n * @mixes ui/ForwardRef.ForwardRef\n * @public\n */\nconst BodyTextDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A simple, unstyled text block component.\n *\n * @class BodyText\n * @memberof ui/BodyText\n * @ui\n * @public\n */\nconst BodyText = BodyTextDecorator(BodyTextBase);\n\nexport default BodyText;\nexport {\n\tBodyText,\n\tBodyTextBase,\n\tBodyTextDecorator\n};\n","/**\n * Unstyled button components and behaviors to be customized by a theme or application.\n *\n * @module ui/Button\n * @exports Button\n * @exports ButtonBase\n * @exports ButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport Touchable from '../Touchable';\n\nimport componentCss from './Button.module.less';\n\n/**\n * A basic button component structure without any behaviors applied to it.\n *\n * @class ButtonBase\n * @memberof ui/Button\n * @ui\n * @public\n */\nconst ButtonBase = kind({\n\tname: 'ui:Button',\n\n\tpropTypes: /** @lends ui/Button.ButtonBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `button` - The root component class\n\t\t * * `bg` - The background node of the button\n\t\t * * `client` - The content node of the button\n\t\t * * `hasIcon` - Applied when there is an `icon` present\n\t\t * * `icon` - The icon node, when `icon` is set\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `minWidth` - Applied when `minWidth` prop is `true`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `selected` - Applied when `selected` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Additional DOM nodes which may be necessary for decorating the Button.\n\t\t *\n\t\t * @type {Node}\n\t\t * @private\n\t\t */\n\t\tdecoration: PropTypes.node,\n\n\t\t/**\n\t\t * Applies the `disabled` class.\n\t\t *\n\t\t * When `true`, the button is shown as disabled.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the Button.\n\t\t *\n\t\t * The icon will be displayed before the natural reading order of the text, regardless\n\t\t * of locale. Any string that is valid for its {@link ui/Button.Button.iconComponent} is\n\t\t * valid here. If `icon` is specified as a string and `iconButton` is undefined, the icon is\n\t\t * not rendered.\n\t\t *\n\t\t * This also supports a custom icon, in the form of a DOM node or a Component,\n\t\t * with the caveat that if you supply a custom icon, you are responsible for sizing and\n\t\t * locale positioning of the custom component.\n\t\t *\n\t\t * Setting this to `true` means the `iconComponent` will be rendered but with empty content.\n\t\t * This may be useful if you've customized the `iconComponent` to render the icon content\n\t\t * externally.\n\t\t *\n\t\t * @type {Node|Boolean}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.node, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the [icon]{@link ui/Button.ButtonBase.icon}.\n\t\t *\n\t\t * This component will receive the `icon` class to customize its styling.\n\t\t * If [icon]{@link ui/Button.ButtonBase.icon} is not assigned or is false, this component\n\t\t * will not be rendered.\n\t\t *\n\t\t * If this is a component rather than an HTML element string, this component will also\n\t\t * receive the `size` and `iconFlip` (as `flip`) properties and should be configured to\n\t\t * handle it.\n\t\t *\n\t\t * @type {Component|Node}\n\t\t * @public\n\t\t */\n\t\ticonComponent: EnactPropTypes.componentOverride,\n\n\t\t/**\n\t\t * Flips the icon.\n\t\t *\n\t\t * @see {@link ui/Icon.Icon#flip}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonFlip: PropTypes.string,\n\n\t\t/**\n\t\t * Enforces a minimum width for the component.\n\t\t *\n\t\t * Applies the `minWidth` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default true\n\t\t * @public\n\t\t */\n\t\tminWidth: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is depressed.\n\t\t *\n\t\t * Applies the `pressed` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates the component is selected.\n\t\t *\n\t\t * Applies the `selected` CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tminWidth: true,\n\t\tpressed: false,\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'button',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({icon, minWidth, pressed, selected, size, styler}) => styler.append({\n\t\t\thasIcon: (!!icon),\n\t\t\tminWidth,\n\t\t\tpressed,\n\t\t\tselected\n\t\t}, size),\n\t\ticon: ({css, icon, iconComponent, iconFlip, size}) => {\n\t\t\tif (icon == null || icon === false) return;\n\n\t\t\t// Establish the base collection of props for the most basic `iconComponent` type, an\n\t\t\t// HTML element string.\n\t\t\tconst props = {\n\t\t\t\tclassName: css.icon,\n\t\t\t\tcomponent: iconComponent\n\t\t\t};\n\n\t\t\t// Add in additional props that any Component supplied to `iconComponent` should be\n\t\t\t// configured to handle.\n\t\t\tif (typeof iconComponent !== 'string') {\n\t\t\t\tprops.size = size;\n\t\t\t\t// the following inadvertently triggers a linting rule\n\t\t\t\t// eslint-disable-next-line enact/prop-types\n\t\t\t\tprops.flip = iconFlip;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<ComponentOverride {...props}>\n\t\t\t\t\t{icon}\n\t\t\t\t</ComponentOverride>\n\t\t\t);\n\t\t}\n\t},\n\n\trender: ({children, css, decoration, disabled, icon, ...rest}) => {\n\t\tdelete rest.iconComponent;\n\t\tdelete rest.iconFlip;\n\t\tdelete rest.minWidth;\n\t\tdelete rest.pressed;\n\t\tdelete rest.selected;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div role=\"button\" {...rest} aria-disabled={disabled} disabled={disabled}>\n\t\t\t\t{decoration ? (\n\t\t\t\t\t<div className={css.decoration}>{decoration}</div>\n\t\t\t\t) : null}\n\t\t\t\t<div className={css.bg} />\n\t\t\t\t<div className={css.client}>{icon}{children}</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to a [ButtonBase]{@link ui/Button.ButtonBase}.\n *\n * @hoc\n * @memberof ui/Button\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ButtonDecorator = Touchable({activeProp: 'pressed'});\n\n/**\n * A minimally-styled button component with touch support.\n *\n * @class Button\n * @extends ui/Button.ButtonBase\n * @memberof ui/Button\n * @mixes ui/Button.ButtonDecorator\n * @ui\n * @public\n */\nconst Button = ButtonDecorator(ButtonBase);\n\nexport default Button;\nexport {\n\tButton,\n\tButtonBase,\n\tButtonDecorator\n};\n","/**\n * A component for selecting values from a list of values.\n *\n * @example\n * <Picker>\n * \t{['A', 'B', 'C']}\n * </Picker>\n *\n * @module agate/Picker\n * @exports Picker\n * @exports PickerBase\n * @exports PickerDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport clamp from 'ramda/src/clamp';\nimport React from 'react';\n\nimport PickerCore, {PickerDecorator} from '../internal/Picker';\n\n/**\n * The base `Picker` component.\n *\n * This version is not [`spottable`]{@link spotlight/Spottable.Spottable}.\n *\n * @class PickerBase\n * @memberof agate/Picker\n * @ui\n * @public\n */\nconst PickerBase = kind({\n\tname: 'Picker',\n\n\tpropTypes: /** @lends agate/Picker.PickerBase.prototype */ {\n\t\t/**\n\t\t * Picker value list.\n\t\t *\n\t\t * @type {Array}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.array.isRequired,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Index of the selected child.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tvalue: 0\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({children, disabled}) => React.Children.count(children) > 1 ? disabled : true,\n\t\tmax: ({children}) => children && children.length ? children.length - 1 : 0,\n\t\tvalue: ({value, children}) => {\n\t\t\tconst max = children && children.length ? children.length - 1 : 0;\n\t\t\treturn clamp(0, max, value);\n\t\t}\n\t},\n\n\trender: (props) => {\n\t\tconst {children, max, value, ...rest} = props;\n\n\t\treturn (\n\t\t\t<PickerCore {...rest} min={0} max={max} step={1} value={value}>\n\t\t\t\t{children}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/Picker.Picker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/Picker.Picker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/Picker.Picker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A Picker component that allows selecting values from a list of values.\n *\n * By default, `Picker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Picker\n * @memberof agate/Picker\n * @extends agate/Picker.PickerBase\n * @mixes agate/internal/Picker.PickerDecorator\n * @ui\n * @public\n */\nconst Picker = PickerDecorator(PickerBase);\n\n/**\n * Default index of the selected child.\n *\n * *Note*: Changing `defaultValue` after initial render has no effect.\n *\n * @name defaultValue\n * @memberof agate/Picker.Picker.prototype\n * @type {Number}\n * @public\n */\n\nexport default Picker;\nexport {\n\tPicker,\n\tPickerBase\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIconButton icon=\"star\">Hello Enact!</LabeledIconButton>\n *\n * @module agate/LabeledIconButton\n * @exports LabeledIconButton\n * @exports LabeledIconButtonBase\n * @exports LabeledIconButtonDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIconButton.module.less';\n\nconst Button = Skinnable(ButtonBase);\n\n/**\n * An icon button component with a label.\n *\n * @class LabeledIconButtonBase\n * @memberof agate/LabeledIconButton\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconButtonBase = kind({\n\tname: 'LabeledIconButton',\n\n\tpropTypes: /** @lends agate/LabeledIconButton.LabeledIconButtonBase.prototype */ {\n\t\tbackgroundOpacity: PropTypes.oneOf(['opaque', 'lightOpaque', 'transparent']),\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIconButton` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `label` - The label component class\n\t\t * * `selected` - Applied to a `selected` button\n\t\t * * `small` - Applied to a LabeledIconButton specifying a `size` of `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Provides a way to call special interface attention to this button. It will be \"featured\"\n\t\t * in some way by the theme's visual rules.  This property only has an effect when\n\t\t * `backgroundOpacity` is \"opaque\".\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thighlighted: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon displayed within the button.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately.It\n\t\t * will also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t// forwarded from Spottable\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * Selects the component.\n\t\t *\n\t\t * Setting `selected` may be useful when the component represents a toggleable option. The\n\t\t * visual effect may be customized using the\n\t\t * [css]{@link agate/LabeledIconButton.LabeledIconButtonBase.css} prop.\n\t\t */\n\t\tselected: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount of sprite \"cells\" in the src image.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tspriteCount: PropTypes.number\n\t\t// TODO: spriteCount prop bleeds!  Is this cruft?\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIconButton',\n\t\tpublicClassNames: true\n\t},\n\n\trender: ({\n\t\tbackgroundOpacity,\n\t\tcss,\n\t\ticon,\n\t\ticonComponent,\n\t\thighlighted,\n\t\tpressed,\n\t\tselected,\n\t\tspriteCount,\n\t\t...rest\n\t}) => {\n\t\treturn UiLabeledIconBase.inline({\n\t\t\t...rest,\n\t\t\ticon: (\n\t\t\t\t<Button\n\t\t\t\t\tbackgroundOpacity={backgroundOpacity}\n\t\t\t\t\ticon={icon}\n\t\t\t\t\ticonComponent={iconComponent}\n\t\t\t\t\thighlighted={highlighted}\n\t\t\t\t\tpressed={pressed}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tspriteCount={spriteCount}\n\t\t\t\t/>\n\t\t\t),\n\t\t\tcss\n\t\t});\n\t}\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconButtonBase]{@link agate/LabeledIconButton.LabeledIconButtonBase}.\n *\n * @hoc\n * @memberof agate/LabeledIconButton\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @public\n */\nconst LabeledIconButtonDecorator = compose(\n\tUiLabeledIconDecorator,\n\tButtonDecorator\n);\n\n/**\n * An Agate-styled icon button component with a label.\n *\n * Usage:\n * ```\n * <LabeledIconButton icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIconButton>\n * ```\n *\n * @class LabeledIconButton\n * @memberof agate/LabeledIconButton\n * @extends agate/LabeledIconButton.LabeledIconButtonBase\n * @mixes agate/LabeledIconButton.LabeledIconButtonDecorator\n * @ui\n * @public\n */\nconst LabeledIconButton = LabeledIconButtonDecorator(LabeledIconButtonBase);\n\nexport default LabeledIconButton;\nexport {\n\tLabeledIconButton,\n\tLabeledIconButtonBase,\n\tLabeledIconButtonDecorator\n};\n","/**\n * A higher-order component that handles component resize event.\n *\n * @module ui/Resizable\n * @exports Resizable\n */\n\nimport {call, forward, handle} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport invariant from 'invariant';\nimport React from 'react';\n\n/**\n * Used internally for things to notify children that they need to resize because of a parent\n * update.\n *\n * @type Object\n * @private\n */\nconst ResizeContext = React.createContext();\n\n/**\n * Default config for `Resizable`.\n *\n * @memberof ui/Resizable.Resizable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * A handler to process the `resize` event.\n\t *\n\t * It should return a truthy value if the event should trigger a resize.\n\t *\n\t * @type {Function}\n\t * @default null\n\t * @see {@link core/handle}\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tfilter: null,\n\n\t/**\n\t * The name of the event on the wrapped component to listen to for size changes.\n\t *\n\t * This event name will be passed to the wrapped component and will also be forwarded (if\n\t * needed) to the parent component.\n\t *\n\t * @type {String}\n\t * @required\n\t * @memberof ui/Resizable.Resizable.defaultConfig\n\t */\n\tresize: null\n};\n\n/**\n * A higher-order component that notifies a container that the wrapped component has been resized.\n *\n * It may be useful in cases where a component may need to update itself as a result of its children\n * changing in size, such as a [Scroller]{@link ui/Scroller}.\n *\n * Containers must provide an `invalidateBounds` method via React's context in order for `Resizable`\n * instances to notify it of resize.\n *\n * The wrapped component must respond to the configured\n * [resize]{@link ui/Resizable.Resizable.defaultConfig.resize} event.\n *\n * @class Resizable\n * @memberof ui/Resizable\n * @hoc\n * @public\n */\nconst Resizable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {filter, resize} = config;\n\n\tinvariant(resize, `resize is required by Resizable but was omitted when applied to ${Wrapped.displayName}`);\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Resizable';\n\n\t\tstatic contextType = ResizeContext;\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.context && typeof this.context === 'function') {\n\t\t\t\t// Registry requires a callback but (for now at least) Resizable doesn't respond to\n\t\t\t\t// upstream events so we're initializing a no-op function to \"handle\" callbacks\n\t\t\t\tthis.resizeRegistry = this.context(() => {});\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.unregister();\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Notifies a container that a resize is necessary\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\tinvalidateBounds () {\n\t\t\tif (this.resizeRegistry) {\n\t\t\t\tthis.resizeRegistry.notify({action: 'invalidateBounds'});\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Handles the event that indicates a resize is necessary\n\t\t *\n\t\t * @param   {Object}    ev  Event payload\n\t\t *\n\t\t * @returns {undefined}\n\t\t * @private\n\t\t */\n\t\thandleResize = handle(\n\t\t\tforward(resize),\n\t\t\t// optionally filter the event before notifying the container\n\t\t\tfilter,\n\t\t\tcall('invalidateBounds')\n\t\t).bind(this);\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tprops[resize] = this.handleResize;\n\n\t\t\treturn <Wrapped {...props} />;\n\t\t}\n\t};\n});\n\nexport default Resizable;\nexport {\n\tResizable,\n\tResizeContext\n};\n","import curry from 'ramda/src/curry';\n\n/*\n * The singleton map of names to keyCodes. If a name doesn't have any keyCodes mapped to it, it will\n * not exist in this map. If it does, its value will be an array of its keyCodes.\n *\n * @type {Object}\n * @private\n */\nconst map = {};\n\n/*\n * Safely converts keymap name to lowercase.\n *\n * @function\n * @param   {String} name  Name for keyCode\n *\n * @returns {String}       Name for keyCode in lowercase\n * @memberof core/keymap\n * @private\n */\nconst toLowerCase = (name) => name ? name.toLowerCase() : '';\n\n/*\n * Iterates over `set` and invokes `fn` with the key and value of each item.\n *\n * @function\n * @param   {Function}  fn   Function to invoke\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @memberof core/keymap\n * @private\n */\nconst forEachObj = curry(function (fn, set) {\n\tObject.keys(set).forEach(name => fn(name, set[name]));\n});\n\n/*\n * Invokes `fn` with `name` and `keyCode` for each key code provided.\n *\n * @function\n * @param   {Function}        fn       Function to invoke\n * @param   {String}          name     Name for the key codes\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst oneOrArray = curry(function (fn, name, keyCode) {\n\tif (Array.isArray(keyCode)) {\n\t\tkeyCode.forEach(fn(name));\n\t} else {\n\t\tfn(name, keyCode);\n\t}\n});\n\n/*\n * Adds `keyCode` to `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst addOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst index = map[name].indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tmap[name].push(keyCode);\n\t\t}\n\t} else if (name) {\n\t\tmap[name] = [keyCode];\n\t}\n});\n\n/*\n * Removes `keyCode` from `name`.\n *\n * @function\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @private\n */\nconst removeOne = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\tif (name in map) {\n\t\tconst keys = map[name];\n\t\tconst index = keys.indexOf(keyCode);\n\t\tif (index === -1) {\n\t\t\tdelete map[name];\n\t\t} else {\n\t\t\tkeys.splice(index, 1);\n\t\t}\n\t}\n});\n\n/**\n * Registers `keyCode` for `name`.\n *\n * @function add\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst add = oneOrArray(addOne);\n\n/**\n * Registers a set of key codes.\n *\n * @function addAll\n * @param   {Object<String,Number|Number[]>}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst addAll = forEachObj(add);\n\n/**\n * Unregisters `keyCode` from `name`.\n *\n * @function remove\n * @param   {String}          name     Name for the key code\n * @param   {Number|Number[]} keyCode  A key code or array of key codes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst remove = oneOrArray(removeOne);\n\n/**\n * Unregisters a set of key codes.\n *\n * @function removeAll\n * @param   {Object}    set  A map of names to keyCodes\n *\n * @returns {undefined}\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst removeAll = forEachObj(remove);\n\n/**\n * Determines if `keyCode` is mapped to `name`.\n *\n * @function is\n * @param   {String}    name     Name for the key code\n * @param   {Number}    keyCode  A key code\n *\n * @returns {Boolean}            `true` if `keyCode` is mapped to `name`\n * @curried\n * @memberof core/keymap\n * @public\n */\nconst is = curry(function (name, keyCode) {\n\tname = toLowerCase(name);\n\treturn name in map && map[name].indexOf(keyCode) >= 0;\n});\n\nexport {\n\tadd,\n\taddAll,\n\tis,\n\tremove,\n\tremoveAll\n};\n","/**\n * Manages a map of names to key codes to simplify event handlers\n *\n * Example:\n * ```\n * import {add, is} from '@enact/core/keymap';\n *\n * add('enter', 13);\n * const isEnter = is('enter');\n *\n * // within event handler\n * if (isEnter(ev.keyCode)) {\n *   // handle enter\n * }\n * ```\n *\n * @module core/keymap\n * @exports add\n * @exports addAll\n * @exports is\n * @exports remove\n * @exports removeAll\n */\n\n// keymap uses a singleton object, map, to manage the keymap. since webpack may make multiple copies\n// of the module available if the import path is different, we ensure a consistent import path for\n// the singleton instance by facading it with this module.\n\nimport {addAll} from './keymap';\n\n// Add the default 5-way navigation key codes\naddAll({\n\tenter: [13, 16777221],\n\tleft: 37,\n\tup: 38,\n\tright: 39,\n\tdown: 40,\n\tpageUp: 33,\n\tpageDown: 34\n});\n\nexport * from './keymap';\n","\nimport kind from '@enact/core/kind';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\n\nimport css from './Input.module.less';\n\n/**\n * The stateless functional base component for {@link agate/Input.InputDecoratorIcon}.\n *\n * @class InputDecoratorIconBase\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIconBase = kind({\n\tname: 'InputDecoratorIcon',\n\n\tpropTypes: /** @lends agate/Input.InputDecoratorIconBase.prototype */ {\n\t\t/**\n\t\t * The position of the icon. Either `before` or `after`.\n\t\t *\n\t\t * @type {String}\n\t\t * @required\n\t\t */\n\t\tposition: PropTypes.oneOf(['before', 'after']).isRequired,\n\n\t\t/**\n\t\t * The icon to be displayed.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon#children}\n\t\t * @type {String|Object}\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'icon'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({position, styler}) => {\n\t\t\treturn styler.append('icon' + (position === 'before' ? 'Before' : 'After'));\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.position;\n\n\t\treturn children ? (\n\t\t\t<Icon {...rest}>{children}</Icon>\n\t\t) : null;\n\t}\n});\n\n/**\n * An icon displayed either before or after the input field of an {@link agate/Input.Input}.\n *\n * @class InputDecoratorIcon\n * @memberof agate/Input\n * @ui\n * @private\n */\nconst InputDecoratorIcon = onlyUpdateForKeys(['children', 'size'])(InputDecoratorIconBase);\n\nexport default InputDecoratorIcon;\nexport {\n\tInputDecoratorIcon,\n\tInputDecoratorIconBase\n};\n","import {handle, preventDefault, returnsTrue, stop} from '@enact/core/handle';\n\nlet active;\nlet capturedDown = false;\n\n// if there is a focused input (there should be) and the target is not the input\nconst shouldCapture = ({target}) => active && target !== active;\nconst isCapturing = () => capturedDown && active;\nconst setCapturing = (capturing) => returnsTrue(() => (capturedDown = capturing));\n\nconst handlePointerDown = handle(\n\tshouldCapture,\t\t\t\t// If we should capture the click\n\tpreventDefault,\t\t\t\t// prevent the down event bubbling\n\tstop,\t\t\t\t\t\t// (and stop propagation to support touch)\n\tsetCapturing(true)\t\t\t// and flag that we've started capturing a down event\n);\n\nconst handlePointerUp = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tpreventDefault,\t\t\t\t// prevent the up event bubbling\n\tstop\t\t\t\t\t\t// (and stop propagation to support touch)\n);\n\n// This is attached to both click and touchend. On some systems (e.g. Chrome), click events are\n// fired when you touch anything but other systems (e.g. iOS) will only emit click events when you\n// touch a clickable component (something with a tabindex). By attaching the same handler to both,\n// we ensure that we do not leave this module in an unstable state where it thinks capturing is\n// active but focus is not on the input.\nconst handleTap = handle(\n\tisCapturing,\t\t\t\t// if a down event was captured\n\tstop,\t\t\t\t\t\t// prevent the click event from propagating\n\tpreventDefault,\t\t\t\t// prevent touchend from triggering a click after releasing lock\n\tsetCapturing(false),\t\t// clear the capturing flag\n\t() => active.blur()\t\t\t// and blur the active node\n);\n\nconst handleTouchStart = handle(\n\tshouldCapture,                // If we should capture the click\n\tstop,                         // prevent other components from handling this event\n\tsetCapturing(true)            // and flag that we've started capturing a down event\n);\n\n// Lock the pointer from emitting click events until released\nconst lockPointer = (target) => {\n\tactive = target;\n\tdocument.addEventListener('mousedown', handlePointerDown, {capture: true});\n\tdocument.addEventListener('mouseup', handlePointerUp, {capture: true});\n\tdocument.addEventListener('touchstart', handleTouchStart, {capture: true});\n\tdocument.addEventListener('touchend', handleTap, {capture: true});\n\tdocument.addEventListener('click', handleTap, {capture: true});\n};\n\n// Release the pointer and allow subsequent click events\nconst releasePointer = (target) => {\n\tif (target === active) {\n\t\tactive = null;\n\t\tdocument.removeEventListener('mousedown', handlePointerDown, {capture: true});\n\t\tdocument.removeEventListener('mouseup', handlePointerUp, {capture: true});\n\t\tdocument.removeEventListener('touchstart', handleTouchStart, {capture: true});\n\t\tdocument.removeEventListener('touchend', handleTap, {capture: true});\n\t\tdocument.removeEventListener('click', handleTap, {capture: true});\n\t}\n};\n\nexport {\n\tlockPointer,\n\treleasePointer\n};\n","import {call, forward, forwardWithPrevent, handle, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {is} from '@enact/core/keymap';\nimport {getDirection, Spotlight} from '@enact/spotlight';\nimport Pause from '@enact/spotlight/Pause';\nimport Spottable from '@enact/spotlight/Spottable';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {lockPointer, releasePointer} from './pointer';\n\nconst isBubbling = (ev) => ev.currentTarget !== ev.target;\n\n// A regex to check for input types that allow selectionStart\nconst SELECTABLE_TYPES = /text|password|search|tel|url/;\n\nconst isSelectionAtLocation = (target, location) => {\n\tif (SELECTABLE_TYPES.test(target.type)) {\n\t\treturn target.selectionStart === location;\n\t} else {\n\t\treturn true;\n\t}\n};\n\nconst handleKeyDown = handle(\n\tforwardWithPrevent('onKeyDown'),\n\tcall('onKeyDown')\n);\n\n/**\n * Default config for [InputSpotlightDecorator]{@link agate/Input.InputSpotlightDecorator}.\n *\n * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Suppress the pointer lock behavior of agate input\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.defaultConfig\n\t*/\n\tnoLockPointer: false\n};\n\n/**\n * A higher-order component that manages the\n * spotlight behavior for an {@link agate/Input.Input}\n *\n * @class InputSpotlightDecorator\n * @memberof agate/Input/InputSpotlightDecorator\n * @hoc\n * @private\n */\nconst InputSpotlightDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noLockPointer} = config;\n\tconst Component = Spottable({emulateMouse: false}, Wrapped);\n\tconst forwardBlur = forward('onBlur');\n\tconst forwardMouseDown = forward('onMouseDown');\n\tconst forwardFocus = forward('onFocus');\n\tconst forwardKeyUp = forward('onKeyUp');\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'InputSpotlightDecorator';\n\n\t\tstatic propTypes = /** @lends agate/Input/InputSpotlightDecorator.InputSpotlightDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Focuses the <input> when the decorator is focused via 5-way.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tautoFocus: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Applies a disabled style and the control becomes non-interactive.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> is focused.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonActivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the internal <input> loses focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDeactivate: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the component is removed while retaining focus.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object} event\n\t\t\t * @public\n\t\t\t */\n\t\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Disables spotlight navigation into the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightDisabled: PropTypes.bool\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tfocused: null,\n\t\t\t\tnode: null\n\t\t\t};\n\n\t\t\tthis.paused = new Pause('InputSpotlightDecorator');\n\t\t\tthis.handleKeyDown = handleKeyDown.bind(this);\n\t\t}\n\n\t\tcomponentDidUpdate (_, prevState) {\n\t\t\tthis.updateFocus(prevState);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst {onSpotlightDisappear} = this.props;\n\n\t\t\t\tif (onSpotlightDisappear) {\n\t\t\t\t\tonSpotlightDisappear();\n\t\t\t\t}\n\n\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\treleasePointer(this.state.node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tupdateFocus = (prevState) => {\n\t\t\tif (this.state.node) {\n\t\t\t\tif (Spotlight.getCurrent() !== this.state.node) {\n\t\t\t\t\tthis.state.node.focus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst focusChanged = this.state.focused !== prevState.focused;\n\t\t\tif (focusChanged) {\n\t\t\t\tif (this.state.focused === 'input') {\n\t\t\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\tlockPointer(this.state.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.pause();\n\t\t\t\t} else if (prevState.focused === 'input') {\n\t\t\t\t\tforward('onDeactivate', {type: 'onDeactivate'}, this.props);\n\t\t\t\t\tif (!noLockPointer) {\n\t\t\t\t\t\treleasePointer(prevState.node);\n\t\t\t\t\t}\n\t\t\t\t\tthis.paused.resume();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfocus = (focused, node) => {\n\t\t\tthis.setState({focused, node});\n\t\t};\n\n\t\tblur = () => {\n\t\t\tthis.setState((state) => (\n\t\t\t\tstate.focused || state.node ? {focused: null, node: null} : null\n\t\t\t));\n\t\t};\n\n\t\tfocusDecorator = (decorator) => {\n\t\t\tthis.focus('decorator', decorator);\n\t\t};\n\n\t\tfocusInput = (decorator) => {\n\t\t\tthis.focus('input', decorator.querySelector('input'));\n\t\t};\n\n\t\tonBlur = (ev) => {\n\t\t\tif (!this.props.autoFocus) {\n\t\t\t\tif (isBubbling(ev)) {\n\t\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t} else if (!ev.currentTarget.contains(ev.relatedTarget)) {\n\t\t\t\t\t// Blurring decorator but not focusing input\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t} else if (isBubbling(ev)) {\n\t\t\t\tif (this.state.focused === 'input' && this.state.node === ev.target && ev.currentTarget !== ev.relatedTarget) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\tforwardBlur(ev, this.props);\n\t\t\t\t} else {\n\t\t\t\t\tthis.focusDecorator(ev.currentTarget);\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tthis.blur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tonMouseDown = (ev) => {\n\t\t\tconst {disabled, spotlightDisabled} = this.props;\n\n\t\t\tthis.setDownTarget(ev);\n\t\t\t// focus the <input> whenever clicking on any part of the component to ensure both that\n\t\t\t// the <input> has focus and Spotlight is paused.\n\t\t\tif (!disabled && !spotlightDisabled) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t}\n\n\t\t\tforwardMouseDown(ev, this.props);\n\t\t};\n\n\t\tonFocus = (ev) => {\n\t\t\tforwardFocus(ev, this.props);\n\n\t\t\t// when in autoFocus mode, focusing the decorator directly will cause it to\n\t\t\t// forward the focus onto the <input>\n\t\t\tif (!isBubbling(ev) && (this.props.autoFocus && this.state.focused === null && !Spotlight.getPointerMode())) {\n\t\t\t\tthis.focusInput(ev.currentTarget);\n\t\t\t\tev.stopPropagation();\n\t\t\t}\n\t\t};\n\n\t\tonKeyDown (ev) {\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// cache the target if this is the first keyDown event to ensure the component had focus\n\t\t\t// when the key interaction started\n\t\t\tthis.setDownTarget(ev);\n\n\t\t\tif (this.state.focused === 'input') {\n\t\t\t\tconst isDown = is('down', keyCode);\n\t\t\t\tconst isLeft = is('left', keyCode);\n\t\t\t\tconst isRight = is('right', keyCode);\n\t\t\t\tconst isUp = is('up', keyCode);\n\n\t\t\t\t// move spotlight\n\t\t\t\tconst shouldSpotlightMove = (\n\t\t\t\t\t// on left + at beginning of selection\n\t\t\t\t\t(isLeft && isSelectionAtLocation(target, 0)) ||\n\t\t\t\t\t// on right + at end of selection (note: fails on non-selectable types usually)\n\t\t\t\t\t(isRight && isSelectionAtLocation(target, target.value.length)) ||\n\t\t\t\t\t// on up\n\t\t\t\t\tisUp ||\n\t\t\t\t\t// on down\n\t\t\t\t\tisDown\n\t\t\t\t);\n\n\t\t\t\t// prevent modifying the value via 5-way for numeric fields\n\t\t\t\tif ((isUp || isDown) && target.type === 'number') {\n\t\t\t\t\tpreventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (shouldSpotlightMove) {\n\t\t\t\t\tconst direction = getDirection(keyCode);\n\t\t\t\t\tconst {getPointerMode, move, setPointerMode} = Spotlight;\n\n\t\t\t\t\tif (getPointerMode()) {\n\t\t\t\t\t\tsetPointerMode(false);\n\t\t\t\t\t}\n\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t\tthis.paused.resume();\n\n\t\t\t\t\t// Move spotlight in the keypress direction\n\t\t\t\t\tif (move(direction)) {\n\t\t\t\t\t\t// if successful, reset the internal state\n\t\t\t\t\t\tthis.blur();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if there is no other spottable elements, focus `InputDecorator` instead\n\t\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t}\n\t\t\t\t} else if (isLeft || isRight) {\n\t\t\t\t\t// prevent 5-way nav for left/right keys within the <input>\n\t\t\t\t\tstopImmediate(ev);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tonKeyUp = (ev) => {\n\t\t\tconst {dismissOnEnter} = this.props;\n\t\t\tconst {currentTarget, keyCode, preventDefault, target} = ev;\n\n\t\t\t// verify that we have a matching pair of key down/up events to avoid adjusting focus\n\t\t\t// when the component received focus mid-press\n\t\t\tif (target === this.downTarget) {\n\t\t\t\tthis.downTarget = null;\n\n\t\t\t\tif (this.state.focused === 'input' && dismissOnEnter && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusDecorator(currentTarget);\n\t\t\t\t\t// prevent Enter onKeyPress which triggers an onMouseDown via Spotlight\n\t\t\t\t\tpreventDefault();\n\t\t\t\t} else if (this.state.focused !== 'input' && is('enter', keyCode)) {\n\t\t\t\t\tthis.focusInput(currentTarget);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tforwardKeyUp(ev, this.props);\n\t\t};\n\n\t\tsetDownTarget (ev) {\n\t\t\tconst {repeat, target} = ev;\n\n\t\t\tif (!repeat) {\n\t\t\t\tthis.downTarget = target;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.autoFocus;\n\t\t\tdelete props.onActivate;\n\t\t\tdelete props.onDeactivate;\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{...props}\n\t\t\t\t\tfocused={this.state.focused === 'input'}\n\t\t\t\t\tonBlur={this.onBlur}\n\t\t\t\t\tonMouseDown={this.onMouseDown}\n\t\t\t\t\tonFocus={this.onFocus}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonKeyUp={this.onKeyUp}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default InputSpotlightDecorator;\nexport {InputSpotlightDecorator};\n","/**\n * Agate styled input components.\n *\n * @example\n * <Input placeholder=\"Enter text here\" />\n *\n * @module agate/Input\n * @exports Input\n * @exports InputBase\n */\n\nimport kind from '@enact/core/kind';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport InputDecoratorIcon from './InputDecoratorIcon';\nimport InputSpotlightDecorator from './InputSpotlightDecorator';\nimport {extractInputProps} from './util';\n\nimport componentCss from './Input.module.less';\n\n/**\n * An input component\n *\n * @class InputBase\n * @memberof agate/Input\n * @ui\n * @public\n */\nconst InputBase = kind({\n\tname: 'Input',\n\n\tpropTypes: /** @lends agate/Input.InputBase.prototype */ {\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `decorator` - The root class name\n\t\t * * `input` - The <input> class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables Input and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Blurs the input when the \"enter\" key is pressed.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdismissOnEnter: PropTypes.bool,\n\n\t\t/**\n\t\t * Adds a `focused` class to the input decorator.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to be placed at the end of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonAfter: PropTypes.string,\n\n\t\t/**\n\t\t * The icon to be placed at the beginning of the input.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\ticonBefore: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates [value]{@link agate/Input.InputBase.value} is invalid and shows\n\t\t * [invalidMessage]{@link agate/Input.InputBase.invalidMessage}, if set.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinvalid: PropTypes.bool,\n\n\t\t/**\n\t\t * The tooltip text to be displayed when the input is\n\t\t * [invalid]{@link agate/Input.InputBase.invalid}.\n\t\t *\n\t\t * If this value is *falsy*, the tooltip will not be shown.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tinvalidMessage: PropTypes.string,\n\n\t\t/**\n\t\t * Called when blurred.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonBlur: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the input value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called when clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Called when focused.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonFocus: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a key is pressed down.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonKeyDown: PropTypes.func,\n\n\t\t/**\n\t\t * Text to display when [value]{@link agate/Input.InputBase.value} is not set.\n\t\t *\n\t\t * @type {String}\n\t\t * @default ''\n\t\t * @public\n\t\t */\n\t\tplaceholder: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates the content's text direction is right-to-left.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the input field icon.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large']),\n\n\t\t/**\n\t\t * The type of input.\n\t\t *\n\t\t * Accepted values correspond to the standard HTML5 input types.\n\t\t *\n\t\t * @type {String}\n\t\t * @see [MDN input types doc]{@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Form_%3Cinput%3E_types}\n\t\t * @default 'text'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string,\n\n\t\t/**\n\t\t * The value of the input.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\tdismissOnEnter: false,\n\t\tinvalid: false,\n\t\tplaceholder: '',\n\t\ttype: 'text'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'decorator',\n\t\tpublicClassNames: ['decorator', 'input']\n\t},\n\n\thandlers: {\n\t\tonChange: (ev, {onChange}) => {\n\t\t\tif (onChange) {\n\t\t\t\tonChange({value: ev.target.value});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t// 'aria-label': ({placeholder, type, value}) => {\n\t\t// \tconst title = (value == null || value === '') ? placeholder : '';\n\t\t// \treturn calcAriaLabel(title, type, value);\n\t\t// },\n\t\tclassName: ({focused, invalid, styler}) => styler.append({focused, invalid}),\n\t\t// ensure we have a value so the internal <input> is always controlled\n\t\tvalue: ({value}) => typeof value === 'number' ? value : (value || '')\n\t},\n\n\trender: ({css, disabled, iconAfter, iconBefore, onChange, placeholder, size, type, value, ...rest}) => {\n\t\tconst inputProps = extractInputProps(rest);\n\t\tdelete rest.dismissOnEnter;\n\t\tdelete rest.focused;\n\t\tdelete rest.invalid;\n\t\tdelete rest.invalidMessage;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div {...rest} disabled={disabled}>\n\t\t\t\t<InputDecoratorIcon position=\"before\" size={size}>\n\t\t\t\t\t{iconBefore}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\taria-disabled={disabled}\n\t\t\t\t\tclassName={css.input}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\ttype={type}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<InputDecoratorIcon position=\"after\" size={size}>\n\t\t\t\t\t{iconAfter}\n\t\t\t\t</InputDecoratorIcon>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A Spottable, Agate styled input component with embedded icon support.\n *\n * By default, `Input` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class Input\n * @memberof agate/Input\n * @extends agate/Input.InputBase\n * @mixes ui/Changeable.Changeable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst Input = Pure(\n\tChangeable(\n\t\tInputSpotlightDecorator(\n\t\t\tSkinnable(\n\t\t\t\tInputBase\n\t\t\t)\n\t\t)\n\t)\n);\n\nexport default Input;\nexport {\n\textractInputProps,\n\tInput,\n\tInputBase\n};\n","// import $L from '../internal/$L';\n\n/**\n * Determines the `aria-label` for an Input\n *\n * @method\n * @memberof agate/Input\n * @param   {String}  prefix   Text to precede the value in the aria-label\n * @param   {String}  type     `type` of the Input\n * @param   {String}  [value]  Current value of the input\n * @returns {String}           `aria-label` value\n * @private\n */\n// const calcAriaLabel = function (prefix, type, value = '') {\n// \tconst hint = $L('Input field');\n//\n// \tif (type === 'password' && value) {\n// \t\tconst character = value.length > 1 ? $L('characters') : $L('character');\n// \t\tvalue = `${value.length} ${character}`;\n// \t}\n//\n// \treturn `${prefix} ${value} ${hint}`;\n// };\n\n/**\n * Removes `<input>` related props from `props` and returns them in a new object.\n *\n * Useful when redirecting `<input>` related props from a non-input root element to the `<input>`\n * element.\n *\n * @method\n * @memberof agate/Input\n * @param   {Object} props  Props object\n * @returns {Object}        input related props\n * @private\n */\nconst extractInputProps = function (props) {\n\tconst inputProps = {};\n\tObject.keys(props).forEach(key => {\n\t\tswitch (key) {\n\t\t\tcase 'autoComplete':\n\t\t\tcase 'list':\n\t\t\tcase 'maxLength':\n\t\t\tcase 'minLength':\n\t\t\tcase 'pattern':\n\t\t\tcase 'required':\n\t\t\tcase 'size':\n\t\t\t\tinputProps[key] = props[key];\n\t\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn inputProps;\n};\n\nexport {\n\t// calcAriaLabel,\n\textractInputProps\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"picker\":\"Picker_picker__UUvjv\",\"horizontal\":\"Picker_horizontal__Dj--W\",\"label\":\"Picker_label__3t76Q\",\"item\":\"Picker_item__3x94p\",\"itemDecrement\":\"Picker_itemDecrement__2DM0p\",\"itemIncrement\":\"Picker_itemIncrement__1r4Cn\",\"active\":\"Picker_active__1Heyq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollFill\":\"useScroll_scrollFill__3sWM5\",\"scroll\":\"useScroll_scroll__1hjH-\",\"scrollInnerContainer\":\"useScroll_scrollInnerContainer__2cjfl\",\"scrollContentWrapper\":\"useScroll_scrollContentWrapper__3y4Yr\",\"scrollContentWrapperNative\":\"useScroll_scrollContentWrapperNative__2gw3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"VirtualList_virtualList__27okt\",\"content\":\"VirtualList_content__2N_2e\",\"vertical\":\"VirtualList_vertical__2m96z\",\"native\":\"VirtualList_native__2Aj3i\",\"listItem\":\"VirtualList_listItem__3onfo\",\"horizontal\":\"VirtualList_horizontal__1ehoY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__3W3lA\",\"vertical\":\"Scrollbar_vertical__3N5Az\",\"horizontal\":\"Scrollbar_horizontal__1D2oU\",\"scrollbarButtonNoCompositeLayer\":\"Scrollbar_scrollbarButtonNoCompositeLayer__1eW87\",\"scrollButton\":\"Scrollbar_scrollButton__1UONg\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__2YqOy\",\"corner\":\"Scrollbar_corner__OHydB\"};","import FloatingLayer from '@enact/ui/FloatingLayer';\nimport {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst OpenState = {\n\tCLOSED: 0,\n\tOPENING: 1,\n\tOPEN: 2\n};\n\nconst forwardHide = forward('onHide');\n\nconst PopupState = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'PopupState';\n\n\t\tstatic propTypes = {\n\t\t\tnoAnimation: PropTypes.bool,\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\t\t\tonClose: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tnoAnimation: false,\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tscrimType: 'translucent'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tfloatLayerOpen: this.props.open,\n\t\t\t\tpopupOpen: this.props.open ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\tprevOpen: this.props.open\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.open !== state.prevOpen) {\n\t\t\t\tif (props.open) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: props.noAnimation || state.floatLayerOpen ? OpenState.OPEN : OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: true,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tpopupOpen: OpenState.CLOSED,\n\t\t\t\t\t\tfloatLayerOpen: state.popupOpen !== OpenState.CLOSED ? !props.noAnimation : false,\n\t\t\t\t\t\tprevOpen: props.open\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\thandleFloatingLayerOpen = () => {\n\t\t\tif (!this.props.noAnimation && this.state.popupOpen !== OpenState.OPEN) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tpopupOpen: OpenState.OPENING\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\thandlePopupHide = () => {\n\t\t\tforwardHide(null, this.props);\n\n\t\t\tthis.setState({\n\t\t\t\tfloatLayerOpen: false,\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {noAutoDismiss, onClose, scrimType, ...rest} = this.props;\n\t\t\tdelete rest.spotlightRestrict;\n\n\t\t\treturn (\n\t\t\t\t<FloatingLayer\n\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\topen={this.state.floatLayerOpen}\n\t\t\t\t\tonOpen={this.handleFloatingLayerOpen}\n\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t>\n\t\t\t\t\t<Wrapped\n\t\t\t\t\t\t{...rest}\n\t\t\t\t\t\topen={this.state.popupOpen >= OpenState.OPENING}\n\t\t\t\t\t\tonClose={onClose}\n\t\t\t\t\t\tonHide={this.handlePopupHide}\n\t\t\t\t\t/>\n\t\t\t\t</FloatingLayer>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default PopupState;\nexport {PopupState};\n","import clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\n\nconst Tracking = {\n\tUntracked: 0,\n\tActive: 1,\n\tPaused: 2\n};\n\nclass Drag {\n\tdragConfig = null;\n\n\tisDragging = () => this.dragConfig != null;\n\n\tsetContainerBounds = (node) => {\n\t\tconst {global: isGlobal, boxSizing} = this.dragConfig;\n\t\tlet bounds = null;\n\n\t\tif (!node) return;\n\n\t\tif (isGlobal) {\n\t\t\tbounds = {\n\t\t\t\tminX: 0,\n\t\t\t\tminY: 0,\n\t\t\t\tmaxX: window.innerWidth,\n\t\t\t\tmaxY: window.innerHeight\n\t\t\t};\n\t\t} else {\n\t\t\tbounds = node.getBoundingClientRect();\n\n\t\t\t// adjust for padding when using content-box\n\t\t\tif (boxSizing === 'content-box') {\n\t\t\t\tconst computedStyle = window.getComputedStyle(node);\n\t\t\t\tbounds = {\n\t\t\t\t\tminX: bounds.left + parseInt(computedStyle.paddingLeft),\n\t\t\t\t\tminY: bounds.top + parseInt(computedStyle.paddingTop),\n\t\t\t\t\tmaxX: bounds.right - parseInt(computedStyle.paddingRight),\n\t\t\t\t\tmaxY: bounds.bottom - parseInt(computedStyle.paddingBottom)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tthis.bounds = bounds;\n\t};\n\n\tupdatePosition = (clientX, clientY) => {\n\t\tconst {maxX, maxY, minX, minY} = this.bounds;\n\n\t\tconst x = clamp(minX, maxX, clientX) - minX;\n\t\tconst y = clamp(minY, maxY, clientY) - minY;\n\n\t\tif (x !== this.x || y !== this.y) {\n\t\t\tthis.x = x;\n\t\t\tthis.y = y;\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tbegin = (config, {noResume, onDrag, onDragEnd, onDragStart}, coords, node) => {\n\t\tif (!onDrag && !onDragStart && !onDragEnd) return;\n\n\t\tconst {x, y} = coords;\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.dragConfig = {\n\t\t\t...config,\n\t\t\tnode,\n\t\t\tonDragStart,\n\t\t\tonDragEnd,\n\t\t\tonDrag,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\tthis.setContainerBounds(node);\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onDrag`, `onDragEnd`, `onDragStart` props in the existing `dragConfig`.\n\tupdateProps = ({onDrag, onDragEnd, onDragStart}) => {\n\t\t// Check `isDragging` gesture is not in progress. Check if gesture exists before updating the references to the `dragConfig`\n\t\tif (!this.isDragging()) return;\n\n\t\t// This will update the `dragConfig` with the new value\n\t\tthis.dragConfig.onDragStart = onDragStart;\n\t\tthis.dragConfig.onDrag = onDrag;\n\t\tthis.dragConfig.onDragEnd = onDragEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {moveTolerance, onDrag, onDragStart} = this.dragConfig;\n\n\t\tif (this.tracking === Tracking.Untracked) {\n\t\t\tconst dx = coords.x - this.startX;\n\t\t\tconst dy = coords.y - this.startY;\n\n\t\t\tif (Math.sqrt(dx * dx + dy * dy) >= moveTolerance) {\n\t\t\t\tthis.tracking = Tracking.Active;\n\n\t\t\t\tif (onDragStart) {\n\t\t\t\t\tonDragStart({\n\t\t\t\t\t\ttype: 'onDragStart',\n\t\t\t\t\t\t...coords\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (onDrag && this.tracking === Tracking.Active && this.updatePosition(coords)) {\n\t\t\tonDrag({\n\t\t\t\ttype: 'onDrag',\n\t\t\t\t...coords\n\t\t\t});\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tconst {onDragEnd} = this.dragConfig;\n\t\tif (onDragEnd && this.tracking !== Tracking.Untracked) {\n\t\t\tonDragEnd({type: 'onDragEnd'});\n\t\t}\n\n\t\tthis.tracking = Tracking.Untracked;\n\t\tthis.dragConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (this.dragConfig.resume && this.tracking === Tracking.Paused) {\n\t\t\tthis.tracking = Tracking.Active;\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isDragging()) return;\n\n\t\tif (!this.dragConfig.global && this.tracking === Tracking.Active) {\n\t\t\tthis.tracking = Tracking.Paused;\n\t\t}\n\t};\n\n}\n\nconst defaultDragConfig = {\n\tboxSizing: 'border-box',\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst dragConfigPropType = PropTypes.shape({\n\tboxSizing: PropTypes.string,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Drag;\nexport {\n\tdefaultDragConfig,\n\tDrag,\n\tdragConfigPropType\n};\n","import {Job} from '@enact/core/util';\nimport PropTypes from 'prop-types';\n\nclass Flick {\n\tconstructor () {\n\t\tthis.tracking = false;\n\t\tthis.moves = [];\n\t}\n\n\tisTracking () {\n\t\treturn this.tracking;\n\t}\n\n\tbegin = ({maxDuration, maxMoves, minVelocity}, {onFlick}, coords) => {\n\t\tthis.minVelocity = minVelocity;\n\t\tthis.maxMoves = maxMoves;\n\n\t\tif (maxDuration !== null) {\n\t\t\tthis.cancelJob.startAfter(maxDuration);\n\t\t}\n\t\tthis.tracking = !!onFlick;\n\t\tthis.moves.length = 0;\n\t\tthis.onFlick = onFlick;\n\n\t\tthis.move(coords);\n\t};\n\n\t// This method will get the `onFlick` props in the existing `flickConfig` values.\n\tupdateProps = ({onFlick}) => {\n\t\t// Check `tracking` gesture is not in progress. Check if gesture exists before updating the references to the `flickConfig`\n\t\tif (!this.tracking) return;\n\n\t\t// This will update the `flickConfig` with the new value\n\t\tthis.flickConfig.onFlick = onFlick;\n\t};\n\n\tmove = ({x, y}) => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.moves.push({\n\t\t\tx,\n\t\t\ty,\n\t\t\tt: window.performance.now()\n\t\t});\n\n\t\t// track specified # of points\n\t\tif (this.moves.length > this.maxMoves) {\n\t\t\tthis.moves.shift();\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tthis.end();\n\t};\n\n\tcancel = () => {\n\t\tthis.tracking = false;\n\t};\n\n\tcancelJob = new Job(this.cancel);\n\n\tend = () => {\n\t\tif (!this.tracking) return;\n\n\t\tthis.cancelJob.stop();\n\n\t\tconst moves = this.moves;\n\t\tif (moves.length > 1) {\n\t\t\t// note: important to use up time to reduce flick\n\t\t\t// velocity based on time between move and up.\n\t\t\tconst last = moves[moves.length - 1];\n\t\t\tconst t = window.performance.now();\n\n\t\t\tlet x = 0, y = 0;\n\n\t\t\t// take the greatest of flick between each tracked move and last move\n\t\t\tfor (let i = moves.length - 2, m; (m = moves[i]); i--) {\n\t\t\t\t// this flick (this move - last move) / (this time - last time)\n\t\t\t\tconst dt = t - m.t;\n\t\t\t\tconst vx = (last.x - m.x) / dt;\n\t\t\t\tconst vy = (last.y - m.y) / dt;\n\n\t\t\t\t// if either axis is a greater flick than previously recorded use this one\n\t\t\t\tif (Math.abs(vx) > Math.abs(x) || Math.abs(vy) > Math.abs(y)) {\n\t\t\t\t\tx = vx;\n\t\t\t\t\ty = vy;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst v = Math.sqrt(x * x + y * y);\n\t\t\tif (v > this.minVelocity) {\n\t\t\t\tconst vertical = Math.abs(y) > Math.abs(x);\n\t\t\t\t// generate the flick using the start event so it has those coordinates\n\t\t\t\t// this.sendFlick(ti.startEvent, x, y, v);\n\t\t\t\tthis.onFlick({\n\t\t\t\t\ttype: 'onFlick',\n\t\t\t\t\tdirection: vertical ? 'vertical' : 'horizontal',\n\t\t\t\t\tvelocityX: x,\n\t\t\t\t\tvelocityY: y,\n\t\t\t\t\tvelocity: v\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tthis.tracking = false;\n\t};\n}\n\nconst defaultFlickConfig = {\n\tmaxDuration: 250,\n\tmaxMoves: 5,\n\tminVelocity: 0.1\n};\n\nconst flickConfigPropType = PropTypes.shape({\n\tmaxDuration: PropTypes.number,\n\tmaxMoves: PropTypes.number,\n\tmaxVelocity: PropTypes.number\n});\n\nexport default Flick;\nexport {\n\tdefaultFlickConfig,\n\tFlick,\n\tflickConfigPropType\n};\n","import PropTypes from 'prop-types';\n\nclass Hold {\n\tconstructor () {\n\t\tthis.holdJob = null;\n\t\tthis.holdStart = null;\n\t\tthis.pulsing = false;\n\t\tthis.next = null;\n\t}\n\n\tisHolding = () => this.holdConfig != null;\n\n\tisWithinTolerance = ({x, y}) => {\n\t\tconst {moveTolerance} = this.holdConfig;\n\t\tconst dx = this.startX - x;\n\t\tconst dy = this.startY - y;\n\n\t\treturn Math.sqrt(dx * dx + dy * dy) < moveTolerance;\n\t};\n\n\tbegin = (defaultConfig, {holdConfig, noResume, onHold, onHoldEnd, onHoldPulse}, {x, y}) => {\n\t\tif (!onHold && !onHoldPulse) return;\n\n\t\tthis.startX = x;\n\t\tthis.startY = y;\n\n\t\tthis.holdConfig = {\n\t\t\t...defaultConfig,\n\t\t\t...holdConfig,\n\t\t\tonHold,\n\t\t\tonHoldEnd,\n\t\t\tonHoldPulse,\n\t\t\tresume: !noResume\n\t\t};\n\n\t\t// copy the events array since it is mutated for each hold\n\t\tthis.holdConfig.events = this.holdConfig.events.slice();\n\t\tthis.holdConfig.events.sort((a, b) => {\n\t\t\tif (a.time < b.time) return -1;\n\t\t\tif (a.time > b.time) return 1;\n\t\t\treturn 0;\n\t\t});\n\n\t\tthis.pulsing = false;\n\t\tthis.next = this.holdConfig.events.shift();\n\t\tif (this.next) {\n\t\t\tthis.holdStart = window.performance.now();\n\t\t\tthis.startJob();\n\t\t}\n\t};\n\n\t// This method will get the `onHold`, `onHoldEnd`, `onHoldPulse` props and update in the existing `holdConfig`.\n\tupdateProps = ({onHold, onHoldEnd, onHoldPulse}) => {\n\t\t// check `isHolding` gesture is not in progress. Check if gesture exists before updating the references to the `holdConfig`\n\t\tif (!this.isHolding()) return;\n\n\t\t// Update the original values with new values of the gestures\n\t\tthis.holdConfig.onHoldPulse = onHoldPulse;\n\t\tthis.holdConfig.onHold = onHold;\n\t\tthis.holdConfig.onHoldEnd = onHoldEnd;\n\t};\n\n\tmove = (coords) => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (cancelOnMove) {\n\t\t\tconst shouldEnd = !this.isWithinTolerance(coords);\n\n\t\t\tif (shouldEnd) {\n\t\t\t\tif (resume) {\n\t\t\t\t\tthis.suspend();\n\t\t\t\t} else {\n\t\t\t\t\tthis.end();\n\t\t\t\t}\n\t\t\t} else if (resume && !shouldEnd) {\n\t\t\t\tthis.resume();\n\t\t\t}\n\t\t}\n\t};\n\n\tblur = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tif (!this.holdConfig.global) {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tend = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {onHoldEnd} = this.holdConfig;\n\t\tif (this.pulsing && onHoldEnd) {\n\t\t\tconst time = window.performance.now() - this.holdStart;\n\t\t\tonHoldEnd({\n\t\t\t\ttype: 'onHoldEnd',\n\t\t\t\ttime\n\t\t\t});\n\t\t}\n\n\t\tthis.suspend();\n\t\tthis.pulsing = false;\n\t\tthis.holdConfig = null;\n\t};\n\n\tenter = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {cancelOnMove, resume} = this.holdConfig;\n\n\t\tif (resume && !cancelOnMove) {\n\t\t\tthis.resume();\n\t\t}\n\t};\n\n\tleave = () => {\n\t\tif (!this.isHolding()) return;\n\n\t\tconst {global: isGlobal, resume} = this.holdConfig;\n\n\t\tif (isGlobal) return;\n\n\t\tif (resume) {\n\t\t\tthis.suspend();\n\t\t} else {\n\t\t\tthis.end();\n\t\t}\n\t};\n\n\tsuspend = () => {\n\t\tclearInterval(this.holdJob);\n\t\tthis.holdJob = null;\n\t};\n\n\tresume = () => {\n\t\tif (this.holdJob !== null) return;\n\n\t\tthis.handlePulse();\n\t\tthis.startJob();\n\t};\n\n\tstartJob () {\n\t\tconst {frequency} = this.holdConfig;\n\n\t\tif (!this.holdJob) {\n\t\t\tthis.holdJob = setInterval(this.handlePulse, frequency);\n\t\t}\n\t}\n\n\thandlePulse = () => {\n\t\tconst holdTime = window.performance.now() - this.holdStart;\n\n\t\tlet n = this.next;\n\t\twhile (n && n.time <= holdTime) {\n\t\t\tconst {events, onHold} = this.holdConfig;\n\t\t\tthis.pulsing = true;\n\t\t\tif (onHold) {\n\t\t\t\tonHold({\n\t\t\t\t\ttype: 'onHold',\n\t\t\t\t\t...n\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if the hold is canceled from the onHold handler, we should bail early and prevent\n\t\t\t// additional hold/pulse events\n\t\t\tif (!this.isHolding()) {\n\t\t\t\tthis.pulsing = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tn = this.next = events && events.shift();\n\t\t}\n\n\t\tif (this.pulsing) {\n\t\t\tconst {onHoldPulse} = this.holdConfig;\n\n\t\t\tif (onHoldPulse) {\n\t\t\t\tonHoldPulse({\n\t\t\t\t\ttype: 'onHoldPulse',\n\t\t\t\t\ttime: holdTime\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n\nconst defaultHoldConfig = {\n\tcancelOnMove: false,\n\tevents: [\n\t\t{name: 'hold', time: 200}\n\t],\n\tfrequency: 200,\n\tglobal: false,\n\tmoveTolerance: 16\n};\n\nconst holdConfigPropType = PropTypes.shape({\n\tcancelOnMove: PropTypes.bool,\n\tevents: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tname: PropTypes.string,\n\t\t\ttime: PropTypes.number\n\t\t})\n\t),\n\tfrequency: PropTypes.number,\n\tglobal: PropTypes.bool,\n\tmoveTolerance: PropTypes.number\n});\n\nexport default Hold;\nexport {\n\tdefaultHoldConfig,\n\tHold,\n\tholdConfigPropType\n};\n","import {defaultDragConfig} from './Drag.js';\nimport {defaultFlickConfig} from './Flick.js';\nimport {defaultHoldConfig} from './Hold.js';\n\nconst allowedDragKeys = Object.keys(defaultDragConfig);\nconst allowedFlickKeys = Object.keys(defaultFlickConfig);\nconst allowedHoldKeys = Object.keys(defaultHoldConfig);\n\n/**\n * The Global Gesture Configuration Object\n *\n * @private\n * @memberof ui/Touchable\n */\nlet config = {};\n\n// map-friendly clone method\nconst clone = o => Object.assign({}, o);\n\n// Merges two configuation objects while retaining only the allowed keys\nconst mergeGestureConfig = (current, update, allowed) => {\n\tconst cfg = {...current, ...update};\n\n\tObject.keys(cfg).forEach(key => {\n\t\tif (allowed.indexOf(key) === -1) {\n\t\t\tdelete cfg[key];\n\t\t}\n\t});\n\n\treturn cfg;\n};\n\n// Merges the current global config with the provided `cfg` and returns the result\nconst mergeConfig = (cfg) => {\n\tconst merged = {\n\t\tdrag: mergeGestureConfig(config.drag, cfg.drag, allowedDragKeys),\n\t\tflick: mergeGestureConfig(config.flick, cfg.flick, allowedFlickKeys),\n\t\thold: mergeGestureConfig(config.hold, cfg.hold, allowedHoldKeys)\n\t};\n\n\tmerged.hold.events = merged.hold.events.map(clone);\n\n\treturn merged;\n};\n\n/**\n * Configures the global gesture configuration for the application.\n *\n * Example:\n * ```\n * // Updates the `maxMoves`, `moveTolerance`, and `frequency` configurations while retaining the\n * // current value of all other configurations\n * configure({\n *     flick: {\n *         maxMoves: 10\n *     },\n *     hold: {\n *         moveTolerance: 32,\n *         frequency: 400\n *     }\n * });\n * ```\n *\n * Each type of gesture has its own set of configuration properties grouped within a separate object\n * keyed by the name of the gesture. Partial configurations may be passed and will be merged with\n * the current configuration.\n *\n * `drag`\n *\n *   * `boxSizing` - The part of the component's box model is used as the bounds of the constraint.\n *     Only applies when `global` is `false`.\n *     * `'border-box'` - the default, includes the padding and border but excludes the margin.\n *     * `'content-box'` - excludes the padding, border, and margin.\n *   * `global` - When `true`, drag gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the drag that the pointer\n *     may move before cancelling the drag. Defaults to `16`.\n *\n * `flick`\n *\n *   * `maxDuration` - The amount of time, in milliseconds, to complete a flick gesture before it\n *     is cancelled. Defaults to 250.\n *   * `maxMoves` - The number of moves tracked to determine if a flick occurred. Defaults to `5`.\n *   * `minVelocity` - The minimum threshold, measured as the change in pixels over the change in\n *     time per move, that must be exceeded to generate a `onFlick` event.\n *\n * `hold`\n *\n *   * `cancelOnMove` - When `true`, the hold is cancelled when moving beyond the `moveTolerance`.\n *     Defaults to `false`\n *   * `global` - When `true`, hold gestures will continue when leaving the bounds of the component\n *      or blurring the component.\n *   * `moveTolerance` - The number of pixels from the start position of the hold that the pointer\n *     may move before cancelling the hold. Ignored when `cancelOnMove` is `false`. Defaults to\n *     `16`.\n *   * `frequency` - The time, in milliseconds, to poll for hold events. Defaults to `200`.\n *   * `events` - An array of `onHold` events which each contain a `name` and `time`. The `time`\n *     controls the amount of time that must pass before this `onHold` event is fired and should\n *     be a multiple of `frequency`.\n *\n * @function\n * @param   {Object}     cfg  A partial or complete configuration object\n *\n * @returns {undefined}\n * @public\n * @memberof ui/Touchable\n */\nconst configure = (cfg) => {\n\tconfig = mergeConfig(cfg);\n};\n\nconst getConfig = () => config;\n\nconst resetDefaultConfig = () => configure({\n\tdrag: defaultDragConfig,\n\thold: defaultHoldConfig,\n\tflick: defaultFlickConfig\n});\n\nresetDefaultConfig();\n\nexport default configure;\nexport {\n\tconfigure,\n\tgetConfig,\n\tmergeConfig,\n\tresetDefaultConfig\n};\n","const States = {\n\tInactive: 0,\n\tPaused: 1,\n\tActive: 2\n};\n\nconst setActive = (state) => ({active}) => active !== state ? {active: state} : null;\n\n// State management functions\nconst activate = setActive(States.Active);\nconst deactivate = setActive(States.Inactive);\nconst pause = ({active}) => active === States.Active ? {active: States.Paused} : null;\n\nexport {\n\tactivate,\n\tdeactivate,\n\tpause,\n\tStates\n};\n","import {platform} from '@enact/core/platform';\n\n// It's possible that emitting `onTap` will cause a DOM change before the mousedown fires resulting\n// in multiple tap/click events for the same user action. To avoid this, we store the last touchend\n// target and timestamp to compare against the next mouse down. If the timestamp is different (e.g\n// we're on a hybrid device that emitted a touch event but the next was a mouse event) or the target\n// is the same (or no previous target was set if no touch events have been emitted), we allow the\n// mousedown *across Touchable instances*.\nlet _lastTouchEnd = {\n\ttarget: null,\n\ttimeStamp: 0\n};\n\nconst shouldAllowMouseDown = (ev) => {\n\treturn ev.timeStamp !== _lastTouchEnd.timeStamp || (\n\t\tev.target === _lastTouchEnd.target ||\n\t\t_lastTouchEnd.target === null\n\t);\n};\n\nclass ClickAllow {\n\tconstructor () {\n\t\tthis.lastTouchEndTime = 0;\n\t\tthis.lastMouseUpTime = 0;\n\t}\n\n\tsetLastTouchEnd (ev) {\n\t\tif (ev && ev.type === 'touchend') {\n\t\t\tthis.lastTouchEndTime = ev.timeStamp;\n\t\t\t_lastTouchEnd.timeStamp = ev.timeStamp;\n\t\t\t_lastTouchEnd.target = ev.target;\n\t\t}\n\t}\n\n\tsetLastMouseUp (ev) {\n\t\tif (ev && ev.type === 'mouseup') {\n\t\t\tthis.lastMouseUpTime = ev.timeStamp;\n\t\t}\n\t}\n\n\tshouldAllowMouseEvent (ev) {\n\t\tconst {timeStamp} = ev;\n\n\t\t// iOS Safari sends both touch and mouse events (with differing timestamps)\n\t\treturn !platform.ios && this.lastTouchEndTime !== timeStamp && shouldAllowMouseDown(ev);\n\t}\n\n\tshouldAllowTap (ev) {\n\t\tconst {type, timeStamp} = ev;\n\n\t\t// Allow the custom tap event for a click when its actually a click and its not from the\n\t\t// last mouseup event which would have fired the click for us\n\t\treturn type === 'click' && this.lastMouseUpTime !== timeStamp;\n\t}\n}\n\nexport default ClickAllow;\nexport {\n\tClickAllow\n};\n","/**\n * Application support for gestures.\n *\n * @module ui/Touchable\n * @exports Touchable\n * @exports configure\n */\n\nimport {adaptEvent, call, forward, forwardWithPrevent, forProp, handle, oneOf, preventDefault, returnsTrue} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {on, off} from '@enact/core/dispatcher';\nimport complement from 'ramda/src/complement';\nimport platform from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {configure, mergeConfig} from './config';\nimport {activate, deactivate, pause, States} from './state';\nimport ClickAllow from './ClickAllow';\n\nimport {Drag, dragConfigPropType} from './Drag';\nimport {Flick, flickConfigPropType} from './Flick';\nimport {Hold, holdConfigPropType} from './Hold';\n\nconst getEventCoordinates = (ev) => {\n\tlet {clientX: x, clientY: y, type} = ev;\n\tif (type.indexOf('touch') === 0) {\n\t\tx = ev.targetTouches[0].clientX;\n\t\ty = ev.targetTouches[0].clientY;\n\t}\n\n\treturn {x, y};\n};\n\n// Establish a standard payload for onDown/onUp/onTap events and pass it along to a handler\nconst makeTouchableEvent = (type) => (ev) => {\n\tconst {target, currentTarget} = ev;\n\tlet {clientX, clientY, pageX, pageY} = ev;\n\n\tif (ev.changedTouches) {\n\t\tclientX = ev.changedTouches[0].clientX;\n\t\tclientY = ev.changedTouches[0].clientY;\n\t\tpageX = ev.changedTouches[0].pageX;\n\t\tpageY = ev.changedTouches[0].pageY;\n\t}\n\n\treturn {\n\t\ttype,\n\t\ttarget,\n\t\tcurrentTarget,\n\t\tclientX,\n\t\tclientY,\n\t\tpageX,\n\t\tpageY\n\t};\n};\n\nconst isEnabled = forProp('disabled', false);\n\nconst handleDown = handle(\n\tisEnabled,\n\tadaptEvent(makeTouchableEvent('onDown'), forwardWithPrevent('onDown')),\n\tcall('activate'),\n\tcall('startGesture')\n).named('handleDown');\n\nconst handleUp = handle(\n\tisEnabled,\n\tcall('endGesture'),\n\tcall('isTracking'),\n\tadaptEvent(makeTouchableEvent('onUp'), forwardWithPrevent('onUp')),\n\tadaptEvent(makeTouchableEvent('onTap'), forward('onTap'))\n).finally(call('deactivate')).named('handleUp');\n\nconst handleEnter = handle(\n\tisEnabled,\n\tforProp('noResume', false),\n\tcall('enterGesture'),\n\tcall('isPaused'),\n\tcall('activate')\n).named('handleEnter');\n\nconst handleLeave = handle(\n\tisEnabled,\n\tcall('leaveGesture'),\n\toneOf(\n\t\t[forProp('noResume', false), call('pause')],\n\t\t[returnsTrue, call('deactivate')]\n\t)\n).named('handleLeave');\n\n// Mouse event handlers\n\nconst handleMouseDown = handle(\n\tforward('onMouseDown'),\n\tcall('shouldAllowMouseEvent'),\n\thandleDown\n);\n\nconst handleMouseEnter = handle(\n\tforward('onMouseEnter'),\n\thandleEnter\n);\n\nconst handleMouseMove = handle(\n\tforward('onMouseMove'),\n\tcall('moveGesture')\n);\n\nconst handleMouseLeave = handle(\n\tforward('onMouseLeave'),\n\thandleLeave\n);\n\nconst handleMouseUp = handle(\n\treturnsTrue(call('setLastMouseUp')),\n\tforward('onMouseUp'),\n\thandleUp\n);\n\nconst handleClick = handle(\n\tisEnabled,\n\t// wrapping another handler to always forward onClick but, if onTap should occur, it should\n\t// occur first to keep in sync with the up handler which emits onTap first\n\thandle(\n\t\tcall('shouldAllowTap'),\n\t\tcall('activate'),\n\t\thandleUp\n\t).finally(forward('onClick'))\n);\n\n// Touch event handlers\n\nconst handleTouchStart = handle(\n\tforward('onTouchStart'),\n\treturnsTrue(call('startTouch')),\n\thandleDown\n);\n\nconst handleTouchMove = handle(\n\tforward('onTouchMove'),\n\tcall('isTracking'),\n\t// we don't receive enter/leave events during a touch so we have to simulate them by\n\t// detecting when the touch leaves the boundary. oneOf returns the value of whichever\n\t// branch it follows so we append moveHold to either to handle moves that aren't\n\t// entering or leaving\n\tadaptEvent(makeTouchableEvent('onMove'), forward('onMove')),\n\toneOf(\n\t\t[call('hasTouchLeftTarget'), handleLeave],\n\t\t[returnsTrue, handleEnter]\n\t).finally(call('moveGesture'))\n);\n\nconst handleTouchEnd = handle(\n\tforward('onTouchEnd'),\n\t// block the next mousedown to prevent duplicate touchable events\n\treturnsTrue(call('setLastTouchEnd')),\n\tcall('isTracking'),\n\tcomplement(call('hasTouchLeftTarget')),\n\treturnsTrue(call('endTouch')),\n\thandleUp\n);\n\n// Global touchend/mouseup event handler to deactivate the component\nconst handleGlobalUp = handle(\n\tcall('isTracking'),\n\tcall('deactivate')\n).finally(call('endGesture'));\n\nconst handleGlobalMove = handle(\n\tcall('isTracking'),\n\tcall('containsCurrentTarget'),\n\tcall('moveGesture')\n);\n\nconst handleBlur = handle(\n\tforward('onBlur'),\n\tcall('hasFocus'),\n\tcall('blurGesture')\n);\n\n/**\n * Default config for `Touchable`.\n *\n * @memberof ui/Touchable.Touchable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Configures the prop name to pass the active state to the wrapped component\n\t *\n\t * @type {String}\n\t * @default null\n\t * @memberof ui/Touchable.Touchable.defaultConfig\n\t */\n\tactiveProp: null\n};\n\n/**\n * A higher-order component that provides a consistent set of pointer events -- `onDown`, `onUp`,\n * and `onTap` -- across mouse and touch interfaces along with support for common gestures including\n * `onFlick`, `onDrag`, `onHold`, and `onHoldPulse`.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node or consumed by the wrapped component.\n *\n * @class Touchable\n * @memberof ui/Touchable\n * @hoc\n * @public\n */\nconst Touchable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tactiveProp\n\t} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Touchable';\n\n\t\tstatic propTypes = /** @lends ui/Touchable.Touchable.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the drag configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tdragConfig: dragConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the flick configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tflickConfig: flickConfigPropType,\n\n\t\t\t/**\n\t\t\t * Instance-specific overrides of the hold configuration.\n\t\t\t *\n\t\t\t * @see {@link ui/Touchable.configure}\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tholdConfig: holdConfigPropType,\n\n\t\t\t/**\n\t\t\t * Prevents resuming the touch events and gestures when re-entering the component.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoResume: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Event handler for 'down' pointer events.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDown: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDrag'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDrag: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragEnd'`\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the start of a drag gesture.\n\t\t\t *\n \t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onDragStart'`\n\t\t\t * * `x` - Horizontal position of the drag, relative to the viewport\n\t\t\t * * `y` - Vertical position of the drag, relative to the viewport\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonDragStart: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for a flick gesture.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onFlick'`\n\t\t\t * * `direction` - Primary direction of the flick, either `'horizontal'` or `'vertical'`\n\t\t\t * * `velocity` - Velocity of flick\n\t\t\t * * `velocityX` - Velocity of flick along te horizontal axis\n\t\t\t * * `velocityY` - Velocity of flick along te vertical axis\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonFlick: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHold'`\n\t\t\t * * `name` - The name of the hold as configured in the events list\n\t\t\t * * `time` - Time, in milliseconds, configured for this hold which may vary slightly\n\t\t\t *            from time since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHold: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for the end of hold events.\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldEnd'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldEnd: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for hold pulse events\n\t\t\t *\n\t\t\t * Event payload includes:\n\t\t\t *\n\t\t\t * * `type` - Type of event, `'onHoldPulse'`\n\t\t\t * * `time` - Time, in milliseconds, since the hold began\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonHoldPulse: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'tap' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonTap: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Event handler for 'up' pointer events\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonUp: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\tnoResume: false\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tactive: States.Inactive,\n\t\t\t\tprevDisabled: props.disabled\n\t\t\t};\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: props.dragConfig,\n\t\t\t\tflick: props.flickConfig,\n\t\t\t\thold: props.holdConfig\n\t\t\t});\n\n\t\t\tthis.target = null;\n\t\t\tthis.targetHadFocus = false;\n\t\t\tthis.handle = handle.bind(this);\n\t\t\tthis.drag = new Drag();\n\t\t\tthis.flick = new Flick();\n\t\t\tthis.hold = new Hold();\n\n\t\t\tthis.clickAllow = new ClickAllow();\n\n\t\t\thandleClick.bindAs(this, 'handleClick');\n\t\t\thandleBlur.bindAs(this, 'handleBlur');\n\t\t\thandleMouseDown.bindAs(this, 'handleMouseDown');\n\t\t\thandleMouseEnter.bindAs(this, 'handleMouseEnter');\n\t\t\thandleMouseMove.bindAs(this, 'handleMouseMove');\n\t\t\thandleMouseLeave.bindAs(this, 'handleMouseLeave');\n\t\t\thandleMouseUp.bindAs(this, 'handleMouseUp');\n\t\t\thandleTouchStart.bindAs(this, 'handleTouchStart');\n\t\t\thandleTouchMove.bindAs(this, 'handleTouchMove');\n\t\t\thandleTouchEnd.bindAs(this, 'handleTouchEnd');\n\t\t\thandleGlobalUp.bindAs(this, 'handleGlobalUp');\n\t\t\thandleGlobalMove.bindAs(this, 'handleGlobalMove');\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst {disabled} = props;\n\t\t\tconst {prevDisabled} = state;\n\n\t\t\tif (prevDisabled !== disabled) {\n\t\t\t\treturn {\n\t\t\t\t\t...(activeProp && !prevDisabled && disabled && deactivate(state)),\n\t\t\t\t\tprevDisabled: disabled\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// ensure we clean up our internal state\n\t\t\tif (platform.touch) {\n\t\t\t\ton('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\ton('mouseup', this.handleGlobalUp, document);\n\t\t\ton('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tif (!prevProps.disabled && this.props.disabled) {\n\t\t\t\tthis.clearTarget();\n\t\t\t\tthis.hold.end();\n\t\t\t}\n\n\t\t\tthis.config = mergeConfig({\n\t\t\t\tdrag: this.props.dragConfig,\n\t\t\t\tflick: this.props.flickConfig,\n\t\t\t\thold: this.props.holdConfig\n\t\t\t});\n\n\t\t\t// Update the props onHold, onHoldEnd, onHoldPulse on any gesture (hold, flick, drag).\n\t\t\tthis.hold.updateProps(this.props);\n\t\t\tthis.flick.updateProps(this.props);\n\t\t\tthis.drag.updateProps(this.props);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.clearTarget();\n\t\t\tthis.hold.end();\n\n\t\t\tif (platform.touch) {\n\t\t\t\toff('touchend', this.handleGlobalUp, document);\n\t\t\t}\n\t\t\toff('mouseup', this.handleGlobalUp, document);\n\t\t\toff('mousemove', this.handleGlobalMove, document);\n\t\t}\n\n\t\t// State Management\n\n\t\tsetTarget (target) {\n\t\t\tthis.target = target;\n\t\t}\n\n\t\tclearTarget () {\n\t\t\tthis.target = null;\n\t\t}\n\n\t\tactivate (ev) {\n\t\t\tthis.setTarget(ev.currentTarget);\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(activate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tdeactivate () {\n\t\t\tthis.clearTarget();\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(deactivate);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tpause () {\n\t\t\tif (activeProp) {\n\t\t\t\tthis.setState(pause);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Gesture Support\n\n\t\tstartTouch ({currentTarget}) {\n\t\t\ton('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = currentTarget.getBoundingClientRect();\n\t\t}\n\n\t\tendTouch () {\n\t\t\toff('contextmenu', preventDefault);\n\t\t\tthis.targetBounds = null;\n\t\t}\n\n\t\tstartGesture (ev, props) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\t\t\tlet {hold, flick, drag} = this.config;\n\n\t\t\tthis.hold.begin(hold, props, coords);\n\t\t\tthis.flick.begin(flick, props, coords);\n\t\t\tthis.drag.begin(drag, props, coords, this.target);\n\n\t\t\tthis.targetHadFocus = this.target === document.activeElement;\n\n\t\t\treturn true;\n\t\t}\n\n\t\tmoveGesture (ev) {\n\t\t\tconst coords = getEventCoordinates(ev);\n\n\t\t\tthis.hold.move(coords);\n\t\t\tthis.flick.move(coords);\n\t\t\tthis.drag.move(coords);\n\n\t\t\treturn true;\n\t\t}\n\n\t\tenterGesture () {\n\t\t\tthis.drag.enter();\n\t\t\tthis.hold.enter();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tleaveGesture () {\n\t\t\tthis.drag.leave();\n\t\t\tthis.hold.leave();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tblurGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.blur();\n\t\t\tthis.flick.blur();\n\t\t\tthis.drag.blur();\n\n\t\t\treturn true;\n\t\t}\n\n\t\tendGesture () {\n\t\t\tthis.targetHadFocus = false;\n\n\t\t\tthis.hold.end();\n\t\t\tthis.flick.end();\n\t\t\tthis.drag.end();\n\n\t\t\treturn true;\n\t\t}\n\n\t\t// Event handler utilities\n\n\t\tisTracking () {\n\t\t\t// verify we had a target and the up target is still within the current node\n\t\t\treturn this.target;\n\t\t}\n\n\t\tisPaused () {\n\t\t\treturn this.state.active === States.Paused;\n\t\t}\n\n\t\thasFocus () {\n\t\t\treturn this.targetHadFocus;\n\t\t}\n\n\t\thasTouchLeftTarget (ev) {\n\t\t\treturn Array.from(ev.changedTouches).reduce((hasLeft, {pageX, pageY}) => {\n\t\t\t\tconst {left, right, top, bottom} = this.targetBounds;\n\t\t\t\treturn hasLeft && left > pageX || right < pageX || top > pageY || bottom < pageY;\n\t\t\t}, true);\n\t\t}\n\n\t\tcontainsCurrentTarget ({target}) {\n\t\t\treturn !this.target.contains(target);\n\t\t}\n\n\t\tshouldAllowMouseEvent (ev) {\n\t\t\treturn this.clickAllow.shouldAllowMouseEvent(ev);\n\t\t}\n\n\t\tshouldAllowTap (ev) {\n\t\t\treturn this.clickAllow.shouldAllowTap(ev);\n\t\t}\n\n\t\tsetLastMouseUp (ev) {\n\t\t\tthis.clickAllow.setLastMouseUp(ev);\n\t\t}\n\n\t\tsetLastTouchEnd (ev) {\n\t\t\tthis.clickAllow.setLastTouchEnd(ev);\n\t\t}\n\n\t\taddHandlers (props) {\n\t\t\tprops.onClick = this.handleClick;\n\t\t\tprops.onMouseDown = this.handleMouseDown;\n\t\t\tprops.onMouseLeave = this.handleMouseLeave;\n\t\t\tprops.onMouseMove = this.handleMouseMove;\n\t\t\tprops.onMouseEnter = this.handleMouseEnter;\n\t\t\tprops.onMouseUp = this.handleMouseUp;\n\t\t\tprops.onBlur = this.handleBlur;\n\n\t\t\tif (platform.touch) {\n\t\t\t\tprops.onTouchStart = this.handleTouchStart;\n\t\t\t\tprops.onTouchMove = this.handleTouchMove;\n\t\t\t\tprops.onTouchEnd = this.handleTouchEnd;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tthis.addHandlers(props);\n\n\t\t\tdelete props.dragConfig;\n\t\t\tdelete props.flickConfig;\n\t\t\tdelete props.holdConfig;\n\t\t\tdelete props.noResume;\n\t\t\tdelete props.onDown;\n\t\t\tdelete props.onFlick;\n\t\t\tdelete props.onHold;\n\t\t\tdelete props.onHoldEnd;\n\t\t\tdelete props.onHoldPulse;\n\t\t\tdelete props.onTap;\n\t\t\tdelete props.onUp;\n\n\t\t\tif (activeProp) {\n\t\t\t\tprops[activeProp] = this.state.active !== States.Inactive;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default Touchable;\nexport {\n\tconfigure,\n\tTouchable\n};\n","/**\n * An Agate-themed Labeled Icon component.\n *\n * @example\n * <LabeledIcon icon=\"star\">Hello Enact!</LabeledIcon>\n *\n * @module agate/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport {LabeledIconBase as UiLabeledIconBase, LabeledIconDecorator as UiLabeledIconDecorator} from '@enact/ui/LabeledIcon';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * A basic LabeledIcon component structure without any behaviors applied to it.\n *\n * @class LabeledIconBase\n * @memberof agate/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'LabeledIcon',\n\n\tpropTypes: /** @lends agate/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root class name\n\t\t * * `label` - Applied to the label element\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\trender: (props) => UiLabeledIconBase.inline({\n\t\ticonComponent: Icon,\n\t\t...props,\n\t\tcss: props.css\n\t})\n});\n\n/**\n * Adds Agate specific behaviors to [LabeledIconBase]{@link agate/LabeledIcon.LabeledIconBase}.\n *\n * @hoc\n * @memberof agate/LabeledIcon\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tUiLabeledIconDecorator,\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled icon component with a label.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof agate/LabeledIcon\n * @extends agate/LabeledIcon.LabeledIconBase\n * @mixes agate/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","/**\n * Agate styled checkbox component.\n *\n * @example\n * <Checkbox onToggle={console.log} />\n *\n * @module agate/Checkbox\n * @exports Checkbox\n * @exports CheckboxBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Icon from '../Icon/Icon';\nimport ToggleIcon from '../internal/ToggleIcon/ToggleIcon';\n\nimport css from './Checkbox.module.less';\n\n/**\n * A checkbox component, ready to use in Agate applications.\n *\n * `Checkbox` may be used independently to represent a toggleable state but is more commonly used as\n * part of [CheckboxItem]{@link agate/CheckboxItem}.\n *\n * Usage:\n * ```\n * <Checkbox selected />\n * ```\n *\n * @class Checkbox\n * @memberof agate/Checkbox\n * @extends agate/internal/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst CheckboxBase = kind({\n\tname: 'Checkbox',\n\n\tpropTypes: /** @lends agate/Checkbox.Checkbox.prototype */ {\n\t\t/**\n\t\t * The icon displayed when `selected`.\n\t\t *\n\t\t * @see {@link agate/Icon.Icon.children}\n\t\t * @type {String|Object}\n\t\t * @default\t'check'\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tchildren: 'check'\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\treturn (\n\t\t\t<ToggleIcon\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</ToggleIcon>\n\t\t);\n\t}\n});\n\nexport default CheckboxBase;\nexport {\n\tCheckboxBase as Checkbox,\n\tCheckboxBase\n};\n","/**\n * Agate styled item components with a toggleable checkbox.\n *\n * @example\n * <CheckboxItem onToggle={console.log}>\n * \tItem with a Checkbox\n * </CheckboxItem>\n *\n * @module agate/CheckboxItem\n * @exports CheckboxItem\n * @exports CheckboxItemBase\n */\n\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Checkbox from '../Checkbox';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './CheckboxItem.module.less';\n\n/**\n * An item with a checkbox component, ready to use in Agate applications.\n *\n * `CheckboxItem` may be used to allow the user to select a single option or used as part of a\n * [Group]{@link ui/Group} when multiple [selections]{@link ui/Group.Group.select} are possible.\n *\n * Usage:\n * ```\n * <CheckboxItem\n * \tdefaultSelected={selected}\n * \tonToggle={handleToggle}\n * >\n *  Item with a Checkbox\n * </CheckboxItem>\n * ```\n *\n * @class CheckboxItem\n * @memberof agate/CheckboxItem\n * @extends agate/Item.Item\n * @omit iconComponent\n * @ui\n * @public\n */\nconst CheckboxItemBase = kind({\n\tname: 'CheckboxItem',\n\n\tpropTypes: /** @lends agate/CheckboxItem.CheckboxItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal Elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `checkboxItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution})\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @default 'check'\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * If true the checkbox will be selected.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'check'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'checkboxItem',\n\t\tpublicClassNames: ['checkboxItem']\n\t},\n\n\trender: ({children, css, icon, selected, ...rest}) => (\n\t\t<Item\n\t\t\tdata-webos-voice-intent=\"SelectCheckItem\"\n\t\t\trole=\"checkbox\"\n\t\t\t{...rest}\n\t\t\tcss={css}\n\t\t>\n\t\t\t<Checkbox selected={selected} slot=\"slotBefore\">{icon}</Checkbox>\n\t\t\t{children}\n\t\t</Item>\n\t)\n});\n\nconst CheckboxItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\tSpottable,\n\tSkinnable\n);\n\nconst CheckboxItem = CheckboxItemDecorator(CheckboxItemBase);\n\nexport default CheckboxItem;\nexport {\n\tCheckboxItem,\n\tCheckboxItemBase\n};\n","/**\n * Provides Agate-themed Item component and interactive radio toggle icon.\n *\n * @module agate/RadioItem\n * @exports RadioItem\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Touchable from '@enact/ui/Touchable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './RadioItem.module.less';\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class RadioItem\n * @memberof agate/RadioItem\n * @extends agate/Item.Item\n * @mixes spotlight/Spottable.Spottable\n * @mixes ui/Toggleable.Toggleable\n * @mixes ui/Touchable.Touchable\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst RadioItemBase = kind({\n\tname: 'RadioItemBase',\n\n\tpropTypes: /** @lends agate/RadioItem.RadioItem.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `radioIcon` - Class name for the radio toggle icon\n\t\t * * `radioItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The icon to display when selected.\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t */\n\t\ticon: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the RadioItem to its 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\ticon: 'circle',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'radioItem',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({css, selected, styler}) => styler.append(selected && css.selected)\n\t},\n\n\trender: ({children, css, icon, ...rest}) => {\n\t\tdelete rest.selected;\n\n\t\treturn (\n\t\t\t<Item {...rest} css={css}>\n\t\t\t\t<Icon slot=\"slotBefore\" className={css.icon} size=\"small\">{icon}</Icon>\n\t\t\t\t{children}\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n// Decorator is not exported so not documented\nconst RadioItemDecorator = compose(\n\tToggleable({toggleProp: 'onTap'}),\n\tTouchable,\n\tSpottable,\n\tSkinnable\n);\n\nconst RadioItem = RadioItemDecorator(RadioItemBase);\n\nexport default RadioItem;\nexport {\n\tRadioItem\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tooltip\":\"Tooltip_tooltip__21Taf\",\"tooltipArrow\":\"Tooltip_tooltipArrow__1UFSI\",\"rightArrow\":\"Tooltip_rightArrow__3Dn1-\",\"leftArrow\":\"Tooltip_leftArrow__3CpLs\",\"centerArrow\":\"Tooltip_centerArrow__2QQro\",\"middleArrow\":\"Tooltip_middleArrow__QZsMl\",\"tooltipLabel\":\"Tooltip_tooltipLabel__K7X0i\",\"multi\":\"Tooltip_multi__1Nf2g\",\"below\":\"Tooltip_below__1VK9S\",\"above\":\"Tooltip_above__2apQb\",\"left\":\"Tooltip_left__2d4Su\",\"topArrow\":\"Tooltip_topArrow__acqRh\",\"bottomArrow\":\"Tooltip_bottomArrow__37uWd\",\"right\":\"Tooltip_right__192Xq\",\"absolute\":\"Tooltip_absolute__2ckaw\",\"tooltipAnchor\":\"Tooltip_tooltipAnchor__3JBqH\",\"relative\":\"Tooltip_relative__1Wb1u\"};","import React from 'react';\nimport warning from 'warning';\n\n// ** WARNING ** This is an intentional but likely dangerous hack necessary to clone a child while\n// omitting the `slot` property. It relies on the black box structure of a React element which could\n// change breaking this code. Without it, the slot property will cascade to a DOM node causing a\n// React warning.\nfunction cloneElement (child, index) {\n\tconst newProps = Object.assign({}, child.props);\n\tdelete newProps.slot;\n\tnewProps.key = `slot-${index}`;\n\n\treturn React.createElement(child.type, newProps);\n}\n\nfunction distributeChild (child, index, slots, props) {\n\tlet c, slot;\n\tconst hasSlot = (name) => slots.indexOf(name) !== -1;\n\n\tif (!React.isValidElement(child)) {\n\t\treturn false;\n\t} else if (child.props.slot) {\n\t\tconst hasUserSlot = hasSlot(slot = child.props.slot);\n\t\twarning(hasUserSlot, 'The slot \"%s\" specified on %s does not exist', child.props.slot,\n\t\t\ttypeof child.type === 'string' ? child.type : (child.type.name || child.type.displayName || 'component')\n\t\t);\n\n\t\tif (hasUserSlot) {\n\t\t\tc = cloneElement(child, index);\n\t\t}\n\t} else if (hasSlot(slot = child.type.defaultSlot)) {\n\t\tc = child;\n\t} else if (hasSlot(slot = child.type)) {\n\t\tconst propNames = Object.keys(child.props);\n\t\tif (propNames.length === 1 && propNames[0] === 'children') {\n\t\t\tc = child.props.children;\n\t\t} else {\n\t\t\tc = child;\n\t\t}\n\t}\n\n\tif (c) {\n\t\tlet prop = props[slot];\n\t\tif (prop) {\n\t\t\tif (Array.isArray(prop)) {\n\t\t\t\tprop.push(c);\n\t\t\t} else {\n\t\t\t\tprop = [prop, c];\n\t\t\t}\n\t\t} else {\n\t\t\tprop = c;\n\t\t}\n\t\tprops[slot] = prop;\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction distribute ({children, ...slots}) {\n\tconst slotNames = Object.keys(slots);\n\tconst props = {\n\t\tchildren\n\t};\n\n\tif (slotNames.length > 0) {\n\t\tconst remaining = [];\n\t\tReact.Children.forEach(children, (child, index) => {\n\t\t\tif (!distributeChild(child, index, slotNames, props)) {\n\t\t\t\tremaining.push(child);\n\t\t\t}\n\t\t});\n\n\t\t// we need to retain the children prop so that it can overwrite the value from props if the\n\t\t// author spreads the return of useSlots over props\n\t\tprops.children = remaining.length === 0 ? null : remaining;\n\t}\n\n\tslotNames.forEach(slot => {\n\t\tif (slots[slot] === undefined) { // eslint-disable-line no-undefined\n\t\t\tdelete slots[slot];\n\t\t}\n\t});\n\n\t// We handle fallback here (rather than at the props initialization) because distributeChild\n\t// will append to existing props and we want the distributed value to override the fallback\n\t// value.\n\treturn {\n\t\t...slots,\n\t\t...props\n\t};\n}\n\n/**\n * Configuration for `useSlots`\n *\n * @typedef {Object} useSlotsConfig\n * @memberof ui/Slottable\n * @property {Object} [slots] An object mapping slot names to default values. It must contain a\n *                            `children` key with an array of elements to be distributed into slots.\n * @private\n */\n\n/**\n * Distributes `children` into the configured `slots`.\n *\n * `useSlots` iterates over all of the `children` in `props` and distributes any children based on\n * the followig rules:\n *\n * * If the child has a `slot` property matching a valid slot, or\n * * If the component for the child has the `defaultSlot` static member matching a valid slot, or\n * * If the child component's type is a string matching a valid slot.\n *\n * When a child matches one of the above rules, it is removed from children and inserted into a prop\n * matching the name of the slot.\n *\n * *Special Conditions*\n *\n * * If multiple children match the same slot, the destination prop will be an array of children.\n * * If a value exists on `props` but not as a slot within `children`, the prop value is used as a\n *   fallback.\n * * If a value exists both on `props` and as a slot within `children`, the slot value(s) replaces\n *   the prop value.\n *\n * ```\n * function Component ({after, before, children, label, ...rest}) {\n *   const slots = useSlots({after, before, children, label});\n *\n *   return (\n *     <div {...rest} aria-label={label}>\n *       <span class=\"before\">{slots.before}</span>\n *       {slots.children}\n *       <span class=\"after\">{slots.after}</span>\n *     </div>\n *   );\n * }\n *\n * <Component label=\"descriptive label\">\n *   <Icon slot=\"before\">star</Icon>\n *   Some other content\n *   <Icon slot=\"after\">flag</Icon>\n * </Component>\n * ```\n *\n * @param {useSlotsConfig} config Configuration options\n * @returns {Object} A object whose keys are the slot names and values are the nodes from\n *                   `children`. If any nodes were not assigned to a slot, they will be returned in\n *                   the `children` prop. If no nodes remain, the `children` prop will be omitted.\n * @memberof ui/Slottable\n * @private\n */\nfunction useSlots (slots) {\n\treturn distribute(slots);\n}\n\nexport default useSlots;\nexport {\n\tuseSlots\n};\n","/**\n * Provides a higher-order component that render child components into pre-designated slots.\n *\n * See [SlotItem]{@link ui/SlotItem.SlotItemDecorator} for the use of `Slottable`.\n *\n * @module ui/Slottable\n * @exports Slottable\n */\n\nimport hoc from '@enact/core/hoc';\nimport React from 'react';\n\nimport useSlots from './useSlots';\n\n/**\n * Default config for `Slottable`.\n *\n * @memberof ui/Slottable.Slottable\n * @hocconfig\n * @public\n */\nconst defaultConfig = {\n\t/**\n\t * Array of slot names which will be extracted from `children` and distributed to props.\n\t *\n\t * @type {String[]}\n\t * @memberof ui/Slottable.Slottable.defaultConfig\n\t */\n\tslots: null\n};\n\n/**\n * A higher-order component that allows wrapped components to separate children into pre-designated 'slots'.\n *\n * To use `Slottable`, you must configure it by passing in a config object with the `slots` member set to an\n * array of slot names.  Any children whose `slot` or `defaultSlot` property matches a named slot or whose\n * type matches a named slot will be placed into a property of the same name on the wrapped component.\n *\n * @class Slottable\n * @memberof ui/Slottable\n * @hoc\n * @public\n */\nconst Slottable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst slots = config.slots;\n\n\t// eslint-disable-next-line no-shadow\n\treturn function Slottable (props) {\n\t\t// extract the slots into a new object but populating the default value to be undefined so\n\t\t// the key exists in order to allow the current \"harmful\" behavior below. Must be undefined\n\t\t// in order to trigger defaultProps on downstream components.\n\t\tconst slotProps = {children: props.children};\n\t\tslots.forEach(k => (slotProps[k] = undefined)); // eslint-disable-line no-undefined\n\n\t\t// Slottable allows there to be other values in the destination slot and merges them.\n\t\t// However, consumers can't avoid key warnings when merging the two lists so we should\n\t\t// \"consider this harmful\" and not continue to support this with the hook and instead\n\t\t// encourage using the slot as the default with the prop as a fallback as implemented by the\n\t\t// hook.\n\t\tconst distributed = useSlots(slotProps);\n\t\tslots.forEach(slot => {\n\t\t\tconst dist = distributed[slot];\n\t\t\tconst prop = props[slot];\n\t\t\tif (prop != null && dist != null) {\n\t\t\t\tdistributed[slot] = [].concat(prop, dist);\n\t\t\t} else if (prop != null) {\n\t\t\t\tdistributed[slot] = prop;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<Wrapped {...props} {...distributed} />\n\t\t);\n\t};\n});\n\nexport default Slottable;\nexport {\n\tSlottable,\n\tuseSlots\n};\n","/**\n * Provides unstyled LabeledIcon components to be customized by a theme or application.\n *\n * @module ui/LabeledIcon\n * @exports LabeledIcon\n * @exports LabeledIconBase\n * @exports LabeledIconDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport ComponentOverride from '../ComponentOverride';\nimport {CellBase, LayoutBase} from '../Layout';\nimport Slottable from '../Slottable';\n\nimport componentCss from './LabeledIcon.module.less';\n\n/**\n * An icon component with a label.\n *\n * @class LabeledIconBase\n * @memberof ui/LabeledIcon\n * @ui\n * @public\n */\nconst LabeledIconBase = kind({\n\tname: 'ui:LabeledIcon',\n\n\tpropTypes: /** @lends ui/LabeledIcon.LabeledIconBase.prototype */ {\n\t\t/**\n\t\t * The label.\n\t\t *\n\t\t * This accepts strings, DOM, and Components, if you need more elaborate features. It may be\n\t\t * positioned using `labelPosition`.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `labeledIcon` - The root component class\n\t\t * * `icon` - The icon component class\n\t\t * * `iconCell` - Applied to the `iconComponent` directly, like `.icon`. If `icon` in a\n\t\t *                React component, this class is applied to the container of the icon,\n\t\t *                rather than the icon itself.\n\t\t * * `label` - The label component class\n\t\t * * `inline` - Applied when the inline prop is set\n\t\t * * `above` - Applied when the labelPosition prop is set to above\n\t\t * * `after` - Applied when the labelPosition prop is set to after\n\t\t * * `before` - Applied when the labelPosition prop is set to before\n\t\t * * `below` - Applied when the labelPosition prop is set to below\n\t\t * * `left` - Applied when the labelPosition prop is set to left\n\t\t * * `right` - Applied when the labelPosition prop is set to right\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables the component and becomes non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The icon.\n\t\t *\n\t\t * This will be passed as `children` to the `iconComponent`, unless you supply a React\n\t\t * element (like JSX) to this prop, directly or via the `<icon>` slot.\n\t\t *\n\t\t * @type {String|Element|Component}\n\t\t * @public\n\t\t */\n\t\ticon: EnactPropTypes.renderableOverride,\n\n\t\t/**\n\t\t * The component used to render the `icon`.\n\t\t *\n\t\t * This will receive the `icon` prop as `children` and should handle it appropriately. This\n\t\t * prop is ignored in the case of a component being passed into the `icon` prop. It will\n\t\t * also receive the `flip` and `size` props as set on the component.\n\t\t *\n\t\t * @type {Component}\n\t\t */\n\t\ticonComponent: EnactPropTypes.component,\n\n\t\t/**\n\t\t * Enables this component to be used in an \"inline\" context.\n\t\t *\n\t\t * This is useful for when you have several of these components in a row and are not using a\n\t\t * [Layout]{@link ui/Layout} or flex-box configuration.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool,\n\n\t\t/**\n\t\t * The position of the label in relation to the icon element.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * 'below' (default),\n\t\t * * 'above',\n\t\t * * 'left',\n\t\t * * 'right',\n\t\t * * 'before', and\n\t\t * * 'after'.\n\t\t *\n\t\t * The 'before' and 'after' values automatically swap sides when in an RTL locale context.\n\t\t *\n\t\t * @type {('above'|'after'|'before'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tlabelPosition: PropTypes.oneOf(['above', 'after', 'before', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * The size of the icon.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tlabelPosition: 'below',\n\t\tinline: false,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'labeledIcon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, labelPosition, styler}) => styler.append(labelPosition, {inline}),\n\t\torientation: ({labelPosition}) => {\n\t\t\tconst vertical = labelPosition === 'above' || labelPosition === 'below';\n\t\t\treturn vertical ? 'vertical' : 'horizontal';\n\t\t}\n\t},\n\n\trender: ({css, children, disabled, flip, icon, iconComponent: Icon, orientation, size, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\tlet iconClassName = css.icon;\n\n\t\t// Rearrange the props to support custom JSX components\n\t\t// `icon` is normally passed to `iconComponent` as children, but if `icon` is instead a\n\t\t// rendered JSX component, it should become a child of `Cell.icon` and iconComponent should\n\t\t// use Cell's default value. We must also reposition the `icon` class\n\t\tif (React.isValidElement(icon)) {\n\t\t\ticon = ComponentOverride({\n\t\t\t\tcomponent: icon,\n\t\t\t\tclassName: iconClassName,\n\t\t\t\tdisabled,\n\t\t\t\tsize\n\t\t\t});\n\t\t\t// Removing size and iconComponent from CellBase\n\t\t\t// eslint-disable-next-line no-undefined\n\t\t\tsize = Icon = undefined;\n\t\t\ticonClassName = null;\n\t\t}\n\n\t\tdelete rest.inline;\n\t\tdelete rest.labelPosition;\n\n\t\treturn LayoutBase.inline({\n\t\t\t...rest,\n\t\t\talign: 'center center',\n\t\t\tdisabled,\n\t\t\torientation,\n\t\t\tchildren: [\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'icon',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tsize: '100%',\n\t\t\t\t\tclassName: css.iconCell,\n\t\t\t\t\tchildren: Icon ?\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\tflip={flip}\n\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t</Icon> : icon\n\t\t\t\t}),\n\t\t\t\tCellBase.inline({\n\t\t\t\t\tkey: 'label',\n\t\t\t\t\tshrink: true,\n\t\t\t\t\tcomponent: 'label',\n\t\t\t\t\tclassName: css.label,\n\t\t\t\t\tdisabled,\n\t\t\t\t\tchildren\n\t\t\t\t})\n\t\t\t]\n\t\t});\n\t}\n});\n\n/**\n * A higher-order component that adds [slot]{@link ui/Slottable.Slottable} support to [LabeledIconBase]{@link ui/LabeledIcon.LabeledIconBase}\n *\n * @hoc\n * @memberof ui/LabeledIcon\n * @mixes ui/Slottable.Slottable\n * @public\n */\nconst LabeledIconDecorator = compose(\n\tSlottable({slots: ['icon']})\n);\n\n/**\n * An icon component with a label without any behaviors applied to it.\n *\n * Usage:\n * ```\n * <LabeledIcon icon=\"star\" labelPosition=\"after\">\n *   Favorite\n * </LabeledIcon>\n * ```\n *\n * @class LabeledIcon\n * @memberof ui/LabeledIcon\n * @extends ui/LabeledIcon.LabeledIconBase\n * @mixes ui/LabeledIcon.LabeledIconDecorator\n * @ui\n * @public\n */\nconst LabeledIcon = LabeledIconDecorator(LabeledIconBase);\n\nexport default LabeledIcon;\nexport {\n\tLabeledIcon,\n\tLabeledIconBase,\n\tLabeledIconDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"virtualList\":\"UiVirtualList_virtualList__1INFF\",\"vertical\":\"UiVirtualList_vertical__3r9dI\",\"horizontal\":\"UiVirtualList_horizontal__OXQUL\",\"listItem\":\"UiVirtualList_listItem__me5B1\",\"content\":\"UiVirtualList_content__3Cgmr\"};","import {perfNow} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\n\nconst\n\t// Use eases library\n\ttimingFunctions = {\n\t\t'linear': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime + source;\n\t\t},\n\t\t'ease-in': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\treturn (target - source) * curTime * curTime * curTime * curTime + source;\n\t\t},\n\t\t'ease-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration;\n\t\t\tcurTime--;\n\t\t\treturn (target - source) * (curTime * curTime * curTime * curTime * curTime + 1) + source;\n\t\t},\n\t\t'ease-in-out': function (source, target, duration, curTime) {\n\t\t\tcurTime /= duration / 2;\n\t\t\tif (curTime < 1) {\n\t\t\t\treturn (target - source) / 2 * curTime * curTime * curTime * curTime + source;\n\t\t\t} else {\n\t\t\t\tcurTime -= 2;\n\t\t\t}\n\t\t\treturn (source - target) / 2 * (curTime * curTime * curTime * curTime - 2) + source;\n\t\t}\n\t},\n\n\t// for simulate()\n\tframeTime = 16.0,         // time for one frame\n\tmaxVelocity = 100,        // speed cap\n\tstopVelocity = 0.04,      // velocity to stop\n\tvelocityFriction = 0.95,  // velocity decreasing factor\n\tclampVelocity = clamp(-maxVelocity, maxVelocity);\n\n/**\n * The class to scroll a list or a scroller with animation.\n *\n * @class ScrollAnimator\n * @memberof ui/useScroll\n * @private\n */\nclass ScrollAnimator {\n\trAFId = null;\n\ttype = 'ease-out';\n\n\t/**\n\t * @param {String|null} type - Timing function type for list scroll animation.  Must be one of\n\t *\t`'linear'`, `'ease-in'`, `'ease-out'`, or `'ease-in-out'`, or null. If `null`, defaults to\n\t *\t`'ease-out'`.\n\t * @constructor\n\t * @memberof ui/useScroll.ScrollAnimator\n\t */\n\tconstructor (type) {\n\t\tthis.timingFunction = timingFunctions[type || this.type];\n\t}\n\n\tsimulate (sourceX, sourceY, velocityX, velocityY) {\n\t\tlet\n\t\t\tstepX = clampVelocity(velocityX * frameTime),\n\t\t\tstepY = clampVelocity(velocityY * frameTime),\n\t\t\tdeltaX = 0,\n\t\t\tdeltaY = 0,\n\t\t\tduration = 0;\n\n\t\tdo {\n\t\t\tstepX *= velocityFriction;\n\t\t\tstepY *= velocityFriction;\n\t\t\tdeltaX += stepX;\n\t\t\tdeltaY += stepY;\n\t\t\tduration += frameTime;\n\t\t} while ((stepX * stepX + stepY * stepY) > stopVelocity);\n\n\t\treturn {\n\t\t\ttargetX: sourceX + deltaX,\n\t\t\ttargetY: sourceY + deltaY,\n\t\t\tduration\n\t\t};\n\t}\n\n\tanimate (rAFCallbackFuntion) {\n\t\tconst\n\t\t\trAF = window.requestAnimationFrame,\n\t\t\tstartTimeStamp = perfNow(),\n\t\t\tfn = () => {\n\t\t\t\tconst\n\t\t\t\t\t// schedule next frame\n\t\t\t\t\trAFId = rAF(fn),\n\t\t\t\t\t// current timestamp\n\t\t\t\t\tcurTimeStamp = perfNow(),\n\t\t\t\t\t// current time if 0 at starting position\n\t\t\t\t\tcurTime = curTimeStamp - startTimeStamp;\n\n\t\t\t\tthis.rAFId = rAFId;\n\t\t\t\trAFCallbackFuntion(curTime);\n\t\t\t};\n\n\t\tthis.rAFId = rAF(fn);\n\t}\n\n\tisAnimating () {\n\t\treturn this.rAFId !== null;\n\t}\n\n\tstop () {\n\t\tconst cAF = window.cancelAnimationFrame;\n\n\t\tif (this.rAFId !== null ) {\n\t\t\tcAF(this.rAFId);\n\t\t\tthis.rAFId = null;\n\t\t}\n\t}\n}\n\nexport default ScrollAnimator;\nexport {\n\tScrollAnimator\n};\n","import warning from 'warning';\n\n// At the end, wes should not use DOM APIs as well as the APIs in the `utilDOM`. If we use them, we have to try to remove them first if possible.\n\nconst utilDOM = (function () {\n\t// Functions\n\n\tfunction containsDangerously (ref, target) {\n\t\tif (!target) {\n\t\t\treturn false;\n\t\t} else if (ref.current) {\n\t\t\twarning(ref.current.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.current.contains(target);\n\t\t} else if (ref) {\n\t\t\twarning(ref.contains, 'The `contains` function of the Ref is not supported.');\n\n\t\t\treturn ref.contains(target);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// TBD\n\t// Need to define functions for the following DOM APIs\n\t// getBoundingClientRect\n\t// dataset.spotlightId\n\t// getRect\n\t// setAttribute\n\t// removeAttribute\n\t// scrollLeft\n\t// scrollTop\n\tfunction datasetDangerously () {}\n\tfunction getBoundingClientRectDangerously () {}\n\tfunction getRectDangerously () {}\n\tfunction removeAttributeDangerously () {}\n\tfunction setAttributeDangerously () {}\n\tconst scrollLeftDangerously = 0;\n\tconst scrollTopDangerously = 0;\n\n\t// Return\n\n\treturn {\n\t\tcontainsDangerously,\n\t\tdatasetDangerously,\n\t\tgetBoundingClientRectDangerously,\n\t\tgetRectDangerously,\n\t\tremoveAttributeDangerously,\n\t\tscrollLeftDangerously,\n\t\tscrollTopDangerously,\n\t\tsetAttributeDangerously\n\t};\n})();\n\nexport default utilDOM;\nexport {\n\tutilDOM\n};\n","// A `React.useEvent` hooks is introduced in https://github.com/facebook/react/pull/17651\n// The `useEvent` below will be replaced with the `React.useEvent` later.\nconst utilEvent = (eventName) => {\n\treturn {\n\t\taddEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.addEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.addEventListener) {\n\t\t\t\tref.addEventListener(eventName, fn, param);\n\t\t\t}\n\t\t},\n\n\t\tremoveEventListener (ref, fn, param) {\n\t\t\tif (!ref) return;\n\n\t\t\tif (typeof window !== 'undefined' && (ref === window || ref === document)) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref.current) {\n\t\t\t\tref.current.removeEventListener(eventName, fn, param);\n\t\t\t} else if (ref && ref.removeEventListener) {\n\t\t\t\tref.removeEventListener(eventName, fn, param);\n\t\t\t}\n\t\t}\n\t};\n};\n\nexport default utilEvent;\nexport {\n\tutilEvent\n};\n","/* global ResizeObserver */\n/**\n * Unstyled scrollable hook and behaviors to be customized by a theme or application.\n *\n * @module ui/useScroll\n * @exports assignPropertiesOf\n * @exports constants\n * @exports useScroll\n * @exports useScrollBase\n * @private\n */\n\nimport classNames from 'classnames';\nimport {forward, forwardWithPrevent} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport {platform} from '@enact/core/platform'; // scrollMode 'native'\nimport Registry from '@enact/core/internal/Registry';\nimport {Job} from '@enact/core/util';\nimport clamp from 'ramda/src/clamp';\nimport React, {useCallback, useContext, useEffect, useLayoutEffect, useReducer, useRef, useState} from 'react';\nimport warning from 'warning';\n\nimport ForwardRef from '../ForwardRef';\nimport {ResizeContext} from '../Resizable';\nimport ri from '../resolution';\nimport Touchable from '../Touchable';\n\nimport ScrollAnimator from './ScrollAnimator';\nimport utilDOM from './utilDOM';\nimport utilEvent from './utilEvent';\n\nimport css from './useScroll.module.less';\n\nconst\n\tconstants = {\n\t\tanimationDuration: 1000,\n\t\tepsilon: 1,\n\t\tflickConfig: {maxDuration: null},\n\t\tisPageDown: is('pageDown'),\n\t\tisPageUp: is('pageUp'),\n\t\tnop: () => {},\n\t\toverscrollTypeNone: 0,\n\t\toverscrollTypeHold: 1,\n\t\toverscrollTypeOnce: 2,\n\t\toverscrollTypeDone: 9,\n\t\toverscrollVelocityFactor: 300, // scrollMode 'native'\n\t\tpaginationPageMultiplier: 0.66,\n\t\tscrollStopWaiting: 200,\n\t\tscrollWheelPageMultiplierForMaxPixel: 0.2 // The ratio of the maximum distance scrolled by wheel to the size of the viewport.\n\t},\n\t{\n\t\tanimationDuration,\n\t\tepsilon,\n\t\tflickConfig,\n\t\tisPageDown,\n\t\tisPageUp,\n\t\toverscrollTypeDone,\n\t\toverscrollTypeHold,\n\t\toverscrollTypeNone,\n\t\toverscrollTypeOnce,\n\t\toverscrollVelocityFactor,\n\t\tpaginationPageMultiplier,\n\t\tscrollStopWaiting,\n\t\tscrollWheelPageMultiplierForMaxPixel\n\t} = constants;\n\nconst TouchableDiv = ForwardRef({prop: 'componentRef'}, Touchable(\n\t({componentRef, ...rest}) => (<div {...rest} ref={componentRef} />)\n));\n\nconst useForceUpdate = () => (useReducer(x => x + 1, 0));\n\n/**\n * A custom hook that passes scrollable behavior information as its render prop.\n *\n * @class\n * @memberof ui/useScroll\n * @ui\n * @private\n */\nconst useScrollBase = (props) => {\n\tconst\n\t\t{\n\t\t\tchildProps,\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tclientSize,\n\t\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t\t'data-webos-voice-focused': voiceFocused,\n\t\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\t\tassignProperties,\n\t\t\tdataSize,\n\t\t\tdirection,\n\t\t\thorizontalScrollbar,\n\t\t\thorizontalScrollbarHandle,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\tnoScrollByDrag,\n\t\t\tnoScrollByWheel,\n\t\t\toverhang,\n\t\t\toverscrollEffectOn,\n\t\t\tpageScroll,\n\t\t\trole,\n\t\t\trtl,\n\t\t\tscrollContainerRef,\n\t\t\tscrollContentHandle,\n\t\t\tscrollContentRef,\n\t\t\tscrollMode,\n\t\t\tsetScrollContainerHandle,\n\t\t\tspacing,\n\t\t\tspotlightContainerDisabled,\n\t\t\tverticalScrollbar,\n\t\t\tverticalScrollbarHandle,\n\t\t\twrap,\n\t\t\t...rest\n\t\t} = props,\n\t\tscrollClasses = classNames(css.scroll, className);\n\n\t// The following props are the one having the same naming function in this scope.\n\t// So it is better to use props[propName]\n\t// instead of extracting it from the `props` and renaming it\n\tdelete rest.addEventListeners;\n\tdelete rest.applyOverscrollEffect;\n\tdelete rest.cbScrollTo;\n\tdelete rest.clearOverscrollEffect;\n\tdelete rest.handleResizeWindow;\n\tdelete rest.onFlick;\n\tdelete rest.onKeyDown;\n\tdelete rest.onMouseDown;\n\tdelete rest.onScroll;\n\tdelete rest.onScrollStart;\n\tdelete rest.onScrollStop;\n\tdelete rest.onWheel;\n\tdelete rest.removeEventListeners;\n\tdelete rest.scrollStopOnScroll; // scrollMode 'native'\n\tdelete rest.scrollTo;\n\tdelete rest.start; // scrollMode 'native'\n\tdelete rest.stop; // scrollMode 'translate'\n\n\t// Mutable value and Hooks\n\n\tconst [, forceUpdate] = useForceUpdate();\n\n\tconst context = useContext(ResizeContext);\n\n\tconst [isHorizontalScrollbarVisible, setIsHorizontalScrollbarVisible] = useState(horizontalScrollbar === 'visible');\n\tconst [isVerticalScrollbarVisible, setIsVerticalScrollbarVisible] = useState(verticalScrollbar === 'visible');\n\n\tconst mutableRef = useRef({\n\t\toverscrollEnabled: !!(props.applyOverscrollEffect),\n\n\t\t// Enable the early bail out of repeated scrolling to the same position\n\t\tanimationInfo: null,\n\n\t\tresizeRegistry: null,\n\n\t\t// constants\n\t\tpixelPerLine: 39,\n\t\tscrollWheelMultiplierForDeltaPixel: 1.5, // The ratio of wheel 'delta' units to pixels scrolled.\n\n\t\t// status\n\t\tdeferScrollTo: true,\n\t\tisScrollAnimationTargetAccumulated: false,\n\n\t\t// overscroll\n\t\tlastInputType: null,\n\t\toverscrollStatus: {\n\t\t\thorizontal: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t},\n\t\t\tvertical: {\n\t\t\t\tbefore: {type: overscrollTypeNone, ratio: 0},\n\t\t\t\tafter: {type: overscrollTypeNone, ratio: 0}\n\t\t\t}\n\t\t},\n\n\t\t// bounds info\n\t\tbounds: {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxTop: 0,\n\t\t\tmaxLeft: 0\n\t\t},\n\n\t\t// wheel/drag/flick info\n\t\twheelDirection: 0,\n\t\tisDragging: false,\n\t\tisTouching: false, // scrollMode 'native'\n\n\t\t// scroll info\n\t\tscrolling: false,\n\t\tscrollLeft: 0,\n\t\tscrollTop: 0,\n\t\tscrollToInfo: null,\n\n\t\t// scroll animator\n\t\tanimator: null,\n\n\t\t// non-declared-variable.\n\t\taccumulatedTargetX: null,\n\t\taccumulatedTargetY: null,\n\t\tflickTarget: null,\n\t\tdragStartX: null,\n\t\tdragStartY: null,\n\t\tscrollStopJob: null,\n\n\t\tprevState: {isHorizontalScrollbarVisible, isVerticalScrollbarVisible}\n\t});\n\n\tif (mutableRef.current.animator == null) {\n\t\tmutableRef.current.animator = new ScrollAnimator();\n\t}\n\n\tuseLayoutEffect(() => {\n\t\tif (setScrollContainerHandle) {\n\t\t\tsetScrollContainerHandle({\n\t\t\t\tanimator: mutableRef.current.animator,\n\t\t\t\tapplyOverscrollEffect,\n\t\t\t\tbounds: mutableRef.current.bounds,\n\t\t\t\tcalculateDistanceByWheel,\n\t\t\t\tcanScrollHorizontally,\n\t\t\t\tcanScrollVertically,\n\t\t\t\tcheckAndApplyOverscrollEffect,\n\t\t\t\tgetScrollBounds,\n\t\t\t\tget isDragging () {\n\t\t\t\t\treturn mutableRef.current.isDragging;\n\t\t\t\t},\n\t\t\t\tset isDragging (val) {\n\t\t\t\t\tmutableRef.current.isDragging = val;\n\t\t\t\t},\n\t\t\t\tget isScrollAnimationTargetAccumulated () {\n\t\t\t\t\treturn mutableRef.current.isScrollAnimationTargetAccumulated;\n\t\t\t\t},\n\t\t\t\tset isScrollAnimationTargetAccumulated (val) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = val;\n\t\t\t\t},\n\t\t\t\tget lastInputType () {\n\t\t\t\t\treturn mutableRef.current.lastInputType;\n\t\t\t\t},\n\t\t\t\tset lastInputType (val) {\n\t\t\t\t\tmutableRef.current.lastInputType = val;\n\t\t\t\t},\n\t\t\t\tget rtl () {\n\t\t\t\t\treturn rtl;\n\t\t\t\t},\n\t\t\t\tget scrollBounds () {\n\t\t\t\t\treturn getScrollBounds();\n\t\t\t\t},\n\t\t\t\tget scrollHeight () {\n\t\t\t\t\treturn mutableRef.current.bounds.scrollHeight;\n\t\t\t\t},\n\t\t\t\tget scrolling () {\n\t\t\t\t\treturn mutableRef.current.scrolling;\n\t\t\t\t},\n\t\t\t\tget scrollLeft () {\n\t\t\t\t\treturn mutableRef.current.scrollLeft;\n\t\t\t\t},\n\t\t\t\tscrollTo,\n\t\t\t\tscrollToAccumulatedTarget,\n\t\t\t\tget scrollToInfo () {\n\t\t\t\t\treturn mutableRef.current.scrollToInfo;\n\t\t\t\t},\n\t\t\t\tget scrollTop () {\n\t\t\t\t\treturn mutableRef.current.scrollTop;\n\t\t\t\t},\n\t\t\t\tsetOverscrollStatus,\n\t\t\t\tshowScrollbarTrack,\n\t\t\t\tstart,\n\t\t\t\tstartHidingScrollbarTrack,\n\t\t\t\tstop,\n\t\t\t\tget wheelDirection () {\n\t\t\t\t\treturn mutableRef.current.wheelDirection;\n\t\t\t\t},\n\t\t\t\tset wheelDirection (val) {\n\t\t\t\t\tmutableRef.current.wheelDirection = val;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\n\tuseLayoutEffect(() => {\n\t\tif (props.cbScrollTo) {\n\t\t\tprops.cbScrollTo(scrollTo);\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseLayoutEffect(() => {\n\t\tconst containerRef = scrollContainerRef.current;\n\t\tif (!containerRef) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof ResizeObserver === 'function') {\n\t\t\tlet resizeObserver = new ResizeObserver(() => {\n\t\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.syncClientSize) {\n\t\t\t\t\tscrollContentHandle.current.syncClientSize();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tresizeObserver.observe(containerRef);\n\n\t\t\treturn () => {\n\t\t\t\tif (resizeObserver) {\n\t\t\t\t\tresizeObserver.disconnect();\n\t\t\t\t\tresizeObserver = null;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tmutableRef.current.resizeRegistry.parent = context;\n\n\t\t// componentWillUnmount\n\t\treturn () => {\n\t\t\tconst {animator, resizeRegistry, scrolling, scrollStopJob} = mutableRef.current; // eslint-disable-line react-hooks/exhaustive-deps\n\n\t\t\tresizeRegistry.parent = null;\n\n\t\t\t// Before call cancelAnimationFrame, you must send scrollStop Event.\n\t\t\tif (scrolling) {\n\t\t\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\t\t}\n\n\t\t\tscrollStopJob.stop();\n\n\t\t\t// scrollMode 'translate' [\n\t\t\tif (animator.isAnimating()) {\n\t\t\t\tanimator.stop();\n\t\t\t}\n\t\t\t// scrollMode 'translate' ]\n\t\t};\n\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\taddEventListeners();\n\t\treturn () => {\n\t\t\tremoveEventListeners();\n\t\t};\n\t});\n\n\t// scrollMode 'translate' [[\n\t// TODO: consider replacing forceUpdate() by storing bounds in state rather than a non-\n\t// state member.\n\tconst enqueueForceUpdate = useCallback(() => {\n\t\tscrollContentHandle.current.calculateMetrics(scrollContentHandle.current.props);\n\t\tforceUpdate();\n\t}, [forceUpdate, scrollContentHandle]);\n\n\tfunction handleResizeWindow () {\n\t\tconst propsHandleResizeWindow = props.handleResizeWindow;\n\n\t\t// `handleSize` in `ui/resolution.ResolutionDecorator` should be executed first.\n\t\tsetTimeout(() => {\n\t\t\tif (propsHandleResizeWindow) {\n\t\t\t\tpropsHandleResizeWindow();\n\t\t\t}\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tscrollTo({position: {x: 0, y: 0}, animate: false});\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(0, 0);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tenqueueForceUpdate();\n\t\t});\n\t}\n\n\tconst handleResize = useCallback((ev) => {\n\t\tif (ev.action === 'invalidateBounds') {\n\t\t\tenqueueForceUpdate();\n\t\t}\n\t}, [enqueueForceUpdate]);\n\t// scrollMode 'translate' ]]\n\n\tif (mutableRef.current.resizeRegistry == null) {\n\t\tmutableRef.current.resizeRegistry = Registry.create(handleResize);\n\t}\n\n\tuseEffect(() => {\n\t\tconst ref = mutableRef.current;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tref.scrollStopJob = new Job(doScrollStop, scrollStopWaiting);\n\t\t} else {\n\t\t\tref.scrollStopJob = new Job(scrollStopOnScroll, scrollStopWaiting);\n\t\t}\n\n\t\treturn () => {\n\t\t\tif (ref.scrolling) {\n\t\t\t\tref.scrollStopJob.run();\n\t\t\t}\n\t\t\tref.scrollStopJob.stop();\n\t\t};\n\t}, [direction, isHorizontalScrollbarVisible, isVerticalScrollbarVisible, rtl, scrollMode, spotlightContainerDisabled]); // eslint-disable-line react-hooks/exhaustive-deps\n\n\tuseEffect(() => {\n\t\tconst\n\t\t\t{hasDataSizeChanged} = scrollContentHandle.current,\n\t\t\t{prevState, resizeRegistry, scrollToInfo} = mutableRef.current;\n\n\t\t// Need to sync calculated client size if it is different from the real size\n\t\tif (scrollContentHandle.current.syncClientSize) {\n\t\t\t// If we actually synced, we need to reset scroll position.\n\t\t\tif (scrollContentHandle.current.syncClientSize()) {\n\t\t\t\tsetScrollLeft(0);\n\t\t\t\tsetScrollTop(0);\n\t\t\t}\n\t\t}\n\n\t\tclampScrollPosition(); // scrollMode 'translate'\n\n\t\tif (\n\t\t\thasDataSizeChanged === false &&\n\t\t\t(isHorizontalScrollbarVisible && !prevState.isHorizontalScrollbarVisible || isVerticalScrollbarVisible && !prevState.isVerticalScrollbarVisible)\n\t\t) {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t} else {\n\t\t\tupdateScrollbars();\n\t\t}\n\n\t\tif (scrollToInfo !== null) {\n\t\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\t\tscrollTo(scrollToInfo);\n\t\t\t}\n\t\t}\n\n\t\t// publish container resize changes\n\t\tconst horizontal = isHorizontalScrollbarVisible !== prevState.isHorizontalScrollbarVisible;\n\t\tconst vertical = isVerticalScrollbarVisible !== prevState.isVerticalScrollbarVisible;\n\t\tif (horizontal || vertical) {\n\t\t\tresizeRegistry.notify({});\n\t\t}\n\t});\n\n\t// scrollMode 'translate' [[\n\tfunction clampScrollPosition () {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (mutableRef.current.scrollTop > bounds.maxTop) {\n\t\t\tmutableRef.current.scrollTop = bounds.maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.scrollLeft > bounds.maxLeft) {\n\t\t\tmutableRef.current.scrollLeft = bounds.maxLeft;\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// drag/flick event handlers\n\n\tfunction getRtlX (x) {\n\t\treturn (rtl ? -x : x);\n\t}\n\n\tfunction onMouseDown (ev) {\n\t\tif (forwardWithPrevent('onMouseDown', ev, props)) {\n\t\t\tstop();\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction onTouchStart () {\n\t\tmutableRef.current.isTouching = true;\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onDragStart (ev) {\n\t\tif (scrollMode === 'translate' ) {\n\t\t\tif (ev.type === 'dragstart') return;\n\n\t\t\tforward('onDragStart', ev, props);\n\t\t\tstop();\n\t\t\tmutableRef.current.isDragging = true;\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t} else {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t\tmutableRef.current.isDragging = true;\n\t\t\t}\n\n\t\t\t// these values are used also for touch inputs\n\t\t\tmutableRef.current.dragStartX = mutableRef.current.scrollLeft + getRtlX(ev.x);\n\t\t\tmutableRef.current.dragStartY = mutableRef.current.scrollTop + ev.y;\n\t\t}\n\t}\n\n\tfunction onDrag (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'drag') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tforward('onDrag', ev, props);\n\t\t\tstart({\n\t\t\t\ttargetX: (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY: (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y, // 'vertical' or 'both'\n\t\t\t\tanimate: false,\n\t\t\t\toverscrollEffect: overscrollEffectOn && overscrollEffectOn.drag\n\t\t\t});\n\t\t} else {\n\t\t\tconst\n\t\t\t\ttargetX = (direction === 'vertical') ? 0 : mutableRef.current.dragStartX - getRtlX(ev.x), // 'horizontal' or 'both'\n\t\t\t\ttargetY = (direction === 'horizontal') ? 0 : mutableRef.current.dragStartY - ev.y; // 'vertical' or 'both'\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tstart({targetX, targetY, animate: false, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeHold);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction onDragEnd (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (ev.type === 'dragend') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tforward('onDragEnd', ev, props);\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY, duration} = mutableRef.current.flickTarget;\n\n\t\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\tstart({targetX, targetY, duration, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t} else {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t} else {\n\t\t\tmutableRef.current.isDragging = false;\n\n\t\t\tmutableRef.current.lastInputType = 'drag';\n\n\t\t\tif (mutableRef.current.flickTarget) {\n\t\t\t\tconst {targetX, targetY} = mutableRef.current.flickTarget;\n\n\t\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tstart({targetX, targetY, overscrollEffect: overscrollEffectOn && overscrollEffectOn.drag});\n\t\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\t\tcheckAndApplyOverscrollEffectOnDrag(targetX, targetY, overscrollTypeOnce);\n\t\t\t\t}\n\t\t\t} else if (!mutableRef.current.isTouching) {\n\t\t\t\tstop();\n\t\t\t}\n\n\t\t\tif (mutableRef.current.overscrollEnabled) { // not check overscrollEffectOn && overscrollEffectOn.drag for safety\n\t\t\t\tclearAllOverscrollEffects();\n\t\t\t}\n\n\t\t\tmutableRef.current.isTouching = false;\n\t\t\tmutableRef.current.flickTarget = null;\n\t\t}\n\t}\n\n\tfunction onFlick (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t);\n\t\t} else if (scrollMode === 'native') {\n\t\t\tif (!mutableRef.current.isTouching) {\n\t\t\t\tmutableRef.current.flickTarget = mutableRef.current.animator.simulate(\n\t\t\t\t\tmutableRef.current.scrollLeft,\n\t\t\t\t\tmutableRef.current.scrollTop,\n\t\t\t\t\t(direction !== 'vertical') ? getRtlX(-ev.velocityX) : 0,\n\t\t\t\t\t(direction !== 'horizontal') ? -ev.velocityY : 0\n\t\t\t\t);\n\t\t\t} else if (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.drag) {\n\t\t\t\tmutableRef.current.flickTarget = {\n\t\t\t\t\ttargetX: mutableRef.current.scrollLeft + getRtlX(-ev.velocityX) * overscrollVelocityFactor, // 'horizontal' or 'both'\n\t\t\t\t\ttargetY: mutableRef.current.scrollTop + -ev.velocityY * overscrollVelocityFactor // 'vertical' or 'both'\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (props.onFlick) {\n\t\t\tforward('onFlick', ev, props);\n\t\t}\n\t}\n\n\tfunction calculateDistanceByWheel (deltaMode, delta, maxPixel) {\n\t\tif (deltaMode === 0) {\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 1) { // line; firefox\n\t\t\tdelta = clamp(-maxPixel, maxPixel, ri.scale(delta * mutableRef.current.pixelPerLine * mutableRef.current.scrollWheelMultiplierForDeltaPixel));\n\t\t} else if (deltaMode === 2) { // page\n\t\t\tdelta = delta < 0 ? -maxPixel : maxPixel;\n\t\t}\n\n\t\treturn delta;\n\t}\n\n\t/*\n\t* wheel event handler;\n\t* - for horizontal scroll, supports wheel action on any children nodes since web engine cannot support this\n\t* - for vertical scroll, supports wheel action on scrollbars only\n\t*/\n\tfunction onWheel (ev) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t} else {\n\t\t\tconst\n\t\t\t\tbounds = getScrollBounds(),\n\t\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\t\teventDeltaMode = ev.deltaMode,\n\t\t\t\teventDelta = (-ev.wheelDeltaY || ev.deltaY);\n\t\t\tlet delta = 0;\n\n\t\t\tmutableRef.current.lastInputType = 'wheel';\n\n\t\t\tif (noScrollByWheel) {\n\t\t\t\tif (scrollMode === 'native' && canScrollV) {\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (scrollMode === 'translate') {\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t} else if (canScrollH) {\n\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t}\n\n\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t}\n\n\t\t\t\tforward('onWheel', {delta, horizontalScrollbarHandle, verticalScrollbarHandle}, props);\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t}\n\t\t\t} else { // scrollMode 'native'\n\t\t\t\tconst overscrollEffectRequired = mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn.wheel;\n\t\t\t\tlet needToHideScrollbarTrack = false;\n\n\t\t\t\tif (props.onWheel) {\n\t\t\t\t\tforward('onWheel', ev, props);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tshowScrollbarTrack(bounds);\n\n\t\t\t\t// FIXME This routine is a temporary support for horizontal wheel scroll.\n\t\t\t\t// FIXME If web engine supports horizontal wheel, this routine should be refined or removed.\n\t\t\t\tif (canScrollV) { // This routine handles wheel events on scrollbars for vertical scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollTop > 0 || eventDelta > 0 && mutableRef.current.scrollTop < bounds.maxTop) {\n\t\t\t\t\t\t// Not to check if ev.target is a descendant of a wrapped component which may have a lot of nodes in it.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\thorizontalScrollbarHandle.current && horizontalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(horizontalScrollbarHandle.current.getContainerRef(), ev.target) ||\n\t\t\t\t\t\t\tverticalScrollbarHandle.current && verticalScrollbarHandle.current.getContainerRef && utilDOM.containsDangerously(verticalScrollbarHandle.current.getContainerRef(), ev.target)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientHeight * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t} else if (overscrollEffectRequired) {\n\t\t\t\t\t\t\tcheckAndApplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollTop <= 0 || eventDelta > 0 && mutableRef.current.scrollTop >= bounds.maxTop)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('vertical', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (canScrollH) { // this routine handles wheel events on any children for horizontal scroll.\n\t\t\t\t\tif (eventDelta < 0 && mutableRef.current.scrollLeft > 0 || eventDelta > 0 && mutableRef.current.scrollLeft < bounds.maxLeft) {\n\t\t\t\t\t\tdelta = calculateDistanceByWheel(eventDeltaMode, eventDelta, bounds.clientWidth * scrollWheelPageMultiplierForMaxPixel);\n\t\t\t\t\t\tneedToHideScrollbarTrack = !delta;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (overscrollEffectRequired && (eventDelta < 0 && mutableRef.current.scrollLeft <= 0 || eventDelta > 0 && mutableRef.current.scrollLeft >= bounds.maxLeft)) {\n\t\t\t\t\t\t\tapplyOverscrollEffect('horizontal', eventDelta > 0 ? 'after' : 'before', overscrollTypeOnce, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tneedToHideScrollbarTrack = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (delta !== 0) {\n\t\t\t\t\tconst dir = Math.sign(delta);\n\n\t\t\t\t\t// Not to accumulate scroll position if wheel direction is different from hold direction\n\t\t\t\t\tif (dir !== mutableRef.current.wheelDirection) {\n\t\t\t\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\t\t\t\t\tmutableRef.current.wheelDirection = dir;\n\t\t\t\t\t}\n\n\t\t\t\t\tscrollToAccumulatedTarget(delta, canScrollV, overscrollEffectOn && overscrollEffectOn.wheel);\n\t\t\t\t}\n\n\t\t\t\tif (needToHideScrollbarTrack) {\n\t\t\t\t\tstartHidingScrollbarTrack();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollByPage (keyCode) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tpageDistance = (isPageUp(keyCode) ? -1 : 1) * (canScrollV ? bounds.clientHeight : bounds.clientWidth) * paginationPageMultiplier;\n\n\t\tmutableRef.current.lastInputType = 'pageKey';\n\n\t\tscrollToAccumulatedTarget(pageDistance, canScrollV, overscrollEffectOn && overscrollEffectOn.pageKey);\n\t}\n\t// scrollMode 'translate' ]]\n\n\t// scrollMode 'native' [[\n\tfunction onScroll (ev) {\n\t\tlet {scrollLeft, scrollTop} = ev.target;\n\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds);\n\n\t\tif (!mutableRef.current.scrolling) {\n\t\t\tscrollStartOnScroll();\n\t\t}\n\n\t\tif (rtl && canScrollH) {\n\t\t\tscrollLeft = (platform.ios || platform.safari) ? -scrollLeft : bounds.maxLeft - scrollLeft;\n\t\t}\n\n\t\tif (scrollLeft !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(scrollLeft);\n\t\t}\n\t\tif (scrollTop !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(scrollTop);\n\t\t}\n\n\t\tif (scrollContentHandle.current.didScroll) {\n\t\t\tscrollContentHandle.current.didScroll(mutableRef.current.scrollLeft, mutableRef.current.scrollTop);\n\t\t}\n\n\t\tforwardScrollEvent('onScroll');\n\t\tmutableRef.current.scrollStopJob.start();\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction onKeyDown (ev) {\n\t\tif (scrollMode === 'translate') {\n\t\t\tif (props.onKeyDown) {\n\t\t\t\tforward('onKeyDown', ev, props);\n\t\t\t} else if ((isPageUp(ev.keyCode) || isPageDown(ev.keyCode))) {\n\t\t\t\tscrollByPage(ev.keyCode);\n\t\t\t}\n\t\t} else {\n\t\t\tforward('onKeyDown', ev, props);\n\t\t}\n\t}\n\n\tfunction scrollToAccumulatedTarget (delta, vertical, overscrollEffect) {\n\t\tif (!mutableRef.current.isScrollAnimationTargetAccumulated) {\n\t\t\tmutableRef.current.accumulatedTargetX = mutableRef.current.scrollLeft;\n\t\t\tmutableRef.current.accumulatedTargetY = mutableRef.current.scrollTop;\n\t\t\tmutableRef.current.isScrollAnimationTargetAccumulated = true;\n\t\t}\n\n\t\tif (vertical) {\n\t\t\tmutableRef.current.accumulatedTargetY += delta;\n\t\t} else {\n\t\t\tmutableRef.current.accumulatedTargetX += delta;\n\t\t}\n\n\t\tstart({targetX: mutableRef.current.accumulatedTargetX, targetY: mutableRef.current.accumulatedTargetY, overscrollEffect});\n\t}\n\n\t// overscroll effect\n\n\tfunction getEdgeFromPosition (position, maxPosition) {\n\t\tif (position <= 0) {\n\t\t\treturn 'before';\n\t\t/* If a scroll size or a client size is not integer,\n\t\t\tbrowser's max scroll position could be smaller than maxPos by 1 pixel.*/\n\t\t} else if (scrollMode === 'translate' && position >= maxPosition || scrollMode === 'native' && position >= maxPosition - 1) {\n\t\t\treturn 'after';\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\n\tfunction setOverscrollStatus (orientation, edge, overscrollEffectType, ratio) {\n\t\tconst status = mutableRef.current.overscrollStatus[orientation][edge];\n\t\tstatus.type = overscrollEffectType;\n\t\tstatus.ratio = ratio;\n\t}\n\n\tfunction getOverscrollStatus (orientation, edge) {\n\t\treturn (mutableRef.current.overscrollStatus[orientation][edge]);\n\t}\n\n\tfunction calculateOverscrollRatio (orientation, position) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tbaseSize = isVertical ? bounds.clientHeight : bounds.clientWidth,\n\t\t\tmaxPos = bounds[isVertical ? 'maxTop' : 'maxLeft'];\n\t\tlet overDistance = 0;\n\n\t\tif (position < 0) {\n\t\t\toverDistance = -position;\n\t\t} else if (position > maxPos) {\n\t\t\toverDistance = position - maxPos;\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn Math.min(1, 2 * overDistance / baseSize);\n\t}\n\n\tfunction applyOverscrollEffect (orientation, edge, overscrollEffectType, ratio) {\n\t\tprops.applyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType === overscrollTypeOnce ? overscrollTypeDone : overscrollEffectType, ratio);\n\t}\n\n\tfunction checkAndApplyOverscrollEffect (orientation, edge, overscrollEffectType, ratio = 1) {\n\t\tconst\n\t\t\tisVertical = (orientation === 'vertical'),\n\t\t\tcurPos = isVertical ? mutableRef.current.scrollTop : mutableRef.current.scrollLeft,\n\t\t\tmaxPos = getScrollBounds()[isVertical ? 'maxTop' : 'maxLeft'];\n\n\t\tif (\n\t\t\tscrollMode === 'translate' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos) ||\n\t\t\tscrollMode === 'native' && (edge === 'before' && curPos <= 0) || (edge === 'after' && curPos >= maxPos - 1)\n\t\t) { // Already on the edge\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t} else {\n\t\t\tsetOverscrollStatus(orientation, edge, overscrollEffectType, ratio);\n\t\t}\n\t}\n\n\tfunction clearOverscrollEffect (orientation, edge) {\n\t\tif (getOverscrollStatus(orientation, edge).type !== overscrollTypeNone) {\n\t\t\tif (props.clearOverscrollEffect) {\n\t\t\t\tprops.clearOverscrollEffect(orientation, edge);\n\t\t\t} else {\n\t\t\t\tapplyOverscrollEffect(orientation, edge, overscrollTypeNone, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction clearAllOverscrollEffects () {\n\t\t['horizontal', 'vertical'].forEach((orientation) => {\n\t\t\t['before', 'after'].forEach((edge) => {\n\t\t\t\tclearOverscrollEffect(orientation, edge);\n\t\t\t});\n\t\t});\n\t}\n\n\tfunction applyOverscrollEffectOnDrag (orientation, edge, targetPosition, overscrollEffectType) {\n\t\tif (edge) {\n\t\t\tconst\n\t\t\t\toppositeEdge = edge === 'before' ? 'after' : 'before',\n\t\t\t\tratio = calculateOverscrollRatio(orientation, targetPosition);\n\n\t\t\tapplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\tclearOverscrollEffect(orientation, oppositeEdge);\n\t\t} else {\n\t\t\tclearOverscrollEffect(orientation, 'before');\n\t\t\tclearOverscrollEffect(orientation, 'after');\n\t\t}\n\t}\n\n\t// scrollMode 'native' [[\n\tfunction checkAndApplyOverscrollEffectOnDrag (targetX, targetY, overscrollEffectType) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('horizontal', getEdgeFromPosition(targetX, bounds.maxLeft), targetX, overscrollEffectType);\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tapplyOverscrollEffectOnDrag('vertical', getEdgeFromPosition(targetY, bounds.maxTop), targetY, overscrollEffectType);\n\t\t}\n\t}\n\t// scrollMode 'native' ]]\n\n\tfunction checkAndApplyOverscrollEffectOnScroll (orientation) {\n\t\t['before', 'after'].forEach((edge) => {\n\t\t\tconst {ratio, type: overscrollEffectType} = getOverscrollStatus(orientation, edge);\n\n\t\t\tif (overscrollEffectType === overscrollTypeOnce) {\n\t\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollEffectType, ratio);\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction checkAndApplyOverscrollEffectOnStart (orientation, edge, targetPosition) {\n\t\tif (mutableRef.current.isDragging) {\n\t\t\tapplyOverscrollEffectOnDrag(orientation, edge, targetPosition, overscrollTypeHold);\n\t\t} else if (edge) {\n\t\t\tcheckAndApplyOverscrollEffect(orientation, edge, overscrollTypeOnce);\n\t\t}\n\t}\n\n\t// call scroll callbacks\n\n\tfunction forwardScrollEvent (overscrollEffectType, reachedEdgeInfo) {\n\t\tforward(overscrollEffectType, {scrollLeft: mutableRef.current.scrollLeft, scrollTop: mutableRef.current.scrollTop, moreInfo: getMoreInfo(), reachedEdgeInfo}, props);\n\t}\n\n\t// scrollMode 'native' [[\n\t// call scroll callbacks and update scrollbars for native scroll\n\n\tfunction scrollStartOnScroll () {\n\t\tmutableRef.current.scrolling = true;\n\t\tshowScrollbarTrack(getScrollBounds());\n\t\tforwardScrollEvent('onScrollStart');\n\t}\n\n\tfunction scrollStopOnScroll () {\n\t\tif (props.scrollStopOnScroll) {\n\t\t\tprops.scrollStopOnScroll();\n\t\t}\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t\tstartHidingScrollbarTrack();\n\t}\n\t// scrollMode 'native' ]]\n\n\t// update scroll position\n\n\tfunction setScrollLeft (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollLeft = clamp(0, bounds.maxLeft, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('horizontal');\n\t\t}\n\n\t\tif (isHorizontalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(horizontalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction setScrollTop (value) {\n\t\tconst bounds = getScrollBounds();\n\n\t\tmutableRef.current.scrollTop = clamp(0, bounds.maxTop, value);\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffectOn && overscrollEffectOn[mutableRef.current.lastInputType]) {\n\t\t\tcheckAndApplyOverscrollEffectOnScroll('vertical');\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible) {\n\t\t\tupdateScrollbarTrack(verticalScrollbarHandle, bounds);\n\t\t}\n\t}\n\n\tfunction getReachedEdgeInfo () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\treachedEdgeInfo = {bottom: false, left: false, right: false, top: false};\n\n\t\tif (canScrollHorizontally(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollLeft, bounds.maxLeft);\n\n\t\t\tif (edge) { // if edge is null, no need to check which edge is reached.\n\t\t\t\tif ((edge === 'before' && !rtl) || (edge === 'after' && rtl)) {\n\t\t\t\t\treachedEdgeInfo.left = true;\n\t\t\t\t} else {\n\t\t\t\t\treachedEdgeInfo.right = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (canScrollVertically(bounds)) {\n\t\t\tconst edge = getEdgeFromPosition(mutableRef.current.scrollTop, bounds.maxTop);\n\n\t\t\tif (edge === 'before') {\n\t\t\t\treachedEdgeInfo.top = true;\n\t\t\t} else if (edge === 'after') {\n\t\t\t\treachedEdgeInfo.bottom = true;\n\t\t\t}\n\t\t}\n\n\t\treturn reachedEdgeInfo;\n\t}\n\n\t// scroll start/stop\n\n\t// scrollMode 'translate' [[\n\tfunction doScrollStop () {\n\t\tmutableRef.current.scrolling = false;\n\t\tforwardScrollEvent('onScrollStop', getReachedEdgeInfo());\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction start ({targetX, targetY, animate = true, duration = animationDuration, overscrollEffect = false}) {\n\t\tconst\n\t\t\t{scrollLeft, scrollTop} = mutableRef.current,\n\t\t\tbounds = getScrollBounds(),\n\t\t\t{maxLeft, maxTop} = bounds;\n\n\t\tconst updatedAnimationInfo = scrollMode === 'translate' ?\n\t\t\t{\n\t\t\t\tsourceX: scrollLeft,\n\t\t\t\tsourceY: scrollTop,\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tduration\n\t\t\t} :\n\t\t\t{\n\t\t\t\ttargetX,\n\t\t\t\ttargetY\n\t\t\t};\n\n\t\t// bail early when scrolling to the same position\n\t\tif (\n\t\t\t(scrollMode === 'translate' && mutableRef.current.animator.isAnimating() || scrollMode === 'native' && mutableRef.current.scrolling) &&\n\t\t\tmutableRef.current.animationInfo &&\n\t\t\tmutableRef.current.animationInfo.targetX === targetX &&\n\t\t\tmutableRef.current.animationInfo.targetY === targetY\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tmutableRef.current.animationInfo = updatedAnimationInfo;\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tmutableRef.current.animator.stop();\n\n\t\t\tif (!mutableRef.current.scrolling) {\n\t\t\t\tmutableRef.current.scrolling = true;\n\t\t\t\tforwardScrollEvent('onScrollStart');\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollStopJob.stop();\n\t\t}\n\n\t\tif (Math.abs(maxLeft - targetX) < epsilon) {\n\t\t\ttargetX = maxLeft;\n\t\t}\n\n\t\tif (Math.abs(maxTop - targetY) < epsilon) {\n\t\t\ttargetY = maxTop;\n\t\t}\n\n\t\tif (mutableRef.current.overscrollEnabled && overscrollEffect) {\n\t\t\tif (scrollLeft !== targetX && canScrollHorizontally(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('horizontal', getEdgeFromPosition(targetX, maxLeft), targetX);\n\t\t\t}\n\t\t\tif (scrollTop !== targetY && canScrollVertically(bounds)) {\n\t\t\t\tcheckAndApplyOverscrollEffectOnStart('vertical', getEdgeFromPosition(targetY, maxTop), targetY);\n\t\t\t}\n\t\t}\n\n\t\tif (scrollMode === 'translate') {\n\t\t\tshowScrollbarTrack(bounds);\n\t\t\tif (scrollContentHandle.current && scrollContentHandle.current.setScrollPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tif (animate) {\n\t\t\t\tmutableRef.current.animator.animate(scrollAnimation(mutableRef.current.animationInfo));\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t} else { // scrollMode 'native'\n\t\t\tif (animate) {\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t} else {\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\t\t\tscrollContentHandle.current.scrollToPosition(targetX, targetY);\n\t\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t\t}\n\n\t\t\tif (props.start) {\n\t\t\t\tprops.start(animate);\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'translate' [[\n\tfunction scrollAnimation (animationInfo) {\n\t\treturn (curTime) => {\n\t\t\tconst\n\t\t\t\t{sourceX, sourceY, targetX, targetY, duration} = animationInfo,\n\t\t\t\tbounds = getScrollBounds();\n\n\t\t\tif (curTime < duration) {\n\t\t\t\tlet\n\t\t\t\t\ttoBeContinued = false,\n\t\t\t\t\tcurTargetX = sourceX,\n\t\t\t\t\tcurTargetY = sourceY;\n\n\t\t\t\tif (canScrollHorizontally(bounds)) {\n\t\t\t\t\tcurTargetX = mutableRef.current.animator.timingFunction(sourceX, targetX, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetX - targetX) < epsilon) {\n\t\t\t\t\t\tcurTargetX = targetX;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollVertically(bounds)) {\n\t\t\t\t\tcurTargetY = mutableRef.current.animator.timingFunction(sourceY, targetY, duration, curTime);\n\n\t\t\t\t\tif (Math.abs(curTargetY - targetY) < epsilon) {\n\t\t\t\t\t\tcurTargetY = targetY;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoBeContinued = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tscroll(curTargetX, curTargetY);\n\n\t\t\t\tif (!toBeContinued) {\n\t\t\t\t\tstop();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tscroll(targetX, targetY);\n\t\t\t\tstop();\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction scroll (left, top) {\n\t\tif (left !== mutableRef.current.scrollLeft) {\n\t\t\tsetScrollLeft(left);\n\t\t}\n\n\t\tif (top !== mutableRef.current.scrollTop) {\n\t\t\tsetScrollTop(top);\n\t\t}\n\n\t\tscrollContentHandle.current.setScrollPosition(mutableRef.current.scrollLeft, mutableRef.current.scrollTop, rtl);\n\t\tforwardScrollEvent('onScroll');\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction stopForTranslate () {\n\t\tmutableRef.current.animator.stop();\n\t\tmutableRef.current.lastInputType = null;\n\t\tmutableRef.current.isScrollAnimationTargetAccumulated = false;\n\t\tstartHidingScrollbarTrack();\n\n\t\tif (mutableRef.current.overscrollEnabled && !mutableRef.current.isDragging) { // not check overscrollEffectOn && overscrollEffectOn for safety\n\t\t\tclearAllOverscrollEffects();\n\t\t}\n\n\t\tif (props.stop) {\n\t\t\tprops.stop();\n\t\t}\n\n\t\tif (mutableRef.current.scrolling) {\n\t\t\tmutableRef.current.scrollStopJob.start();\n\t\t}\n\t}\n\n\tfunction stopForNative () {\n\t\tscrollContentRef.current.style.scrollBehavior = null;\n\t\tscrollContentHandle.current.scrollToPosition(mutableRef.current.scrollLeft + (rtl ? -0.1 : 0.1), mutableRef.current.scrollTop + 0.1);\n\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t}\n\n\tfunction stop () {\n\t\tif (scrollMode === 'translate') {\n\t\t\tstopForTranslate();\n\t\t} else {\n\t\t\tstopForNative();\n\t\t}\n\t}\n\n\t// scrollTo API\n\n\tfunction getPositionForScrollTo (opt) {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds);\n\t\tlet\n\t\t\titemPos,\n\t\t\tleft = null,\n\t\t\ttop = null;\n\n\t\tif (opt instanceof Object) {\n\t\t\tif (opt.position instanceof Object) {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\t// We need '!=' to check if opt.position.x is null or undefined\n\t\t\t\t\tleft = opt.position.x != null ? opt.position.x : mutableRef.current.scrollLeft;\n\t\t\t\t} else {\n\t\t\t\t\tleft = 0;\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\t// We need '!=' to check if opt.position.y is null or undefined\n\t\t\t\t\ttop = opt.position.y != null ? opt.position.y : mutableRef.current.scrollTop;\n\t\t\t\t} else {\n\t\t\t\t\ttop = 0;\n\t\t\t\t}\n\t\t\t} else if (typeof opt.align === 'string') {\n\t\t\t\tif (canScrollH) {\n\t\t\t\t\tif (opt.align.includes('left')) {\n\t\t\t\t\t\tleft = 0;\n\t\t\t\t\t} else if (opt.align.includes('right')) {\n\t\t\t\t\t\tleft = bounds.maxLeft;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (canScrollV) {\n\t\t\t\t\tif (opt.align.includes('top')) {\n\t\t\t\t\t\ttop = 0;\n\t\t\t\t\t} else if (opt.align.includes('bottom')) {\n\t\t\t\t\t\ttop = bounds.maxTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (typeof opt.index === 'number' && typeof scrollContentHandle.current.getItemPosition === 'function') {\n\t\t\t\t\titemPos = scrollContentHandle.current.getItemPosition(opt.index, opt.stickTo, opt.offset);\n\t\t\t\t} else if (opt.node instanceof Object) {\n\t\t\t\t\tif (opt.node.nodeType === 1 && typeof scrollContentHandle.current.getNodePosition === 'function') {\n\t\t\t\t\t\titemPos = scrollContentHandle.current.getNodePosition(opt.node);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPos) {\n\t\t\t\t\tif (canScrollH) {\n\t\t\t\t\t\tleft = itemPos.left;\n\t\t\t\t\t}\n\t\t\t\t\tif (canScrollV) {\n\t\t\t\t\t\ttop = itemPos.top;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {left, top};\n\t}\n\n\tfunction scrollTo (opt) {\n\t\tif (!mutableRef.current.deferScrollTo) {\n\t\t\tconst {left, top} = getPositionForScrollTo(opt);\n\t\t\tconst targetX = (left !== null) ? left : mutableRef.current.scrollLeft;\n\t\t\tconst targetY = (top !== null) ? top : mutableRef.current.scrollTop;\n\n\t\t\tif (props.scrollTo) {\n\t\t\t\tprops.scrollTo(opt);\n\t\t\t}\n\n\t\t\tmutableRef.current.scrollToInfo = null;\n\n\t\t\tif (scrollMode === 'native' && scrollContentHandle.current && scrollContentHandle.current.setScrollToPositionTarget) {\n\t\t\t\tscrollContentHandle.current.setScrollToPositionTarget(targetX, targetY);\n\t\t\t}\n\n\t\t\tstart({\n\t\t\t\ttargetX,\n\t\t\t\ttargetY,\n\t\t\t\tanimate: opt.animate\n\t\t\t});\n\t\t} else {\n\t\t\tmutableRef.current.scrollToInfo = opt;\n\t\t}\n\t}\n\n\tfunction canScrollHorizontally (bounds) {\n\t\treturn (direction === 'horizontal' || direction === 'both') && (bounds.scrollWidth > bounds.clientWidth) && !isNaN(bounds.scrollWidth);\n\t}\n\n\tfunction canScrollVertically (bounds) {\n\t\treturn (direction === 'vertical' || direction === 'both') && (bounds.scrollHeight > bounds.clientHeight) && !isNaN(bounds.scrollHeight);\n\t}\n\n\t// scroll bar\n\n\tfunction showScrollbarTrack (bounds) {\n\t\tif (isHorizontalScrollbarVisible && canScrollHorizontally(bounds) && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && canScrollVertically(bounds) && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.showScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrack (scrollbarRef, bounds) {\n\t\tscrollbarRef.current.update({\n\t\t\t...bounds,\n\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t});\n\t}\n\n\tfunction startHidingScrollbarTrack () {\n\t\tif (isHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\thorizontalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\n\t\tif (isVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\tverticalScrollbarHandle.current.startHidingScrollbarTrack();\n\t\t}\n\t}\n\n\tfunction updateScrollbars () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\t// determine if we should hide or show any scrollbars\n\t\tconst\n\t\t\tisVisibilityChanged = (\n\t\t\t\tisHorizontalScrollbarVisible !== curHorizontalScrollbarVisible ||\n\t\t\t\tisVerticalScrollbarVisible !== curVerticalScrollbarVisible\n\t\t\t);\n\n\t\tif (isVisibilityChanged) {\n\t\t\t// one or both scrollbars have changed visibility\n\t\t\tsetIsHorizontalScrollbarVisible(curHorizontalScrollbarVisible);\n\t\t\tsetIsVerticalScrollbarVisible(curVerticalScrollbarVisible);\n\t\t} else {\n\t\t\tmutableRef.current.deferScrollTo = false;\n\t\t\tupdateScrollbarTrackSize();\n\t\t}\n\t}\n\n\tfunction updateScrollbarTrackSize () {\n\t\tconst\n\t\t\tbounds = getScrollBounds(),\n\t\t\tcanScrollH = canScrollHorizontally(bounds),\n\t\t\tcanScrollV = canScrollVertically(bounds),\n\t\t\tcurHorizontalScrollbarVisible = (horizontalScrollbar === 'auto') ? canScrollH : horizontalScrollbar === 'visible',\n\t\t\tcurVerticalScrollbarVisible = (verticalScrollbar === 'auto') ? canScrollV : verticalScrollbar === 'visible';\n\n\t\tif (curHorizontalScrollbarVisible || curVerticalScrollbarVisible) {\n\t\t\t// no visibility change but need to notify whichever scrollbars are visible of the\n\t\t\t// updated bounds and scroll position\n\t\t\tconst updatedBounds = {\n\t\t\t\t...bounds,\n\t\t\t\tscrollLeft: mutableRef.current.scrollLeft,\n\t\t\t\tscrollTop: mutableRef.current.scrollTop\n\t\t\t};\n\n\t\t\tif (curHorizontalScrollbarVisible && horizontalScrollbarHandle.current) {\n\t\t\t\thorizontalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\tif (curVerticalScrollbarVisible && verticalScrollbarHandle.current) {\n\t\t\t\tverticalScrollbarHandle.current.update(updatedBounds);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// ref\n\n\tfunction getScrollBounds () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getScrollBounds === 'function') {\n\t\t\treturn scrollContentHandle.current.getScrollBounds();\n\t\t}\n\t}\n\n\tfunction getMoreInfo () {\n\t\tif (scrollContentHandle.current && typeof scrollContentHandle.current.getMoreInfo === 'function') {\n\t\t\treturn scrollContentHandle.current.getMoreInfo();\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction addEventListeners () {\n\t\tutilEvent('wheel').addEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').addEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tif (scrollMode === 'native' && scrollContentRef.current) {\n\t\t\tutilEvent('scroll').addEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t\tscrollContentRef.current.style.scrollBehavior = 'smooth';\n\t\t}\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.addEventListeners) {\n\t\t\tprops.addEventListeners(scrollContentRef);\n\t\t}\n\n\t\tif (window) {\n\t\t\tutilEvent('resize').addEventListener(window, handleResizeWindow);\n\t\t}\n\t}\n\n\t// FIXME setting event handlers directly to work on the V8 snapshot.\n\tfunction removeEventListeners () {\n\t\tutilEvent('wheel').removeEventListener(scrollContainerRef, onWheel);\n\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, onKeyDown);\n\t\tutilEvent('mousedown').removeEventListener(scrollContainerRef, onMouseDown);\n\n\t\t// scrollMode 'native' [[\n\t\tutilEvent('scroll').removeEventListener(scrollContentRef, onScroll, {passive: true});\n\t\t// scrollMode 'native' ]]\n\n\t\tif (props.removeEventListeners) {\n\t\t\tprops.removeEventListeners(scrollContentRef);\n\t\t}\n\n\t\tutilEvent('resize').removeEventListener(window, handleResizeWindow);\n\t}\n\n\t// render\n\n\t// scrollMode 'translate' [[\n\tfunction handleScroll () {\n\t\t// Prevent scroll by focus.\n\t\t// VirtualList and VirtualGridList DO NOT receive `onscroll` event.\n\t\t// Only Scroller could get `onscroll` event.\n\t\tif (!mutableRef.current.animator.isAnimating() && scrollContentHandle.current && scrollContentRef.current && scrollContentHandle.current.getRtlPositionX) {\n\t\t\t// For Scroller\n\t\t\tscrollContentRef.current.scrollTop = mutableRef.current.scrollTop;\n\t\t\tscrollContentRef.current.scrollLeft = scrollContentHandle.current.getRtlPositionX(mutableRef.current.scrollLeft);\n\t\t}\n\t}\n\t// scrollMode 'translate' ]]\n\n\tfunction scrollContainerContainsDangerously (target) {\n\t\treturn utilDOM.containsDangerously(scrollContainerRef, target);\n\t}\n\n\tassignProperties('scrollContainerProps', {\n\t\t...rest,\n\t\tclassName: [scrollClasses]\n\t});\n\n\tassignProperties('scrollInnerContainerProps', {\n\t\tclassName: [css.scrollInnerContainer]\n\t});\n\n\tassignProperties('scrollContentWrapperProps', {\n\t\tclassName: scrollMode === 'translate' ? [css.scrollContentWrapper] : [css.scrollContentWrapper, css.scrollContentWrapperNative], // scrollMode 'native'\n\t\t...(!noScrollByDrag && {\n\t\t\tflickConfig,\n\t\t\tonDrag: onDrag,\n\t\t\tonDragEnd: onDragEnd,\n\t\t\tonDragStart: onDragStart,\n\t\t\tonFlick: onFlick,\n\t\t\tonTouchStart: scrollMode === 'native' ? onTouchStart : null // scrollMode 'native'\n\t\t})\n\t});\n\n\tconst voiceProps = {\n\t\t'data-webos-voice-disabled': voiceDisabled,\n\t\t'data-webos-voice-focused': voiceFocused,\n\t\t'data-webos-voice-group-label': voiceGroupLabel\n\t};\n\n\tconst scrollContentProps = props.itemRenderer ? // If the child component is a VirtualList\n\t\t{\n\t\t\tchildProps,\n\t\t\tclientSize,\n\t\t\tdataSize,\n\t\t\titemRenderer,\n\t\t\titemSize,\n\t\t\titemSizes,\n\t\t\toverhang,\n\t\t\tpageScroll,\n\t\t\tspacing,\n\t\t\twrap\n\t\t} :\n\t\t{children};\n\n\tassignProperties('scrollContentProps', {\n\t\t...scrollContentProps,\n\t\t...voiceProps,\n\t\tcbScrollTo: scrollTo,\n\t\tclassName: [css.scrollFill],\n\t\tdirection,\n\t\tget isHorizontalScrollbarVisible () {\n\t\t\treturn isHorizontalScrollbarVisible;\n\t\t},\n\t\tget isVerticalScrollbarVisible () {\n\t\t\treturn isVerticalScrollbarVisible;\n\t\t},\n\t\tonScroll: scrollMode === 'translate' ? handleScroll : null,\n\t\trole,\n\t\trtl,\n\t\tscrollContainerContainsDangerously,\n\t\tscrollMode\n\t});\n\n\tassignProperties('verticalScrollbarProps', {\n\t\tclientSize,\n\t\tdisabled: !isVerticalScrollbarVisible,\n\t\trtl,\n\t\tvertical: true\n\t});\n\n\tassignProperties('horizontalScrollbarProps', {\n\t\tclientSize,\n\t\tcorner: isVerticalScrollbarVisible,\n\t\tdisabled: !isHorizontalScrollbarVisible,\n\t\trtl,\n\t\tvertical: false\n\t});\n\n\tassignProperties('resizeContextProps', {\n\t\tvalue: mutableRef.current.resizeRegistry.register\n\t});\n\n\tmutableRef.current.deferScrollTo = true;\n\n\tmutableRef.current.prevState = {\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n\n\treturn {\n\t\tscrollContentWrapper: noScrollByDrag ? 'div' : TouchableDiv,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nconst assignPropertiesOf = (instance) => (name, properties) => {\n\tif (!instance[name]) {\n\t\tinstance[name] = {};\n\t}\n\n\tif (typeof properties === 'object') {\n\t\tfor (const property in properties) {\n\t\t\tif (property === 'className') {\n\t\t\t\twarning(\n\t\t\t\t\tArray.isArray(properties.className),\n\t\t\t\t\t'Unsupported other types for `className` prop except Array'\n\t\t\t\t);\n\n\t\t\t\tinstance[name].className = classNames(instance[name].className, properties.className);\n\t\t\t} else {\n\t\t\t\twarning(\n\t\t\t\t\t!instance[name][property],\n\t\t\t\t\t'Unsupported to push value in the same ' + property + ' prop.'\n\t\t\t\t);\n\n\t\t\t\t// Override the previous value.\n\t\t\t\tinstance[name][property] = properties[property];\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst useScroll = (props) => {\n\t// Mutable value\n\n\tconst scrollContainerRef = useRef({});\n\tconst scrollContentHandle = useRef({});\n\tconst scrollContentRef = useRef({});\n\tconst itemRefs = useRef([]);\n\tconst horizontalScrollbarHandle = useRef({});\n\tconst verticalScrollbarHandle = useRef({});\n\n\t// Hooks\n\n\tconst\n\t\tcollectionOfProperties = {},\n\t\tassignProperties = assignPropertiesOf(collectionOfProperties);\n\n\tconst {\n\t\tscrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t} = useScrollBase({\n\t\t...props,\n\t\tassignProperties,\n\t\thorizontalScrollbarHandle,\n\t\tscrollContainerRef,\n\t\tscrollContentHandle,\n\t\tscrollContentRef,\n\t\tverticalScrollbarHandle\n\t});\n\n\tassignProperties('scrollContainerProps', {ref: scrollContainerRef});\n\tassignProperties('scrollContentProps', {\n\t\t...(props.itemRenderer ? {itemRefs} : {}),\n\t\tscrollContentRef\n\t});\n\tassignProperties('verticalScrollbarProps', {scrollbarHandle: verticalScrollbarHandle});\n\tassignProperties('horizontalScrollbarProps', {scrollbarHandle: horizontalScrollbarHandle});\n\n\t// Return\n\n\treturn {\n\t\t...collectionOfProperties,\n\t\tscrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible\n\t};\n};\n\nexport default useScroll;\nexport {\n\tassignPropertiesOf,\n\tconstants,\n\tuseScroll,\n\tuseScrollBase\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"skinFrame\":\"ThemeEnvironment_skinFrame__3bmvN\",\"storyBody\":\"ThemeEnvironment_storyBody__1M94b\"};","/**\n * An Agate-themed drawer component.\n *\n * @example\n * <Drawer header=\"Surprise\">Hello Enact!</Drawer>\n *\n * @module agate/Drawer\n * @exports Drawer\n * @exports DrawerBase\n * @exports DrawerDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport Skinnable from '../Skinnable';\n// import Icon from '../Icon';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './Drawer.module.less';\n\n/**\n * A drawer component, without behaviors.\n *\n * @class DrawerBase\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst DrawerBase = kind({\n\tname: 'Drawer',\n\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tfooter: PropTypes.node,\n\t\theader: PropTypes.node,\n\t\tnoAnimation: PropTypes.bool,\n\t\t// `onClose` is here for the future scenario where we'll want to have a local (to Drawer)\n\t\t// control that closes the Drawer; similar to how the old Moonstone Drawer worked with its\n\t\t// close-tab that was positioned on the edge of the drawer. This prop, the close icon below\n\t\t// and the .closeButton CSS in the LESS file all relate to this functionality.\n\t\t// onClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'vertical'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'drawer'\n\t},\n\n\trender: ({footer, children, css, noAnimation, onHide, open, header, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"left\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"slide\"\n\t\t\t\tclassName={css.drawerTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{/* <Icon size=\"small\" onClick={onClose} className={css.closeButton}>closex</Icon>*/}\n\t\t\t\t\t{header ? <Cell shrink className={css.header}>{header}</Cell> : null}\n\t\t\t\t\t<Cell className={css.content}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</Cell>\n\t\t\t\t\t{footer ? <Cell shrink className={css.footer}>{footer}</Cell> : null}\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [DrawerBase]{@link agate/Drawer.DrawerBase}.\n *\n * @hoc\n * @memberof agate/Drawer\n * @mixes ui/Slottable.Slottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst DrawerDecorator = compose(\n\tSlottable({slots: ['header', 'footer']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A ready-to-use drawer component.\n *\n * @class Drawer\n * @memberof agate/Drawer\n * @ui\n * @public\n */\nconst Drawer = DrawerDecorator(DrawerBase);\n\nexport default Drawer;\nexport {Drawer, DrawerBase, DrawerDecorator};\n","/**\n * Agate styled Header.\n *\n * @example\n * <Header title=\"Profile\" titleAbove=\"Settings\" noLine>\n * \t<Button>Close</Button>\n * </Header>\n *\n * @module agate/Header\n * @exports Header\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {Column, Row, Layout} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Header.module.less';\n\n/**\n * A header component for a Panel with a `title`, `titleAbove`, `subtitle`\n *\n * @class Header\n * @memberof agate/Header\n * @ui\n * @public\n */\nconst HeaderBase = kind({\n\tname: 'Header',\n\n\tpropTypes: /** @lends agate/Header.Header.prototype */ {\n\t\t/**\n\t\t * Title of the header.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t *  <Header>\n\t\t *  \t<titleAbove>Introducing...</titleAbove>\n\t\t *  \t<title>Example Header Title</title>\n\t\t *  \t<subtitle>The Adventure Continues</subtitle>\n\t\t *  </Header>\n\t\t * ```\n\t\t *\n\t\t * @required\n\t\t * @type {String}\n\t\t */\n\t\ttitle: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `header` - The root class name\n\t\t * * `titleContainer` - The background title container\n\t\t * * `subtitle` - Applied to `subtitle`\n\t\t * * `title` - Applied to `title`\n\t\t * * `titleAbove` - Applied to `titleAbove`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Hides the horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\thideLine: PropTypes.bool,\n\n\t\t/**\n\t\t * Text displayed below the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\tsubtitle: PropTypes.string,\n\n\t\t/**\n\t\t * Text displayed above the title.\n\t\t *\n\t\t * This is a [`slot`]{@link ui/Slottable.Slottable}, so it can be used as a tag-name inside\n\t\t * this component.\n\t\t *\n\t\t * @type {String}\n\t\t */\n\t\ttitleAbove: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'header',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({hideLine, styler}) => styler.append({hideLine, standard: true}),\n\t\tsubtitleComponent: ({css, subtitle}) => {\n\t\t\treturn (subtitle != null && subtitle !== '') ? <h2 className={css.subtitle}>{subtitle}</h2> : null;\n\t\t},\n\t\ttitleAboveComponent: ({css, titleAbove}) => {\n\t\t\treturn (titleAbove != null && titleAbove !== '') ? <h2 className={css.titleAbove}>{titleAbove}</h2> : null;\n\t\t}\n\t},\n\n\trender: ({children, css, title, titleAboveComponent, subtitleComponent, ...rest}) => {\n\t\tdelete rest.hideLine;\n\t\tdelete rest.subtitle;\n\t\tdelete rest.titleAbove;\n\n\t\treturn (\n\t\t\t<Row component=\"header\" aria-label={title} {...rest}>\n\t\t\t\t<Column className={css.titleContainer}>\n\t\t\t\t\t{titleAboveComponent}\n\t\t\t\t\t<h1 className={css.title}>{title}</h1>\n\t\t\t\t\t{subtitleComponent}\n\t\t\t\t</Column>\n\t\t\t\t{children ? <Layout className={css.endSlot}>{children}</Layout> : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n// Note that we only export this (even as HeaderBase). HeaderBase is not useful on its own.\nconst Header = Slottable({slots: ['subtitle', 'title', 'titleAbove']}, Skinnable(HeaderBase));\n\n// Set up Header so when it's used in a slottable layout (like Panel), it is automatically\n// recognized as this specific slot.\nHeader.defaultSlot = 'header';\n\nexport default Header;\nexport {Header, HeaderBase};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"incrementSlider\":\"IncrementSlider_incrementSlider__1Md3i\",\"horizontal\":\"IncrementSlider_horizontal__2IBgz\",\"decrementButton\":\"IncrementSlider_decrementButton__3wLj9\",\"incrementButton\":\"IncrementSlider_incrementButton__3mW1O\",\"input\":\"IncrementSlider_input__1axG1\",\"slider\":\"IncrementSlider_slider__1717x\",\"knob\":\"IncrementSlider_knob__1J3mU\",\"vertical\":\"IncrementSlider_vertical__3T5i5\"};","/* global ILIB_AGATE_PATH */\n\nimport {getIStringFromBundle} from '@enact/i18n/src/resBundle';\nimport ResBundle from 'ilib/lib/ResBundle';\n\n// The ilib.ResBundle for the active locale used by $L\nlet resBundle;\n\n/**\n * Returns the current ilib.ResBundle\n *\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction getResBundle () {\n\treturn resBundle;\n}\n\n/**\n * Creates a new ilib.ResBundle for string translation\n *\n * @param  {ilib.Locale} locale Locale for ResBundle\n *\n * @returns {Promise|ResBundle} Resolves with a new ilib.ResBundle\n */\nfunction createResBundle (options = {}) {\n\tlet opts = options;\n\n\tif (typeof ILIB_AGATE_PATH !== 'undefined') {\n\t\topts.basePath = ILIB_AGATE_PATH;\n\t}\n\n\tif (!opts.onLoad) return;\n\n\t// eslint-disable-next-line no-new\n\tnew ResBundle({\n\t\t...opts,\n\t\tonLoad: (bundle) => {\n\t\t\topts.onLoad(bundle || null);\n\t\t}\n\t});\n}\n\n/**\n * Deletes the current bundle object of strings and clears the cache.\n * @returns {undefined}\n */\nfunction clearResBundle () {\n\tdelete ResBundle.strings;\n\tdelete ResBundle.sysres;\n\tresBundle = null;\n}\n\n/**\n * Set the locale for the strings that $L loads. This may reload the\n * string resources if necessary.\n *\n * @param {string} spec the locale specifier\n * @returns {ilib.ResBundle} Current ResBundle\n */\nfunction setResBundle (bundle) {\n\treturn (resBundle = bundle);\n}\n\nfunction toIString (str) {\n\tlet rb = getResBundle();\n\n\tif (!rb) {\n\t\tcreateResBundle({sync: true, onLoad: setResBundle});\n\t\trb = getResBundle();\n\t}\n\n\treturn getIStringFromBundle(str, rb);\n}\n\n/**\n * Maps a string or key/value object to a translated string for the current locale.\n *\n * @function\n * @memberof i18n/$L\n * @param  {String|Object} str Source string\n *\n * @returns {String} The translated string\n */\nfunction $L (str) {\n\treturn String(toIString(str));\n}\n\nexport default $L;\nexport {\n\t$L,\n\tclearResBundle,\n\tcreateResBundle,\n\tsetResBundle\n};\n","/**\n * Provides an Agate-themed progress bar component.\n *\n * @example\n * <ProgressBar progress={0.5} backgroundProgress={0.75} />\n *\n * @module agate/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport UiProgressBar from '@enact/ui/ProgressBar';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './ProgressBar.module.less';\n\n/**\n * Renders an Agate-styled progress bar.\n *\n * @class ProgressBar\n * @memberof agate/ProgressBar\n * @extends ui/ProgressBar.ProgressBar\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst ProgressBarBase = kind({\n\tname: 'ProgressBar',\n\n\tpropTypes: /** @lends agate/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the progress bar.\n\t\t *\n\t\t * @type {('horizontal'|'vertical')}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * A number between `0` and `1` indicating the proportion of the filled portion of the bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * The size of the progress bar.\n\t\t *\n\t\t * @type {('small'|'large')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['small', 'large'])\n\t},\n\n\tdefaultProps: {\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tsize: 'large'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({size, styler}) => styler.append(size)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<UiProgressBar\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n// Not documenting as base is not very useful to developers.\nconst ProgressBar = Skinnable(ProgressBarBase);\n\nexport default ProgressBar;\nexport {\n\tProgressBar,\n\tProgressBarBase\n};\n","/**\n * Provides an Agate-themed button group.\n *\n * @example\n * <SliderButton>{['Light Speed', 'Ridiculous Speed', 'Ludicrous Speed']}</SliderButton>\n *\n * @module agate/SliderButton\n * @exports SliderButton\n * @exports SliderButtonBase\n * @exports SliderButtonDecorator\n */\n\nimport React from 'react';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport {Cell, Row} from '@enact/ui/Layout';\nimport UiSlider from '@enact/ui/Slider';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SliderButton.module.less';\n\nconst SliderKnob = kind({\n\tname: 'SliderKnob',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalue: PropTypes.number\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'knob'\n\t},\n\tcomputed: {\n\t\tstyle: ({style, value}) => {\n\t\t\t// const factor = Math.abs((value - Math.round(value))) / 4;\n\t\t\treturn {\n\t\t\t\t'--knob-value': value,\n\t\t\t\t// transform: `scale(${1 + factor}, ${1 - factor})`,\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({...rest}) => {\n\t\tdelete rest.value;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.tooltipComponent;\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst SliderProgress = kind({\n\tname: 'SliderProgress',\n\tpropTypes: {\n\t\tcss: PropTypes.object,\n\t\tvalues: PropTypes.arrayOf(PropTypes.string)\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'track'\n\t},\n\trender: ({children, css, values, ...rest}) => {\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.progressAnchor;\n\t\t// eslint-disable-next-line enact/prop-types\n\t\tdelete rest.backgroundProgress;\n\t\treturn (\n\t\t\t<Row {...rest} align=\"center\">\n\t\t\t\t{children}\n\t\t\t\t{values ? values.map(child => (\n\t\t\t\t\t<Cell className={css.client} key={child}>\n\t\t\t\t\t\t{child}\n\t\t\t\t\t</Cell>\n\t\t\t\t)) : null}\n\t\t\t</Row>\n\t\t);\n\t}\n});\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SliderButtonBase\n * @memberof agate/SliderButton\n * @extends ui/Slider.Slider\n * @ui\n * @public\n */\nconst SliderButtonBase = kind({\n\tname: 'SliderButton',\n\tpropTypes: {\n\t\tchildren: PropTypes.array.isRequired,\n\t\tcss: PropTypes.object\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'sliderButton',\n\t\tpublicClassNames: true\n\t},\n\tcomputed: {\n\t\tmax: ({children}) => (children && children.length ? children.length - 1 : 0),\n\t\tstyle: ({children, style}) => {\n\t\t\treturn {\n\t\t\t\t'--sliderbutton-item-count': (children && children.length || 0),  // We're adding 1 here because it's more of a JS neuance that we want to abstract away from the styling.\n\t\t\t\t...style\n\t\t\t};\n\t\t}\n\t},\n\trender: ({css, children, max, ...rest}) => {\n\t\treturn (\n\t\t\t<UiSlider\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tknobComponent={\n\t\t\t\t\t<SliderKnob css={css} />\n\t\t\t\t}\n\t\t\t\tprogressBarComponent={\n\t\t\t\t\t<SliderProgress values={children} />\n\t\t\t\t}\n\t\t\t\tstep={1}\n\t\t\t\tmin={0}\n\t\t\t\tmax={max}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate specific behaviors to apply to [SliderButton]{@link agate/SliderButton.SliderButtonBase}.\n *\n * @hoc\n * @memberof agate/SliderButton\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SliderButtonDecorator = compose(\n\tPure,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders a slider that appears as a series of connected buttons.\n *\n * @class SliderButton\n * @memberof agate/SliderButton\n * @extends agate/SliderButton.SliderButtonBase\n * @mixes agate/SliderButton.SliderButtonDecorator\n * @ui\n * @public\n */\nconst SliderButton = SliderButtonDecorator(SliderButtonBase);\n\nexport default SliderButton;\nexport {\n\tSliderButton,\n\tSliderButtonBase,\n\tSliderButtonDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrim\":\"Scrim_scrim__3gYzI\",\"transparent\":\"Scrim_transparent__2M18Y\",\"translucent\":\"Scrim_translucent__fD3HY\"};","/**\n * Provides Agate-themed indeterminate progress indicator (spinner) components and behaviors.\n *\n * Used for indicating to the user that something is busy and interaction is temporarily suspended.\n *\n * @example\n * <Spinner color=\"light\" size=\"small\" type=\"searching\" />\n *\n * @module agate/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport UiSpinnerBase from '@enact/ui/Spinner';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A component that shows spinning fan. Or bouncing .\n *\n * @class SpinnerCore\n * @memberof agate/Spinner\n * @ui\n * @private\n */\nconst SpinnerCore = kind({\n\tname: 'SpinnerCore',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerCore.prototype */ {\n\t\t/**\n\t\t * The \"aria-label\" for the component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'aria-label': PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The type of spinner.\n\t\t *\n\t\t * @type {('loading'|'searching')}\n\t\t * @default 'searching'\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ttype: 'searching'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\t'aria-label': ({'aria-label': label, type}) => {\n\t\t\t// TODO: These static values will need to be localized\n\t\t\treturn label || type === 'searching' ? $L('Searching') : $L('Loading');\n\t\t},\n\t\tclassName: ({styler, type}) => styler.append(type),\n\t\tspinnerNodes: ({styler, type}) => {\n\t\t\treturn Array.from({length: type === 'searching' ? 12 : 4}, (_, index) => (\n\t\t\t\t<span className={styler.join('node', `node${index + 1}`)} key={`node${index}`} />\n\t\t\t));\n\t\t}\n\t},\n\n\trender: ({css, spinnerNodes, ...rest}) => {\n\t\tdelete rest.type;\n\n\t\treturn (\n\t\t\t<div aria-live=\"off\" role=\"alert\" {...rest}>\n\t\t\t\t<div className={css.bg}>\n\t\t\t\t\t{spinnerNodes}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * The base component, defining all of the properties.\n *\n * @class SpinnerBase\n * @memberof agate/Spinner\n * @extends ui/Spinner.Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'Spinner',\n\n\tpropTypes: /** @lends agate/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * The color of the component.\n\t\t *\n\t\t * @type {('dark'|'light')}\n\t\t * @default 'light'\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.oneOf(['dark', 'light']),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root component class, unless there is a scrim. The scrim and floating\n\t\t *   layer can be a sibling or parent to this root \"spinner\" element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The size of the component.\n\t\t *\n\t\t * Recommended usage is \"large\" (default) for standalone and popup scenarios, while \"small\"\n\t\t * is best suited for use inside other elements, like {@link agate/Item.Item}.\n\t\t *\n\t\t * @type {('huge'|'large'|'small'|'smallest')}\n\t\t * @default 'large'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.oneOf(['huge', 'large', 'small', 'smallest']),\n\n\t\t/**\n\t\t * Removes the background color (making it transparent).\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\ttransparent: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcolor: 'light',\n\t\tsize: 'large',\n\t\ttransparent: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['spinner']\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children, color, size, transparent, styler}) => styler.append(\n\t\t\tcolor,\n\t\t\tsize,\n\t\t\t{content: !!children, transparent}\n\t\t)\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.transparent;\n\n\t\treturn (\n\t\t\t<UiSpinnerBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tcomponent={SpinnerCore}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific Spinner behaviors to apply to [Spinner]{@link agate/Spinner.SpinnerBase}.\n *\n * @hoc\n * @memberof agate/Spinner\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SpinnerDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * An Agate-styled Spinner.\n *\n * @class Spinner\n * @memberof agate/Spinner\n * @extends agate/Spinner.SpinnerBase\n * @mixes agate/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","/*\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <SwatchButton color=\"#ffcc00\" onClick={handleClick} />\n */\n\nimport kind from '@enact/core/kind';\n\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport {ButtonBase, ButtonDecorator} from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './SwatchButton.module.less';\n\n\n/**\n * A swatch component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [SwatchButton]{@link agate/ColorPicker.SwatchButton}.\n *\n * @class SwatchButtonBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst SwatchButtonBase = kind({\n\tname: 'SwatchButton',\n\n\tpropTypes: /** @lends agate/ColorPicker.SwatchButtonBase.prototype */ {\n\t\t/**\n\t\t * The color of the swatch if the `color` prop is not set.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.string,\n\n\t\t/**\n\t\t * The color of the swatch.\n\t\t *\n\t\t * The value should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `swatchButton` - The root class name\n\t\t * * `colorSwatch` - The node that displays the chosen color. The current value is applied\n\t\t * \t\tas a background-color to this element.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'swatchButton',\n\t\tpublicClassNames: ['swatchButton', 'colorSwatch']\n\t},\n\n\thandlers: {\n\t\tonClick: (ev, {children, color, onClick}) => {\n\t\t\tif (onClick) {\n\t\t\t\tonClick({color: color || children});\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tcolorSwatchStyle: ({children, color}) => ({backgroundColor: color ? color : children})\n\t},\n\n\trender: ({colorSwatchStyle, css, ...rest}) => {\n\t\treturn (\n\t\t\t<ButtonBase {...rest} css={css} minWidth={false}>\n\t\t\t\t<div className={css.colorSwatch} style={colorSwatchStyle} />\n\t\t\t</ButtonBase>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwatchButton]{@link agate/ColorPicker.SwatchButtonBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes agate/Button.ButtonDecorator\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwatchButtonDecorator = compose(\n\tButtonDecorator,\n\tSkinnable\n);\n\n/**\n * A color picker swatch button component.\n *\n * @class SwatchButton\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.SwatchButtonBase\n * @mixes agate/ColorPicker.SwatchButtonDecorator\n * @ui\n * @public\n */\nconst SwatchButton = SwatchButtonDecorator(SwatchButtonBase);\n\nexport default SwatchButton;\nexport {\n\tSwatchButton,\n\tSwatchButtonBase,\n\tSwatchButtonDecorator\n};\n","/**\n * Agate component to allow the user to choose a color.\n *\n * @example\n * <ColorPicker defaultValue=\"#ffcc00\">{['#fff', '#999', '#000']}</ColorPicker>\n *\n * @module agate/ColorPicker\n * @exports ColorPicker\n * @exports ColorPickerBase\n * @exports ColorPickerDecorator\n */\n\nimport convert from 'color-convert';\nimport compose from 'ramda/src/compose';\nimport hoc from '@enact/core/hoc';\nimport kind from '@enact/core/kind';\nimport {adaptEvent, forward, handle} from '@enact/core/handle';\nimport {on, off} from '@enact/core/dispatcher';\nimport {Row, Cell} from '@enact/ui/Layout';\nimport Changeable from '@enact/ui/Changeable';\nimport Group from '@enact/ui/Group';\nimport PropTypes from 'prop-types';\nimport Pure from '@enact/ui/internal/Pure';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Toggleable from '@enact/ui/Toggleable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Button from '../Button';\nimport Slider from '../Slider';\nimport SwatchButton from './SwatchButton';\n\nimport componentCss from './ColorPicker.module.less';\n\nconst ContainerDiv = SpotlightContainerDecorator({enterTo: 'last-focused'}, 'div');\n\n// helper function to convert color hex strings or kewords to hue, saturation, and lightness values\nconst convertToHSL = (value) => convert[value.charAt(0) === '#' ? 'hex' : 'keyword'].hsl(value);\n\n/**\n * The color picker base component which sets-up the component's structure.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [ColorPicker]{@link agate/ColorPicker.ColorPicker}.\n *\n * @class ColorPickerBase\n * @memberof agate/ColorPicker\n * @ui\n * @public\n */\nconst ColorPickerBase = kind({\n\tname: 'ColorPicker',\n\n\tpropTypes: /** @lends agate/ColorPicker.ColorPickerBase.prototype */ {\n\t\tchildren: PropTypes.array,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `colorPicker` - The root class name\n\t\t * * `palette` - The drawer that displays all the available options for color.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t// TODO: position `palette` like `Tooltip`\n\t\t/**\n\t\t * The animation direction of the `palette`.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.string,\n\n\t\t/**\n\t\t * Determines whether the extended color controls (sliders) are visible\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\textended: PropTypes.bool,\n\n\t\t/**\n\t\t * Callback method with a payload containing the `color` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [SwatchButton]{@link agate/ColorPicker.SwatchButton} component with a payload containing the `value` that was just selected.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the hue value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonHueChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the lightness value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonLightnessChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method with a payload containing the saturation value of the selected `color`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonSaturationChanged: PropTypes.func,\n\n\t\t/**\n\t\t * Callback method passed to the [Button]{@link agate/Button.Button} component as `onTap`. This is used to toggle the visibility of the H/S/L sliders.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonToggleExtended: PropTypes.func,\n\n\t\t/**\n\t\t * Opens ColorPicker with the contents visible.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The color value. Setting this directly will not allow interaction with the\n\t\t * component. Use `defaultValue` to enable interactive use.\n\t\t *\n\t\t * The color should take the format of a HEX color. Ex: `#ffcc00` or `#3467af`\n\t\t *\n\t\t * @type {String}\n\t\t * @see {@link ui/Changeable.Changeable}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'right',\n\t\topen: false,\n\t\tvalue: '#cccccc'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'colorPicker',\n\t\tpublicClassNames: ['colorPicker', 'palette']\n\t},\n\n\tcomputed: {\n\t\tchildren: ({children}) => children || [],\n\t\tclassName: ({extended, styler}) => styler.append({extended}),\n\t\tsliderValues: ({value}) => ({hsl: convertToHSL(value)}),\n\t\ttransitionContainerClassname: ({css, open, styler}) => styler.join(css.transitionContainer, (open ? css.openTransitionContainer : null)),\n\t\ttransitionDirection: ({direction}) => {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'left':\n\t\t\t\t\treturn 'right';\n\t\t\t\tcase 'right':\n\t\t\t\t\treturn 'left';\n\t\t\t\tcase 'up':\n\t\t\t\t\treturn 'down';\n\t\t\t\tcase 'down':\n\t\t\t\t\treturn 'up';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({children, css, onChange, onClick, onHueChanged, onSaturationChanged, onLightnessChanged, onToggleExtended, open, sliderValues, transitionContainerClassname, transitionDirection, value, ...rest}) => {\n\t\tdelete rest.extended;\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<SwatchButton color={value} onClick={onClick} />\n\t\t\t\t<Transition\n\t\t\t\t\tclassName={transitionContainerClassname}\n\t\t\t\t\tvisible={open}\n\t\t\t\t\tdirection={transitionDirection}\n\t\t\t\t>\n\t\t\t\t\t<ContainerDiv className={css.palette} spotlightDisabled={!open} spotlightRestrict=\"self-only\">\n\t\t\t\t\t\t<Group\n\t\t\t\t\t\t\tchildComponent={SwatchButton}\n\t\t\t\t\t\t\tchildProp=\"color\"\n\t\t\t\t\t\t\tclassName={css.group}\n\t\t\t\t\t\t\titemProps={{size: 'small', className: css.swatch}}\n\t\t\t\t\t\t\tonSelect={onChange}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t<Button icon=\"ellipsis\" size=\"small\" onTap={onToggleExtended} className={css.swatch} />\n\t\t\t\t\t\t<div className={css.sliders}>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Hue')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[0]} min={0} max={360} onChange={onHueChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[0] + ''}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Saturation')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[1]} min={0} max={100} onChange={onSaturationChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[1] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t<Cell>\n\t\t\t\t\t\t\t\t\t<label>{$L('Lightness')}</label>\n\t\t\t\t\t\t\t\t\t<Slider value={sliderValues.hsl[2]} min={0} max={100} onChange={onLightnessChanged} />\n\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t<Cell component=\"label\" size=\"5ex\">{sliderValues.hsl[2] + '%'}</Cell>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ContainerDiv>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst ColorPickerExtended = hoc((config, Wrapped) => {\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ColorPickerExtended';\n\n\t\tstatic propTypes = {\n\t\t\tdefaultExtended: PropTypes.bool,\n\t\t\tonChange: PropTypes.func,\n\t\t\topen: PropTypes.bool,\n\t\t\tvalue: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.hsl = props.value ? convertToHSL(props.value) : [0, 0, 0];\n\t\t\tthis.state = {\n\t\t\t\textended: props.defaultExtended || false\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\t// TODO: change to using ref/forwardRef/something else?\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.node = ReactDOM.findDOMNode(this);\n\n\t\t\tif (this.props.open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps) {\n\t\t\tconst {open, value} = this.props;\n\t\t\tif (prevProps.value !== value) {\n\t\t\t\tthis.hsl = convertToHSL(value);\n\t\t\t}\n\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\toff('click', this.handleClick);\n\t\t}\n\n\t\tbuildValue = ({h = this.hsl[0], s = this.hsl[1], l = this.hsl[2]} = {}) => (\n\t\t\t'#' + convert.hsl.hex(h, s, l)\n\t\t);\n\n\t\tclickedOutsidePalette = ({target}) => !this.node.contains(target);\n\n\t\t// This handler is meant to accommodate using `ColorPicker`'s `onChange` prop from\n\t\t// `Changeable` as the `onSelect` handler for its `Group` component that lists the set of\n\t\t// pre-defined color choices.  `onSelect` sends the chosen value in the `data` prop of its\n\t\t// event but `Changeable` expects `value`.  The slider handlers for hue, saturation, and\n\t\t// light values in `ColorPickerExtended` use this handler to update the `value` prop via\n\t\t// `onChange` as well.\n\t\thandleChange = handle(\n\t\t\tadaptEvent(\n\t\t\t\t({data: value}) => ({value}),\n\t\t\t\tforward('onChange')\n\t\t\t)\n\t\t).bindAs(this, 'handleChange');\n\n\t\t// If a click happened outside the component area (and children of us) dismiss the palette by forwarding the onClick from Toggleable.\n\t\thandleClick = handle(\n\t\t\tthis.clickedOutsidePalette,\n\t\t\tforward('onClick')\n\t\t).bindAs(this, 'handleClick');\n\n\t\thandleToggleExtended = () => {\n\t\t\tthis.setState(({extended}) => ({extended: !extended}));\n\t\t};\n\n\t\thandleSlider = (type) => ({value: sliderValue}) => {\n\t\t\tthis.hsl[('hsl'.indexOf(type))] = sliderValue;\n\t\t\tconst value = this.buildValue();\n\t\t\tthis.handleChange({data: value});\n\t\t};\n\n\t\trender () {\n\t\t\tconst {...rest} = this.props;\n\t\t\tdelete rest.defaultExtended;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\t{...rest}\n\t\t\t\t\textended={this.state.extended}\n\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\tonToggleExtended={this.handleToggleExtended}\n\t\t\t\t\tonHueChanged={this.handleSlider('h')}\n\t\t\t\t\tonSaturationChanged={this.handleSlider('s')}\n\t\t\t\t\tonLightnessChanged={this.handleSlider('l')}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Applies Agate specific behaviors to [ColorPickerBase]{@link agate/ColorPicker.ColorPickerBase}.\n *\n * @hoc\n * @memberof agate/ColorPicker\n * @mixes ui/Toggleable.Toggleable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ColorPickerDecorator = compose(\n\tPure,\n\tChangeable,\n\tToggleable({toggle: null, prop: 'open', toggleProp: 'onClick'}),\n\tColorPickerExtended,\n\tSkinnable\n);\n\n/**\n * A color picker component, ready to use in Agate applications.\n *\n * @class ColorPicker\n * @memberof agate/ColorPicker\n * @extends agate/ColorPicker.ColorPickerBase\n * @mixes agate/ColorPicker.ColorPickerDecorator\n * @ui\n * @public\n */\nconst ColorPicker = ColorPickerDecorator(ColorPickerBase);\n\nexport default ColorPicker;\nexport {\n\tColorPicker,\n\tColorPickerBase,\n\tColorPickerDecorator\n};\n","import kind from '@enact/core/kind';\nimport Button from '../Button';\nimport onlyUpdateForKeys from 'recompose/onlyUpdateForKeys';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport componentCss from './IncrementSliderButton.module.less';\n\n/**\n * A [Button]{@link agate/Button.Button} customized for\n * [IncrementSlider]{@link agate/IncrementSlider.IncrementSlider}. It is optimized to only\n * update when `disabled` is changed to minimize unnecessary render cycles.\n *\n * @class IncrementSliderButton\n * @memberof agate/IncrementSlider\n * @ui\n * @private\n */\n\nconst IncrementSliderButtonBase = kind({\n\tname: 'IncrementSliderButton',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderButton.prototype */ {\n\t\tcss: PropTypes.object,\n\t\tonTap: PropTypes.func,\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\t\trole: PropTypes.string\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSliderButton'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, role, styler}) => styler.append(orientation, role)\n\t},\n\n\trender: ({css, onTap, ...rest}) => {\n\t\tdelete rest.orientation;\n\t\tdelete rest.role;\n\t\treturn (\n\t\t\t<Button\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\tonTap={onTap}\n\t\t\t\tonHold={onTap}\n\t\t\t\tonHoldPulse={onTap}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nconst OnlyUpdate = onlyUpdateForKeys(['children', 'disabled', 'icon', 'spotlightDisabled', 'aria-label']);\nconst IncrementSliderButton = OnlyUpdate(IncrementSliderButtonBase);\n\nexport default IncrementSliderButton;\nexport {\n\tIncrementSliderButton,\n\tIncrementSliderButtonBase\n};\n","/**\n * An interactive numeric range picker with increment decrement\n *\n * @example\n * <IncrementSlider\n *   decrementIcon=\"minus\"\n *   defaultValue={-25}\n *   incrementIcon=\"plus\"\n *   knobStep={25}\n *   max={100}\n *   min={-100}\n *   step={5}\n * />\n *\n * @module agate/IncrementSlider\n * @exports IncrementSlider\n * @exports IncrementSliderBase\n * @exports IncrementSliderDecorator\n */\n\nimport {forward} from '@enact/core/handle';\nimport {is} from '@enact/core/keymap';\nimport kind from '@enact/core/kind';\nimport {extractAriaProps} from '@enact/core/util';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Changeable from '@enact/ui/Changeable';\nimport IdProvider from '@enact/ui/internal/IdProvider';\nimport Slottable from '@enact/ui/Slottable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport {SliderBase} from '../Slider';\nimport {emitChange} from '../Slider/utils';\nimport SliderBehaviorDecorator from '../Slider/SliderBehaviorDecorator';\n\nimport IncrementSliderButton from './IncrementSliderButton';\nimport componentCss from './IncrementSlider.module.less';\n\nconst isDown = is('down');\nconst isLeft = is('left');\nconst isRight = is('right');\nconst isUp = is('up');\n\nconst Slider = Spottable(Skinnable(SliderBase));\n\nconst forwardWithType = (type, props) => forward(type, {type}, props);\n\n/**\n * A stateless Slider with IconButtons to increment and decrement the value. In most circumstances,\n * you will want to use the stateful version: {@link agate/IncrementSlider.IncrementSlider}.\n *\n * @class IncrementSliderBase\n * @memberof agate/IncrementSlider\n * @extends agate/Slider.SliderBase\n * @mixes agate/Skinnable.Skinnable\n * @mixes spotlight/Spottable.Spottable\n * @ui\n * @public\n */\nconst IncrementSliderBase = kind({\n\tname: 'IncrementSlider',\n\n\tpropTypes: /** @lends agate/IncrementSlider.IncrementSliderBase.prototype */ {\n\t\t/**\n\t\t * Sets the knob to selected state and allows it to move via 5-way controls.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tactive: PropTypes.bool,\n\n\t\t/**\n\t\t * Prevents read out of both the slider and the increment and decrement\n\t\t * buttons.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-hidden': PropTypes.bool,\n\n\t\t/**\n\t\t * Overrides the `aria-valuetext` for the slider. By default, `aria-valuetext` is set\n\t\t * to the current value. This should only be used when the parent controls the value of\n\t\t * the slider directly through the props.\n\t\t *\n\t\t * @type {String|Number}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\n\t\t/**\n\t\t * Background progress, as a proportion between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * The `data-webos-voice-group-label` for the IconButton of IncrementSlider.\n\t\t *\n\t\t * @type {String}\n\t\t * @memberof agate/IncrementSlider.IncrementSliderBase.prototype\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the decrement button.\n\t\t*\n\t\t* @default 'press button to decrease the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tdecrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the decrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tdecrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the slider and prevents events from firing.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Indicates focused state.\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tfocused: PropTypes.bool,\n\n\t\t/**\n\t\t * The slider id reference for setting aria-controls.\n\t\t *\n\t\t * @type {String}\n\t\t * @private\n\t\t */\n\t\tid: PropTypes.string,\n\n\t\t/**\n\t\t* Sets the hint string read when focusing the increment button.\n\t\t*\n\t\t* @default 'press button to increase the value'\n\t\t* @type {String}\n\t\t* @public\n\t\t*/\n\t\tincrementAriaLabel: PropTypes.string,\n\n\t\t/**\n\t\t * Assign a custom icon for the incrementer. All strings supported by [Icon]{@link agate/Icon.Icon} are\n\t\t * supported. Without a custom icon, the default is used, and is automatically changed when\n\t\t * [vertical]{@link agate/IncrementSlider.IncrementSlider#vertical} is changed.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tincrementIcon: PropTypes.string,\n\n\t\t/**\n\t\t * The amount to increment or decrement the position of the knob via 5-way controls.\n\t\t *\n\t\t * If not specified, `step` is used for the default value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tknobStep: PropTypes.number,\n\n\t\t/**\n\t\t * The maximum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 100\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number,\n\n\t\t/**\n\t\t * The minimum value of the increment slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number,\n\n\t\t/**\n\t\t * Hides the slider bar fill and prevents highlight when spotted.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tnoFill: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the knob is activated or deactivated by selecting it via 5-way.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonActivate: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the value is changed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.value The current value\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * Called run when the decrement button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDecrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragEnd: PropTypes.func,\n\n\t\t/**\n\t\t * Forwarded from SliderBehaviorDecorator onto the internal slider.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonDragStart: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonIncrementSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the increment button becomes disabled.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonSpotlightDirection: PropTypes.func,\n\n\t\t/**\n\t\t * Called when the component is removed while retaining focus.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDisappear: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way down key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightDown: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way left key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightLeft: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way right key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightRight: PropTypes.func,\n\n\t\t/**\n\t\t * Called prior to focus leaving the component when the 5-way up key is pressed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @public\n\t\t */\n\t\tonSpotlightUp: PropTypes.func,\n\n\t\t/**\n\t\t * Sets the orientation of the slider, whether the slider moves left and right or up and\n\t\t * down. Must be either `'horizontal'` or `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the slider is filled.\n\t\t *\n\t\t * Applies to both the slider's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the slider to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the slider.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number,\n\n\t\t/**\n\t\t * Disables spotlight navigation into the component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tspotlightDisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The amount to increment or decrement the value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number,\n\n\t\t/**\n\t\t * The value of the increment slider.\n\t\t *\n\t\t * Defaults to the value of `min`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\tdecrementIcon: 'minus',\n\t\tincrementIcon: 'plus',\n\t\tmax: 100,\n\t\tmin: 0,\n\t\tnoFill: false,\n\t\torientation: 'horizontal',\n\t\tprogressAnchor: 0,\n\t\tspotlightDisabled: false,\n\t\tstep: 1\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'incrementSlider',\n\t\tpublicClassNames: ['incrementSlider']\n\t},\n\n\thandlers: {\n\t\tonDecrement: emitChange(-1),\n\t\tonIncrement: emitChange(1),\n\t\tonKeyDown: (ev, props) => {\n\t\t\tconst {orientation} = props;\n\n\t\t\tforward('onKeyDown', ev, props);\n\n\t\t\t// if the source of the event is the slider, forward it along\n\t\t\tif (ev.target.classList.contains(componentCss.slider)) {\n\t\t\t\tforward('onSpotlightDirection', ev, props);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst isIncrement = ev.target.classList.contains(componentCss.incrementButton);\n\t\t\tconst isDecrement = ev.target.classList.contains(componentCss.decrementButton);\n\n\t\t\tif (isRight(ev.keyCode) && (isIncrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightRight', props);\n\t\t\t} else if (isLeft(ev.keyCode) && (isDecrement || orientation === 'vertical')) {\n\t\t\t\tforwardWithType('onSpotlightLeft', props);\n\t\t\t} else if (isUp(ev.keyCode) && (isIncrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightUp', props);\n\t\t\t} else if (isDown(ev.keyCode) && (isDecrement || orientation === 'horizontal')) {\n\t\t\t\tforwardWithType('onSpotlightDown', props);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, styler}) => styler.append(orientation),\n\t\tdecrementDisabled: ({disabled, min, value = min}) => disabled || value <= min,\n\t\tincrementDisabled: ({disabled, max, min, value = min}) => disabled || value >= max,\n\t\tdecrementAriaLabel: ({'aria-valuetext': valueText, decrementAriaLabel, min, value = min}) => {\n\t\t\tif (decrementAriaLabel == null) {\n\t\t\t\tdecrementAriaLabel = $L('press button to decrease the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${decrementAriaLabel}`;\n\t\t},\n\t\tincrementAriaLabel: ({'aria-valuetext': valueText, incrementAriaLabel, min, value = min}) => {\n\t\t\tif (incrementAriaLabel == null) {\n\t\t\t\tincrementAriaLabel = $L('press button to increase the value');\n\t\t\t}\n\n\t\t\treturn `${valueText != null ? valueText : value} ${incrementAriaLabel}`;\n\t\t}\n\t},\n\n\trender: ({active,\n\t\t'aria-hidden': ariaHidden,\n\t\t'data-webos-voice-group-label': voiceGroupLabel,\n\t\tbackgroundProgress,\n\t\tcss,\n\t\tdecrementAriaLabel,\n\t\tdecrementDisabled,\n\t\tdecrementIcon,\n\t\tdisabled,\n\t\tfocused,\n\t\tid,\n\t\tincrementAriaLabel,\n\t\tincrementDisabled,\n\t\tincrementIcon,\n\t\tknobStep,\n\t\tmax,\n\t\tmin,\n\t\tnoFill,\n\t\tonActivate,\n\t\tonChange,\n\t\tonDecrement,\n\t\tonDecrementSpotlightDisappear,\n\t\tonDragEnd,\n\t\tonDragStart,\n\t\tonIncrement,\n\t\tonIncrementSpotlightDisappear,\n\t\tonSpotlightDisappear,\n\t\torientation,\n\t\tprogressAnchor,\n\t\tspotlightDisabled,\n\t\tstep,\n\t\tvalue,\n\t\t...rest\n\t}) => {\n\t\tconst ariaProps = extractAriaProps(rest);\n\t\tdelete rest.onSpotlightDirection;\n\t\tdelete rest.onSpotlightDown;\n\t\tdelete rest.onSpotlightLeft;\n\t\tdelete rest.onSpotlightRight;\n\t\tdelete rest.onSpotlightUp;\n\n\t\treturn (\n\t\t\t<div aria-hidden={ariaHidden} {...rest}>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!incrementDisabled ? id : null}\n\t\t\t\t\taria-label={decrementAriaLabel}\n\t\t\t\t\tclassName={css.decrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={decrementDisabled}\n\t\t\t\t\ticon={decrementIcon}\n\t\t\t\t\tonTap={onDecrement}\n\t\t\t\t\tonSpotlightDisappear={onDecrementSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t\t<Slider\n\t\t\t\t\t{...ariaProps}\n\t\t\t\t\tactive={active}\n\t\t\t\t\tbackgroundProgress={backgroundProgress}\n\t\t\t\t\tcss={css}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tfocused={focused}\n\t\t\t\t\tid={id}\n\t\t\t\t\tknobStep={knobStep}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tmin={min}\n\t\t\t\t\tnoFill={noFill}\n\t\t\t\t\tonActivate={onActivate}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tonDragEnd={onDragEnd}\n\t\t\t\t\tonDragStart={onDragStart}\n\t\t\t\t\tonSpotlightDisappear={onSpotlightDisappear}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t\tprogressAnchor={progressAnchor}\n\t\t\t\t\tstep={step}\n\t\t\t\t\tvalue={value}\n\t\t\t\t/>\n\t\t\t\t<IncrementSliderButton\n\t\t\t\t\taria-controls={!decrementDisabled ? id : null}\n\t\t\t\t\taria-label={incrementAriaLabel}\n\t\t\t\t\tclassName={css.incrementButton}\n\t\t\t\t\tdata-webos-voice-group-label={voiceGroupLabel}\n\t\t\t\t\tdisabled={incrementDisabled}\n\t\t\t\t\ticon={incrementIcon}\n\t\t\t\t\tonSpotlightDisappear={onIncrementSpotlightDisappear}\n\t\t\t\t\tonTap={onIncrement}\n\t\t\t\t\torientation={orientation}\n\t\t\t\t\tspotlightDisabled={spotlightDisabled}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nconst IncrementSliderDecorator = compose(\n\tPure,\n\tChangeable,\n\tIdProvider({generateProp: null, prefix: 's_'}),\n\tSliderBehaviorDecorator({emitSpotlightEvents: 'onSpotlightDirection'}),\n\tSkinnable,\n\tSlottable({slots: ['knob']})\n);\n\n/**\n * An IncrementSlider with Agate styling and SliderDecorator applied with IconButtons to\n * increment and decrement the value.\n *\n * By default, `IncrementSlider` maintains the state of its `value` property. Supply the\n * `defaultValue` property to control its initial value. If you wish to directly control updates\n * to the component, supply a value to `value` at creation time and update it in response to\n * `onChange` events.\n *\n * @class IncrementSlider\n * @memberof agate/IncrementSlider\n * @extends agate/IncrementSlider.IncrementSliderBase\n * @ui\n * @public\n */\nconst IncrementSlider = IncrementSliderDecorator(IncrementSliderBase);\n\nexport default IncrementSlider;\nexport {\n\tIncrementSlider,\n\tIncrementSliderBase,\n\tIncrementSliderDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__R2SB0\",\"cell\":\"Layout_cell__2wmzr\",\"grow\":\"Layout_grow__3dlNj\",\"shrink\":\"Layout_shrink__3RcNd\",\"horizontal\":\"Layout_horizontal__14doC\",\"vertical\":\"Layout_vertical__tG-RZ\",\"inline\":\"Layout_inline__1kjz8\",\"wrap\":\"Layout_wrap__1CJ7Z\",\"nowrap\":\"Layout_nowrap__1oTjq\",\"wrapReverse\":\"Layout_wrapReverse__35MZo\"};","let baseScreen,\n\torientation,\n\triRatio,\n\tscreenType,\n\tworkspaceBounds = {\n\t\twidth: (typeof window === 'object') ? window.innerWidth : 1920,\n\t\theight: (typeof window === 'object') ? window.innerHeight : 1080\n\t},\n\tscreenTypes = [{\n\t\tname: 'standard',\n\t\tpxPerRem: 16,\n\t\twidth: workspaceBounds.width,\n\t\theight: workspaceBounds.height,\n\t\taspectRatioName: 'standard',\n\t\tbase: true\n\t}],\t// Assign one sane type in case defineScreenTypes is never run.\n\tscreenTypeObject,\n\tconfig;\n\n/**\n * Object that stores all of the pixel conversion factors to each keyed unit.\n *\n * @type {Object}\n * @memberof ui/resolution\n * @public\n */\nconst unitToPixelFactors = {\n\t'rem': 12,\n\t'in': 96\n};\n\nconst configDefaults = {\n\torientationHandling: 'normal'\n};\n\n/**\n * Update the common measured boundary object.\n *\n * This object is used as \"what size screen are we looking at\". Providing no arguments has no\n * effect and updates nothing.\n *\n * @function\n * @memberOf ui/resolution\n * @param {Node}    measurementNode    A standard DOM node or the `window` node.\n *\n * @returns {undefined}\n * @private\n */\nconst updateWorkspaceBounds = (measurementNode) => {\n\tif (measurementNode && (measurementNode.clientHeight || measurementNode.clientWidth)) {\n\t\tworkspaceBounds = {height: measurementNode.clientHeight, width: measurementNode.clientWidth};\n\t} else if (measurementNode && (measurementNode.innerHeight || measurementNode.innerWidth)) {\n\t\t// A backup for if measurementNode is actually `window` and not a normal node\n\t\tworkspaceBounds = {height: measurementNode.innerHeight, width: measurementNode.innerWidth};\n\t}\n};\n\n/**\n * Fetch the screenType object\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    The key string for the screen type object. If falsy, the current\n *                             screenType is used\n *\n * @returns {Object}           screenTypeObject\n * @private\n */\nfunction getScreenTypeObject (type) {\n\ttype = type || screenType;\n\tif (screenTypeObject && screenTypeObject.name === type) {\n\t\treturn screenTypeObject;\n\t}\n\treturn screenTypes.filter(function (elem) {\n\t\treturn (type === elem.name);\n\t})[0];\n}\n\n/**\n * Sets up screen resolution scaling capabilities by defining an array of all the screens\n * being used.\n *\n * These should be listed in order from smallest to largest, according to\n * width.\n *\n * The `name`, `pxPerRem`, `width`, and `aspectRatioName` properties are required for\n * each screen type in the array. Setting `base: true` on a screen type marks it as the\n * default resolution, upon which everything else will be based.\n *\n * Executing this method also initializes the rest of the resolution-independence code.\n *\n * Example:\n * ```\n * import ri from 'enact/ui/resolution';\n *\n * ri.defineScreenTypes([\n * \t{name: 'vga',     pxPerRem: 8,  width: 640,  height: 480,  aspectRatioName: 'standard'},\n * \t{name: 'xga',     pxPerRem: 16, width: 1024, height: 768,  aspectRatioName: 'standard'},\n * \t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n * \t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n * \t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n * \t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n * ]);\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {Object[]}    types    An array of objects containing screen configuration data, as in the\n *                            preceding example.\n * @returns {undefined}\n * @public\n */\nfunction defineScreenTypes (types) {\n\tif (types) screenTypes = types;\n\tfor (let i = 0; i < screenTypes.length; i++) {\n\t\tif (screenTypes[i]['base']) baseScreen = screenTypes[i];\n\t}\n\tinit();\n}\n\n/**\n * Fetches the name of the screen type that best matches the current screen size.\n *\n * The best match is defined as the screen type that is the closest to the screen resolution without\n * going over. (\"The Price is Right\" style.)\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    rez    Optional measurement scheme. Must include `height` and `width` properties.\n * @returns {String}         Screen type (e.g., `'fhd'`, `'uhd'`, etc.)\n * @public\n */\nfunction getScreenType (rez) {\n\trez = rez || workspaceBounds;\n\n\tconst types = screenTypes;\n\tlet bestMatch = types[types.length - 1].name; // Blindly set the first screen type, in case no matches are found later.\n\n\torientation = 'landscape';\n\n\tif (rez.height > rez.width) {\n\t\torientation = 'portrait';\n\t\tconst swap = rez.width;\n\t\trez.width = rez.height;\n\t\trez.height = swap;\n\t}\n\n\t// Loop through resolutions, last->first, largest->smallest\n\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t// Does the current resolution fit inside this screenType definition? If so, save it as the current best match.\n\t\tif (rez.height <= types[i].height && rez.width <= types[i].width) {\n\t\t\tbestMatch = types[i].name;\n\t\t}\n\t}\n\t// Return the name of the closest fitting set of dimensions.\n\treturn bestMatch;\n}\n\n/**\n * Calculate the base rem font size.\n *\n * This is how the magic happens. This accepts an optional `screenType` name. If one isn't provided,\n * the currently detected screen type is used. This uses the config option `orientationHandling`,\n * which when set to \"scale\" and the screen is in portrait orientation, will dynamically calculate\n * what the base font size should be, if the width were proportionally scaled down to fit in the portrait space.\n *\n * To use, put the following in your application code:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * ri.config.orientationHandling = 'scale';\n * ri.init();\n * ```\n *\n * This has no effect if the screen is in landscape, or if `orientationHandling` is unset.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type to base size the calculation on. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The calculated pixel size (with unit suffix. Ex: \"24px\").\n * @public\n */\nfunction calculateFontSize (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tlet size;\n\n\tif (orientation === 'portrait' && config.orientationHandling === 'scale') {\n\t\tsize = scrObj.height / scrObj.width * scrObj.pxPerRem;\n\t} else {\n\t\tsize = scrObj.pxPerRem;\n\t}\n\treturn size + 'px';\n}\n\n/**\n * @function\n * @memberof ui/resolution\n * @param {String}    size     A valid CSS measurement to be applied as the base document font size.\n * @private\n * @returns {undefined}\n */\nfunction updateBaseFontSize (size) {\n\tif (typeof window === 'object') {\n\t\tdocument.documentElement.style.fontSize = size;\n\t}\n}\n\n/**\n * Returns the CSS classes for the given `type`.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n * @returns {String}          CSS class names\n * @public\n */\nfunction getResolutionClasses (type = screenType) {\n\tconst classes = [];\n\tif (orientation) {\n\t\tclasses.push('enact-orientation-' + orientation);\n\t}\n\tif (type) {\n\t\tclasses.push('enact-res-' + type.toLowerCase());\n\t\tconst scrObj = getScreenTypeObject(type);\n\t\tif (scrObj.aspectRatioName) {\n\t\t\tclasses.push('enact-aspect-ratio-' + scrObj.aspectRatioName.toLowerCase());\n\t\t}\n\t}\n\treturn classes.join(' ');\n}\n\n/**\n * Returns the ratio of pixels per rem for the given `type` to the pixels per rem for the base type.\n *\n * @function\n * @memberof ui/resolution\n * @param  {String}    type    Screen type\n *\n * @returns {Number}           ratio\n */\nfunction getRiRatio (type = screenType) {\n\tif (type && baseScreen) {\n\t\tconst ratio = getUnitToPixelFactors(type) / getUnitToPixelFactors(baseScreen.name);\n\t\tif (type === screenType) {\n\t\t\t// cache this if it's for our current screen type.\n\t\t\triRatio = ratio;\n\t\t}\n\t\treturn ratio;\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the pixels per rem for the given `type`.\n *\n * @memberof ui/resolution\n * @param {String}    type    Screen type\n *\n * @returns {Number}          pixels per rem\n */\nfunction getUnitToPixelFactors (type = screenType) {\n\tif (type) {\n\t\treturn getScreenTypeObject(type).pxPerRem;\n\t}\n\treturn 1;\n}\n\n/**\n * Calculates the aspect ratio of the specified screen type.\n *\n * If no screen type is provided, the current screen type is used.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio will be calculated. If no screen\n *                            type is provided, the current screen type is used.\n * @returns {Number}          The calculated screen ratio (e.g., `1.333`, `1.777`, `2.333`, etc.)\n * @public\n */\nfunction getAspectRatio (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\tif (scrObj.width && scrObj.height) {\n\t\treturn (scrObj.width / scrObj.height);\n\t}\n\treturn 1;\n}\n\n/**\n * Returns the name of the aspect ratio for a specified screen type, or for the default\n * screen type if none is provided.\n *\n * @function\n * @memberof ui/resolution\n * @param {String}    type    Screen type whose aspect ratio name will be returned. If no\n *                            screen type is provided, the current screen type will be used.\n * @returns {String}          The name of the screen type's aspect ratio\n * @public\n */\nfunction getAspectRatioName (type) {\n\tconst scrObj = getScreenTypeObject(type);\n\treturn scrObj.aspectRatioName || 'standard';\n}\n\n/**\n * Takes a provided pixel value and performs a scaling operation based on the current\n * screen type.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    px    The quantity of standard-resolution pixels to scale to the\n *                          current screen resolution.\n * @returns {Number}        The scaled value based on the current screen scaling factor\n * @public\n */\nfunction scale (px) {\n\treturn (riRatio || getRiRatio()) * px;\n}\n\n/**\n * Convert to various unit formats.\n *\n * Useful for converting pixels to a resolution-independent\n * measurement method, like \"rem\". Other units are available if defined in the\n * {@link ui/resolution.unitToPixelFactors} object.\n *\n * Example:\n * ```\n * import ri from '@enact/ui/resolution';\n *\n * // Do calculations and get back the desired CSS unit.\n * var frameWidth = 250,\n *     frameWithMarginInches = ri.unit( 10 + frameWidth + 10, 'in' ), // '2.8125in' == frameWithMarginInches\n *     frameWithMarginRems = ri.unit( 10 + frameWidth + 10, 'rem' ); // '22.5rem' == frameWithMarginRems\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|Number}     pixels    The pixels or math to convert to the unit (\"px\" suffix in String\n *                                       format is permitted. ex: `'20px'`)\n * @param {String}            toUnit    The name of the unit to convert to.\n *\n * @returns {String|undefined}          Resulting conversion in CSS safe format, in case of malformed input, `undefined`\n * @public\n */\nfunction unit (pixels, toUnit) {\n\tif (!toUnit || !unitToPixelFactors[toUnit]) return;\n\tif (typeof pixels === 'string' && pixels.substr(-2) === 'px') pixels = parseInt(pixels.substr(0, pixels.length - 2));\n\tif (typeof pixels !== 'number') return;\n\n\treturn (pixels / unitToPixelFactors[toUnit]) + '' + toUnit;\n}\n\n/**\n * Shorthand for when you know you need to scale some pixel value and have it converted to \"rem\" for\n * proper scaling.\n *\n * This runs {@link ui/resolution.scale} and {@link ui/resolution.unit} together.\n *\n * @function\n * @memberof ui/resolution\n * @param {Number}    pixels    The quantity of standard-resolution pixels to scale to rems\n *\n * @returns {String|undefined}  Resulting conversion or, in case of malformed input, `undefined`\n * @public\n */\nconst scaleToRem = (pixels) => unit(scale(pixels), 'rem');\n\n/**\n * The default configurable options for {@link ui/resolution.selectSrc}. Additional resolutions\n * may be added.\n *\n * @typedef {Object} selectSrcOptions\n * @memberof ui/resolution\n * @property {String}    [hd]    HD / 720p Resolution image asset source URI/URL\n * @property {String}    [fhd]   FHD / 1080p Resolution image asset source URI/URL\n * @property {String}    [uhd]   UHD / 4K Resolution image asset source URI/URL\n */\n\n/**\n * Selects the ideal image asset from a set of assets, based on various screen\n * resolutions: HD (720p), FHD (1080p), UHD (4k).\n *\n * When a `src` argument is provided, `selectSrc()` will choose the best image with\n * respect to the current screen resolution. `src` may be either the traditional\n * string, which will pass straight through, or a hash/object of screen types and\n * their asset sources (keys:screen and values:src). The image sources will be used\n * when the screen resolution is less than or equal to the provided screen types.\n *\n * Example:\n * ```\n * // Take advantage of the multi-res mode\n * import {Image} from '@enact/ui/Image';\n *\n * const src = {\n *     'hd': 'http://lorempixel.com/64/64/city/1/',\n *     'fhd': 'http://lorempixel.com/128/128/city/1/',\n *     'uhd': 'http://lorempixel.com/256/256/city/1/'\n * };\n * ...\n * <Image src={src} ... />\n * ...\n * ```\n *\n * @function\n * @memberof ui/resolution\n * @param {String|ui/resolution.selectSrcSrcOptions} src       A string containing a single image\n *                                                             source or a key/value hash/object\n *                                                             containing keys representing screen\n *                                                             types (`'hd'`, `'fhd'`, `'uhd'`,\n *                                                             etc.) and values containing the asset\n *                                                             source for that target screen\n *                                                             resolution.\n *\n * @returns {String}                                           The chosen source, given the string\n *                                                             or hash provided\n * @public\n */\nfunction selectSrc (src) {\n\tif (typeof src != 'string' && src) {\n\t\tlet newSrc = src.fhd || src.uhd || src.hd;\n\t\tconst types = screenTypes;\n\n\t\t// loop through resolutions\n\t\tfor (let i = types.length - 1; i >= 0; i--) {\n\t\t\tlet t = types[i].name;\n\t\t\tif (screenType === t && src[t]) newSrc = src[t];\n\t\t}\n\t\tsrc = newSrc;\n\t}\n\treturn src;\n}\n\n/**\n * This will need to be re-run any time the screen size changes, so all the values can be re-cached.\n *\n * @function\n * @memberof ui/resolution\n * @param {Object}    args    A hash of options. The key `measurementNode` is used to as the node,\n *                            typically the root element, to measure and use as the dimensions for\n *                            the `screenType`.\n *\n * @returns {undefined}\n * @public\n */\nfunction init (args = {}) {\n\tconst {measurementNode} = args;\n\tupdateWorkspaceBounds(measurementNode);\n\tscreenType = getScreenType();\n\tscreenTypeObject = getScreenTypeObject();\n\tunitToPixelFactors.rem = getUnitToPixelFactors();\n\triRatio = getRiRatio();\n\tupdateBaseFontSize(calculateFontSize());\n}\n\n/**\n * The current configuration\n *\n * @type {Object}\n * @memberof ui/resolution\n * @private\n */\nconfig = Object.assign({}, configDefaults);\n\nexport {\n\tcalculateFontSize,\n\tconfig,\n\tdefineScreenTypes,\n\tgetAspectRatio,\n\tgetAspectRatioName,\n\tgetResolutionClasses,\n\tgetScreenTypeObject,\n\tgetScreenType,\n\tinit,\n\tscale,\n\tscaleToRem,\n\tselectSrc,\n\tunit,\n\tunitToPixelFactors\n};\n","/*\n * Exports the {@link ui/resolution.ResolutionDecorator} higher-order component (HOC).\n *\n * not jsdoc module on purpose\n */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport hoc from '@enact/core/hoc';\n\nimport {init, defineScreenTypes, getResolutionClasses} from './resolution';\n\n/**\n * Default config for `ResolutionDecorator`.\n *\n * @memberof ui/resolution.ResolutionDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Attaches an event listener to the window to listen for resize events.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tdynamic: true,\n\n\t/**\n\t * An array of objects containing declarations for screen types to add to the list of known\n\t * screen types.\n\t *\n\t * @type {Object[]}\n\t * @default null\n\t * @public\n\t * @memberof ui/resolution.ResolutionDecorator.defaultConfig\n\t */\n\tscreenTypes: null\n};\n\n/**\n * A higher-order component that configures resolution support for its wrapped component tree.\n *\n * Configuration options:\n *\t* `dynamic: true` - when `true`, updates the resolution classes when the window resizes\n *\t* `screenTypes: null` - defines a set of screen types to support\n *\n * Example:\n * ```\n *\t// Will have the resolution classes and will be updated when the window resizes\n *\tconst AppWithResolution = ResolutionDecorator(App);\n *\t// Will have the resolution classes for the screen at the time of render only\n *\tconst AppWithStaticResolution = ResolutionDecorator({dynamic: false}, App);\n *\tconst AppWithScreenTypes = ResolutionDecorator({screenTypes: [\n *\t\t{name: 'hd', pxPerRem: 16, width: 1280, height: 720, aspectRatioName: 'hdtv', base: true}\n *\t]}, App);\n * ```\n * @class ResolutionDecorator\n * @memberof ui/resolution\n * @hoc\n * @public\n */\nconst ResolutionDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tif (config.screenTypes) {\n\t\tdefineScreenTypes(config.screenTypes);\n\t}\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResolutionDecorator';\n\n\t\tstatic propTypes = /** @lends ui/resolution.ResolutionDecorator.prototype */ {\n\t\t\tclassName: PropTypes.string\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tinit({measurementNode: (typeof window !== 'undefined' && window)});\n\t\t\tthis.state = {\n\t\t\t\tresolutionClasses: ''\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (config.dynamic) window.addEventListener('resize', this.handleResize);\n\t\t\t// eslint-disable-next-line react/no-find-dom-node\n\t\t\tthis.rootNode = ReactDOM.findDOMNode(this);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (config.dynamic) window.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tconst classNames = this.didClassesChange();\n\n\t\t\tif (classNames) {\n\t\t\t\tthis.setState({resolutionClasses: classNames});\n\t\t\t}\n\t\t};\n\n\t\t/*\n\t\t * Compare our current version of the resolved resolution class names with a fresh\n\t\t * initialization of RI.\n\t\t *\n\t\t * @returns {String|undefined} A string of new class names or undefined when there is no change.\n\t\t * @private\n\t\t */\n\t\tdidClassesChange () {\n\t\t\tconst prevClassNames = getResolutionClasses();\n\t\t\tinit({measurementNode: this.rootNode});\n\t\t\tconst classNames = getResolutionClasses();\n\t\t\tif (prevClassNames !== classNames) {\n\t\t\t\treturn classNames;\n\t\t\t}\n\t\t}\n\n\t\trender () {\n\t\t\t// Check if the classes are different from our previous classes\n\t\t\tlet classes = getResolutionClasses();\n\n\t\t\tif (this.props.className) classes += (classes ? ' ' : '') + this.props.className;\n\t\t\treturn <Wrapped {...this.props} className={classes} />;\n\t\t}\n\t};\n});\n\nexport default ResolutionDecorator;\nexport {ResolutionDecorator};\n","/**\n * Exports a number of useful methods for resolution independence.\n *\n * The default export is an object containing the resolution independence methods.\n *\n * @module ui/resolution\n * @exports ResolutionDecorator\n */\n\nimport * as ri from './resolution';\nimport ResolutionDecorator from './ResolutionDecorator';\n\nexport default ri;\nexport * from './resolution';\nexport {ResolutionDecorator};\n","/**\n * A utility component that either clones or creates a component instance based on the\n * incoming `component` prop value.\n *\n * This allows you to supply JSX as the component used in your prop\n * allowing you to add your own properties. They'll get mixed onto the component when it's used in\n * the parent component.\n *\n * @module ui/ComponentOverride\n * @exports ComponentOverride\n */\n\nimport React from 'react';\n\n/**\n * Utility to either create or clone a component instance with the given set of props.\n *\n * `ComponentOverride` can be used to support props that either accept a type, (e.g. `Button`) or an\n * element (e.g. `<Button customProp=\"value\" />`) and return a new element which includes the\n * remaining props specified.\n *\n * Example:\n * ```\n * const LabeledIconButton = ({iconComponent, label, ...rest}) => {\n *   return (\n *     <div {...rest}>\n *       <ComponentOverride\n *         component={iconComponent}\n *         icon=\"house\"\n *       />\n *       <span>{label}</span>\n *     </div>\n *   );\n * };\n *\n * // Usage\n *\n * // Only the props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={CustomIcon}\n * />\n *\n * // The color prop along with props defined by LabeledIconButton will be passed to CustomIcon\n * <LabeledIconButton\n *   label=\"Home\"\n *   iconComponent={\n *     <CustomIcon color=\"green\" />\n *   }\n * />\n * ```\n *\n * @class\n * @memberof ui/ComponentOverride\n * @ui\n * @public\n */\nconst ComponentOverride = ({component: Component, ...props}) => {\n\treturn Component && (\n\t\t(typeof Component === 'function' || typeof Component === 'string') && (\n\t\t\t<Component {...props} />\n\t\t) || React.isValidElement(Component) && (\n\t\t\tReact.cloneElement(Component, props)\n\t\t)\n\t) || null;\n};\n\nexport default ComponentOverride;\nexport {\n\tComponentOverride\n};\n","/**\n * Agate styled toggle icon.\n *\n * @example\n * <ToggleIcon selected>check</ToggleIcon>\n *\n * @module agate/ToggleIcon\n * @exports ToggleIcon\n * @exports ToggleIconBase\n * @exports ToggleIconDecorator\n * @private\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport compose from 'ramda/src/compose';\n\nimport Pure from '@enact/ui/internal/Pure';\nimport UiToggleIcon from '@enact/ui/ToggleIcon';\n\nimport Icon from '../../Icon/Icon';\nimport Skinnable from '../../Skinnable/Skinnable';\n\n/**\n * A component that indicates a boolean state.\n *\n * @class ToggleIconBase\n * @memberof agate/ToggleIcon\n * @extends ui/ToggleIcon.ToggleIcon\n * @ui\n * @private\n */\nconst ToggleIconBase = kind({\n\tname: 'ToggleIcon',\n\n\trender: (props) => {\n\t\treturn (\n\t\t\t<UiToggleIcon {...props} iconComponent={Icon} />\n\t\t);\n\t}\n});\n\n/**\n * Agate-specific behaviors to apply to `ToggleIconBase`.\n *\n * @hoc\n * @memberof agate/ToggleIcon\n * @mixes agate/Skinnable.Skinnable\n * @private\n */\nconst ToggleIconDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A customizable Agate starting point [Icon]{@link agate/Icon.Icon} that responds to the\n * `selected` prop.\n *\n * @class ToggleIcon\n * @memberof agate/ToggleIcon\n * @extends agate/ToggleIcon.ToggleIconBase\n * @mixes agate/ToggleIcon.ToggleIconDecorator\n * @private\n */\nconst ToggleIcon = ToggleIconDecorator(ToggleIconBase);\n\nexport default ToggleIcon;\nexport {\n\tToggleIcon,\n\tToggleIconBase,\n\tToggleIconDecorator\n};\n","import {forward} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Pause from '@enact/spotlight/Pause';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\n\nimport {forwardSpotlightEvents} from './utils';\n\nconst useHintOnActive = ({active}) => {\n\treturn {\n\t\tuseHintText: active\n\t};\n};\n\nconst toggleActive = ({active}) => {\n\treturn {\n\t\tactive: !active\n\t};\n};\n\nconst defaultConfig = {\n\t// FIXME: This is a compromise to maintain a single decorator for Slider and IncrementSlider\n\t// that handles both a consolidated focus state and spotlight directional event mgmt. When this\n\t// is unset (for Slider), this decorator will listen to onKeyDown and fire spotlight events.\n\t// When set (for IncrementSlider), it specifies the event that is passed down to trigger\n\t// spotlight events and also doesn't remove the spotlight directional callbacks from the props\n\t// so the Wrapped component can fire them manually or use the callback for the default behavior.\n\temitSpotlightEvents: null\n};\n\n// Adds agate-specific slider behaviors\n// * aria-valuetext handling\n//   * use aria-valuetext when set\n//   * defaults to current value\n//   * onActivate, set to hint text\n//   * on value change, reset to value or aria-valuetext\n// * Spotlight\n//   * Pause Spotlight when dragging to prevent spotlight from leaving when pointer enters another\n//     component\n//   * Forward directional spotlight events from slider\n// * Managing focused state to show/hide tooltip\nconst SliderBehaviorDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {emitSpotlightEvents} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'SliderBehaviorDecorator';\n\n\t\tstatic propTypes = {\n\t\t\t'aria-valuetext': PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\t\t\tmax: PropTypes.number,\n\t\t\tmin: PropTypes.number,\n\t\t\torientation: PropTypes.string,\n\t\t\tvalue: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tmax: 100,\n\t\t\tmin: 0,\n\t\t\torientation: 'horizontal'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.paused = new Pause();\n\t\t\tthis.handleActivate = this.handleActivate.bind(this);\n\t\t\tthis.handleBlur = this.handleBlur.bind(this);\n\t\t\tthis.handleDragEnd = this.handleDragEnd.bind(this);\n\t\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\t\tthis.handleFocus = this.handleFocus.bind(this);\n\t\t\tthis.handleSpotlightEvents = this.handleSpotlightEvents.bind(this);\n\t\t\tthis.bounds = {};\n\n\t\t\tthis.state = {\n\t\t\t\tactive: false,\n\t\t\t\tdragging: false,\n\t\t\t\tfocused: false,\n\t\t\t\tuseHintText: false,\n\t\t\t\tprevValue: props.value\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tif (props.value !== state.prevValue) {\n\t\t\t\treturn {\n\t\t\t\t\tuseHintText: false,\n\t\t\t\t\tprevValue: props.value\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tthis.paused.resume();\n\t\t}\n\n\t\tgetValueText () {\n\t\t\tconst {'aria-valuetext': ariaValueText, min, orientation, value = min} = this.props;\n\t\t\tconst {useHintText} = this.state;\n\n\t\t\tconst verticalHint = $L('change a value with up down button');\n\t\t\tconst horizontalHint = $L('change a value with left right button');\n\n\t\t\tif (useHintText) {\n\t\t\t\treturn orientation === 'horizontal' ? horizontalHint : verticalHint;\n\t\t\t}\n\n\t\t\tif (ariaValueText != null) {\n\t\t\t\treturn ariaValueText;\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\thandleActivate () {\n\t\t\tforward('onActivate', {type: 'onActivate'}, this.props);\n\t\t\tthis.setState(toggleActive);\n\t\t\tthis.setState(useHintOnActive);\n\t\t}\n\n\t\thandleBlur (ev) {\n\t\t\tforward('onBlur', ev, this.props);\n\t\t\tthis.setState({focused: false});\n\t\t}\n\n\t\thandleDragStart () {\n\t\t\tthis.paused.pause();\n\t\t\tthis.setState({dragging: true});\n\t\t}\n\n\t\thandleDragEnd () {\n\t\t\tthis.paused.resume();\n\t\t\tthis.setState({dragging: false});\n\t\t}\n\n\t\thandleFocus (ev) {\n\t\t\tforward('onFocus', ev, this.props);\n\t\t\tthis.setState({focused: true});\n\t\t}\n\n\t\thandleSpotlightEvents (ev) {\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\tforward('onKeyDown', ev, this.props);\n\t\t\t}\n\n\t\t\tforwardSpotlightEvents(ev, this.props);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\n\t\t\tif (!emitSpotlightEvents) {\n\t\t\t\t// Remove spotlight props before hitting spottable since we've handled them uniquely\n\t\t\t\tdelete props.onSpotlightLeft;\n\t\t\t\tdelete props.onSpotlightRight;\n\t\t\t\tdelete props.onSpotlightUp;\n\t\t\t\tdelete props.onSpotlightDown;\n\n\t\t\t\tprops.onKeyDown = this.handleSpotlightEvents;\n\t\t\t} else {\n\t\t\t\tprops[emitSpotlightEvents] = this.handleSpotlightEvents;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Wrapped\n\t\t\t\t\trole=\"slider\"\n\t\t\t\t\t{...props}\n\t\t\t\t\tactive={this.state.active}\n\t\t\t\t\taria-valuetext={this.getValueText()}\n\t\t\t\t\tfocused={this.state.focused || this.state.dragging}\n\t\t\t\t\tonActivate={this.handleActivate}\n\t\t\t\t\tonBlur={this.handleBlur}\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDragEnd={this.handleDragEnd}\n\t\t\t\t\tonFocus={this.handleFocus}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default SliderBehaviorDecorator;\nexport {\n\tSliderBehaviorDecorator\n};\n","/**\n * An unstyled icon component to be customized by a theme or application.\n *\n * @module ui/Icon\n * @exports Icon\n */\n\nimport kind from '@enact/core/kind';\nimport {cap} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport ri from '../resolution';\n\nimport componentCss from './Icon.module.less';\n\n/**\n * Merges consumer styles with the image `src` resolved through the resolution independence module.\n *\n * @function\n * @param\t{Object}\t\tstyle\tStyle object\n * @param\t{String|Object}\tsrc\t\tURI to image or object of URIs\n *\n * @returns\t{Object}\t\t\t\tOriginal style object with backgroundImage updated\n * @private\n */\nconst mergeStyle = function (style, src) {\n\tlet updated = Object.assign({}, style);\n\tlet source = ri.selectSrc(src);\n\tif (src && src !== 'none' && src !== 'inherit' && src !== 'initial') {\n\t\tsource = `url(${source})`;\n\t}\n\n\tupdated.backgroundImage = source;\n\treturn updated;\n};\n\n/**\n * Tests if a string appears to be a URI/URL.\n *\n * @function\n * @param\t{String}\tc\tCharacter to test\n *\n * @returns\t{Boolean}\t\t`true` if c looks like a URL\n * @private\n */\nconst isUri = function (c) {\n\treturn (c.indexOf('/') > -1) || (c.indexOf('.') > -1);\n};\n\n/**\n * A basic icon component structure without any behaviors applied to it.\n *\n * @class Icon\n * @memberof ui/Icon\n * @ui\n * @public\n */\nconst Icon = kind({\n\tname: 'ui:Icon',\n\n\tpropTypes: /** @lends ui/Icon.Icon.prototype */ {\n\t\t/**\n\t\t * The icon content.\n\t\t *\n\t\t * May be specified as either:\n\t\t *\n\t\t * * A string that represents an icon from the [iconList]{@link ui/Icon.Icon.iconList},\n\t\t * * An HTML entity string, Unicode reference or hex value (in the form '0x...'),\n\t\t * * A URL specifying path to an icon image, or\n\t\t * * An object representing a resolution independent resource (See {@link ui/resolution}).\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `icon` - The root component class\n\t\t * * `dingbat` - Applied when the value of [`icon`]{@link ui/Icon.Icon.icon} is not\n\t\t *   found in [iconList]{@link ui/Icon.Icon.iconList}\n\t\t * * `large` - Applied when `size` prop is `'large'`\n\t\t * * `pressed` - Applied when `pressed` prop is `true`\n\t\t * * `small` - Applied when `size` prop is `'small'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Flip the icon horizontally, vertically or both.\n\t\t *\n\t\t * @type {('both'|'horizontal'|'vertical')}\n\t\t * @public\n\t\t */\n\t\tflip: PropTypes.string,\n\n\t\t/**\n\t\t * The full list (hash) of supported icons.\n\t\t *\n\t\t * The keys of this hash are the unique names of each icon. The values are the unicode\n\t\t * characters to insert in the icon. These will typically map to glyphs in your icon-font.\n\t\t * The format of the keys can be character, glyph, or entity reference that correctly\n\t\t * renders in a React + JSX string.\n\t\t *\n\t\t * @type {Object}\n\t\t * @default {}\n\t\t * @public\n\t\t */\n\t\ticonList: PropTypes.object,\n\n\t\t/**\n\t\t * Applies the `pressed` CSS class.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpressed: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the button.\n\t\t *\n\t\t * Applies the CSS class which can be customized by\n\t\t * [theming]{@link /docs/developer-guide/theming/}.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'small'\n\t\t * @public\n\t\t */\n\t\tsize: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\ticonList: {},\n\t\tpressed: false,\n\t\tsize: 'small'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'icon',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({children: icon, flip, iconList, pressed, size, styler}) => {\n\t\t\treturn styler.append(\n\t\t\t\t{\n\t\t\t\t\t// If the icon isn't in our known set, apply our custom font class\n\t\t\t\t\tdingbat: !(icon in iconList),\n\t\t\t\t\tpressed\n\t\t\t\t},\n\t\t\t\tflip ? `flip${cap(flip)}` : null,\n\t\t\t\tsize\n\t\t\t);\n\t\t},\n\t\ticonProps: ({children: iconProp, iconList, style}) => {\n\t\t\tlet icon = iconList[iconProp];\n\n\t\t\tif (!icon) {\n\t\t\t\tif (typeof iconProp == 'string') {\n\t\t\t\t\tif (iconProp.indexOf('&#x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in HTML entity form: &#x99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(3, -1), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('&#') === 0) {\n\t\t\t\t\t\t// Convert an HTML entity: &#99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2, -1));\n\t\t\t\t\t} else if (iconProp.indexOf('\\\\u') === 0) {\n\t\t\t\t\t\t// Convert a unicode reference: \\u99999;\n\t\t\t\t\t\ticon = parseInt(iconProp.slice(2), 16);\n\t\t\t\t\t} else if (iconProp.indexOf('0x') === 0) {\n\t\t\t\t\t\t// Converts a hex reference in string form\n\t\t\t\t\t\ticon = String.fromCodePoint(iconProp);\n\t\t\t\t\t} else if (!isUri(iconProp)) {\n\t\t\t\t\t\t// A \"simple\" string is assumed to be an icon-name string\n\t\t\t\t\t\ticon = iconProp;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// for a path or URI, add it to style\n\t\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof iconProp === 'object') {\n\t\t\t\t\tstyle = mergeStyle(style, iconProp);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof icon == 'number') {\n\t\t\t\t// Converts a hex reference in number form\n\t\t\t\ticon = String.fromCodePoint(icon);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tchildren: icon,\n\t\t\t\tstyle\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({iconProps, ...rest}) => {\n\t\tdelete rest.iconList;\n\t\tdelete rest.pressed;\n\t\tdelete rest.size;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-hidden\n\t\t\t\t{...rest}\n\t\t\t\t{...iconProps}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default Icon;\nexport {\n\tIcon\n};\n","/**\n * Provides agate styled Image component that supports multiple resolution sources.\n *\n * @example\n * <Image src=\"https://dummyimage.com/64/e048e0/0011ff\" style={{height: 64, width: 64}} />\n *\n * @module agate/Image\n * @exports Image\n * @exports ImageBase\n * @exports ImageDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport UiImage from '@enact/ui/Image';\nimport Pure from '@enact/ui/internal/Pure';\nimport {selectSrc} from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Image.module.less';\n\nconst placeholder =\n\t'data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC' +\n\t'9zdmciPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHN0cm9rZT0iIzU1NSIgZmlsbD0iI2FhYSIg' +\n\t'ZmlsbC1vcGFjaXR5PSIwLjIiIHN0cm9rZS1vcGFjaXR5PSIwLjgiIHN0cm9rZS13aWR0aD0iNiIgLz48L3N2Zz' +\n\t'4NCg==';\n\n/**\n * An Agate-styled image component without any behavior\n *\n * @class ImageBase\n * @memberof agate/Image\n * @extends ui/Image.Image\n * @ui\n * @public\n */\nconst ImageBase = kind({\n\tname: 'Image',\n\n\tpropTypes: /** @lends agate/Image.ImageBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `image` - The root component class for Image\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * String value or Object of values used to determine which image will appear on\n\t\t * a specific screenSize.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @public\n\t\t */\n\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t},\n\n\tcomputed: {\n\t\tplaceholder: ({src}) => (!src ? placeholder : null)\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tpublicClassNames: ['image']\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\treturn (\n\t\t\t<UiImage\n\t\t\t\tdraggable=\"false\"\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t/>\n\t\t);\n\t}\n});\n\n\n// This induces a render when there is a screen size change that has a corresponding image src value\n// associated with the new screen size. The render is kicked off by remembering the new image src.\n//\n// This hoc could (should) be rewritten at a later time to use a smarter context API and callbacks,\n// or something like pub/sub; each of which would be hooked together from the resolution.js that\n// would coordinate any screen size/orientation changes and emit events from there.\n//\n// This is ripe for refactoring, and could probably move into UI to be generalized, but that's for\n// another time. -B 2018-05-01\nconst ResponsiveImageDecorator = hoc((config, Wrapped) => {\t// eslint-disable-line no-unused-vars\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ResponsiveImageDecorator';\n\n\t\tstatic propTypes = {\n\t\t\tsrc: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tsrc: selectSrc(this.props.src)\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\twindow.addEventListener('resize', this.handleResize);\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\twindow.removeEventListener('resize', this.handleResize);\n\t\t}\n\n\t\thandleResize = () => {\n\t\t\tthis.setState((state, props) => {\n\t\t\t\tconst src = selectSrc(props.src);\n\t\t\t\t// Trigger a render and save the currently selected src for later comparisons\n\t\t\t\tif (src !== state.src) {\n\t\t\t\t\treturn {src};\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\t\t\t});\n\t\t};\n\n\t\trender () {\n\t\t\treturn <Wrapped {...this.props} />;\n\t\t}\n\t};\n});\n\n/**\n * agate-specific behaviors to apply to [Image]{@link agate/Image.ImageBase}.\n *\n * @hoc\n * @memberof agate/Image\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst ImageDecorator = compose(\n\tPure,\n\tResponsiveImageDecorator,\n\tSkinnable\n);\n\n/**\n * An Agate-styled image component\n *\n * ```\n * <Image\n *   src={{\n *     'hd': 'https://dummyimage.com/64/e048e0/0011ff',\n *     'fhd': 'https://dummyimage.com/128/e048e0/0011ff',\n *     'uhd': 'https://dummyimage.com/256/e048e0/0011ff'\n *   }}\n * >\n * ```\n *\n * @class Image\n * @memberof agate/Image\n * @extends agate/Image.ImageBase\n * @mixes agate/Image.ImageDecorator\n * @ui\n * @public\n */\nconst Image = ImageDecorator(ImageBase);\n\nexport default Image;\nexport {\n\tImage,\n\tImageBase,\n\tImageDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"decorator\":\"Input_decorator__OW4uB\",\"input\":\"Input_input__1X_tf\",\"icon\":\"Input_icon__2XGHZ\",\"iconAfter\":\"Input_iconAfter__36hHf\",\"iconBefore\":\"Input_iconBefore__2WIXY\",\"focused\":\"Input_focused__3wjIv\"};","/**\n * Allows components to register parents to cascade context changes and trigger functions\n *\n * @type Object\n * @memberof core/Registry\n * @private\n */\nconst Registry = {\n\tcreate: (handler) => {\n\t\tconst instances = [];\n\t\tlet currentParent;\n\n\t\tconst registry = Object.freeze({\n\t\t\tset parent (register) {\n\t\t\t\tif (currentParent && currentParent.unregister) {\n\t\t\t\t\tcurrentParent.unregister();\n\t\t\t\t}\n\t\t\t\tif (register && typeof register === 'function') {\n\t\t\t\t\tcurrentParent = register(registry.notify);\n\t\t\t\t}\n\t\t\t},\n\t\t\tnotify (ev, exclude = () => true) {\n\t\t\t\tinstances.filter(exclude).forEach(f => f(ev));\n\t\t\t},\n\t\t\tregister (instance) {\n\t\t\t\tif (instances.indexOf(instance) === -1) {\n\t\t\t\t\tinstances.push(instance);\n\n\t\t\t\t\tif (handler) {\n\t\t\t\t\t\thandler({action: 'register'}, instance);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tnotify (ev) {\n\t\t\t\t\t\tif (handler) {\n\t\t\t\t\t\t\thandler(ev, instance);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tunregister () {\n\t\t\t\t\t\tconst i = instances.indexOf(instance);\n\t\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t\tinstances.splice(i, 1);\n\n\t\t\t\t\t\t\tif (handler) {\n\t\t\t\t\t\t\t\thandler({action: 'register'}, instance);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\n\t\treturn registry;\n\t}\n};\n\nexport default Registry;\nexport {Registry};\n","/**\n * An Agate-themed date/time picker component.\n *\n * @example\n * <DateTimePicker />\n *\n * @module agate/DateTimePicker\n * @exports DateTimePicker\n * @exports DateTimePickerBase\n */\n\nimport React from 'react';\nimport classnames from 'classnames';\nimport kind from '@enact/core/kind';\nimport {Cell, Column, Row} from '@enact/ui/Layout';\nimport PropTypes from 'prop-types';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\nimport Picker from '../Picker';\nimport Skinnable from '../Skinnable';\n\nimport css from './DateTimePicker.module.less';\n\nconst PickerCell = kind({\n\tname: 'PickerCell',\n\tpropTypes: {\n\t\trange: PropTypes.arrayOf(PropTypes.string)\n\t},\n\trender: ({children, range, ...rest}) => (\n\t\t<Cell shrink>\n\t\t\t<Column align=\"center\" className={css.pickerCol}>\n\t\t\t\t<Cell shrink {...rest} component={Picker}>\n\t\t\t\t\t{range}\n\t\t\t\t</Cell>\n\t\t\t\t<Cell className={css.label} shrink>{children}</Cell>\n\t\t\t</Column>\n\t\t</Cell>\n\t)\n});\n\n/**\n * A date/time Picker component.\n *\n * @class DateTimePickerBase\n * @memberof agate/DateTimePicker\n * @ui\n * @public\n */\nclass DateTimePickerBase extends React.Component {\n\tstatic propTypes = /** @lends agate/DateTimePicker.DateTimePickerBase.prototype */ {\n\t\tonChange: PropTypes.func,\n\t\tonClose: PropTypes.func,\n\t\tonSave: PropTypes.func\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thour: '12',\n\t\t\tminute: '00',\n\t\t\tmeridiem: $L('AM'),\n\t\t\tmonth: '1',\n\t\t\tday: '1',\n\t\t\tyear: '2018'\n\t\t};\n\t}\n\n\tcomponentDidUpdate () {\n\t\tif (this.props.onChange) {\n\t\t\tthis.props.onChange({...this.state});\n\t\t}\n\t}\n\n\tranges = {\n\t\tyears: ['2018', '2019', '2020', '2021', '2022', '2023', '2024', '2025', '2026', '2027'],\n\t\tmonths: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],\n\t\tdays: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],\n\t\thours: ['12', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'],\n\t\tminutes: ['00', '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59'],\n\t\tmeridiem: [$L('AM'), $L('PM')]\n\t};\n\n\tonSave = () => {\n\t\tif (this.props.onSave) {\n\t\t\tthis.props.onSave({...this.state});\n\t\t}\n\n\t\tif (this.props.onClose) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t};\n\n\thandleTimeChange = (type) => ({value}) => {\n\t\tthis.setState({[type]: value});\n\t};\n\n\trender () {\n\t\tconst {className, ...rest} = this.props;\n\t\tdelete rest.onChange;\n\t\tdelete rest.onClose;\n\t\tdelete rest.onSave;\n\n\t\treturn (\n\t\t\t<Row {...rest} className={classnames(className, css.dateTimePicker)} align=\"center center\">\n\t\t\t\t<Cell size=\"35%\">\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<PickerCell className={css.pickerLeft} onChange={this.handleTimeChange('month')} range={this.ranges.months}>\n\t\t\t\t\t\t\t{$L('month')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t\t<PickerCell className={css.pickerCell} onChange={this.handleTimeChange('day')} range={this.ranges.days}>\n\t\t\t\t\t\t\t{$L('day')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t\t<PickerCell className={css.pickerRight} onChange={this.handleTimeChange('year')} range={this.ranges.years}>\n\t\t\t\t\t\t\t{$L('year')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell size=\"35%\">\n\t\t\t\t\t<Row align=\"center center\">\n\t\t\t\t\t\t<PickerCell className={css.pickerLeft} onChange={this.handleTimeChange('hour')} range={this.ranges.hours}>\n\t\t\t\t\t\t\t{$L('hour')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t\t<PickerCell className={css.pickerCell} onChange={this.handleTimeChange('minute')} range={this.ranges.minutes}>\n\t\t\t\t\t\t\t{$L('minute')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t\t<PickerCell className={css.pickerRight} onChange={this.handleTimeChange('meridiem')} range={this.ranges.meridiem}>\n\t\t\t\t\t\t\t{$L('meridiem')}\n\t\t\t\t\t\t</PickerCell>\n\t\t\t\t\t</Row>\n\t\t\t\t</Cell>\n\t\t\t\t<Cell size=\"30%\" shrink>\n\t\t\t\t\t<Button onClick={this.onSave}>{$L('Save')}</Button>\n\t\t\t\t</Cell>\n\t\t\t</Row>\n\t\t);\n\t}\n}\n\n/**\n * An Agate themed date/time Picker component.\n *\n * @class DateTimePicker\n * @memberof agate/DateTimePicker\n * @extends agate/DateTimePicker.DateTimePickerBase\n * @mixes agate/Skinnable.Skinnable\n * @ui\n * @public\n */\nconst DateTimePicker = Skinnable(DateTimePickerBase);\n\nexport default DateTimePicker;\nexport {\n\tDateTimePicker,\n\tDateTimePickerBase\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdown\":\"Dropdown_dropdown__cdueA\",\"transitionContainer\":\"Dropdown_transitionContainer__2wsd-\",\"openTransitionContainer\":\"Dropdown_openTransitionContainer__2x2Qe\",\"dropdownButton\":\"Dropdown_dropdownButton__1dvu4\",\"button\":\"Dropdown_button__2e2F0\",\"bg\":\"Dropdown_bg__1ii0x\",\"icon\":\"Dropdown_icon__32eRw\",\"item\":\"Dropdown_item__E0Thl\",\"upTransitionContainer\":\"Dropdown_upTransitionContainer__1dltl\",\"dropdownList\":\"Dropdown_dropdownList__3jFgB\",\"dropdownListWithScroller\":\"Dropdown_dropdownListWithScroller__hEHwB\",\"scroller\":\"Dropdown_scroller__6d3bY\",\"selected\":\"Dropdown_selected__3HaI3\",\"client\":\"Dropdown_client__1UitV\",\"open\":\"Dropdown_open__1L-FW\",\"dropDownListItem\":\"Dropdown_dropDownListItem__2-UxK\",\"radioItem\":\"Dropdown_radioItem__ZWt5q\",\"upDropdownButton\":\"Dropdown_upDropdownButton__kykMs\"};","/**\n * Modal component that appears at the bottom of the screen and takes up the full screen width.\n *\n * @example\n * <Popup open>Hello!</Popup>\n *\n * @module agate/Popup\n * @exports Popup\n * @exports PopupBase\n * @exports PopupDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Button from '../Button';\nimport Heading from '../Heading';\nimport Skinnable from '../Skinnable';\n\nimport PopupState from './PopupState';\n\nimport componentCss from './Popup.module.less';\n\n\nconst TransitionContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tTransition\n);\n\n/**\n * The base popup component.\n *\n * @class PopupBase\n * @memberof agate/Popup\n * @ui\n * @public\n */\nconst PopupBase = kind({\n\tname: 'Popup',\n\tpropTypes: /** @lends agate/Popup.PopupBase.prototype */ {\n\t\tbuttons: PropTypes.oneOfType([\n\t\t\tPropTypes.element,\n\t\t\tPropTypes.arrayOf(PropTypes.element)\n\t\t]),\n\n\t\t/**\n\t\t * Centers the contents.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\tcloseButton: PropTypes.bool,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets the position of the popup on the screen.\n\t\t *\n\t\t * @type {('center'|'top')}\n\t\t * @default 'center'\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.oneOf(['center', 'top']),\n\n\t\tskin: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tcloseButton: false,\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\tposition: 'center'\n\t},\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popup'\n\t},\n\tcomputed: {\n\t\tclassName: ({centered, closeButton, position, styler, title}) => styler.append({top: position === 'top', withCloseButton: closeButton, withTitle: title, centered}),\n\t\ttransitionType : ({position}) => position === 'center' ? 'fade' : 'slide',\n\t\tdirection : ({position}) => position === 'center' ? 'down' : 'up'\n\t},\n\trender: ({buttons, children, closeButton, css, direction, noAnimation, onClose, onHide, open, skin, title, transitionType, ...rest}) => {\n\t\tconst wideLayout = (skin === 'carbon');\n\t\tdelete rest.centered;\n\n\t\treturn (\n\t\t\t<TransitionContainer\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection={direction}\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype={transitionType}\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\t{...rest}\n\t\t\t\t>\n\t\t\t\t\t{closeButton ? <Button\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onClose}\n\t\t\t\t\t\tclassName={componentCss.closeButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/> : null}\n\t\t\t\t\t{title ? <Heading className={css.title}>{title}</Heading> : null}\n\t\t\t\t\t<Layout orientation={wideLayout ? 'horizontal' : 'vertical'} className={css.body}>\n\t\t\t\t\t\t<Cell shrink={!wideLayout} className={css.content}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t{buttons ? <Cell shrink className={css.buttons}>\n\t\t\t\t\t\t\t{buttons}\n\t\t\t\t\t\t</Cell> : null}\n\t\t\t\t\t</Layout>\n\t\t\t\t</div>\n\t\t\t</TransitionContainer>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupBase]{@link agate/Popup.PopupBase}.\n *\n * @hoc\n * @memberof agate/Popup\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupDecorator = compose(\n\tSlottable({slots: ['closeButton', 'title', 'buttons']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup in a\n * [FloatingLayer]{@link ui/FloatingLayer.FloatingLayer}.\n *\n * @class Popup\n * @memberof agate/Popup\n * @extends agate/Popup.PopupBase\n * @mixes agate/Popup.PopupDecorator\n * @ui\n * @public\n */\nconst Popup = PopupDecorator(PopupBase);\n\nexport default Popup;\nexport {\n\tPopup,\n\tPopupBase,\n\tPopupDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sliderButton\":\"SliderButton_sliderButton__3xNfC\",\"pressed\":\"SliderButton_pressed__-FjNz\",\"knob\":\"SliderButton_knob__3wOZP\",\"track\":\"SliderButton_track__3DhDU\",\"client\":\"SliderButton_client__1NOMC\"};","/**\n * Provides an Agate-themed toggle switch component.\n *\n * @example\n * <Switch />\n *\n * @module agate/Switch\n * @exports Switch\n * @exports SwitchBase\n */\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../Icon';\nimport {ToggleIconBase} from '../internal/ToggleIcon';\n\nimport componentCss from './Switch.module.less';\n\n/**\n * Renders the base level DOM structure of the component.\n *\n * @class SwitchBase\n * @memberof agate/Switch\n * @ui\n * @public\n */\nconst SwitchBase = kind({\n\tname: 'Switch',\n\n\tpropTypes: /** @lends agate/Switch.SwitchBase.prototype */ {\n\t\tchildren: PropTypes.string,\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables animation.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAnimation: PropTypes.bool,\n\t\tskin: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tnoAnimation: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss\n\t},\n\n\tcomputed: {\n\t\tclassName: ({noAnimation, styler}) => styler.append({\n\t\t\tanimated: !noAnimation\n\t\t}),\n\t\tchildren: ({children, skin}) => {\n\t\t\tif (children) return children;\n\n\t\t\tswitch (skin) {\n\t\t\t\tcase 'carbon': return 'squarelarge';\n\t\t\t\tdefault: return 'circle';\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.noAnimation;\n\n\t\treturn (\n\t\t\t<ToggleIconBase\n\t\t\t\t{...rest}\n\t\t\t\tcss={css}\n\t\t\t\ticonComponent={Icon}\n\t\t\t/>\n\t\t);\n\t}\n});\n\nexport default SwitchBase;\nexport {\n\tSwitchBase as Switch,\n\tSwitchBase\n};\n","/**\n * Provides Agate-themed Item component and interactive toggle switch icon.\n *\n * @module agate/SwitchItem\n * @exports SwitchItem\n * @exports SwitchItemBase\n * @exports SwitchItemDecorator\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\n\nimport handle, {forProp, forward} from '@enact/core/handle';\nimport kind from '@enact/core/kind';\nimport Spottable from '@enact/spotlight/Spottable';\nimport Toggleable from '@enact/ui/Toggleable';\n\nimport Icon from '../Icon';\nimport Item from '../Item';\nimport Skinnable from '../Skinnable';\nimport {SwitchBase} from '../Switch';\n\nimport componentCss from './SwitchItem.module.less';\n\nconst Switch = Skinnable({prop: 'skin'}, SwitchBase);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItemBase\n * @memberof agate/SwitchItem\n * @ui\n * @public\n */\nconst SwitchItemBase = kind({\n\tname: 'SwitchItemBase',\n\n\tpropTypes: /** @lends agate/SwitchItem.SwitchItemBase.prototype */ {\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `label` - Class name for the toggle icon label\n\t\t * * `switchIcon` - Class name for the toggle icon\n\t\t * * `switchItem` - The root class name\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Disables component and makes it non-interactive.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * The icon to display before the text.\n\t\t *\n\t\t * @type {String|Object}\n\t\t * @see {@link agate/Icon.Icon}\n\t\t * @public\n\t\t */\n\t\ticon: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"off\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'off'\n\t\t * @public\n\t\t */\n\t\toffText: PropTypes.string,\n\n\t\t/**\n\t\t * Customize the text displayed when the switch is \"on\".\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'on'\n\t\t * @public\n\t\t */\n\t\tonText: PropTypes.string,\n\n\t\t/**\n\t\t * Sets the switch to the 'on' state.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tselected: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdisabled: false,\n\t\toffText: 'off',\n\t\tonText: 'on',\n\t\tselected: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'switchItem',\n\t\tpublicClassNames: true\n\t},\n\n\thandlers: {\n\t\tonClick: handle(\n\t\t\tforProp('disabled', false),\n\t\t\tforward('onClick')\n\t\t)\n\t},\n\n\tcomputed: {\n\t\ticon: ({css, icon}) => (icon ?\n\t\t\t<Icon size=\"small\" slot=\"slotBefore\" className={css.icon}>\n\t\t\t\t{icon}\n\t\t\t</Icon> :\n\t\t\tnull\n\t\t)\n\t},\n\n\trender: ({children, css, icon, offText, onText, selected, ...rest}) => {\n\n\t\treturn (\n\t\t\t<Item aria-checked={selected} role=\"checkbox\" {...rest} css={css} label={selected ? onText : offText} labelPosition=\"after\">\n\t\t\t\t{icon}\n\t\t\t\t{children}\n\t\t\t\t<Switch slot=\"slotAfter\" selected={selected} className={css.switchIcon} />\n\t\t\t</Item>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [SwitchItem]{@link agate/SwitchItem.SwitchItemBase} components.\n *\n * @hoc\n * @memberof agate/SwitchItem\n * @mixes ui/Toggleable.Toggleable\n * @mixes spotlight/Spottable.Spottable\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst SwitchItemDecorator = compose(\n\tToggleable({toggleProp: 'onClick'}),\n\t// Touchable,\n\tSpottable,\n\tSkinnable\n);\n\n/**\n * Renders an `Item` with a radio-dot component. Useful to show a selected state on an Item.\n *\n * @class SwitchItem\n * @memberof agate/SwitchItem\n * @extends agate/SwitchItem.SwitchItem\n * @mixes agate/SwitchItem.SwitchItemDecorator\n * @ui\n * @public\n */\nconst SwitchItem = SwitchItemDecorator(SwitchItemBase);\n\nexport default SwitchItem;\nexport {\n\tSwitchItem,\n\tSwitchItemBase,\n\tSwitchItemDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeDecorator_root__1mp4Z\",\"bg\":\"ThemeDecorator_bg__1iacj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Panel_panel__CBsfu\",\"body\":\"Panel_body__1jwg2\",\"noHeader\":\"Panel_noHeader__34Mg7\",\"visible\":\"Panel_visible__1PYRW\",\"header\":\"Panel_header__zIYvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleButton\":\"ToggleButton_toggleButton__2WnOp\",\"underline\":\"ToggleButton_underline__9iR0t\",\"selected\":\"ToggleButton_selected__2bbbF\",\"button\":\"ToggleButton_button__23rV4\",\"bg\":\"ToggleButton_bg__3eqq0\",\"client\":\"ToggleButton_client__3nJmd\",\"huge\":\"ToggleButton_huge__1vADY\",\"small\":\"ToggleButton_small__NGeCq\",\"smallest\":\"ToggleButton_smallest__1wA4h\",\"minWidth\":\"ToggleButton_minWidth__rXqF_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabBar\":\"TabGroup_tabBar__cDVU2\",\"tabGroup\":\"TabGroup_tabGroup__uo2pQ\",\"tab\":\"TabGroup_tab__GzkRG\",\"labeledIcon\":\"TabGroup_labeledIcon__2Db25\",\"selected\":\"TabGroup_selected__LeC93\",\"positionAfter\":\"TabGroup_positionAfter__-qTBR\",\"horizontal\":\"TabGroup_horizontal__2UR2N\",\"vertical\":\"TabGroup_vertical__1QLN3\"};","/**\n * Agate styled labeled Heading components and behaviors\n *\n * @example\n * <Heading\n *   size=\"large\"\n *   spacing=\"small\"\n * >\n *   A Content Section Heading\n * </Heading>\n *\n * @module agate/Heading\n * @exports Heading\n * @exports HeadingBase\n * @exports HeadingDecorator\n */\n\nimport kind from '@enact/core/kind';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport UiHeading from '@enact/ui/Heading';\n\nimport Skinnable from '../Skinnable';\n\nimport componentCss from './Heading.module.less';\n\n/**\n * A labeled Heading component.\n *\n * This component is most often not used directly but may be composed within another component as it\n * is within [Heading]{@link agate/Heading.Heading}.\n *\n * @class HeadingBase\n * @memberof agate/Heading\n * @ui\n * @public\n */\nconst HeadingBase = kind({\n\tname: 'Heading',\n\n\tpropTypes: /** @lends agate/Heading.HeadingBase.prototype */ {\n\t\t/**\n\t\t * Set a custom color to be used by the Heading when `size` is \"title\".\n\t\t * Defaults to the current accent color if none is specified.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tcolor: PropTypes.string,\n\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Adds a horizontal-rule (line) under the component\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tshowLine: PropTypes.bool,\n\n\t\t/**\n\t\t * The size of the spacing around the Heading.\n\t\t *\n\t\t * Allowed values include:\n\t\t * * `'auto'` - Value is based on the `size` prop for automatic usage.\n\t\t * * `'title'` - Specifically assign the `'title'` spacing.\n\t\t * * `'large'` - Specifically assign the `'large'` spacing.\n\t\t * * `'medium'` - Specifically assign the `'medium'` spacing.\n\t\t * * `'small'` - Specifically assign the `'small'` spacing.\n\t\t * * `'none'` - No spacing at all. Neighboring elements will directly touch the Heading.\n\t\t *\n\t\t * @type {('auto'|'title'|'large'|'medium'|'small'|'none')}\n\t\t * @default 'auto'\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.oneOf(['auto', 'title', 'large', 'medium', 'small', 'none'])\n\t},\n\n\tdefaultProps: {\n\t\tspacing: 'auto'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'heading'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({showLine, styler}) => styler.append({showLine}),\n\t\tstyle: ({color, style}) => ({\n\t\t\t...style,\n\t\t\t'--agate-heading-accent': color\n\t\t})\n\t},\n\n\trender: ({css, ...rest}) => {\n\t\tdelete rest.color;\n\t\tdelete rest.showLine;\n\t\treturn UiHeading.inline({css, ...rest});\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [HeadingBase]{@link agate/Heading.HeadingBase}.\n *\n * @hoc\n * @memberof agate/Heading\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst HeadingDecorator = compose(\n\tPure,\n\tSkinnable\n);\n\n/**\n * A labeled Heading component, ready to use in Agate applications.\n *\n * `Heading` may be used as a header to group related components.\n *\n * Usage:\n * ```\n * <Heading\n *   spacing=\"medium\"\n * >\n *   Related Settings\n * </Heading>\n * <CheckboxItem>A Setting</CheckboxItem>\n * <CheckboxItem>A Second Setting</CheckboxItem>\n * ```\n *\n * @class Heading\n * @memberof agate/Heading\n * @extends agate/Heading.HeadingBase\n * @mixes agate/Heading.HeadingDecorator\n * @ui\n * @public\n */\nconst Heading = HeadingDecorator(HeadingBase);\n\nexport default Heading;\nexport {\n\tHeading,\n\tHeadingBase,\n\tHeadingDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__1OGdw\",\"itemContent\":\"Item_itemContent__1trVo\",\"hasLabel\":\"Item_hasLabel__3xhAA\",\"labelAfter\":\"Item_labelAfter__1Ajl0\",\"content\":\"Item_content__3R8ap\",\"labelBelow\":\"Item_labelBelow__35xbo\",\"label\":\"Item_label__vFw2H\",\"labelAbove\":\"Item_labelAbove__1SN_z\",\"labelBefore\":\"Item_labelBefore__3dcyJ\",\"slotAfter\":\"Item_slotAfter__2yHO_\",\"slotBefore\":\"Item_slotBefore__34YUH\",\"selected\":\"Item_selected__oqyJI\",\"inline\":\"Item_inline__2Wjk9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spacingIndicator\":\"Heading_spacingIndicator__3fOXk\",\"spacingNote\":\"Heading_spacingNote__2QraQ\"};","/**\n * An unstyled item component and behaviors to be customized by a theme or application.\n *\n * @module ui/Item\n * @exports Item\n * @exports ItemBase\n * @exports ItemDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\n\nimport Touchable from '../Touchable';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Item.module.less';\n\n/**\n * A basic list item component structure without any behaviors applied to it.\n *\n * It also has support for overlay to place things before and after the main content.\n *\n * @class ItemBase\n * @memberof ui/Item\n * @ui\n * @public\n */\nconst ItemBase = kind({\n\tname: 'ui:Item',\n\n\tpropTypes: /** @lends ui/Item.ItemBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the item.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * The type of component to use to render the item. May be a DOM node name (e.g 'div',\n\t\t * 'span', etc.) or a custom component.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @default 'div'\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Item.ItemBase#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `item` - The root class name\n\t\t * * `inline` - Applied when `inline` prop is true\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Applies a disabled state to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Applies inline styling to the item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tinline: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcomponent: 'div',\n\t\tinline: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'item',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({inline, styler}) => styler.append({inline})\n\t},\n\n\trender: ({component: Component, componentRef, disabled, children, ...rest}) => {\n\t\tdelete rest.inline;\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\tref={componentRef}\n\t\t\t\t{...rest}\n\t\t\t\taria-disabled={disabled}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Component>\n\t\t);\n\t}\n});\n\n/**\n * A higher-order component that adds touch support to the component it wraps.\n *\n * @hoc\n * @memberof ui/Item\n * @mixes ui/ForwardRef.ForwardRef\n * @mixes ui/Touchable.Touchable\n * @public\n */\nconst ItemDecorator = compose(\n\tForwardRef({prop: 'componentRef'}),\n\tTouchable\n);\n\n/**\n * A minimally-styled ready-to-use list item component with touch support.\n *\n * @class Item\n * @memberof ui/Item\n * @extends ui/Item.ItemBase\n * @mixes ui/Item.ItemDecorator\n * @ui\n * @public\n */\nconst Item = ItemDecorator(ItemBase);\n\nexport default Item;\nexport {\n\tItem,\n\tItemBase,\n\tItemDecorator\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popup\":\"Popup_popup__2K8Tn\",\"centered\":\"Popup_centered__gLtrt\",\"buttons\":\"Popup_buttons__3tX0Z\",\"top\":\"Popup_top__NK_iz\",\"closeButton\":\"Popup_closeButton__gO0Wo\",\"title\":\"Popup_title__23Fu5\",\"withTitle\":\"Popup_withTitle__oXxZL\",\"body\":\"Popup_body__34qt0\",\"withCloseButton\":\"Popup_withCloseButton__2VP8L\",\"content\":\"Popup_content__3lgAw\",\"popupTransitionContainer\":\"Popup_popupTransitionContainer__l6zkG\",\"inner\":\"Popup_inner__9xj2X\"};","/**\n * A Popup menu component.\n *\n * @example\n * <PopupMenu open title=\"Title\">Hello!</PopupMenu>\n *\n * @module agate/PopupMenu\n * @exports PopupMenu\n * @exports PopupMenuBase\n * @exports PopupMenuDecorator\n */\n\nimport compose from 'ramda/src/compose';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Layout, {Cell} from '@enact/ui/Layout';\nimport Slottable from '@enact/ui/Slottable';\nimport Transition from '@enact/ui/Transition';\n\nimport $L from '../internal/$L';\nimport Skinnable from '../Skinnable';\nimport Heading from '../Heading';\nimport LabeledIconButton from '../LabeledIconButton';\nimport Scroller from '../Scroller';\n\nimport PopupState from '../Popup/PopupState';\n\nimport componentCss from './PopupMenu.module.less';\n\n/**\n * The base popup menu component.\n *\n * @class PopupMenuBase\n * @memberof agate/PopupMenu\n * @ui\n * @public\n */\nconst PopupMenuBase = kind({\n\tname: 'PopupMenu',\n\tpropTypes: /** @lends agate/PopupMenu.PopupMenuBase.prototype */ {\n\t\tcloseButton: PropTypes.bool,\n\t\tcloseButtonLabel: PropTypes.string,\n\t\tcss: PropTypes.object,\n\t\tnoAnimation: PropTypes.bool,\n\t\tonClose: PropTypes.func,\n\t\tonHide: PropTypes.func,\n\t\topen: PropTypes.bool,\n\t\torientation: PropTypes.oneOf(['horizontal']),\n\t\ttitle: PropTypes.string\n\t},\n\n\tdefaultProps: {\n\t\tcloseButton: false,\n\t\tcloseButtonLabel: $L('Cancel'),\n\t\tnoAnimation: false,\n\t\topen: false,\n\t\torientation: 'horizontal'\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'popupMenu'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({orientation, styler}) => styler.append(orientation)\n\t},\n\n\trender: ({children, closeButton, closeButtonLabel, css, noAnimation, onClose, onHide, open, orientation, title, ...rest}) => {\n\t\treturn (\n\t\t\t<Transition\n\t\t\t\tnoAnimation={noAnimation}\n\t\t\t\tvisible={open}\n\t\t\t\tdirection=\"down\"\n\t\t\t\tduration=\"short\"\n\t\t\t\ttype=\"fade\"\n\t\t\t\tclassName={css.popupTransitionContainer}\n\t\t\t\tonHide={onHide}\n\t\t\t\tcss={css}\n\t\t\t>\n\t\t\t\t<Layout orientation=\"vertical\" align=\"center center\" {...rest}>\n\t\t\t\t\t<Cell className={css.title} shrink>\n\t\t\t\t\t\t<Heading size=\"title\">{title}</Heading>\n\t\t\t\t\t</Cell>\n\t\t\t\t\t<Cell shrink className={css.body} align=\"stretch\">\n\t\t\t\t\t\t<Scroller direction={orientation} horizontalScrollbar=\"hidden\" verticalScrollbar=\"hidden\">\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t{closeButton ? <LabeledIconButton\n\t\t\t\t\t\t\t\tinline\n\t\t\t\t\t\t\t\ticon=\"cancel\"\n\t\t\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\t\t\tsize=\"huge\"\n\t\t\t\t\t\t\t\tbackgroundOpacity=\"lightOpaque\"\n\t\t\t\t\t\t\t>{closeButtonLabel}</LabeledIconButton> : null}\n\t\t\t\t\t\t</Scroller>\n\t\t\t\t\t</Cell>\n\t\t\t\t</Layout>\n\t\t\t</Transition>\n\t\t);\n\t}\n});\n\n/**\n * Applies Agate specific behaviors to [PopupMenuBase]{@link agate/PopupMenu.PopupMenuBase}.\n *\n * @hoc\n * @memberof agate/PopupMenu\n * @mixes agate/Skinnable.Skinnable\n * @public\n */\nconst PopupMenuDecorator = compose(\n\tSlottable({slots: ['title']}),\n\tSkinnable({prop: 'skin'}),\n\tPopupState\n);\n\n/**\n * A stateful component that renders a popup menu.\n *\n * @class PopupMenu\n * @memberof agate/PopupMenu\n * @extends agate/PopupMenu.PopupMenuBase\n * @mixes agate/PopupMenu.PopupMenuDecorator\n * @ui\n * @public\n */\nconst PopupMenu = PopupMenuDecorator(PopupMenuBase);\n\nexport default PopupMenu;\nexport {\n\tPopupMenu,\n\tPopupMenuBase,\n\tPopupMenuDecorator\n};\n","/**\n * A component for selecting a number from a range of numbers.\n *\n * @example\n * <RangePicker defaultValue={70} min={0} max={100}></RangePicker>\n *\n * @module agate/RangePicker\n * @exports RangePicker\n * @exports RangePickerBase\n */\n\nimport kind from '@enact/core/kind';\nimport {clamp} from '@enact/core/util';\nimport Changeable from '@enact/ui/Changeable';\nimport Pure from '@enact/ui/internal/Pure';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport PickerCore from '../internal/Picker';\n\n/**\n * RangePicker base component.\n *\n * @class RangePickerBase\n * @memberof agate/RangePicker\n * @ui\n * @public\n */\nconst RangePickerBase = kind({\n\tname: 'RangePicker',\n\n\tpropTypes: /** @lends agate/RangePicker.RangePickerBase.prototype */ {\n\t\t/**\n\t\t * The maximum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmax: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * The minimum value selectable by the picker (inclusive).\n\t\t *\n\t\t * The range between `min` and `max` should be evenly divisible by\n\t\t * [step]{@link agate/RangePicker.RangePickerBase.step}.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tmin: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Current value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tvalue: PropTypes.number.isRequired,\n\n\t\t/**\n\t\t * Children from which to pick.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Class name for component.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\tclassName: PropTypes.string,\n\n\t\t/**\n\t\t * Disables the picker.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\tdisabled: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when `value` changes.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonChange: PropTypes.func,\n\n\t\t/**\n\t\t * The smallest value change allowed for the picker.\n\t\t *\n\t\t * For example, a step of `2` would cause the picker to increment from 0 to 2 to 4, etc.\n\t\t * It must evenly divide into the range designated by `min` and `max`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 1\n\t\t * @public\n\t\t */\n\t\tstep: PropTypes.number\n\t},\n\n\tcomputed: {\n\t\tdisabled: ({disabled, max, min}) => min >= max ? true : disabled,\n\t\tvalue: ({min, max, value}) => {\n\t\t\treturn clamp(min, max, value);\n\t\t}\n\t},\n\n\trender: ({value, ...rest}) => {\n\t\treturn (\n\t\t\t<PickerCore {...rest} value={value}>\n\t\t\t\t{value}\n\t\t\t</PickerCore>\n\t\t);\n\t}\n});\n\n/**\n * Overrides the `aria-valuetext` for the picker. By default, `aria-valuetext` is set\n * to the current value. This should only be used when the parent controls the value of\n * the picker directly through the props.\n *\n * @name aria-valuetext\n * @type {String|Number}\n * @memberof agate/RangePicker.RangePicker.prototype\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the decrement button.\n *\n * @name decrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'previous item'\n * @type {String}\n * @public\n */\n\n/**\n * Sets the hint string read when focusing the increment button.\n *\n * @name incrementAriaLabel\n * @memberof agate/RangePicker.RangePicker.prototype\n * @default 'next item'\n * @type {String}\n * @public\n */\n\n/**\n * Orientation of the picker.\n *\n * Controls whether the buttons are arranged horizontally or vertically around the value.\n *\n * * Values: `'horizontal'`, `'vertical'`\n *\n * @name orientation\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {String}\n * @default 'vertical'\n * @public\n */\n\n/**\n * A component that lets the user select a number from a range of numbers.\n *\n * By default, `RangePicker` maintains the state of its `value` property. Supply the `defaultValue`\n * property to control its initial value. If you wish to directly control updates to the component,\n * supply a value to `value` at creation time and update it in response to `onChange` events.\n *\n * @class RangePicker\n * @memberof agate/RangePicker\n * @mixes ui/Changeable.Changeable\n * @ui\n * @public\n */\nconst RangePicker = Pure(\n\tChangeable(\n\t\tRangePickerBase\n\t)\n);\n\n/**\n * Default value\n *\n * @name defaultValue\n * @memberof agate/RangePicker.RangePicker.prototype\n * @type {Number}\n * @public\n */\n\nexport default RangePicker;\nexport {RangePicker, RangePickerBase};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbarTrack\":\"ScrollbarTrack_scrollbarTrack__2RBz3\",\"vertical\":\"ScrollbarTrack_vertical__3uMTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__3fu-N\",\"bg\":\"Spinner_bg__3APs3\",\"huge\":\"Spinner_huge__1_I9G\",\"small\":\"Spinner_small__7zUD3\",\"smallest\":\"Spinner_smallest__l7fSN\",\"dark\":\"Spinner_dark__2EAvC\",\"node\":\"Spinner_node__340FG\",\"light\":\"Spinner_light__3ADfH\",\"searching\":\"Spinner_searching__gjLI1\",\"searching-spinner\":\"Spinner_searching-spinner__3nP-Q\",\"node12\":\"Spinner_node12__l17bR\",\"node11\":\"Spinner_node11__1JU52\",\"node10\":\"Spinner_node10__2oIGA\",\"node9\":\"Spinner_node9__3xkK3\",\"node8\":\"Spinner_node8__nHmXl\",\"node7\":\"Spinner_node7__3PMR6\",\"node6\":\"Spinner_node6__16R4o\",\"node5\":\"Spinner_node5__17m6e\",\"node4\":\"Spinner_node4__FVRBd\",\"node3\":\"Spinner_node3__2Cfot\",\"node2\":\"Spinner_node2__feALn\",\"node1\":\"Spinner_node1__14Y-l\",\"loading\":\"Spinner_loading__3Vskk\",\"loading-spinner\":\"Spinner_loading-spinner__3TSSM\"};","import {forKey} from '@enact/core/handle';\n\n/**\n * Array of cancel handlers. If any of these returns `false`, `forCancel` will return `false`;\n *\n * @type {Function[]}\n * @private\n */\nconst cancelHandlers = [\n\t// always support the Escape key\n\tforKey('cancel')\n];\n\n/**\n * Event handler compatible with {@link core/handle} that allows the handler chain to\n * continue for any cancel event. A cancel event is an Escape key press by default but can be\n * extended adding additional handlers using\n * {@link ui/Cancelable/cancelHandler.addCancelHandler}.\n *\n * @function\n * @memberof ui/Cancelable\n * @param  {Object} ev Event object\n * @returns {Boolean} `true` to stop the handler chain\n * @private\n */\nconst forCancel = function (ev) {\n\tlet ok = false;\n\tcancelHandlers.forEach(fn => {\n\t\t// if any handler returns true, we don't need to call any more\n\t\tok = ok || fn(ev);\n\t});\n\n\treturn ok;\n};\n\n/**\n * Adds an event handler to filter cancel events.\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler\tFunction that will receive the event and should return `true` if\n *\t\t\t\t\t\t\t\tthe event is a cancel event.\n * @returns {undefined}\n * @public\n */\nconst addCancelHandler = function (handler) {\n\tif (cancelHandlers.indexOf(handler) < 0) {\n\t\tcancelHandlers.push(handler);\n\t}\n};\n\n/**\n * Removes an event handler to filter cancel events\n *\n * @function\n * @memberof ui/Cancelable\n * @param {Function} handler A previously added filter function\n * @returns {undefined}\n * @public\n */\nconst removeCancelHandler = function (handler) {\n\tconst index = cancelHandlers.indexOf(handler);\n\tif (index >= 0) {\n\t\tcancelHandlers.splice(index, 1);\n\t}\n};\n\nexport {\n\taddCancelHandler,\n\tforCancel,\n\tremoveCancelHandler\n};\n","import {on, off} from '@enact/core/dispatcher';\n\n// Contains references to modal Cancelable instances in LIFO order to allow multiple modals to be\n// displayed with the last having the first priority to handle the cancel.\nconst modals = [];\n\n/**\n * Dispatches the cancel event to each modal `Cancelable` instance. Consistent with\n * {@link core/handle.handle}, returning a `true` value means the event was handled and anything\n * falsy allows the event to pass to the next handler.\n *\n * @param\t{Object}\tev\tEvent payload\n *\n * @returns\t{undefined}\n * @private\n */\nconst dispatchToModals = (ev) => {\n\tfor (let i = modals.length - 1, handled = false; !handled && i >= 0; i--) {\n\t\thandled = modals[i].handleCancel(ev);\n\t}\n};\n\n/**\n * Adds a modal `Cancelable` instance to the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst addModal = (obj) => {\n\tif (modals.push(obj) === 1 && typeof window !== 'undefined') {\n\t\ton('keyup', dispatchToModals, window);\n\t}\n};\n\n/**\n * Removes a modal `Cancelable` instance from the list of modals.\n *\n * @param\t{ui/Cancelable.Cancelable}\tobj\tCancelable instance\n *\n * @returns\t{undefined}\n * @private\n */\nconst removeModal = (obj) => {\n\tconst index = modals.indexOf(obj);\n\tif (index >= 0) {\n\t\tmodals.splice(index, 1);\n\t}\n\n\tif (modals.length === 0 && typeof window !== 'undefined') {\n\t\toff('keyup', dispatchToModals, window);\n\t}\n};\n\nexport {addModal, removeModal};\n","/**\n * Provides components and methods to add support for handling cancel actions.\n *\n * @module ui/Cancelable\n * @exports addCancelHandler\n * @exports Cancelable\n * @exports removeCancelHandle\n */\n\nimport {forward, handle, stop, stopImmediate} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {add} from '@enact/core/keymap';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {forCancel, addCancelHandler, removeCancelHandler} from './cancelHandler';\nimport {addModal, removeModal} from './modalHandler';\n\n/**\n * Default config for {@link ui/Cancelable.Cancelable}\n *\n * @memberof ui/Cancelable.Cancelable\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Called when a cancel action is invoked by the user.\n\t *\n\t * If it is a string, the cancel handler will attempt to invoke a function passed as a prop of\n\t * that name. If it is a function, that function will be called with the current props as the\n\t * only argument.\n\t *\n\t * If the function handles the cancel action, it should call `stopPropagation()` on the provided\n\t * event object prevent container or `modal` Cancelable instances from also handling the action.\n\t *\n\t * @type {String|Function}\n\t * @required\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tonCancel: null,\n\n\t/**\n\t * Subscribes to cancel events globally for this instance.\n\t *\n\t * When `true`, the `Cancelable` instance will handle cancel events globally that successfully\n\t * bubble up to `window` regardless of which component is focused.\n\t *\n\t * `modal` cancel handlers are processed in reverse of the order they are created such that the\n\t * innermost instance (in terms of the component hierarchy) have the first opportunity to handle\n\t * the event before its container components.\n\t *\n\t * @type {String}\n\t * @default false\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tmodal: false,\n\n\t/**\n\t * The component that will contain the wrapped component.\n\t *\n\t * When set, the wrapped component will be contained within an instance of `component`. This may\n\t * be necessary if the props passed to the wrapped component are not placed on the root element.\n\t *\n\t * @type {Component}\n\t * @default null\n\t * @memberof ui/Cancelable.Cancelable.defaultConfig\n\t */\n\tcomponent: null\n};\n\n// Add keymap for escape key\nadd('cancel', 27);\n\n/**\n * A higher-order component that adds support to a component to handle cancel actions.\n *\n * The cancel event may be handled either by a design-time config function or a run-time prop\n * function. If the component handles the event and wants to prevent upstream components from also\n * handling the event, the callback should invoke `stopPropagation()` on the event object.\n *\n * Note: This HoC passes a number of props to the wrapped component that should be passed to the\n * main DOM node.\n *\n * Usage of config function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const MyComponent = ({myProp, ...rest}) => (\n *    <div {...rest}>{myProp}</div>\n *  );\n * ...\n * const CancelableComponent = Cancelable(\n *   {cancel: function (ev, props) {\n *     // Can inspect either the `onCancel` event, `ev`, and/or the `props` to determine how\n *     // to handle the event (e.g. invoking an event handler from `props`).\n *\n *     // Stop upstream instances of Cancelable from handling the event\n *     ev.stopPropagaion();\n *   }},\n *   MyComponent\n * );\n * ```\n *\n * Usage of prop function:\n * ```\n * import Cancelable from '@enact/ui/Cancelable';\n *\n * const CancelableComponent = Cancelable(\n *   // When a cancel action is received and a handler function exists for the prop\n *   // `onCancel`, it will be invoked and passed the `onCancel` event object.\n *   {cancel: 'onCancel'},\n *   MyComponent\n * );\n * ```\n *\n * @class Cancelable\n * @memberof ui/Cancelable\n * @hoc\n * @public\n */\nconst Cancelable = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {\n\t\tonCancel,\n\t\tmodal,\n\t\tcomponent: Component\n\t} = config;\n\n\tinvariant(onCancel, 'onCancel must be specified with Cancelable');\n\n\tconst onCancelIsString = typeof onCancel === 'string';\n\tconst onCancelIsFunction = typeof onCancel === 'function';\n\tconst dispatchCancelToConfig = function (ev, props) {\n\t\t// by default, we return false which allows event propagation because it will \"break\" the\n\t\t// handler chain and not call `stop` and `stopImmediate` below\n\t\tlet stopped = false;\n\n\t\tconst cancelEvent = {\n\t\t\ttype: 'onCancel',\n\t\t\tstopPropagation: () => {\n\t\t\t\tstopped = true;\n\t\t\t}\n\t\t};\n\n\t\tif (onCancelIsString && typeof props[onCancel] === 'function') {\n\t\t\t// use the custom event name from the config\n\t\t\tcancelEvent.type = onCancel;\n\t\t\tprops[onCancel](cancelEvent);\n\t\t} else if (onCancelIsFunction) {\n\t\t\tonCancel(cancelEvent, props);\n\t\t}\n\n\t\treturn stopped;\n\t};\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'Cancelable';\n\n\t\tstatic propTypes = /** @lends ui/Cancelable.Cancelable.prototype */ {\n\t\t\t/**\n\t\t\t * Called when a cancel action is received.\n\t\t\t *\n\t\t\t * This callback is invoked for every cancel action before the config or prop handler is\n\t\t\t * invoked.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonCancel: PropTypes.func\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.isFirstRender = true;\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (modal) {\n\t\t\t\tremoveModal(this);\n\t\t\t}\n\t\t}\n\n\t\thandle = handle.bind(this);\n\n\t\thandleCancel = this.handle(\n\t\t\tforCancel,\n\t\t\tforward('onCancel'),\n\t\t\tdispatchCancelToConfig,\n\t\t\tstop,\n\t\t\tstopImmediate\n\t\t);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforward('onKeyUp'),\n\t\t\t// nesting handlers for DRYness. note that if any conditions return false in\n\t\t\t// this.handleCancel(), this handler chain will stop too\n\t\t\tthis.handleCancel\n\t\t);\n\n\t\trenderWrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Component onKeyUp={this.handleKeyUp}>\n\t\t\t\t\t<Wrapped {...props} />\n\t\t\t\t</Component>\n\t\t\t);\n\t\t}\n\n\t\trenderUnwrapped (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} onKeyUp={this.handleKeyUp} />\n\t\t\t);\n\t\t}\n\n\t\trenderModal (props) {\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\n\t\trender () {\n\t\t\tconst props = Object.assign({}, this.props);\n\t\t\tdelete props.onCancel;\n\t\t\tdelete props[onCancel];\n\n\t\t\tif (this.isFirstRender && modal) {\n\t\t\t\taddModal(this);\n\t\t\t\tthis.isFirstRender = false;\n\t\t\t}\n\n\t\t\treturn\tmodal && this.renderModal(props) ||\n\t\t\t\t\tComponent && this.renderWrapped(props) ||\n\t\t\t\t\tthis.renderUnwrapped(props);\n\t\t}\n\t};\n});\n\nexport default Cancelable;\nexport {\n\taddCancelHandler,\n\tCancelable,\n\tremoveCancelHandler\n};\n","/*\n * A higher-order component that adds a FloatingLayer adjacent to wrapped component.\n */\n\nimport {call, forEventProp, oneOf} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport Registry from '@enact/core/internal/Registry';\nimport React from 'react';\n\nconst forAction = forEventProp('action');\n\nconst FloatingLayerContext = React.createContext();\n\n/**\n * Default config for {@link ui/FloatingLayer.FloatingLayerDecorator}.\n *\n * @memberof ui/FloatingLayer.FloatingLayerDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * Element Id of the floatLayer\n\t *\n\t * @type {String}\n\t * @default 'floatLayer'\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\tfloatLayerId: 'floatLayer',\n\n\t/**\n\t * Class name to be applied to wrapped component.\n\n\t * It can be used when you want to only apply\n\t * certain styles to the wrapped component and not to the float layer.\n\t *\n\t * @type {String}\n\t * @default ''\n\t * @public\n\t * @memberof ui/FloatingLayer.FloatingLayerDecorator.defaultConfig\n\t */\n\twrappedClassName: ''\n};\n\n/**\n * A higher-order component that adds a FloatingLayer adjacent to the wrapped component.\n *\n * Any classes passed to the FloatingLayerDecorator will be applied to a wrapper surrounding the\n * wrapped component and the floating layer. If specified in the config, `wrappedClassName` will be\n * passed as `className` to the wrapped component.\n *\n * @class FloatingLayerDecorator\n * @memberof ui/FloatingLayer\n * @hoc\n * @public\n */\nconst FloatingLayerDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {floatLayerId, wrappedClassName} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'FloatingLayerDecorator';\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.registry = Registry.create(this.handleNotify);\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tthis.notifyMount();\n\t\t}\n\n\t\tgetFloatingLayer = () => {\n\t\t\t// FIXME: if a component that resides in the floating layer is rendered at the same time\n\t\t\t// as the floating layer, this.floatingLayer may not have been initialized yet since\n\t\t\t// componentDidMount runs inside-out. As a fallback, we search by id but this could\n\t\t\t// introduce issues (e.g. for duplicate layer ids).\n\t\t\treturn (\n\t\t\t\tthis.floatingLayer ||\n\t\t\t\t(typeof document !== 'undefined' && document.getElementById(floatLayerId)) ||\n\t\t\t\tnull\n\t\t\t);\n\t\t};\n\n\t\thandleNotify = oneOf(\n\t\t\t[forAction('register'), call('notifyMount')],\n\t\t\t[forAction('closeAll'), call('handleCloseAll')]\n\t\t).bind(this);\n\n\t\thandleCloseAll () {\n\t\t\tthis.registry.notify({action: 'close'});\n\t\t}\n\n\t\tnotifyMount () {\n\t\t\tthis.registry.notify({\n\t\t\t\taction: 'mount',\n\t\t\t\tfloatingLayer: this.getFloatingLayer()\n\t\t\t});\n\t\t}\n\n\t\tsetFloatingLayer = (node) => {\n\t\t\tthis.floatingLayer = node;\n\t\t};\n\n\t\trender () {\n\t\t\tconst {className, ...rest} = this.props;\n\t\t\treturn (\n\t\t\t\t<FloatingLayerContext.Provider value={this.registry.register}>\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t<Wrapped key=\"floatWrapped\" {...rest} className={wrappedClassName} />\n\t\t\t\t\t\t<div id={floatLayerId} key=\"floatLayer\" ref={this.setFloatingLayer} />\n\t\t\t\t\t</div>\n\t\t\t\t</FloatingLayerContext.Provider>\n\t\t\t);\n\t\t}\n\t};\n});\n\nexport default FloatingLayerDecorator;\nexport {\n\tFloatingLayerContext,\n\tFloatingLayerDecorator\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport css from './Scrim.module.less';\n\nconst transparentClassName = css.scrim + ' enact-fit ' + css.transparent;\nconst translucentClassName = css.scrim + ' enact-fit ' + css.translucent;\n\n// Stores references to any Scrim instances whose type is translucent to ensure that only the top-\n// most Scrim is visible to avoid stacking scrims.\nconst scrimStack = [];\n\n/**\n * Pushes a translucent scrim to the top of the stack and hiding the previously top\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to add\n * @returns {undefined}\n * @private\n */\nfunction pushTranslucentScrim (scrim) {\n\tconst last = scrimStack.length - 1;\n\tif (last >= 0) {\n\t\t// if there are other translucent scrims, hide the topmost one assuming the others have been\n\t\t// hidden correctly by previous calls\n\t\tscrimStack[last].hide();\n\t}\n\n\tscrimStack.push(scrim);\n}\n\n/**\n * Removes a translucent scrim from the stack. If the scrim was the top-most, removing it will show\n * the next scrim. If not, it will just be removed\n *\n * @param {ui/FloatingLayer.Scrim} scrim A scrim instance to remove\n * @returns {undefined}\n * @private\n */\nfunction removeTranslucentScrim (scrim) {\n\tconst index = scrimStack.indexOf(scrim);\n\tconst last = scrimStack.length - 1;\n\tif (index === last) {\n\t\t// if scrim is the top of the stack (most likely case), show the one below it then pop it\n\t\tscrimStack.pop();\n\t\tif (scrimStack.length) {\n\t\t\tscrimStack[scrimStack.length - 1].show();\n\t\t}\n\t} else {\n\t\t// if it's in the middle of the stack, just remove it\n\t\tscrimStack.splice(index, 1);\n\t}\n}\n\n/**\n * {@link ui/FloatingLayer.Scrim} provides an overlay that will prevent taps from propagating\n * to the controls that it covers.\n *\n * @class Scrim\n * @memberof ui/FloatingLayer\n * @ui\n * @private\n */\nclass Scrim extends React.Component {\n\tstatic propTypes = /** @lends ui/FloatingLayer.Scrim.prototype */ {\n\t\t/**\n\t\t * Types of scrim. It can be either `'transparent'` or `'translucent'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default `translucent`\n\t\t * @public\n\t\t */\n\t\ttype: PropTypes.oneOf(['transparent', 'translucent'])\n\t};\n\n\tstatic defaultProps = {\n\t\ttype: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tvisible: true\n\t\t};\n\n\t\tif (props.type === 'translucent') {\n\t\t\tpushTranslucentScrim(this);\n\t\t}\n\t}\n\n\tstatic getDerivedStateFromProps (props) {\n\t\tif (props.type !== 'translucent') {\n\t\t\treturn {\n\t\t\t\tvisible: true\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tif (prevProps.type === 'translucent' && this.props.type !== 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.props.type === 'translucent') {\n\t\t\tremoveTranslucentScrim(this);\n\t\t}\n\t}\n\n\tshow = () => this.setState({visible: true});\n\n\thide = () => this.setState({visible: false});\n\n\trender () {\n\t\tif (this.state.visible) {\n\t\t\tconst {type, ...rest} = this.props;\n\t\t\tconst className = type === 'transparent' ? transparentClassName : translucentClassName;\n\n\t\t\treturn (\n\t\t\t\t<div {...rest} className={className} />\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default Scrim;\nexport {Scrim};\n","import {on, off} from '@enact/core/dispatcher';\nimport {adaptEvent, forward, forProp, handle, oneOf, stop, forEventProp, call} from '@enact/core/handle';\nimport invariant from 'invariant';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Cancelable from '../Cancelable';\n\nimport {FloatingLayerContext} from './FloatingLayerDecorator';\nimport Scrim from './Scrim';\n\nconst forwardWithType = type => adaptEvent(\n\t() => ({type}),\n\tforward(type)\n);\n\nconst forwardDismiss = forwardWithType('onDismiss');\nconst forwardClose = forwardWithType('onClose');\nconst forwardOpen = forwardWithType('onOpen');\n\n/**\n * A component that creates an entry point to the new render tree.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayerBase\n * @memberof ui/FloatingLayer\n * @ui\n * @public\n */\nclass FloatingLayerBase extends React.Component {\n\tstatic displayName = 'FloatingLayer';\n\n\tstatic propTypes = /** @lends ui/FloatingLayer.FloatingLayerBase.prototype */ {\n\t\t/**\n\t\t * CSS classes for FloatingLayer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'enact-fit enact-clip enact-untouchable'\n\t\t * @public\n\t\t */\n\t\tfloatLayerClassName: PropTypes.string,\n\n\t\t/**\n\t\t * Element id for floating layer.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'floatLayer'\n\t\t * @public\n\t\t */\n\t\tfloatLayerId: PropTypes.string,\n\n\t\t/**\n\t\t * Prevents FloatingLayer from hiding when the user presses `ESC` key.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when floating layer is closed.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonClose: PropTypes.func,\n\n\t\t/**\n\t\t * Called when a closing action is invoked.\n\t\t *\n\t\t * These actions may include pressing cancel/back (e.g. `ESC`) key or programmatically closing\n\t\t * by `FloatingLayerDecorator`. When cancel key is pressed, the function will only invoke if\n\t\t * `noAutoDismiss` is set to `false`.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonDismiss: PropTypes.func,\n\n\t\t/**\n\t\t * Called when floating layer is opened. It will only be invoked for the first render.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonOpen: PropTypes.func,\n\n\t\t/**\n\t\t * Renders the floating layer and its components.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\topen: PropTypes.bool,\n\n\t\t/**\n\t\t * The scrim type that overlays FloatingLayer.\n\t\t *\n\t\t * It can be either `'transparent'`, `'translucent'`, or `'none'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translucent'\n\t\t * @public\n\t\t */\n\t\tscrimType: PropTypes.oneOf(['transparent', 'translucent', 'none'])\n\t};\n\n\tstatic contextType = FloatingLayerContext;\n\n\tstatic defaultProps = {\n\t\tfloatLayerClassName: 'enact-fit enact-clip enact-untouchable',\n\t\tfloatLayerId: 'floatLayer',\n\t\tnoAutoDismiss: false,\n\t\topen: false,\n\t\tscrimType: 'translucent'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.node = null;\n\t\tthis.state = {\n\t\t\tnodeRendered: false\n\t\t};\n\t}\n\n\tcomponentDidMount () {\n\t\t// Must register first in order to obtain the floating layer node reference before tryinging\n\t\t// to render into it\n\t\tif (this.context && typeof this.context === 'function') {\n\t\t\tthis.controller = this.context(this.handleNotify.bind(this));\n\t\t}\n\n\t\tif (this.props.scrimType === 'none' && this.props.open) {\n\t\t\ton('click', this.handleClick);\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tconst {open, scrimType} = this.props;\n\n\t\tif (prevProps.open && !open) {\n\t\t\t// when open changes to false, forward close\n\t\t\tforwardClose(null, this.props);\n\t\t} else if (!prevProps.open && open && !this.state.nodeRendered) {\n\t\t\t// when open changes to true and node hasn't rendered, render it\n\t\t\tthis.renderNode();\n\t\t} else if (this.state.nodeRendered &&\n\t\t\t(!prevState.nodeRendered || (prevState.nodeRendered && open && !prevProps.open))\n\t\t) {\n\t\t\t// when node has been rendered and either it was just rendered in this update cycle or\n\t\t\t// the open prop changed in this cycle, forward open\n\t\t\tforwardOpen(null, this.props);\n\t\t}\n\n\t\tif (scrimType === 'none') {\n\t\t\tif (!prevProps.open && open) {\n\t\t\t\ton('click', this.handleClick);\n\t\t\t} else if (prevProps.open && !open) {\n\t\t\t\toff('click', this.handleClick);\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentWillUnmount () {\n\t\tif (this.node && this.floatingLayer) {\n\t\t\tthis.floatingLayer.removeChild(this.node);\n\t\t\tthis.node = null;\n\t\t\tthis.floatingLayer = null;\n\t\t}\n\n\t\toff('click', this.handleClick);\n\n\t\tif (this.controller) {\n\t\t\tthis.controller.unregister();\n\t\t}\n\t}\n\n\thandleNotify = oneOf(\n\t\t[forEventProp('action', 'close'), call('handleClose')],\n\t\t[forEventProp('action', 'mount'), call('setFloatingLayer')]\n\t).bind(this);\n\n\tsetFloatingLayer ({floatingLayer}) {\n\t\tconst isNewLayer = !this.floatingLayer && floatingLayer;\n\t\tthis.floatingLayer = floatingLayer;\n\n\t\t// the first time we have a valid floating layer container and this instance is set to open,\n\t\t// we need to render the layer.\n\t\tif (isNewLayer && this.props.open && !this.state.nodeRendered) {\n\t\t\tthis.renderNode();\n\t\t}\n\t}\n\n\thandleClose = handle(\n\t\tforProp('open', true),\n\t\tforwardDismiss\n\t).bind(this);\n\n\thandleClick = handle(\n\t\tforProp('noAutoDismiss', false),\n\t\tforProp('open', true),\n\t\tforward('onDismiss')\n\t).bind(this);\n\n\thandleScroll = (ev) => {\n\t\tconst {currentTarget} = ev;\n\t\tcurrentTarget.scrollTop = 0;\n\t\tcurrentTarget.scrollLeft = 0;\n\t};\n\n\tstopPropagation = (ev) => {\n\t\tev.nativeEvent.stopImmediatePropagation();\n\n\t\tif (this.props.children.props.onClick) {\n\t\t\tthis.props.children.props.onClick();\n\t\t}\n\t};\n\n\trenderNode () {\n\t\tconst {floatLayerClassName} = this.props;\n\n\t\tif (this.node) return;\n\n\t\tinvariant(\n\t\t\tthis.floatingLayer,\n\t\t\t'FloatingLayer cannot be used outside the subtree of a FloatingLayerDecorator'\n\t\t);\n\n\t\tthis.node = document.createElement('div');\n\t\tthis.node.className = floatLayerClassName;\n\t\tthis.node.style.zIndex = 100;\n\n\t\tthis.floatingLayer.appendChild(this.node);\n\t\ton('scroll', this.handleScroll, this.node);\n\n\t\t// render children when this.node is inserted in the DOM tree.\n\t\tthis.setState({nodeRendered: true});\n\t}\n\n\trender () {\n\t\tconst {children, open, scrimType, ...rest} = this.props;\n\n\t\tdelete rest.floatLayerClassName;\n\t\tdelete rest.floatLayerId;\n\t\tdelete rest.noAutoDismiss;\n\t\tdelete rest.onClose;\n\t\tdelete rest.onDismiss;\n\t\tdelete rest.onOpen;\n\n\t\tif (open && this.state.nodeRendered) {\n\t\t\treturn ReactDOM.createPortal(\n\t\t\t\t<div {...rest}>\n\t\t\t\t\t{scrimType !== 'none' ? <Scrim type={scrimType} onClick={this.handleClick} /> : null}\n\t\t\t\t\t{React.cloneElement(children, {onClick: this.stopPropagation})}\n\t\t\t\t</div>,\n\t\t\t\tthis.node\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nconst handleCancel = handle(\n\t// can't use forProp safely since either could be undefined ~= false\n\t(ev, {open, noAutoDismiss, onDismiss}) => open && !noAutoDismiss && onDismiss,\n\tforwardDismiss,\n\tstop\n);\n\n/**\n * FloatingLayer that mixes {@link ui/Cancelable.Cancelable} to handle FloatingLayer dismissal.\n *\n * This is used for modal components such as popups.\n *\n * @class FloatingLayer\n * @memberof ui/FloatingLayer\n * @ui\n * @extends ui/FloatingLayer.FloatingLayerBase\n * @mixes ui/Cancelable.Cancelable\n * @public\n */\nconst FloatingLayer = Cancelable({modal: true, onCancel: handleCancel}, FloatingLayerBase);\n\nexport default FloatingLayer;\nexport {FloatingLayer, FloatingLayerBase};\n","import React from 'react';\n\nimport {FloatingLayerContext} from './FloatingLayerDecorator';\n\nfunction useFloatingLayer () {\n\tconst [floatingLayerId, setId] = React.useState(null);\n\tconst handler = React.useCallback((ev) => {\n\t\tif (ev.action === 'mount' && ev.floatingLayer) {\n\t\t\tsetId(ev.floatingLayer.id);\n\t\t}\n\t}, [setId]);\n\n\tconst registerFloatingLayer = React.useContext(FloatingLayerContext);\n\n\tReact.useEffect(() => {\n\t\tif (registerFloatingLayer) {\n\t\t\tregisterFloatingLayer(handler);\n\t\t}\n\t}, [handler, registerFloatingLayer]);\n\n\treturn {floatingLayerId};\n}\n\nexport default useFloatingLayer;\nexport {useFloatingLayer};\n","/**\n * FloatingLayer provides a way to render a component into a node outside of its parent component.\n *\n * This is used for modal components such as popups.\n *\n * @module ui/FloatingLayer\n * @exports FloatingLayer\n * @exports FloatingLayerBase\n * @exports FloatingLayerDecorator\n */\n\nimport {FloatingLayer, FloatingLayerBase} from './FloatingLayer';\nimport {FloatingLayerDecorator} from './FloatingLayerDecorator';\nimport {useFloatingLayer} from './useFloatingLayer';\n\nexport default FloatingLayer;\nexport {\n\tFloatingLayer,\n\tFloatingLayerBase,\n\tFloatingLayerDecorator,\n\tuseFloatingLayer\n};\n","/**\n * An unstyled indeterminate progress indicator (Spinner) component to be customized by a\n * theme or application.\n *\n * Basically, this positions your `Spinner` component where you want it on the\n * screen, and hooks into the interaction blocking code and scrim management.\n *\n * The theme using this component must supply a `component` element which follows the requirements\n * listed by the [component]{@link ui/Spinner.Spinner.component} prop documentation.\n *\n * @module ui/Spinner\n * @exports Spinner\n * @exports SpinnerBase\n * @exports SpinnerDecorator\n */\n\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport FloatingLayer from '../FloatingLayer';\nimport ForwardRef from '../ForwardRef';\n\nimport componentCss from './Spinner.module.less';\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states, without\n * [SpinnerDecorator](ui/Spinner.SpinnerDecorator) applied.\n *\n * @class SpinnerBase\n * @memberof ui/Spinner\n * @ui\n * @public\n */\nconst SpinnerBase = kind({\n\tname: 'ui:Spinner',\n\n\tpropTypes: /** @lends ui/Spinner.SpinnerBase.prototype */ {\n\t\t/**\n\t\t * A theme-supplied component that performs the animation.\n\t\t *\n\t\t * Theme authors can use the `css.running` class to attach the animation CSS.\n\t\t * This element should accept a `children` prop which takes the form of an optional message\n\t\t * for the user.\n\t\t *\n\t\t * Unlike most other components, this does *not* represent the root rendered element, and\n\t\t * instead refers to the \"spinner\" part of this component. The presence of `blockClickOn`\n\t\t * changes the rendering tree and where this is used.\n\t\t *\n\t\t * @type {String|Component}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tcomponent: EnactPropTypes.renderable.isRequired,\n\n\t\t/**\n\t\t * Determines how far the click-blocking should extend.\n\t\t *\n\t\t * * `null` does not block clicking\n\t\t * * 'screen' blocks entire screen\n\t\t * * 'container' blocks up to the nearest ancestor with absolute or relative positioning\n\t\t *\n\t\t * When `blockClickOn` is either `'screen'` or `'container'`, a translucent scrim can be added\n\t\t * by setting [scrim]{@link ui/Spinner.Spinner#scrim} prop to `true`.\n\t\t *\n\t\t * @type {String|null}\n\t\t * @public\n\t\t */\n\t\tblockClickOn: PropTypes.oneOf(['screen', 'container', null]),\n\n\t\t/**\n\t\t * Centers the spinner horizontally and vertically relative to its containing component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tcentered: PropTypes.bool,\n\n\t\t/**\n\t\t * Called with a reference to [component]{@link ui/Spinner.Spinner#component}\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tcomponentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `spinner` - The root `component` class\n\t\t * * `spinnerContainer` - Added as a parent in the case of `blockOnClick=\"container\"\n\t\t * * `blockClickOn` - Applied if interaction should be blocked\n\t\t * * `centered` - Applied if the `centered` prop is present\n\t\t * * `running` - Always applied to `component`. Attach animation name property to this class.\n\t\t * * `scrim` - The blocking layer behind the Spinner\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Halts the animation of the spinner\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tpaused: PropTypes.bool,\n\n\t\t/**\n\t\t * Sets a scrim behind the spinner with the `css.scrim` class applied.\n\t\t *\n\t\t * Only has an effect when `blockClickOn` is `'screen'` or `'container'` and has no effect\n\t\t * by default or when blockClickOn is `null`.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tscrim: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tcentered: false,\n\t\tpaused: false,\n\t\tscrim: false\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'spinner',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({centered, paused, styler}) => styler.append(\n\t\t\t{centered, running: !paused}\n\t\t),\n\t\tscrimClassName: ({blockClickOn, scrim, styler}) => styler.join(\n\t\t\t{blockClickOn, scrim}\n\t\t),\n\t\tscrimType: ({scrim}) => scrim ? 'translucent' : 'transparent',\n\t\tspinnerContainerClassName: ({blockClickOn, centered, styler}) => styler.join(\n\t\t\t{centered, spinnerContainer: blockClickOn}\n\t\t)\n\t},\n\n\trender: ({blockClickOn, component: Component, componentRef, scrimClassName, scrimType, spinnerContainerClassName, ...rest}) =>  {\n\t\tdelete rest.centered;\n\t\tdelete rest.paused;\n\t\tdelete rest.scrim;\n\n\t\tswitch (blockClickOn) {\n\t\t\tcase 'screen': {\n\t\t\t\treturn (\n\t\t\t\t\t<FloatingLayer noAutoDismiss open scrimType={scrimType}>\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t);\n\t\t\t}\n\t\t\tcase 'container': {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={spinnerContainerClassName}>\n\t\t\t\t\t\t<div className={scrimClassName} />\n\t\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn (\n\t\t\t\t\t<Component ref={componentRef} {...rest} />\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/**\n * Applies Spinner behaviors\n *\n * @class SpinnerDecorator\n * @memberof ui/Spinner\n * @mixes ui/ForwardRef.ForwardRef\n * @hoc\n * @public\n */\nconst SpinnerDecorator = ForwardRef({prop: 'componentRef'});\n\n/**\n * A minimally styled component that controls `Spinner` positioning and interaction states.\n *\n * @class Spinner\n * @memberof ui/Spinner\n * @extends ui/Spinner.SpinnerBase\n * @mixes ui/Spinner.SpinnerDecorator\n * @ui\n * @public\n */\nconst Spinner = SpinnerDecorator(SpinnerBase);\n\nexport default Spinner;\nexport {\n\tSpinner,\n\tSpinnerBase,\n\tSpinnerDecorator\n};\n","import {is} from '@enact/core/keymap';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport utilEvent from '@enact/ui/useScroll/utilEvent';\nimport clamp from 'ramda/src/clamp';\nimport {useCallback, useEffect, useRef} from 'react';\n\nconst\n\tisDown = is('down'),\n\tisEnter = is('enter'),\n\tisLeft = is('left'),\n\tisPageUp = is('pageUp'),\n\tisPageDown = is('pageDown'),\n\tisRight = is('right'),\n\tisUp = is('up'),\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useEventKey = (props, instances, context) => {\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tfn: null\n\t});\n\n\t// Functions\n\n\tconst findSpottableItem = useCallback((indexFrom, indexTo) => {\n\t\tconst {dataSize} = props;\n\t\tif (indexFrom < 0 && indexTo < 0 || indexFrom >= dataSize && indexTo >= dataSize) {\n\t\t\treturn -1;\n\t\t} else {\n\t\t\treturn clamp(0, dataSize - 1, indexFrom);\n\t\t}\n\t}, [props]);\n\n\tconst getNextIndex = useCallback(({index, keyCode, repeat}) => {\n\t\tconst {dataSize, rtl, wrap} = props;\n\t\tconst {scrollContentHandle} = instances;\n\t\tconst {isPrimaryDirectionVertical, dimensionToExtent} = scrollContentHandle.current;\n\t\tconst column = index % dimensionToExtent;\n\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\tconst isDownKey = isDown(keyCode);\n\t\tconst isLeftMovement = (!rtl && isLeft(keyCode)) || (rtl && isRight(keyCode));\n\t\tconst isRightMovement = (!rtl && isRight(keyCode)) || (rtl && isLeft(keyCode));\n\t\tconst isUpKey = isUp(keyCode);\n\t\tconst isNextRow = index + dimensionToExtent < dataSize;\n\t\tconst isNextAdjacent = column < dimensionToExtent - 1 && index < (dataSize - 1);\n\t\tconst isBackward = (\n\t\t\tisPrimaryDirectionVertical && isUpKey ||\n\t\t\t!isPrimaryDirectionVertical && isLeftMovement ||\n\t\t\tnull\n\t\t);\n\t\tconst isForward = (\n\t\t\tisPrimaryDirectionVertical && isDownKey ||\n\t\t\t!isPrimaryDirectionVertical && isRightMovement ||\n\t\t\tnull\n\t\t);\n\t\tlet isWrapped = false;\n\t\tlet nextIndex = -1;\n\t\tlet targetIndex = -1;\n\n\t\tif (index >= 0) {\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tif (isUpKey && row) {\n\t\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t\t} else if (isDownKey && isNextRow) {\n\t\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t\t} else if (isLeftMovement && column) {\n\t\t\t\t\ttargetIndex = index - 1;\n\t\t\t\t} else if (isRightMovement && isNextAdjacent) {\n\t\t\t\t\ttargetIndex = index + 1;\n\t\t\t\t}\n\t\t\t} else if (isLeftMovement && row) {\n\t\t\t\ttargetIndex = index - dimensionToExtent;\n\t\t\t} else if (isRightMovement && isNextRow) {\n\t\t\t\ttargetIndex = index + dimensionToExtent;\n\t\t\t} else if (isUpKey && column) {\n\t\t\t\ttargetIndex = index - 1;\n\t\t\t} else if (isDownKey && isNextAdjacent) {\n\t\t\t\ttargetIndex = index + 1;\n\t\t\t}\n\n\t\t\tif (targetIndex >= 0) {\n\t\t\t\tnextIndex = targetIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (!repeat && nextIndex === -1 && wrap) {\n\t\t\tif (isForward && findSpottableItem((row + 1) * dimensionToExtent, dataSize) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(0, index);\n\t\t\t\tisWrapped = true;\n\t\t\t} else if (isBackward && findSpottableItem(-1, row * dimensionToExtent - 1) < 0) {\n\t\t\t\tnextIndex = findSpottableItem(dataSize, index);\n\t\t\t\tisWrapped = true;\n\t\t\t}\n\t\t}\n\n\t\treturn {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex};\n\t}, [findSpottableItem, props, instances]);\n\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {scrollContainerRef, scrollContentHandle} = instances;\n\t\tconst {\n\t\t\thandle5WayKeyUp,\n\t\t\thandleDirectionKeyDown,\n\t\t\thandlePageUpDownKeyDown,\n\t\t\tspotlightAcceleratorProcessKey\n\t\t} = context;\n\n\t\tfunction handleKeyDown (ev) {\n\t\t\tconst {keyCode, target} = ev;\n\t\t\tconst direction = getDirection(keyCode);\n\n\t\t\tif (direction) {\n\t\t\t\tSpotlight.setPointerMode(false);\n\n\t\t\t\tif (spotlightAcceleratorProcessKey(ev)) {\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t} else {\n\t\t\t\t\tconst {spotlightId} = props;\n\t\t\t\t\tconst targetIndex = target.dataset.index;\n\t\t\t\t\tconst isNotItem = (\n\t\t\t\t\t\t// if target has an index, it must be an item\n\t\t\t\t\t\t!targetIndex &&\n\t\t\t\t\t\t// if it lacks an index and is inside the scroller, we need to handle this\n\t\t\t\t\t\ttarget.matches(`[data-spotlight-id=\"${spotlightId}\"] *`)\n\t\t\t\t\t);\n\t\t\t\t\tconst index = !isNotItem ? getNumberValue(targetIndex) : -1;\n\t\t\t\t\tconst candidate = getTargetByDirectionFromElement(direction, target);\n\t\t\t\t\tconst candidateIndex = candidate && candidate.dataset && getNumberValue(candidate.dataset.index);\n\t\t\t\t\tlet isLeaving = false;\n\n\t\t\t\t\tif (isNotItem) { // if the focused node is not an item\n\t\t\t\t\t\tif (!utilDOM.containsDangerously(ev.currentTarget, candidate)) { // if the candidate is out of a list\n\t\t\t\t\t\t\tisLeaving = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (index >= 0 && candidateIndex !== index) { // the focused node is an item and focus will move out of the item\n\t\t\t\t\t\tconst {repeat} = ev;\n\t\t\t\t\t\tconst {isDownKey, isUpKey, isLeftMovement, isRightMovement, isWrapped, nextIndex} = getNextIndex({index, keyCode, repeat});\n\n\t\t\t\t\t\tif (nextIndex >= 0) { // if the candidate is another item\n\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'acceleratedKeyDown', {isWrapped, keyCode, nextIndex, repeat, target});\n\t\t\t\t\t\t} else { // if the candidate is not found\n\t\t\t\t\t\t\tconst {dataSize, focusableScrollbar, isHorizontalScrollbarVisible, isVerticalScrollbarVisible} = props;\n\t\t\t\t\t\t\tconst {dimensionToExtent, isPrimaryDirectionVertical} = scrollContentHandle.current;\n\t\t\t\t\t\t\tconst column = index % dimensionToExtent;\n\t\t\t\t\t\t\tconst row = (index - column) % dataSize / dimensionToExtent;\n\t\t\t\t\t\t\tconst directions = {};\n\t\t\t\t\t\t\tlet isScrollbarVisible;\n\n\t\t\t\t\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\t\t\t\t\tdirections.left = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.right = isRightMovement;\n\t\t\t\t\t\t\t\tdirections.up = isUpKey;\n\t\t\t\t\t\t\t\tdirections.down = isDownKey;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isVerticalScrollbarVisible;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tdirections.left = isUpKey;\n\t\t\t\t\t\t\t\tdirections.right = isDownKey;\n\t\t\t\t\t\t\t\tdirections.up = isLeftMovement;\n\t\t\t\t\t\t\t\tdirections.down = isRightMovement;\n\t\t\t\t\t\t\t\tisScrollbarVisible = isHorizontalScrollbarVisible;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tisLeaving =\n\t\t\t\t\t\t\t\tdirections.up && row === 0 ||\n\t\t\t\t\t\t\t\tdirections.down && row === Math.floor((dataSize - 1) % dataSize / dimensionToExtent) ||\n\t\t\t\t\t\t\t\tdirections.left && column === 0 ||\n\t\t\t\t\t\t\t\tdirections.right && (!focusableScrollbar || !isScrollbarVisible) && (column === dimensionToExtent - 1 || index === dataSize - 1 && row === 0);\n\n\t\t\t\t\t\t\tif (repeat && isLeaving) { // if focus is about to leave items by holding down an arrowy key\n\t\t\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\t\t\t} else if (!isLeaving) {\n\t\t\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyDown', {direction, keyCode, repeat, target});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeaving) {\n\t\t\t\t\t\thandleDirectionKeyDown(ev, 'keyLeave');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (isPageUp(keyCode) || isPageDown(keyCode)) {\n\t\t\t\thandlePageUpDownKeyDown();\n\t\t\t}\n\t\t}\n\n\t\tfunction handleKeyUp ({keyCode}) {\n\t\t\tif (getDirection(keyCode) || isEnter(keyCode)) {\n\t\t\t\thandle5WayKeyUp();\n\t\t\t}\n\t\t}\n\n\t\tutilEvent('keydown').addEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\tutilEvent('keyup').addEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\n\t\treturn () => {\n\t\t\tutilEvent('keydown').removeEventListener(scrollContainerRef, handleKeyDown, {capture: true});\n\t\t\tutilEvent('keyup').removeEventListener(scrollContainerRef, handleKeyUp, {capture: true});\n\t\t};\n\t}, [getNextIndex, props, instances, context]);\n\n\t// Functions\n\n\tfunction addGlobalKeyDownEventListener (fn) {\n\t\tmutableRef.current.fn = fn;\n\t\tutilEvent('keydown').addEventListener(document, mutableRef.current.fn, {capture: true});\n\t}\n\n\tfunction removeGlobalKeyDownEventListener () {\n\t\tutilEvent('keydown').removeEventListener(document, mutableRef.current.fn, {capture: true});\n\t\tmutableRef.current.fn = null;\n\t}\n\n\t// Return\n\n\treturn {\n\t\taddGlobalKeyDownEventListener,\n\t\tremoveGlobalKeyDownEventListener\n\t};\n};\n\nexport default useEventKey;\nexport {\n\tuseEventKey\n};\n","import utilEvent from '@enact/ui/useScroll/utilEvent';\nimport {useEffect} from 'react';\n\nconst usePreventScroll = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tconst {rtl, scrollMode} = props;\n\t\tconst {scrollContentRef} = instances;\n\t\tconst scrollContentNode = scrollContentRef.current;\n\n\t\tif (scrollMode === 'translate' && scrollContentNode) {\n\t\t\tconst preventScroll = () => {\n\t\t\t\tscrollContentNode.scrollTop = 0;\n\t\t\t\tscrollContentNode.scrollLeft = rtl ? scrollContentNode.scrollWidth : 0;\n\t\t\t};\n\n\t\t\tutilEvent('scroll').addEventListener(scrollContentNode, preventScroll);\n\n\t\t\treturn () => {\n\t\t\t\t// remove a function for preventing native scrolling by Spotlight\n\t\t\t\tutilEvent('scroll').removeEventListener(scrollContentNode, preventScroll);\n\t\t\t};\n\t\t}\n\t}, [props, instances]);\n};\n\nexport default usePreventScroll;\nexport {\n\tusePreventScroll\n};\n","import Spotlight from '@enact/spotlight';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport {useEffect, useRef} from 'react';\n\nconst useSpotlightConfig = (props, instances) => {\n\t// Hooks\n\n\tuseEffect(() => {\n\t\tfunction lastFocusedPersist () {\n\t\t\tconst {spottable: {current: {lastFocusedIndex}}} = instances;\n\n\t\t\tif (lastFocusedIndex != null) {\n\t\t\t\treturn {\n\t\t\t\t\tcontainer: false,\n\t\t\t\t\telement: true,\n\t\t\t\t\tkey: lastFocusedIndex\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tfunction lastFocusedRestore ({key}, all) {\n\t\t\tconst placeholder = all.find(el => 'vlPlaceholder' in el.dataset);\n\n\t\t\tif (placeholder) {\n\t\t\t\tplaceholder.dataset.index = key;\n\n\t\t\t\treturn placeholder;\n\t\t\t}\n\n\t\t\treturn all.reduce((focused, node) => {\n\t\t\t\treturn focused || Number(node.dataset.index) === key && node;\n\t\t\t}, null);\n\t\t}\n\n\t\tfunction configureSpotlight () {\n\t\t\tconst {spacing, spotlightId} = props;\n\n\t\t\tSpotlight.set(spotlightId, {\n\t\t\t\tenterTo: 'last-focused',\n\t\t\t\t/*\n\t\t\t\t * Returns the data-index as the key for last focused\n\t\t\t\t */\n\t\t\t\tlastFocusedPersist,\n\n\t\t\t\t/*\n\t\t\t\t * Restores the data-index into the placeholder if its the only element. Tries to find a\n\t\t\t\t * matching child otherwise.\n\t\t\t\t */\n\t\t\t\tlastFocusedRestore,\n\n\t\t\t\t/*\n\t\t\t\t * Directs spotlight focus to favor straight elements that are within range of `spacing`\n\t\t\t\t * over oblique elements, like scroll buttons.\n\t\t\t\t */\n\t\t\t\tobliqueMultiplier: spacing > 0 ? spacing : 1\n\t\t\t});\n\t\t}\n\n\t\tconfigureSpotlight();\n\t}, [props, instances]);\n};\n\nconst getNumberValue = (index) => {\n\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\tlet number = +index;\n\t// should return -1 if index is not a number or a negative value\n\treturn number >= 0 ? number : -1;\n};\n\nconst useSpotlightRestore = (props, instances, context) => {\n\tconst {scrollContentRef, spottable} = instances;\n\tconst {focusByIndex, getItemNode} = context;\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tpreservedIndex: false,\n\t\tlastSpotlightDirection: null,\n\t\trestoreLastFocused: false\n\t});\n\n\t// Hooks\n\n\tuseEffect(restoreFocus);\n\n\t// Functions\n\n\tfunction handlePlaceholderFocus (ev) {\n\t\tconst placeholder = ev.currentTarget;\n\n\t\tif (placeholder) {\n\t\t\tconst index = placeholder.dataset.index;\n\n\t\t\tif (index) {\n\t\t\t\tmutableRef.current.preservedIndex = getNumberValue(index);\n\t\t\t\tmutableRef.current.lastSpotlightDirection = null;\n\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isPlaceholderFocused () {\n\t\tconst current = Spotlight.getCurrent();\n\n\t\tif (current && current.dataset.vlPlaceholder && utilDOM.containsDangerously(scrollContentRef.current, current)) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction restoreFocus () {\n\t\tif (\n\t\t\tmutableRef.current.restoreLastFocused &&\n\t\t\t!isPlaceholderFocused()\n\t\t) {\n\t\t\tconst\n\t\t\t\t{spotlightId} = props,\n\t\t\t\titemNode = getItemNode(mutableRef.current.preservedIndex);\n\n\t\t\tif (itemNode) {\n\t\t\t\t// if we're supposed to restore focus and virtual list has positioned a set of items\n\t\t\t\t// that includes lastFocusedIndex, clear the indicator\n\t\t\t\tmutableRef.current.restoreLastFocused = false;\n\n\t\t\t\t// try to focus the last focused item\n\t\t\t\tspottable.current.isScrolledByJump = true;\n\t\t\t\tconst foundLastFocused = focusByIndex(mutableRef.current.preservedIndex, mutableRef.current.lastSpotlightDirection);\n\t\t\t\tspottable.current.isScrolledByJump = false;\n\n\t\t\t\t// but if that fails (because it isn't found or is disabled), focus the container so\n\t\t\t\t// spotlight isn't lost\n\t\t\t\tif (!foundLastFocused) {\n\t\t\t\t\tmutableRef.current.restoreLastFocused = true;\n\t\t\t\t\tSpotlight.focus(spotlightId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleRestoreLastFocus ({firstIndex, lastIndex}) {\n\t\tif (mutableRef.current.restoreLastFocused && mutableRef.current.preservedIndex >= firstIndex && mutableRef.current.preservedIndex <= lastIndex) {\n\t\t\trestoreFocus();\n\t\t}\n\t}\n\n\tfunction updateStatesAndBounds ({dataSize, moreInfo, numOfItems}) {\n\t\treturn (mutableRef.current.restoreLastFocused && numOfItems > 0 && mutableRef.current.preservedIndex < dataSize && (\n\t\t\tmutableRef.current.preservedIndex < moreInfo.firstVisibleIndex || mutableRef.current.preservedIndex > moreInfo.lastVisibleIndex\n\t\t));\n\t}\n\n\tfunction setPreservedIndex (index, direction = null) {\n\t\tmutableRef.current.preservedIndex = index;\n\t\tmutableRef.current.lastSpotlightDirection = direction;\n\t\tmutableRef.current.restoreLastFocused = true;\n\t}\n\n\t// Return\n\n\treturn {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nexport {\n\tuseSpotlightConfig,\n\tuseSpotlightRestore\n};\n","import Spotlight, {getDirection} from '@enact/spotlight';\nimport Accelerator from '@enact/spotlight/Accelerator';\nimport Pause from '@enact/spotlight/Pause';\nimport {getTargetByDirectionFromElement} from '@enact/spotlight/src/target';\nimport {Spottable} from '@enact/spotlight/Spottable';\nimport utilDOM from '@enact/ui/useScroll/utilDOM';\nimport React, {useCallback, useEffect, useRef} from 'react';\n\nimport {dataIndexAttribute} from '../useScroll';\n\nimport {useEventKey} from './useEvent';\nimport usePreventScroll from './usePreventScroll';\nimport {useSpotlightConfig, useSpotlightRestore} from './useSpotlight';\n\nconst SpotlightAccelerator = new Accelerator();\nconst SpotlightPlaceholder = Spottable('div');\n\nconst\n\tnop = () => {},\n\tgetNumberValue = (index) => {\n\t\t// using '+ operator' for string > number conversion based on performance: https://jsperf.com/convert-string-to-number-techniques/7\n\t\tlet number = +index;\n\t\t// should return -1 if index is not a number or a negative value\n\t\treturn number >= 0 ? number : -1;\n\t};\n\nconst useSpottable = (props, instances) => {\n\tconst {scrollMode} = props;\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle} = instances;\n\tconst getItemNode = (index) => {\n\t\tconst itemNode = itemRefs.current[index % scrollContentHandle.current.state.numOfItems];\n\t\treturn (itemNode && parseInt(itemNode.dataset.index) === index) ? itemNode : null;\n\t};\n\n\t// Mutable value\n\n\tconst mutableRef = useRef({\n\t\tisScrolledBy5way: false,\n\t\tisScrolledByJump: false,\n\t\tisWrappedBy5way: false,\n\t\tlastFocusedIndex: null,\n\t\tpause: new Pause('VirtualListBasic')\n\t});\n\n\tconst {pause} = mutableRef.current;\n\n\t// Hooks\n\n\tuseSpotlightConfig(props, {spottable: mutableRef});\n\n\tconst {addGlobalKeyDownEventListener, removeGlobalKeyDownEventListener} = useEventKey(props, instances, {\n\t\thandlePageUpDownKeyDown: () => {\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t},\n\t\thandleDirectionKeyDown: (ev, eventType, param) => {\n\t\t\tswitch (eventType) {\n\t\t\t\tcase 'acceleratedKeyDown':\n\t\t\t\t\tonAcceleratedKeyDown(param);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyDown':\n\t\t\t\t\tif (Spotlight.move(param.direction)) {\n\t\t\t\t\t\tconst nextTargetIndex = Spotlight.getCurrent().dataset.index;\n\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tev.stopPropagation();\n\n\t\t\t\t\t\tif (typeof nextTargetIndex === 'string') {\n\t\t\t\t\t\t\tonAcceleratedKeyDown({...param, nextIndex: getNumberValue(nextTargetIndex)});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'keyLeave':\n\t\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\t\thandle5WayKeyUp: () => {\n\t\t\tSpotlightAccelerator.reset();\n\t\t},\n\t\tspotlightAcceleratorProcessKey: (ev) => {\n\t\t\treturn SpotlightAccelerator.processKey(ev, nop);\n\t\t}\n\t});\n\n\tconst {\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tsetPreservedIndex,\n\t\tupdateStatesAndBounds\n\t} = useSpotlightRestore(props, {...instances, spottable: mutableRef}, {focusByIndex, getItemNode});\n\n\tfunction pauseSpotlight (bool) {\n\t\tif (bool) {\n\t\t\tpause.pause();\n\t\t} else {\n\t\t\tpause.resume();\n\t\t}\n\t}\n\n\tconst setContainerDisabled = useCallback((bool) => {\n\t\tif (scrollContainerRef.current) {\n\t\t\tscrollContainerRef.current.dataset.spotlightContainerDisabled = bool;\n\n\t\t\tif (bool) {\n\t\t\t\taddGlobalKeyDownEventListener(handleGlobalKeyDown);\n\t\t\t} else {\n\t\t\t\tremoveGlobalKeyDownEventListener();\n\t\t\t}\n\t\t}\n\t}, [addGlobalKeyDownEventListener, handleGlobalKeyDown, removeGlobalKeyDownEventListener, scrollContainerRef]);\n\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\tfunction handleGlobalKeyDown (ev) {\n\t\t// To prevent scrolling by native scroller\n\t\tif (scrollMode === 'native') {\n\t\t\tev.preventDefault();\n\t\t\tev.stopPropagation();\n\t\t}\n\n\t\tsetContainerDisabled(false);\n\t}\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\t// TODO: Fix eslint\n\t\t\tpause.resume(); // eslint-disable-line react-hooks/exhaustive-deps\n\t\t\tSpotlightAccelerator.reset();\n\n\t\t\tsetContainerDisabled(false);\n\t\t};\n\t}, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n\t// Functions\n\n\tfunction onAcceleratedKeyDown ({isWrapped, keyCode, nextIndex, repeat, target}) {\n\t\tconst {cbScrollTo, wrap} = props;\n\t\tconst {dimensionToExtent, primary: {clientSize, itemSize}, scrollPosition, scrollPositionTarget} = scrollContentHandle.current;\n\t\tconst index = getNumberValue(target.dataset.index);\n\t\tconst direction = getDirection(keyCode);\n\n\t\tmutableRef.current.isScrolledBy5way = false;\n\t\tmutableRef.current.isScrolledByJump = false;\n\n\t\tif (nextIndex >= 0 && index >= 0) {\n\t\t\tconst\n\t\t\t\trow = Math.floor(index / dimensionToExtent),\n\t\t\t\tnextRow = Math.floor(nextIndex / dimensionToExtent),\n\t\t\t\tstart = scrollContentHandle.current.getGridPosition(nextIndex).primaryPosition,\n\t\t\t\tend = props.itemSizes ? scrollContentHandle.current.getItemBottomPosition(nextIndex) : start + itemSize,\n\t\t\t\tstartBoundary = (scrollMode === 'native') ? scrollPosition : scrollPositionTarget,\n\t\t\t\tendBoundary = startBoundary + clientSize;\n\n\t\t\tmutableRef.current.lastFocusedIndex = nextIndex;\n\n\t\t\tif (start >= startBoundary && end <= endBoundary) {\n\t\t\t\t// The next item could be still out of viewport. So we need to prevent scrolling into view with `isScrolledBy5way` flag.\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\t} else if (row === nextRow) {\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\t\t\t} else {\n\t\t\t\tconst itemNode = getItemNode(nextIndex);\n\t\t\t\tconst stickTo = Math.abs(endBoundary - end) < Math.abs(startBoundary - start) ? 'end' : 'start';\n\n\t\t\t\tmutableRef.current.isScrolledBy5way = true;\n\t\t\t\tmutableRef.current.isWrappedBy5way = isWrapped;\n\n\t\t\t\tif (isWrapped && wrap === true && itemNode === null) {\n\t\t\t\t\tpause.pause();\n\t\t\t\t\ttarget.blur();\n\t\t\t\t}\n\t\t\t\tfocusByIndex(nextIndex, direction);\n\n\t\t\t\tcbScrollTo({\n\t\t\t\t\tindex: nextIndex,\n\t\t\t\t\tstickTo,\n\t\t\t\t\tanimate: !(isWrapped && wrap === 'noAnimation')\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (!repeat && Spotlight.move(direction)) {\n\t\t\tSpotlightAccelerator.reset();\n\t\t}\n\t}\n\n\tfunction focusOnNode (node) {\n\t\tif (node) {\n\t\t\treturn Spotlight.focus(node);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tfunction focusByIndex (index, direction) {\n\t\tconst itemNode = getItemNode(index);\n\t\tlet returnVal = false;\n\n\t\tif (!itemNode && index >= 0 && index < props.dataSize) {\n\t\t\t// Item is valid but since the the dom doesn't exist yet, we set the index to focus after the ongoing update\n\t\t\tsetPreservedIndex(index, direction);\n\t\t} else {\n\t\t\tconst\n\t\t\t\tcurrent = Spotlight.getCurrent(),\n\t\t\t\tcandidate = current ? getTargetByDirectionFromElement(direction, current) : itemNode;\n\n\t\t\t// Remove any preservedIndex\n\t\t\tsetPreservedIndex(-1);\n\n\t\t\tif (mutableRef.current.isWrappedBy5way) {\n\t\t\t\tSpotlightAccelerator.reset();\n\t\t\t\tmutableRef.current.isWrappedBy5way = false;\n\t\t\t}\n\n\t\t\tpause.resume();\n\t\t\tif (utilDOM.containsDangerously(itemNode, candidate)) {\n\t\t\t\treturnVal = focusOnNode(candidate);\n\t\t\t} else {\n\t\t\t\treturnVal = focusOnNode(itemNode);\n\t\t\t}\n\t\t\tmutableRef.current.isScrolledBy5way = false;\n\t\t\tmutableRef.current.isScrolledByJump = false;\n\t\t}\n\n\t\treturn returnVal;\n\t}\n\n\tfunction calculatePositionOnFocus ({item, scrollPosition = scrollContentHandle.current.scrollPosition}) {\n\t\tconst\n\n\t\t\t{pageScroll} = props,\n\t\t\t{state: {numOfItems}, primary} = scrollContentHandle.current,\n\t\t\toffsetToClientEnd = primary.clientSize - primary.itemSize,\n\t\t\tfocusedIndex = getNumberValue(item.getAttribute(dataIndexAttribute));\n\n\t\tif (focusedIndex >= 0) {\n\t\t\tlet gridPosition = scrollContentHandle.current.getGridPosition(focusedIndex);\n\n\t\t\tif (numOfItems > 0 && focusedIndex % numOfItems !== mutableRef.current.lastFocusedIndex % numOfItems) {\n\t\t\t\tconst itemNode = getItemNode(mutableRef.current.lastFocusedIndex);\n\n\t\t\t\tif (itemNode) {\n\t\t\t\t\titemNode.blur();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tmutableRef.current.lastFocusedIndex = focusedIndex;\n\n\t\t\tif (primary.clientSize >= primary.itemSize) {\n\t\t\t\tif (gridPosition.primaryPosition > scrollPosition + offsetToClientEnd) { // forward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? 0 : offsetToClientEnd;\n\t\t\t\t} else if (gridPosition.primaryPosition >= scrollPosition) { // inside of client\n\t\t\t\t\tif (scrollMode === 'translate') {\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This code uses the trick to change the target position slightly which will not affect the actual result\n\t\t\t\t\t\t// since a browser ignore `scrollTo` method if the target position is same as the current position.\n\t\t\t\t\t\tgridPosition.primaryPosition = scrollPosition + (scrollContentHandle.current.scrollPosition === scrollPosition ? 0.1 : 0);\n\t\t\t\t\t}\n\t\t\t\t} else { // backward over\n\t\t\t\t\tgridPosition.primaryPosition -= pageScroll ? offsetToClientEnd : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Since the result is used as a target position to be scrolled,\n\t\t\t// scrondaryPosition should be 0 here.\n\t\t\tgridPosition.secondaryPosition = 0;\n\n\t\t\treturn scrollContentHandle.current.gridPositionToItemPosition(gridPosition);\n\t\t}\n\t}\n\n\tfunction shouldPreventScrollByFocus () {\n\t\treturn ((scrollMode === 'translate') ? (mutableRef.current.isScrolledBy5way) : (mutableRef.current.isScrolledBy5way || mutableRef.current.isScrolledByJump));\n\t}\n\n\tfunction setLastFocusedNode (node) {\n\t\tmutableRef.current.lastFocusedIndex = node.dataset && getNumberValue(node.dataset.index);\n\t}\n\n\tfunction getScrollBounds () {\n\t\treturn scrollContentHandle.current.getScrollBounds();\n\t}\n\n\t// Return\n\n\treturn {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t};\n};\n\nconst useThemeVirtualList = (props) => {\n\tconst {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef} = props;\n\n\t// Hooks\n\n\tconst instance = {itemRefs, scrollContainerRef, scrollContentHandle, scrollContentRef};\n\n\tconst {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\thandlePlaceholderFocus,\n\t\thandleRestoreLastFocus,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus,\n\t\tupdateStatesAndBounds\n\t} = useSpottable(props, instance);\n\n\tusePreventScroll(props, instance);\n\n\tconst handle = {\n\t\tcalculatePositionOnFocus,\n\t\tfocusByIndex,\n\t\tfocusOnNode,\n\t\tgetScrollBounds,\n\t\tpauseSpotlight,\n\t\tsetContainerDisabled,\n\t\tsetLastFocusedNode,\n\t\tshouldPreventScrollByFocus\n\t};\n\n\tprops.setThemeScrollContentHandle(handle);\n\n\t// Render\n\n\tconst {itemRenderer, ...rest} = props;\n\n\tdelete rest.focusableScrollbar;\n\tdelete rest.scrollAndFocusScrollbarButton;\n\tdelete rest.scrollContainerContainsDangerously;\n\tdelete rest.scrollContainerHandle;\n\tdelete rest.scrollContainerRef;\n\tdelete rest.scrollContentHandle;\n\tdelete rest.spotlightId;\n\tdelete rest.wrap;\n\n\treturn {\n\t\t...rest,\n\t\titemRenderer: ({index, ...itemRest}) => (\n\t\t\titemRenderer({\n\t\t\t\t...itemRest,\n\t\t\t\t[dataIndexAttribute]: index,\n\t\t\t\tindex\n\t\t\t})\n\t\t),\n\t\tplaceholderRenderer: (primary) => {\n\t\t\treturn placeholderRenderer({\n\t\t\t\thandlePlaceholderFocus,\n\t\t\t\tprimary\n\t\t\t});\n\t\t},\n\t\tonUpdateItems: handleRestoreLastFocus,\n\t\tupdateStatesAndBounds: updateStatesAndBounds\n\t};\n};\n\n/* eslint-disable enact/prop-types */\nfunction placeholderRenderer ({\n\thandlePlaceholderFocus,\n\tprimary\n}) {\n\treturn (primary ? null : (\n\t\t<SpotlightPlaceholder\n\t\t\tdata-index={0}\n\t\t\tdata-vl-placeholder\n\t\t\tkey=\"placeholder\"\n\t\t\t// a zero width/height element can't be focused by spotlight so we're giving\n\t\t\t// the placeholder a small size to ensure it is navigable\n\t\t\tonFocus={handlePlaceholderFocus}\n\t\t\tstyle={{width: 10}}\n\t\t/>\n\t));\n}\n/* eslint-enable enact/prop-types */\n\nexport default useThemeVirtualList;\nexport {\n\tuseThemeVirtualList\n};\n","/**\n * Provides Agate-themed virtual list components and behaviors.\n *\n * @module agate/VirtualList\n * @exports VirtualGridList\n * @exports VirtualList\n */\n\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport {ResizeContext} from '@enact/ui/Resizable';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic as UiVirtualListBasic} from '@enact/ui/VirtualList';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport warning from 'warning';\n\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\nimport Skinnable from '../Skinnable';\n\nimport {useThemeVirtualList} from './useThemeVirtualList';\n\nconst nop = () => {};\n\n/**\n * An Agate-styled scrollable and spottable virtual list component.\n *\n * @class VirtualList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualList = ({itemSize, role, ...rest}) => {\n\tconst props = itemSize && itemSize.minSize ?\n\t\t{\n\t\t\titemSize: itemSize.minSize,\n\t\t\titemSizes: itemSize.size\n\t\t} :\n\t\t{\n\t\t\titemSize\n\t\t};\n\n\twarning(\n\t\t!rest.itemSizes || !rest.cbScrollTo,\n\t\t'VirtualList with `minSize` in `itemSize` prop does not support `cbScrollTo` prop'\n\t);\n\n\t// Hooks\n\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll({...rest, ...props});\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'VirtualList';\n\nVirtualList.propTypes = /** @lends agate/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualList; valid value is a number generally.\n\t * For different item size, value is an object that has `minSize`\n\t * and `size` as properties.\n\t * If the direction for the list is vertical, itemSize means the height of an item.\n\t * For horizontal, it means the width of an item.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualList itemSize={ri.scale(144)} />\n\t * ```\n\t *\n\t * @type {Number|ui/VirtualList.itemSizesShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: PropTypes.oneOfType([PropTypes.number, itemSizesShape]).isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * The array for individually sized items.\n\t *\n\t * @type {Number[]}\n\t * @private\n\t */\n\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualList\n\t\t)\n\t)\n);\n\nVirtualList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\n/**\n * An Agate-styled scrollable and spottable virtual grid list component.\n *\n * @class VirtualGridList\n * @memberof agate/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nlet VirtualGridList = ({role, ...rest}) => {\n\tconst {\n\t\t// Variables\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tscrollContentHandle,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\t// Child Props\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(rest);\n\n\tconst themeScrollContentProps = useThemeVirtualList({\n\t\t...scrollContentProps,\n\t\tfocusableScrollbar: rest.focusableScrollbar,\n\t\trole\n\t});\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<UiVirtualListBasic {...themeScrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends agate/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * Size of an item for the VirtualGridList; valid value is an object that has `minWidth`\n\t * and `minHeight` as properties.\n\t *\n\t * Usage:\n\t * ```\n\t * <VirtualGridList\n\t * \titemSize={{\n\t * \t\tminWidth: ri.scale(360),\n\t * \t\tminHeight: ri.scale(540)\n\t * \t}}\n\t * />\n\t * ```\n\t *\n\t * @type {ui/VirtualList.gridListItemSizeShape}\n\t * @required\n\t * @public\n\t */\n\titemSize: gridListItemSizeShape.isRequired,\n\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * This is set to `true` by SpotlightContainerDecorator\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\t'data-spotlight-container': PropTypes.bool,\n\n\t/**\n\t * `false` if the content of the list could get focus\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\t'data-spotlight-container-disabled': PropTypes.bool,\n\n\t/**\n\t * This is passed onto the wrapped component to allow\n\t * it to customize the spotlight container for its use case.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\t'data-spotlight-id': PropTypes.string,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * @type {('horizontal'|'vertical')}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Allows 5-way navigation to the scrollbar controls. By default, 5-way will\n\t * not move focus to the scrollbar controls.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tfocusableScrollbar: PropTypes.bool,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\n\t/**\n\t * Unique identifier for the component.\n\t *\n\t * When defined and when the `VirtualGridList` is within a [Panel]{@link agate/Panels.Panel},\n\t * the `VirtualGridList` will store its scroll position and restore that position when returning to\n\t * the `Panel`.\n\t *\n\t * @type {String}\n\t * @public\n\t */\n\tid: PropTypes.string,\n\n\t/**\n\t * Prop to check if horizontal Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisHorizontalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prop to check if vertical Scrollbar exists or not.\n\t *\n\t * @type {Boolean}\n\t * @private\n\t */\n\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tpageScroll: PropTypes.bool,\n\n\t/**\n\t * Specifies preventing keydown events from bubbling up to applications.\n\t * Valid values are `'none'`, and `'programmatic'`.\n\t *\n\t * When it is `'none'`, every keydown event is bubbled.\n\t * When it is `'programmatic'`, an event bubbling is not allowed for a keydown input\n\t * which invokes programmatic spotlight moving.\n\t *\n\t * @type {String}\n\t * @default 'programmatic'\n\t * @private\n\t */\n\tpreventBubblingOnKeyDown: PropTypes.oneOf(['none', 'programmatic']),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll down')\n\t * @public\n\t */\n\tscrollDownAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll left')\n\t * @public\n\t */\n\tscrollLeftAriaLabel: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the next button in the horizontal scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll right')\n\t * @public\n\t */\n\tscrollRightAriaLabel: PropTypes.string,\n\n\t/**\n\t * Sets the hint string read when focusing the previous button in the vertical scroll bar.\n\t *\n\t * @type {String}\n\t * @default $L('scroll up')\n\t * @public\n\t */\n\tscrollUpAriaLabel: PropTypes.string,\n\n\t/**\n\t * Spotlight Id.\n\t *\n\t * @type {String}\n\t * @private\n\t */\n\tspotlightId: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {('auto'|'visible'|'hidden')}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * When it's `true` and the spotlight focus cannot move to the given direction anymore by 5-way keys,\n\t * a list is scrolled with an animation to the other side and the spotlight focus moves in wraparound manner.\n\t *\n\t * When it's `'noAnimation'`, the spotlight focus moves in wraparound manner as same as when it's `true`\n\t * except that a list is scrolled without an animation.\n\t *\n\t * Valid values are:\n\t * * `false`,\n\t * * `true`, and\n\t * * `'noAnimation'`\n\t *\n\t * @type {Boolean|'noAnimation'}\n\t * @default false\n\t * @public\n\t */\n\twrap: PropTypes.oneOfType([\n\t\tPropTypes.bool,\n\t\tPropTypes.oneOf(['noAnimation'])\n\t])\n};\n\nVirtualGridList = Skinnable(\n\tSpotlightContainerDecorator(\n\t\t{\n\t\t\toverflow: true,\n\t\t\tpreserveId: true,\n\t\t\trestrict: 'self-first'\n\t\t},\n\t\tI18nContextDecorator(\n\t\t\t{rtlProp: 'rtl'},\n\t\t\tVirtualGridList\n\t\t)\n\t)\n);\n\nVirtualGridList.defaultProps = {\n\t'data-spotlight-container-disabled': false,\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\tfocusableScrollbar: false,\n\thorizontalScrollbar: 'auto',\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\tpageScroll: false,\n\tpreventBubblingOnKeyDown: 'programmatic',\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto',\n\twrap: false\n};\n\nexport default VirtualList;\nexport {\n\tVirtualGridList,\n\tVirtualList\n};\n","/**\n * `core/handle` provides a set of utilities to support handling events for `kind()`s and\n * `React.Component`s. The default export, `handle()`, generates an event handler function from a\n * set of input functions. The input functions either process or filter the event. If an input\n * function returns `true`, `handle()` will continue processing the event by calling the next input\n * function in the chain. If it returns `false` (or any falsy value like `null` or `undefined`),\n * the event handling chain stops at that input function.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n *\n * // logEnter will contain a function that accepts an event, a props object, and a context object\n * const logEnter = handle(\n *   forward('onKeyDown'),  // forwards the event to the function passed in the onKeyDown prop\n *   forKey('enter'),       // if the event.keyCode maps to the enter key, allows event processing to continue\n *   preventDefault,        // calls event.preventDefault() to prevent the `keypress` event\n *   (ev, props) => {       // custom event handler -- in this case, logging some text\n *     // since it doesn't return `true`, no further input functions would be called after this one\n *     console.log('The Enter key was pressed down');\n *   }\n * ).finally(() => {\n * \t console.log('This will log at the end no matter what happens within the handler above')\n * });\n * ```\n *\n * `handle()` can also be bound to a component instance which allows it to access the instance\n * `props` and `context`. This allows you to write consistent event handlers for components created\n * either with `kind()` or ES6 classes without worrying about from where the props are sourced.\n *\n * Handlers can either be bound directly using the native `bind()` method or using the `bindAs()`\n * utility method that is appended to the handler.\n *\n * Example:\n * ```\n * import {forKey, forward, handle, preventDefault} from '@enact/core/handle';\n * import React from 'react';\n *\n * class MyComponent extends React.Component {\n *   // bind handle() to the instance\n *   constructor () {\n *     super();\n *\n *     // logEnter will be bound to `this` and set as this.handleKeyDown\n *     //\n *     // Equivalent to the following with the advantage of set the function name to be displayed in\n *     // development tool call stacks\n *     //\n *     //   this.handleKeyDown = logEnter.bind(this)\n *     logEnter.bindAs(this, 'handleKeyDown');\n *   }\n *\n *   render () {\n *     return (\n *       <div onKeyDown={this.handleKeyDown} />\n *     );\n *   }\n * }\n * ```\n *\n * @module core/handle\n * @exports adaptEvent\n * @exports call\n * @exports callOnEvent\n * @exports forward\n * @exports forwardWithPrevent\n * @exports forEventProp\n * @exports forKey\n * @exports forKeyCode\n * @exports forProp\n * @exports handle\n * @exports log\n * @exports oneOf\n * @exports preventDefault\n * @exports returnsTrue\n * @exports stop\n * @exports stopImmediate\n */\n\nimport cond from 'ramda/src/cond';\nimport curry from 'ramda/src/curry';\n\nimport {is} from '../keymap';\n\n/**\n * The signature for event handlers\n *\n * @callback EventHandler\n * @memberof core/handle\n * @param {any} event\n */\n\n/**\n * The signature for event handling functions supported by `handle` and related functions\n *\n * @callback HandlerFunction\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * The signature for {@link core/handle.adaptEvent} parameter `adapter`\n *\n * @callback EventAdapter\n * @memberof core/handle\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns {any}\n */\n\n// Accepts an array of handlers, sanitizes them, and returns a handler function\n// compose(allPass, map(makeSafeHandler));\nconst makeHandler = (handlers) => {\n\t// allowing shadowing here to provide a meaningful function name in dev tools\n\t// eslint-disable-next-line no-shadow\n\treturn function handle (...args) {\n\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\tconst fn = handlers[i];\n\t\t\tif (typeof fn !== 'function' || fn.apply(this, args)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n};\n\n// Loose check to determine if obj is component-ish if it has both props and context members\nconst hasPropsAndContext = (obj) => (\n\tobj &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'props') &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'context')\n);\n\nconst named = (fn, name) => {\n\tif (__DEV__) {\n\t\ttry {\n\t\t\tObject.defineProperty(fn, 'name', {\n\t\t\t\tvalue: name,\n\t\t\t\twriteable: false,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t} catch (err) {\n\t\t\t// unable to set name of function\n\t\t}\n\t}\n\n\treturn fn;\n};\n\nconst bindAs = (fn, obj, name) => {\n\tconst namedFunction = name ? named(fn, name) : fn;\n\tconst bound = namedFunction.bind(obj);\n\n\tif (name) {\n\t\tobj[name] = bound;\n\t}\n\n\treturn bound;\n};\n\nconst decorateHandleFunction = (fn) => {\n\tfn.named = (name) => named(fn, name);\n\tfn.bindAs = (obj, name) => bindAs(fn, obj, name);\n\n\treturn fn;\n};\n\n/**\n * Allows generating event handlers by chaining input functions to filter or short-circuit the\n * handling flow. Any input function that returns a falsy value will stop the chain.\n *\n * The returned handler function has a `finally()` member that accepts a function and returns a new\n * handler function. The accepted function is called once the original handler completes regardless\n * of the returned value.\n *\n * @method   handle\n * @param    {...HandlerFunction}  handlers List of handlers to process the event.\n *\n * @returns  {EventHandler}\tA function that accepts an event which is dispatched to each of the\n *                          provided handlers.\n * @memberof core/handle\n * @public\n */\nconst handle = function (...handlers) {\n\tconst h = makeHandler(handlers);\n\n\t// In order to support binding either handle (handle.bind(this)) or a handler\n\t// (a = handle(), a.bind(this)), we cache `this` here and use it as the fallback for props and\n\t// context if fn() doesn't have its own `this`.\n\tconst _outer = this;\n\n\tconst fn = function prepareHandleArgs (ev, props, context) {\n\t\tlet caller = null;\n\n\t\t// if handle() was bound to a class, use its props and context. otherwise, we accept\n\t\t// incoming props/context as would be provided by computed/handlers from kind()\n\t\tif (hasPropsAndContext(this)) {\n\t\t\tcaller = this;\n\t\t\tprops = this.props;\n\t\t\tcontext = this.context;\n\t\t} else if (hasPropsAndContext(_outer)) {\n\t\t\tcaller = _outer;\n\t\t\tprops = _outer.props;\n\t\t\tcontext = _outer.context;\n\t\t}\n\n\t\treturn h.call(caller, ev, props, context);\n\t};\n\n\tfn.finally = function (cleanup) {\n\t\treturn decorateHandleFunction(function handleWithFinally (ev, props, context) {\n\t\t\tlet result = false;\n\n\t\t\tif (hasPropsAndContext(this)) {\n\t\t\t\tprops = this.props;\n\t\t\t\tcontext = this.context;\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tresult = fn.call(this, ev, props, context);\n\t\t\t} finally {\n\t\t\t\tcleanup.call(this, ev, props, context);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t};\n\n\treturn decorateHandleFunction(fn);\n};\n\n/**\n * Calls the first handler whose condition passes. Each branch must be passed as an array with the\n * first element being the condition function and the second being the handler function. The same\n * arguments are passed to both the condition function and the handler function. The value returned\n * from the handler is returned.\n *\n * Example:\n * ```\n * const handler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[forKey('left'), handleLeft],\n * \t[forKey('right'), handleRight]\n * );\n * ```\n *\n * @method   oneOf\n * @param    {...[HandlerFunction, HandlerFunction]}  handlers List of conditions and handlers to process the event\n *\n * @returns  {HandlerFunction} A function that accepts an event which is dispatched to each of the\n *                             conditions and, if it passes, onto the provided handler.\n * @memberof core/handle\n * @public\n */\nconst oneOf = handle.oneOf = function (...handlers) {\n\treturn handle.call(this, cond(handlers));\n};\n\n/**\n * A function that always returns `true`. Optionally accepts a `handler` function which is called\n * before returning `true`.\n *\n * Example:\n * ```\n * // Used to coerce an existing function into a handler\n * const coercedHandler = handle(\n *   returnsTrue(doesSomething),\n *   willAlwaysBeCalled\n * );\n *\n * // Used to emulate if/else blocks with `oneOf`\n * const ifElseHandler = oneOf(\n * \t[forKey('enter'), handleEnter],\n * \t[returnsTrue, handleOtherwise]\n * );\n * ```\n *\n * @method   returnsTrue\n * @param    {Function}  [handler]  Handler function called before returning `true`.\n *\n * @returns  {HandlerFunction}\t   A function that returns `true`\n * @memberof core/handle\n * @public\n */\nconst returnsTrue = handle.returnsTrue = function (handler) {\n\tif (handler && typeof handler === 'function') {\n\t\treturn named(function (...args) {\n\t\t\thandler.apply(this, args);\n\n\t\t\treturn true;\n\t\t}, 'returnsTrue');\n\t}\n\n\treturn true;\n};\n\n/**\n * Calls a named function on the event and returns `true`.\n *\n * Example:\n * ```\n * import {callOnEvent, handle} from '@enact/core/handle';\n *\n * const callsCustomMethod = handle(\n *\tcallOnEvent('customMethod'),\n *\t(ev) => console.log('ev.customMethod() was called', ev)\n * );\n * ```\n *\n * @method   callOnEvent\n * @param    {String}     methodName  Name of the method to call on the event\n * @param    {Object}     ev          Event payload\n *\n * @returns  {true}                   Always returns `true`\n * @curried\n * @memberof core/handle\n * @private\n */\nconst callOnEvent = handle.callOnEvent = curry((methodName, ev) => {\n\tif (ev[methodName]) {\n\t\tev[methodName]();\n\t} else if (ev.nativeEvent && ev.nativeEvent[methodName]) {\n\t\t// In some cases (notably stopImmediatePropagation), React doesn't include a desired method\n\t\t// on its proxy so we check the native event as well.\n\t\tev.nativeEvent[methodName]();\n\t}\n\treturn true;\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the event strictly equals `value`\n *\n * Example:\n * ```\n * import {forEventProp, handle} from '@enact/core/handle';\n *\n * const logWhenXEqualsZero = handle(\n *   forEventProp('x', 0),\n *   (ev) => console.log('ev.x was equal to zero', ev)\n * );\n * ```\n *\n * @method   forEventProp\n * @param    {String}\t   prop   Name of property on event\n * @param    {*}           value  Value of property\n * @param    {Object}      ev     Event payload\n *\n * @returns  {Boolean}            Returns `true` if `prop` on `event` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forEventProp = handle.forEventProp = curry((prop, value, ev) => {\n\treturn ev[prop] === value;\n});\n\n/**\n * Forwards the event to a function at `name` on `props`. If the specified prop is `undefined` or\n * is not a function, it is ignored. The return value of the forwarded function is ignored and\n * `true` is always returned instead.\n *\n * Example:\n * ```\n * import {forward, handle} from '@enact/core/handle';\n *\n * const forwardAndLog = handle(\n *   forward('onClick'),\n *   (ev) => console.log('event forwarded to onClick from props', ev)\n * );\n * ```\n *\n * @method   forward\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forward = handle.forward = curry(named((name, ev, props) => {\n\tconst fn = props && props[name];\n\tif (typeof fn === 'function') {\n\t\tfn(ev);\n\t}\n\n\treturn true;\n}, 'forward'));\n\n/**\n * Calls `event.preventDefault()` and returns `true`.\n *\n * Example:\n * ```\n * import {handle, preventDefault} from '@enact/core/handle';\n *\n * const preventAndLog = handle(\n *   preventDefault,\n *   (ev) => console.log('preventDefault called', ev)\n * );\n * ```\n *\n * @method   preventDefault\n * @param    {Object}        ev  Event payload\n *\n * @returns  {true}              Always returns `true`\n * @memberof core/handle\n * @public\n */\nconst preventDefault = handle.preventDefault = callOnEvent('preventDefault');\n\n/**\n * Forwards the event to a function at `name` on `props` with capability to prevent default\n * behavior. If the specified prop is `undefined` or is not a function, it is ignored. Returns\n * `false` when `event.preventDefault()` has been called in a handler.\n *\n * Example:\n * ```\n * import {forwardWithPrevent, handle} from '@enact/core/handle';\n *\n * const forwardPreventDefault = handle(\n *   forwardWithPrevent('onClick'),\n *   (ev) => console.log('default action', ev)\n * );\n * ```\n *\n * @method   forwardWithPrevent\n * @param    {String}    name   Name of method on the `props`\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if default action is prevented\n * @curried\n * @memberof core/handle\n * @private\n */\nconst forwardWithPrevent = handle.forwardWithPrevent = curry(named((name, ev, props) => {\n\tlet prevented = false;\n\tconst wrappedEvent = Object.assign({}, ev, {\n\t\tpreventDefault: () => {\n\t\t\tprevented = true;\n\t\t\tpreventDefault(ev);\n\t\t}\n\t});\n\tforward(name, wrappedEvent, props);\n\n\treturn !prevented;\n}, 'forwardWithPrevent'));\n\n/**\n * Calls `event.stopPropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stop} from '@enact/core/handle';\n *\n * const stopAndLog = handle(\n *   stop,\n *   (ev) => console.log('stopPropagation called', ev)\n * );\n * ```\n *\n * @method   stop\n * @param    {Object}   ev  Event payload\n *\n * @returns  {true}         Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stop = handle.stop = named(callOnEvent('stopPropagation'), 'stop');\n\n/**\n * Calls `event.stopImmediatePropagation()` and returns `true`\n *\n * Example:\n * ```\n * import {handle, stopImmediate} from '@enact/core/handle';\n *\n * const stopImmediateAndLog = handle(\n *   stopImmediate,\n *   (ev) => console.log('stopImmediatePropagation called', ev)\n * );\n * ```\n *\n * @method   stopImmediate\n * @param    {Object}       ev  Event payload\n *\n * @returns  {true}             Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst stopImmediate = handle.stopImmediate = callOnEvent('stopImmediatePropagation');\n\n/**\n * Allows event handling to continue if `event.keyCode === value`.\n *\n * Example:\n * ```\n * import {forKeyCode, handle} from '@enact/core/handle';\n *\n * const logForEscapeKey = handle(\n *   forKeyCode(27),\n *   (ev) => console.log('Escape key pressed down', ev)\n * );\n * ```\n *\n * @method   forKeyCode\n * @param    {Number}    value  `keyCode` to test\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKeyCode = handle.forKeyCode = forEventProp('keyCode');\n\n/**\n * Allows handling to continue if the event's keyCode is mapped to `name` within\n * {@link core/keymap}.\n *\n * Example:\n * ```\n * import {forKey, handle} from '@enact/core/handle';\n *\n * const logForEnterKey = handle(\n *   forKey('enter'),\n *   (ev) => console.log('Enter key pressed down', ev)\n * );\n * ```\n *\n * @see      {@link core/keymap}\n * @method   forKey\n * @param    {String}    name   Name from {@link core/keymap}\n * @param    {Object}    ev     Event payload\n *\n * @returns  {Boolean}          Returns `true` if `event.keyCode` is mapped to `name`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forKey = handle.forKey = curry((name, ev) => {\n\treturn is(name, ev.keyCode);\n});\n\n/**\n * Allows handling to continue if the value of `prop` on the props strictly equals `value`.\n *\n * Example:\n * ```\n * import {forProp, handle} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   (ev) => console.log('checked prop is true', ev)\n * );\n * ```\n *\n * @method   forProp\n * @param    {String}    prop   Name of property on props object\n * @param    {*}         value  Value of property\n * @param    {Object}    ev     Event payload\n * @param    {Object}    props  Props object\n *\n * @returns  {Boolean}          Returns `true` if the value of `props[prop]` strictly equals `value`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst forProp = handle.forProp = curry((prop, value, ev, props) => {\n\treturn props[prop] === value;\n});\n\n/**\n * Logs the event, props, and context optionally preceded by a custom message. Will only log in\n * development mode.\n *\n * Example:\n * ```\n * import {forProp, handle, log} from '@enact/core/handle';\n *\n * const logWhenChecked = handle(\n *   forProp('checked', true),\n *   log('checked props is true')\n * );\n * ```\n *\n * @method   log\n * @param    {String}     message  Custom message\n * @param    {Object}     ev       Event payload\n * @param    {...*}       [args]   Any args passed are logged\n *\n * @returns  {true}                Always returns `true`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst log = handle.log = curry((message, ev, ...args) => {\n\tif (__DEV__) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.log(message, ev, ...args);\n\t}\n\n\treturn true;\n});\n\n/**\n * Invokes a method by name on the component to which {@link core/handle.handle} is bound.\n *\n * If the methods exists on the object, it is called with the event, props, and context and its\n * return value is returned.\n *\n * If the method does not exist or handle isn't bound to an instance, it returns `false`.\n *\n * Example:\n * ```\n * import {call, handle, forProp} from '@enact/core/handle';\n *\n * const incrementIfEnabled = handle(\n *   forProp('disabled', false),\n *   call('increment')\n * );\n *\n * class Counter extends React.Component {\n *   constructor () {\n *     super();\n *\n *     this.handleIncrement = incrementIfEnabled.bind(this);\n *   }\n *\n *   render () {\n *     // ...\n *   }\n * }\n * ```\n *\n * @method   call\n * @param    {String}     method  Name of method\n *\n * @returns  {HandlerFunction}    Returns the value returned by `method`, or `false` if the method\n *                                does not exist\n * @memberof core/handle\n * @public\n */\nconst call = function (method) {\n\treturn named(function (...args) {\n\t\tif (this && this[method]) {\n\t\t\treturn this[method](...args);\n\t\t}\n\n\t\treturn false;\n\t}, 'call');\n};\n\n/**\n * Adapts an event with `adapter` before calling `handler`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {adaptEvent, forward} from '@enact/core/handle';\n *\n * // calls the onChange callback with an event payload containing a type and value member\n * const incrementAndChange = adaptEvent(\n * \t(ev, props) => ({\n * \t  type: 'onChange',\n * \t  value: props.value + 1\n * \t}),\n * \tforward('onChange')\n * )\n * ```\n *\n * @method   adaptEvent\n * @param    {EventAdapter}     adapter  Function to adapt the event payload\n * @param    {HandlerFunction}  handler  Handler to call with the handler function\n *\n * @returns  {HandlerFunction}           Returns an [event handler]{@link core/handle.HandlerFunction} (suitable for passing to handle) that returns the result of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst adaptEvent = handle.adaptEvent = curry(function (adapter, handler) {\n\treturn named(function (ev, ...args) {\n\t\treturn handler.call(this, adapter.call(this, ev, ...args), ...args);\n\t}, 'adaptEvent');\n});\n\n/**\n * Creates a handler that will forward the event to a function at `name` on `props`.\n *\n * If `adapter` is not specified, a new event payload will be generated with a `type` member with\n * the `name` of the custom event. If `adapter` is specified, the `type` member is added to the\n * value returned by `adapter`.\n *\n * The `adapter` function receives the same arguments as any handler. The value returned from\n * `adapter` is passed as the first argument to `handler` with the remaining arguments kept the\n * same. This is often useful to generate a custom event payload before forwarding on to a callback.\n *\n * Example:\n * ```\n * import {forwardCustom} from '@enact/core/handle';\n *\n * // calls the onChange callback with the event: {type: 'onChange'}\n * const forwardChange = forwardCustom('onChange');\n *\n * // calls the onChange callback with the event: {type: 'onChange', index}\n * const forwardChangeWithIndex = forwardCustom('onChange', (ev, {index}) => ({index}));\n * ```\n *\n * @method   forwardCustom\n * @param    {String}        name      Name of method on the `props`\n * @param    {EventAdapter}  [adapter] Function to adapt the event payload\n *\n * @returns  {HandlerFunction}         Returns an [event handler]{@link core/handle.EventHandler}\n *                                     (suitable for passing to handle or used directly within\n *                                     `handlers` in [kind]{@link core/kind}) that will forward the\n *                                     custom event.\n * @memberof core/handle\n * @public\n */\nconst forwardCustom = handle.forwardCustom = (name, adapter) => handle(\n\tadaptEvent(\n\t\t(...args) => {\n\t\t\tlet ev = adapter ? adapter(...args) : null;\n\n\t\t\t// Handle either no adapter or a non-object return from the adapter\n\t\t\tif (!ev || typeof ev !== 'object') {\n\t\t\t\tev = {};\n\t\t\t}\n\n\t\t\tev.type = name;\n\n\t\t\treturn ev;\n\t\t},\n\t\tforward(name)\n\t)\n).named('forwardCustom');\n\n/**\n * Accepts a handler and returns the logical complement of the value returned from the handler.\n *\n * Example:\n * ```\n * import {forProp, forward, not, handle} from '@enact/core/handle';\n *\n * // calls the onChange callback when disabled is not true\n * const handleChange = handle(\n *  not(forProp('disabled', true)),\n *  forward('onChange')\n * )\n * ```\n *\n * @method   not\n * @param    {HandlerFunction}  handler  Handler to complement\n *\n * @returns  {HandlerFunction}           Returns an [event\n *                                       handler]{@link core/handle.HandlerFunction} (suitable for\n *                                       passing to handle) that returns the complement of the\n *                                       return value of `handler`\n * @curried\n * @memberof core/handle\n * @public\n */\nconst not = handle.not = (handler) => (...args) => !handler(...args);\n\nexport default handle;\nexport {\n\tadaptEvent,\n\tcall,\n\tcallOnEvent,\n\tforward,\n\tforwardCustom,\n\tforwardWithPrevent,\n\tforEventProp,\n\tforKey,\n\tforKeyCode,\n\tforProp,\n\thandle,\n\tlog,\n\tnot,\n\toneOf,\n\tpreventDefault,\n\treturnsTrue,\n\tstop,\n\tstopImmediate\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 707;","/**\n * Provides the `deprecate` method\n *\n * @module core/internal/deprecate\n * @private\n */\n\n// Utility method to format deprecate message\nconst formatMsg = ({message, name, until, replacedBy, since}) => {\n\tlet msg = 'DEPRECATED:';\n\n\tif (name) {\n\t\tmsg += ` ${name}`;\n\t}\n\tif (since) {\n\t\tmsg += ` since ${since}`;\n\t}\n\tif (until) {\n\t\tif (name || since) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Will be removed in ${until}`;\n\t}\n\tif (replacedBy) {\n\t\tif (name || since || until) {\n\t\t\tmsg += '.';\n\t\t}\n\t\tmsg += ` Replaced by ${replacedBy}`;\n\t}\n\tif (name || since || until || replacedBy) {\n\t\tmsg += '.';\n\t}\n\tif (message) {\n\t\tmsg += ` ${message}.`;\n\t}\n\treturn msg;\n};\n\n// Utility method for console warning\nconst warn = (msg) => {\n\tif (typeof console !== 'undefined') {\n\t\tconsole.warn(msg);\t// eslint-disable-line no-console\n\t}\n};\n\n/**\n * Marks a function, component or property (via `propTypes`) as deprecated. Deprecated items will\n * log a message on first invocation. Can also be used 'stand-alone' to issue a deprecation warning.\n * In stand-alone mode it currently will log every time.  In production mode, the deprecation\n * warning disappears.\n *\n * @function\n * @param {*} thing - The thing to be wrapped, or the deprecation config in stand-alone\n * @param {Object?} config - The deprecation config\n * @param {String?} config.name - An optional name for the deprecated item\n * @param {String?} config.message - An optional message to display\n * @param {String?} config.since - The version where deprecation started (optional)\n * @param {String?} config.until - The version where the functionality will be removed (optional)\n * @param {String?} config.replacedBy - An optional alternative\n * @param {Boolean?} config.alwaysWarn - If `true`, a warning will be issued for every access\n * @returns {*} Either a wrapped version of `thing` or an unwrapped version of `thing` in\n *\tproduction or stand-alone mode\n * @memberof core/internal/deprecate\n * @private\n */\nconst deprecate = function (thing, config) {\n\tif (__DEV__) {\n\t\tif (!config) {\t// If no config, config only invocation, just log message\n\t\t\tconst msg = formatMsg(thing);\n\t\t\twarn(msg);\n\t\t\treturn thing;\n\t\t} else {\n\t\t\tlet displayed, msg;\n\t\t\treturn (...args) => {\n\t\t\t\tif (!displayed || config.alwaysWarn) {\n\t\t\t\t\tif (!msg) {\n\t\t\t\t\t\tmsg = formatMsg(config);\n\t\t\t\t\t}\n\t\t\t\t\twarn(msg);\n\t\t\t\t\tdisplayed = true;\n\t\t\t\t}\n\t\t\t\treturn thing(...args);\n\t\t\t};\n\t\t}\n\t} else {\n\t\treturn thing;\n\t}\n};\n\nexport default deprecate;\nexport {deprecate};\n","import PropTypes from 'prop-types';\n\nimport {isRenderable} from '../../util';\n\nimport deprecate from '../deprecate';\n\nconst isRequired = (fn) => {\n\tfn.isRequired = function (props, key, componentName, location, propFullName, ...rest) {\n\t\tconst propValue = props[key];\n\t\tif (typeof propValue === 'undefined') {\n\t\t\treturn new Error(\n\t\t\t\t`'${propFullName}' is required for '${componentName}' but was undefined.`\n\t\t\t);\n\t\t}\n\n\t\treturn fn(propValue, key, componentName, location, propFullName, ...rest);\n\t};\n\n\treturn fn;\n};\n\nconst renderable = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && !isRenderable(propValue)) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a renderable value but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst component = isRequired(function (props, key, componentName) {\n\tconst propValue = props[key];\n\tif (propValue && (typeof propValue === 'string' || !isRenderable(propValue))) {\n\t\treturn new Error(\n\t\t\t`Invalid prop '${key}' supplied to '${componentName}'. ` +\n\t\t\t`Expected a function but received '${typeof propValue}' instead.`\n\t\t);\n\t}\n});\n\nconst renderableOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\trenderable\n]);\n\nconst componentOverride = PropTypes.oneOfType([\n\tPropTypes.element,\n\tcomponent\n]);\n\nconst ref = PropTypes.oneOfType([PropTypes.shape({\n\tcurrent: PropTypes.any\n}), PropTypes.func]);\n\n/*\n * Wrap a prop type validator with a deprecation warning when the prop has a non-null value\n *\n * @param {Function} base Prop type validator\n * @param {Object} config deprecatioon configuration\n */\nconst deprecated = (base, config) => {\n\t// Wrap in a no-op so deprecate only warns once\n\tconst warn = deprecate(() => true, config);\n\treturn (props, key, ...rest) => {\n\t\t// Warn on a non-null value for the prop\n\t\tif (props[key] != null) warn();\n\n\t\t// Pass on to the prop type validator\n\t\treturn base(props, key, ...rest);\n\t};\n};\n\nconst EnactPropTypes = {\n\tcomponent,\n\tcomponentOverride,\n\tref,\n\tdeprecated,\n\trenderable,\n\trenderableOverride\n};\n\nexport default EnactPropTypes;\n","import React from 'react';\n\n/**\n * Creates one instance of the class, `Ctor` with the provided `args`, for the life of the\n * component.\n *\n * ```\n * class MyClass {\n *   constructor ({value}) {\n *     this.value = value;\n *   }\n *\n *   handleEvent = (ev) => {\n *     if (ev.key === 'Enter') {\n *       // do something with this.value\n *     }\n *   }\n * }\n *\n * function Component (props) {\n *   const inst = useClass(MyClass, props.value);\n *   return <div onClick={inst.handleEvent} />\n * }\n * ```\n *\n * @param {Function} Ctor Class constructor\n * @param  {...any}  args Arguments to pass to the constructor\n * @returns {Object}      An instance of `Ctor`\n * @private\n */\nfunction useClass (Ctor, ...args) {\n\tconst ref = React.useRef(null);\n\tref.current = ref.current || new Ctor(...args);\n\n\treturn ref.current;\n}\n\nexport default useClass;\nexport {\n\tuseClass\n};\n","class Handlers {\n\tconstructor (_handlers) {\n\t\tthis.props = {};\n\t\tthis.context = {};\n\n\t\tthis._handlers = {};\n\t\tif (_handlers) {\n\t\t\tObject.keys(_handlers).forEach(fn => {\n\t\t\t\tthis._handlers[fn] = (ev) => {\n\t\t\t\t\treturn _handlers[fn](ev, this.props, this.context);\n\t\t\t\t};\n\t\t\t\tthis._handlers[fn].displayName = fn;\n\t\t\t});\n\t\t}\n\t}\n\n\tget handlers () {\n\t\treturn this._handlers;\n\t}\n\n\tsetContext (props = {}, context = {}) {\n\t\tthis.props = props;\n\t\tthis.context = context;\n\t}\n}\n\nexport default Handlers;\nexport {\n\tHandlers\n};\n","import useClass from '../useClass';\n\nimport Handlers from './Handlers';\n\n/**\n * Creates a map of event handlers with consistent references across renders.\n *\n * Each function in the `handlers` will receive the first argument passed by the downstream caller\n * along with the latest `props` and `context` values passed to `useHandlers`. This is designed to\n * work well with {@link core/handle} which generates handlers with this function signature.\n *\n * @param {Object.<String, Function>} handlers  Map of handler names to functions.\n * @params {any}                      [props]   Typically, the props for the component but that is\n *                                              not required.\n * @params {any}                      [context] Additional data or methods the handlers may need.\n * @returns {Object}                            A map of bound handlers\n * @private\n */\nfunction useHandlers (handlers, props, context) {\n\tconst h = useClass(Handlers, handlers);\n\th.setContext(props, context);\n\n\treturn h.handlers;\n}\n\nexport default useHandlers;\nexport {\n\tuseHandlers\n};\n","/**\n * Accepts an object of computed property configurations and a property object, passes the property\n * object through each computed property handler, and merges the resulting computed properties with\n * the original properties.\n *\n * ```\n * const cfg = {\n *   sum: ({x,y,z}) => x+y+z,\n *   product: ({x,y,z}) => x*y*z\n * }\n * const props = {\n *   x: 2,\n *   y: 3,\n *   z: 4\n * }\n * computed(cfg)(props) // => {x: 2, y: 3, z: 4, sum: 9, product: 24}\n * ```\n *\n * @method computed\n * @param   {Object}    cfg  Configuration object mapping transformation functions to property names\n *\n * @returns {Function}       Function that accepts a props object and mutates it to include the\n *                           computed props\n * @private\n */\nconst computed = (cfg, optProps) => {\n\tconst keys = Object.keys(cfg);\n\n\tconst renderComputed = (props, ...args) => {\n\t\tconst updated = {};\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tupdated[keys[i]] = cfg[keys[i]](props, ...args);\n\t\t}\n\n\t\treturn Object.assign(props, updated);\n\t};\n\n\t// maintain compatibility with 1.x\n\tif (optProps) {\n\t\treturn renderComputed(optProps);\n\t}\n\n\treturn renderComputed;\n};\n\nexport default computed;\nexport {computed};\n","export const addInternalProp = function (props, name, value) {\n\tObject.defineProperty(props, name, {\n\t\tvalue,\n\t\tenumerable: false,\n\t\twritable: true\n\t});\n\n\treturn props;\n};\n","import classnames from 'classnames/bind';\n\nimport {mergeClassNameMaps} from '../util';\n\nimport {addInternalProp} from './util';\n\n/**\n * Merges external and internal CSS classes and style objects. Internal CSS classes can be\n * optionally mapped to alternate names (e.g. those generated by CSS modules) by including a\n * `css` parameter.\n *\n * Example:\n * ```\n *\tconst stylesConfig = {\n *\t\tcss: {\n *\t\t\tbutton: 'unambiguous-button-class-name',\n *\t\t\tclient: 'unambiguous-button-class-name-client'\n *\t\t},\n *\t\tclassName: 'button global-class',\n *\t\tstyle: {\n *\t\t\tcolor: 'red'\n *\t\t}\n *\t};\n *\n *\tconst props = {\n *\t\tclassName: 'my-button',\n *\t\tstyle: {\n *\t\t\tdisplay: 'none'\n *\t\t}\n *\t};\n *\n *\tconst renderStyles = styles(stylesConfig);\n *\tconst renderStyles(props); // {className: 'unambiguous-button-class-name global-class', styles: {color: 'red', display: 'none'}}\n * ```\n *\n * @method styles\n * @param   {Object}    cfg  Configuration object containing one of `css`, `className`,\n *                           `publicClassNames`, and/or `style`\n *\n * @returns {Function}       Function that accepts a props object and mutates it to merge class\n *                           names and style objects and provide the `styler` utility function and\n *                           `css` merged class name map\n * @private\n */\nconst styles = (cfg, optProps) => {\n\tconst {className, css: configCss, prop = 'className', style} = cfg;\n\tlet {publicClassNames: allowedClassNames} = cfg;\n\n\tif (configCss && allowedClassNames === true) {\n\t\tallowedClassNames = Object.keys(configCss);\n\t} else if (typeof allowedClassNames === 'string') {\n\t\tallowedClassNames = allowedClassNames.split(/\\s+/);\n\t}\n\n\tconst renderStyles = (props) => {\n\t\tlet css = configCss;\n\n\t\tif (style) {\n\t\t\tprops.style = Object.assign({}, style, props.style);\n\t\t}\n\n\t\t// if the props includes a css map, merge them together now\n\t\tif (css && allowedClassNames && props.css) {\n\t\t\tcss = mergeClassNameMaps(css, props.css, allowedClassNames);\n\t\t}\n\n\t\tconst cn = css ? classnames.bind(css) : classnames;\n\t\tconst joinedClassName = props[prop] = classnames(\n\t\t\tclassName ? cn(className.split(' ')) : null,\n\t\t\tprops.className\n\t\t);\n\n\t\taddInternalProp(props, 'css', css);\n\t\taddInternalProp(props, 'styler', {\n\t\t\tjoin: cn,\n\t\t\tappend: (...args) => cn(joinedClassName, ...args)\n\t\t});\n\n\t\treturn props;\n\t};\n\n\tif (optProps) {\n\t\treturn renderStyles(optProps);\n\t}\n\n\treturn renderStyles;\n};\n\nexport default styles;\nexport {styles};\n","/**\n * Provides the {@link core/kind.kind} method to create components\n *\n * @module core/kind\n * @exports kind\n */\n\nimport React from 'react';\n\nimport useHandlers from '../useHandlers';\nimport Handlers from '../useHandlers/Handlers';\n\nimport computed from './computed';\nimport styles from './styles';\n\n// Because contextType is optional and hooks must be called in the same order, we need a fallback\n// context when none is specified. This likely has some overhead so we may want to deprecate and\n// remove contextType support for 4.0 since the context APIs have improved since this was added.\nconst NoContext = React.createContext(null);\n\n/**\n * @callback RenderFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns React.Element|null\n */\n\n/**\n * @callback ComputedPropFunction\n * @memberof core/kind\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n * @returns any\n */\n\n/**\n * @callback HandlerFunction\n * @memberof core/kind\n * @param {any} event\n * @param {Object<string, any>} props\n * @param {Object<string, any>} context\n */\n\n/**\n * Configuration for CSS class name mapping\n *\n * @typedef {Object} StylesBlock\n * @memberof core/kind\n * @property {Object.<string, string>} css\n * @property {String} [className]\n * @property {Boolean|String|String[]} [publicClassNames]\n */\n\n/**\n * @typedef {Object} KindConfig\n * @memberof core/kind\n * @property {String} [name]\n * @property {Boolean} [functional]\n * @property {Object.<string, Function>} [propTypes]\n * @property {Object.<string, any>} [defaultProps]\n * @property {Object} [contextType]\n * @property {StylesBlock} [styles]\n * @property {Object.<string, HandlerFunction>} [handlers]\n * @property {Object.<string, ComputedPropFunction>} [computed]\n * @property {RenderFunction} render\n */\n\n/**\n * Creates a new component with some helpful declarative syntactic sugar.\n *\n * Example:\n * ```\n *\timport css from './Button.module.less';\n *\tconst Button = kind({\n *\t\tname: 'Button',\n *\t\t// Return a functional component suitable for use with React hooks\n *\t\tfunctional: true,\n *\t\t// expect color and onClick properties but neither required\n *\t\tpropTypes: {\n *\t\t\tcolor: PropTypes.string\n *\t\t},\n *\t\t// if no color is provided, it'll be green\n *\t\tdefaultProps: {\n *\t\t\tcolor: 'green'\n *\t\t},\n *\t\t// expect backgroundColor via context\n *\t\tcontextType: React.createContext({ backgroundColor }),\n *\t\t// configure styles with the static className to merge with user className\n *\t\tstyles: {\n *\t\t\t// include the CSS modules map so 'button' can be resolved to the local name\n *\t\t\tcss,\n *\t\t\tclassName: 'button'\n *\t\t},\n *\t\t// add event handlers that are cached between calls to prevent recreating each call. Any\n *\t\t// handlers are added to the props passed to `render()`.  See core/handle.\n *\t\thandlers: {\n *\t\t\tonKeyDown: (evt, props) => { .... }\n *\t\t},\n *\t\t// add some computed properties, these are added to props passed to `render()`\n *\t\tcomputed: {\n *\t\t\t// border color will be the color prepended by 'light'\n *\t\t\tborderColor: ({color}) => 'light' + color,\n *\t\t\t// background color will be the contextual background color if specified\n *\t\t\tcolor: ({color}, context) => context.backgroundColor || color\n *\t\t},\n *\t\t// Render the thing, already!\n *\t\trender: ({color, borderColor, children, ...rest}) => (\n *\t\t\t<button\n *\t\t\t\t{...rest}\n *\t\t\t\tstyle={{backgroundColor: color, borderColor}}\n *\t\t\t>\n *\t\t\t\t{children}\n *\t\t\t</button>\n *\t\t)\n *\t});\n * ```\n *\n * @function\n * @template Props\n * @param  {KindConfig}    config    Component configuration\n *\n * @returns {Component<Props>}           Component\n * @memberof core/kind\n * @see {@link core/handle}\n * @public\n */\nconst kind = (config) => {\n\tconst {\n\t\tcomputed: cfgComputed,\n\t\tcontextType = NoContext,\n\t\tdefaultProps,\n\t\tfunctional,\n\t\thandlers,\n\t\tname,\n\t\tpropTypes,\t// eslint-disable-line react/forbid-foreign-prop-types\n\t\trender,\n\t\tstyles: cfgStyles\n\t} = config;\n\n\tconst renderStyles = cfgStyles ? styles(cfgStyles) : false;\n\tconst renderComputed = cfgComputed ? computed(cfgComputed) : false;\n\tconst renderKind = (props, context) => {\n\t\tif (renderStyles) props = renderStyles(props, context);\n\t\tif (renderComputed) props = renderComputed(props, context);\n\n\t\treturn render(props, context);\n\t};\n\n\tlet Component;\n\n\t// In 4.x, this branch will become the only supported version and the class branch will be\n\t// removed.\n\tif (functional) {\n\t\tComponent = function (props) {\n\t\t\tconst ctx = React.useContext(contextType);\n\t\t\tconst boundHandlers = useHandlers(handlers, props, ctx);\n\n\t\t\tconst merged = {\n\t\t\t\t...props,\n\t\t\t\t...boundHandlers\n\t\t\t};\n\n\t\t\treturn renderKind(merged, ctx);\n\t\t};\n\t} else {\n\t\t// eslint-disable-next-line enact/display-name\n\t\tComponent = class extends React.Component {\n\t\t\tstatic contextType = contextType;\n\n\t\t\tconstructor () {\n\t\t\t\tsuper();\n\n\t\t\t\tthis.handlers = new Handlers(handlers);\n\t\t\t}\n\n\t\t\trender () {\n\t\t\t\tthis.handlers.setContext(this.props, this.context);\n\n\t\t\t\tconst merged = {\n\t\t\t\t\t...this.props,\n\t\t\t\t\t...this.handlers.handlers\n\t\t\t\t};\n\n\t\t\t\treturn renderKind(merged, this.context);\n\t\t\t}\n\t\t};\n\t}\n\n\tif (name) Component.displayName = name;\n\tif (propTypes) Component.propTypes = propTypes;\n\tif (defaultProps) Component.defaultProps = defaultProps;\n\n\t// Decorate the Component with the computed property object in DEV for easier testability\n\tif (__DEV__ && cfgComputed) Component.computed = cfgComputed;\n\n\tconst defaultPropKeys = defaultProps ? Object.keys(defaultProps) : null;\n\tconst handlerKeys = handlers ? Object.keys(handlers) : null;\n\n\tComponent.inline = (props, context) => {\n\t\tlet updated = {\n\t\t\t...props\n\t\t};\n\n\t\tif (defaultPropKeys && defaultPropKeys.length > 0) {\n\t\t\tdefaultPropKeys.forEach(key => {\n\t\t\t\t// eslint-disable-next-line no-undefined\n\t\t\t\tif (props == null || props[key] === undefined) {\n\t\t\t\t\tupdated[key] = defaultProps[key];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (handlerKeys && handlerKeys.length > 0) {\n\t\t\t// generate a handler with a clone of updated to ensure each handler receives the same\n\t\t\t// props without the kind.handlers injected.\n\t\t\tupdated = handlerKeys.reduce((_props, key) => {\n\t\t\t\t_props[key] = (ev) => handlers[key](ev, updated, context);\n\t\t\t\treturn _props;\n\t\t\t}, {...updated});\n\t\t}\n\n\t\treturn renderKind(updated, context);\n\t};\n\n\treturn Component;\n};\n\nexport default kind;\nexport {kind};\n","import invariant from 'invariant';\n\n/**\n * Provides a convenient way to manage timed execution of functions.\n *\n * @class Job\n * @memberof core/util\n * @public\n */\nclass Job {\n\tid = null;\n\tfn = null;\n\ttimeout = null;\n\ttype = null;\n\n\t/**\n\t * @constructor\n\t * @param {Function}    fn       Function to execute as the requested job.\n\t * @param {Number}      timeout  The number of milliseconds to wait before starting the job.\n\t *\n\t * @memberof core/util.Job.prototype\n\t */\n\tconstructor (fn, timeout) {\n\t\tthis.fn = fn;\n\t\tthis.timeout = timeout;\n\t}\n\n\trun (args) {\n\t\t// don't want to inadvertently apply Job's context on `fn`\n\t\treturn this.fn.apply(null, args);\n\t}\n\n\t/**\n\t * Starts the job.\n\t *\n\t * @method\n\t * @param   {...*}       [args]  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstart = (...args) => {\n\t\tthis.startAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Starts the job in `timeout` milliseconds\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before starting the job.\n\t *                                This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartAfter = (timeout, ...args) => {\n\t\tthis.stop();\n\t\tthis.type = 'timeout';\n\t\tthis.id = setTimeout(() => this.run(args), timeout);\n\t};\n\n\t/**\n\t * Stops the job.\n\t *\n\t * @method\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstop = () => {\n\t\tif (this.id) {\n\t\t\tif (this.type === 'idle') {\n\t\t\t\twindow.cancelIdleCallback(this.id);\n\t\t\t} else if (this.type === 'raf') {\n\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t} else if (this.type === 'timeout') {\n\t\t\t\tclearTimeout(this.id);\n\t\t\t}\n\t\t\tthis.id = this.type = null;\n\t\t}\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running\n\t * until the `timeout` configured at construction passes.\n\t *\n\t * @method\n\t * @param   {...*}       args  Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottle = (...args) => {\n\t\tthis.throttleUntil(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes the job immediately, then prevents any other calls to `throttle()` from running for\n\t * `timeout` milliseconds.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before allowing the job to\n\t *                                be ran again. This supersedes the timeout set at construction.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tthrottleUntil = (timeout, ...args) => {\n\t\tif (!this.id) {\n\t\t\tthis.type = 'timeout';\n\t\t\tthis.run(args);\n\t\t\tthis.id = setTimeout(this.stop, timeout);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidle = (...args) => {\n\t\tthis.idleUntil(null, ...args);\n\t};\n\n\t/**\n\t * Executes job when the CPU is idle, or when the timeout is reached, whichever occurs first.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before executing the\n\t *                                job. This guarantees that the job is run, if a positive value\n\t *                                is specified.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tidleUntil = (timeout, ...args) => {\n\t\tif (typeof window !== 'undefined' && window.requestIdleCallback) {\n\t\t\tthis.stop();\n\t\t\tthis.type = 'idle';\n\t\t\tthis.id = window.requestIdleCallback(() => this.run(args), {timeout});\n\t\t} else {\n\t\t\t// since we can't request an idle callback, just pass to startAfter()\n\t\t\tthis.startAfter(timeout, ...args);\n\t\t}\n\t};\n\n\t/**\n\t * Executes job before the next repaint.\n\t *\n\t * @method\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRaf = (...args) => {\n\t\tthis.startRafAfter(this.timeout, ...args);\n\t};\n\n\t/**\n\t * Executes job before the next repaint after a given amount of timeout.\n\t *\n\t * @method\n\t * @param   {Number}     timeout  The number of milliseconds to wait before running `requestAnimationFrame`.\n\t * @param   {...*}       [args]   Any args passed are forwarded to the callback\n\t *\n\t * @returns {undefined}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tstartRafAfter = (timeout, ...args) => {\n\t\tthis.type = 'raf';\n\t\tif (typeof window !== 'undefined') {\n\t\t\tlet time = null;\n\t\t\tconst callback = (timestamp) => {\n\t\t\t\tif (time === null) {\n\t\t\t\t\ttime = timestamp;\n\t\t\t\t}\n\t\t\t\tif (timeout && timestamp - time < timeout) {\n\t\t\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t\t\t} else {\n\t\t\t\t\ttime = null;\n\t\t\t\t\tthis.run(args);\n\t\t\t\t\twindow.cancelAnimationFrame(this.id);\n\t\t\t\t\tthis.id = null;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.id = window.requestAnimationFrame(callback);\n\t\t} else {\n\t\t\t// If requestAnimationFrame is not supported just run the function immediately\n\t\t\tthis.run(args);\n\t\t}\n\t};\n\n\t/**\n\t * Starts the job when `promise` resolves.\n\t *\n\t * The job execution is tied to the resolution of the last `Promise` passed. Like other methods\n\t * on `Job`, calling `promise()` again with a new `Promise` will block execution of the job\n\t * until that new `Promise` resolves. Any previous `Promise`s will still resolve normally but\n\t * will not trigger job execution.\n\t *\n\t * Unlike other methods on `Job`, `promise()` returns a `Promise` which is the result of calling\n\t * `then()` on the passed `promise`. That `Promise` resolves with either the result of job\n\t * execution or `undefined` if `Promise` was superseded by a subsequent `Promise` passed as\n\t * described above.\n\t *\n\t * @method\n\t * @param   {Promise}  promise  The promise that must resolve before the job is executed\n\t *\n\t * @returns {Promise}\n\t * @memberof core/util.Job.prototype\n\t * @public\n\t */\n\tpromise = (promise) => {\n\t\tinvariant(\n\t\t\tpromise && typeof promise.then === 'function',\n\t\t\t'promise expects a thenable'\n\t\t);\n\n\t\tthis.type = 'promise';\n\t\tthis.id = promise;\n\n\t\treturn promise.then(result => {\n\t\t\tif (this.id === promise) {\n\t\t\t\tthis.stop();\n\t\t\t\treturn this.run([result]);\n\t\t\t}\n\t\t});\n\t};\n}\n\nexport default Job;\nexport {Job};\n","/**\n * A collection of utility methods.\n *\n * @module core/util\n * @exports cap\n * @exports clamp\n * @exports coerceArray\n * @exports coerceFunction\n * @exports extractAriaProps\n * @exports isRenderable\n * @exports Job\n * @exports memoize\n * @exports mergeClassNameMaps\n * @exports perfNow\n * @exports mapAndFilterChildren\n */\nimport always from 'ramda/src/always';\nimport isType from 'ramda/src/is';\nimport unless from 'ramda/src/unless';\nimport React from 'react';\nimport * as ReactIs from 'react-is';\n\nimport Job from './Job';\n\n/**\n * Capitalizes a given string (not locale-aware).\n *\n * @function\n * @param   {String}    str   The string to capitalize.\n *\n * @returns {String}          The capitalized string.\n * @memberof core/util\n * @public\n */\nconst cap = function (str) {\n\treturn str.slice(0, 1).toUpperCase() + str.slice(1);\n};\n\n/**\n * Limits `value` to be between `min` and `max`.\n *\n * If `min` is greater than `max`, `min` is returned.\n *\n * @function\n * @param   {Number}    min   The minimum value of the range\n * @param   {Number}    max   The maximum value of the range\n * @param   {Number}    value The value that must be within the range\n *\n * @returns {Number}          The clamped value\n * @memberof core/util\n * @public\n */\nconst clamp = (min, max, value) => {\n\tif (min > max || value < min) return min;\n\tif (value > max) return max;\n\treturn value;\n};\n\n/**\n * If `arg` is a function, return it. Otherwise returns a function that returns `arg`.\n *\n * Example:\n * ```\n *\tconst returnsZero = coerceFunction(0);\n *\tconst returnsArg = coerceFunction(() => 0);\n * ```\n * @function\n * @param {*}    arg    Function or value\n *\n * @returns {Function}  Either `arg` if `arg` is a function, or a function that returns `arg`\n * @memberof core/util\n * @public\n */\nconst coerceFunction = unless(isType(Function), always);\n\n/**\n * If `arg` is array-like, return it. Otherwise returns a single element array containing `arg`.\n *\n * Example:\n * ```\n *\tconst returnsArray = coerceArray(0); // [0]\n *\tconst returnsArg = coerceArray([0]); // [0]\n *\tconst returnsObjArg = coerceArray({0: 'zeroth', length: 1});\n * ```\n * @see http://ramdajs.com/docs/#isArrayLike\n * @function\n * @param {*}    array    Array or value\n *\n * @returns {Array}       Either `array` or `[array]`\n * @memberof core/util\n * @public\n */\nconst coerceArray = function (array) {\n\treturn Array.isArray(array) ? array : [array];\n};\n\n/**\n * Loosely determines if `tag` is a renderable component (either a string or a function).\n *\n * @function\n * @param {*}    tag    Component to test\n *\n * @returns {Boolean}   `true` if `tag` is either a string or a function\n * @memberof core/util\n * @public\n */\nconst isRenderable = function (tag) {\n\treturn ReactIs.isValidElementType(tag);\n};\n\n/**\n * Removes ARIA-related props from `props` and returns them in a new object.\n *\n * Specifically, it removes the `role` prop and any prop prefixed with `aria-`. This is useful when\n * redirecting ARIA-related props from a non-focusable root element to a focusable child element.\n *\n * @function\n * @param   {Object}    props    Props object\n *\n * @returns {Object}             ARIA-related props\n * @memberof core/util\n * @public\n */\nconst extractAriaProps = function (props) {\n\tconst aria = {};\n\tObject.keys(props).forEach(key => {\n\t\tif (key === 'role' || key.indexOf('aria-') === 0) {\n\t\t\taria[key] = props[key];\n\t\t\tdelete props[key];\n\t\t}\n\t});\n\n\treturn aria;\n};\n\n/**\n * Gets the current timestamp of either `window.performance.now` or `Date.now`\n *\n * @function\n *\n * @returns {Number}                    The timestamp from `window.performance.now` or `Date.now`\n * @memberof core/util\n * @public\n */\nconst perfNow = function () {\n\tif (typeof window === 'object') {\n\t\treturn window.performance.now();\n\t} else {\n\t\treturn Date.now();\n\t}\n};\n\n/**\n * Merges two class name maps into one.\n *\n * The resulting map will only contain the class names defined in the `baseMap` and will be appended\n * with the value from `additiveMap` if it exists. Further, `allowedClassNames` may optionally limit\n * which keys will be merged from `additiveMap` into `baseMap`.\n *\n * Example:\n * ```\n * // merges all matching class names from additiveMap1 with baseMap1\n * const newMap1 = mergeClassNameMaps(baseMap1, additiveMap1);\n *\n * // merge only 'a' and 'b' class names from additiveMap2 with baseMap2\n * const newMap2 = mergeClassNameMaps(baseMap2, additiveMap2, ['a', 'b']);\n * ```\n *\n * @function\n * @param {Object}     baseMap             The source mapping of logical class name to physical\n *                                         class name\n * @param {Object}     additiveMap         Mapping of logical to physical class names which are\n *                                         concatenated with `baseMap` where the logical names match\n * @param {String[]}  [allowedClassNames]  Array of logical class names that can be augmented. When\n *                                         set, the logical class name must exist in `baseMap`,\n *                                         `additiveMap`, and this array to be concatenated.\n *\n * @returns {Object}                       The merged class name map.\n * @memberof core/util\n * @public\n */\nconst mergeClassNameMaps = (baseMap, additiveMap, allowedClassNames) => {\n\tlet css = baseMap;\n\tif (baseMap && additiveMap) {\n\t\tallowedClassNames = allowedClassNames || Object.keys(additiveMap);\n\t\t// if the props includes a css map, merge them together now\n\t\tcss = Object.assign({}, baseMap);\n\t\tallowedClassNames.forEach(key => {\n\t\t\tif (baseMap[key] && additiveMap[key]) {\n\t\t\t\tcss[key] = baseMap[key] + ' ' + additiveMap[key];\n\t\t\t}\n\t\t});\n\n\t\tif (process.env.NODE_ENV === 'test') {\n\t\t\treturn new Proxy({}, {\n\t\t\t\tget (target, key) {\n\t\t\t\t\t// use the merged value if it exists and the key otherwise\n\t\t\t\t\treturn css[key] || key;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\treturn css;\n};\n\n/**\n * Creates a function that memoizes the result of `fn`.\n *\n * Note that this function is a naive implementation and only checks the first argument for\n * memoization.\n *\n * @function\n * @param {Function}    fn    The function to have its output memoized.\n *\n * @returns {Function}        The new memoized function.\n * @memberof core/util\n * @public\n */\nconst memoize = (fn) => {\n\tlet cache = {};\n\treturn (...args) => {\n\t\tlet n = args[0];\n\t\tif (n in cache) {\n\t\t\treturn cache[n];\n\t\t} else {\n\t\t\tlet result = fn(...args);\n\t\t\tcache[n] = result;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n/**\n * Maps over the `children`, discarding any `null` children before and after calling the callback.\n *\n * A replacement for `React.Children.map`.\n *\n * @function\n * @param {*}        children  Children to map over\n * @param {Function} callback  Function to apply to each child. Will not be called if the child is\n *                              `null`. If `callback` returns `null`, the child will be removed from\n *                              the result. If `null` is returned, the item will not be included in\n *                              the final output, regardless of the filter function.\n * @param {Function} [filter]  Filter function applied after mapping.\n *\n * @returns {*}                The processed children or the value of `children` if not an array.\n * @memberof core/util\n * @see https://reactjs.org/docs/react-api.html#reactchildrenmap\n * @public\n */\nconst mapAndFilterChildren = (children, callback, filter) => {\n\tconst result = React.Children.map(children, (child, ...rest) => {\n\t\tif (child != null) {\n\t\t\treturn callback(child, ...rest);\n\t\t} else {\n\t\t\treturn child;\n\t\t}\n\t});\n\tif (result && filter) {\n\t\treturn result.filter(filter);\n\t} else {\n\t\treturn result;\n\t}\n};\n\nexport {\n\tcap,\n\tclamp,\n\tcoerceArray,\n\tcoerceFunction,\n\textractAriaProps,\n\tisRenderable,\n\tJob,\n\tmemoize,\n\tmergeClassNameMaps,\n\tperfNow,\n\tmapAndFilterChildren\n};\n","// Icons For Samples\n//\n// Grouped into logical sets for easy consumption.\n//\n\nimport {icons, iconsSilicon} from '@enact/agate/Icon';\n\nconst decrementIcons = [\n\t'minus',\n\t'arrowlargedown',\n\t'arrowlargeleft',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowhookright',\n\t'backward',\n\t'skipbackward',\n\t'pausebackward',\n\t'pausejumpbackward',\n\t'jumpbackward',\n\t'rollbackward',\n\t'arrowshrink',\n\t'back15'\n];\n\nconst incrementIcons = [\n\t'plus',\n\t'arrowlargeup',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmallright',\n\t'arrowhookleft',\n\t'forward',\n\t'skipforward',\n\t'pauseforward',\n\t'pausejumpforward',\n\t'jumpforward',\n\t'rollforward',\n\t'arrowextend',\n\t'forward15'\n];\n\nconst listIcons = [\n\t'denselist',\n\t'bulletlist',\n\t'list',\n\t'drawer',\n\t'playlist'\n];\n\nconst mediaIcons = [\n\t'circle',\n\t'stop',\n\t'play',\n\t'pause',\n\t'forward',\n\t'backward',\n\t'skipforward',\n\t'skipbackward',\n\t'pauseforward',\n\t'pausebackward',\n\t'pausejumpforward',\n\t'pausejumpbackward',\n\t'resumeplay',\n\t'image',\n\t'audio',\n\t'music',\n\t'languages',\n\t'cc',\n\t'ccon',\n\t'ccoff',\n\t'sub',\n\t'recordings',\n\t'livezoom',\n\t'liveplayback',\n\t'liveplaybackoff',\n\t'repeat',\n\t'repeatoff',\n\t'series',\n\t'repeatdownload',\n\t'view360',\n\t'view360off',\n\t'info'\n];\n\nconst arrowIcons = [\n\t'arrowlargedown',\n\t'arrowlargeup',\n\t'arrowlargeleft',\n\t'arrowlargeright',\n\t'arrowsmallup',\n\t'arrowsmalldown',\n\t'arrowsmallleft',\n\t'arrowsmallright'\n];\n\nconst starIcons = [\n\t'star',\n\t'hollowstar',\n\t'halfstar'\n];\n\nconst iconList = Object.keys(icons).sort();\nconst iconListSilicon = Object.keys(iconsSilicon).sort();\n\nexport default iconList;\nexport {decrementIcons, iconList, iconListSilicon, incrementIcons, listIcons, mediaIcons, arrowIcons, starIcons};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"Heading_heading__3IjzK\",\"showLine\":\"Heading_showLine__1SMqX\",\"title\":\"Heading_title__2F0Pv\",\"large\":\"Heading_large__3wLnw\",\"medium\":\"Heading_medium__3XqZG\",\"small\":\"Heading_small__1aERR\",\"tiny\":\"Heading_tiny__Bcqc3\",\"titleSpacing\":\"Heading_titleSpacing__3x-f4\",\"largeSpacing\":\"Heading_largeSpacing__E8UtY\",\"mediumSpacing\":\"Heading_mediumSpacing__2mUCM\",\"smallSpacing\":\"Heading_smallSpacing__nUqPA\",\"noneSpacing\":\"Heading_noneSpacing__2ZroQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1R4tX\",\"huge\":\"Icon_huge__2TTQ3\",\"small\":\"Icon_small__1qu4t\",\"smallest\":\"Icon_smallest__3tmBc\",\"dingbat\":\"Icon_dingbat__23hCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3PK7M\",\"bg\":\"Button_bg__1k8sG\",\"client\":\"Button_client__sV5RN\",\"icon\":\"Button_icon__GGFoP\",\"badge\":\"Button_badge__2GNYD\",\"grid\":\"Button_grid__2YZeg\",\"opaque\":\"Button_opaque__bCDlK\",\"lightOpaque\":\"Button_lightOpaque__3UJnx\",\"transparent\":\"Button_transparent__2Oox2\",\"minWidth\":\"Button_minWidth__3dh6o\",\"huge\":\"Button_huge__170rT\",\"small\":\"Button_small__2_T5B\",\"smallest\":\"Button_smallest__3Xa_y\",\"hasIcon\":\"Button_hasIcon__3NVu1\",\"animateOnRender\":\"Button_animateOnRender__3ssav\",\"scale-bounce\":\"Button_scale-bounce__1JuAX\",\"joinedLeft\":\"Button_joinedLeft__2i4kk\",\"joinedCenter\":\"Button_joinedCenter__QSfHj\",\"joinedRight\":\"Button_joinedRight__3gCql\",\"highlighted\":\"Button_highlighted__2u6Mb\",\"selected\":\"Button_selected__3rmf2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__2CxNb\",\"below\":\"LabeledIcon_below__2gDyf\",\"icon\":\"LabeledIcon_icon__32EZf\",\"above\":\"LabeledIcon_above__21pJg\",\"after\":\"LabeledIcon_after__do8b5\",\"before\":\"LabeledIcon_before__2Dp7i\",\"left\":\"LabeledIcon_left__-6IZj\",\"right\":\"LabeledIcon_right__2tMFW\",\"label\":\"LabeledIcon_label__47uKK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabbedPanels\":\"TabbedPanels_tabbedPanels__3KODu\",\"panels\":\"TabbedPanels_panels__3FULT\",\"reverse\":\"TabbedPanels_reverse__2Ozxo\",\"column\":\"TabbedPanels_column__2ow_T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__3Y1lB\",\"centered\":\"BodyText_centered__1e78o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bodyText\":\"BodyText_bodyText__1Fj1C\",\"centered\":\"BodyText_centered__2eiYE\",\"small\":\"BodyText_small__1comw\"};","/**\n * Utilities for detecting basic platform capabilities.\n *\n * @module core/platform\n * @exports detect\n * @exports platform\n * @public\n */\n\nimport uniq from 'ramda/src/uniq';\n\nconst hasGesture = () => {\n\treturn Boolean(\n\t\t('ongesturestart' in window) ||\n\t\t('onmsgesturestart' in window && (\n\t\t\twindow.navigator.msMaxTouchPoints > 1 ||\n\t\t\twindow.navigator.maxTouchPoints > 1\n\t\t))\n\t);\n};\n\nconst hasTouch = () => {\n\treturn Boolean(\n\t\t('TouchEvent' in window) ||\n\t\t('ontouchstart' in window) ||\n\t\twindow.navigator.msMaxTouchPoints ||\n\t\t(window.navigator.msManipulationViewsEnabled && window.navigator.maxTouchPoints)\n\t);\n};\n\n// Adapted from https://patrickhlauke.github.io/touch/touchscreen-detection/\n// I've omitted the touch event fallback since that is covered by hasTouch and we're less concerned\n// with legacy browsers used in touchscreen environments.\nconst hasTouchScreen = () => {\n\treturn (\n\t\t// if Pointer Events are supported, just check maxTouchPoints\n\t\t(window.PointerEvent && ('maxTouchPoints' in window.navigator) && window.navigator.maxTouchPoints > 0) ||\n\t\t// check for any-pointer:coarse which mostly means touchscreen\n\t\t(window.matchMedia && window.matchMedia('(any-pointer:coarse)').matches)\n\t);\n};\n\nconst platforms = [\n\t// Windows Phone 7 - 10\n\t{platform: 'windowsPhone', regex: /Windows Phone (?:OS )?(\\d+)[.\\d]+/},\n\t// Android 4+ using Chrome\n\t{platform: 'androidChrome', regex: /Android .* Chrome\\/(\\d+)[.\\d]+/},\n\t// Android 2 - 4\n\t{platform: 'android', regex: /Android(?:\\s|\\/)(\\d+)/},\n\t// Kindle Fire\n\t// Force version to 2, (desktop mode does not list android version)\n\t{platform: 'android', regex: /Silk\\/1./, forceVersion: 2, extra: {silk: 1}},\n\t// Kindle Fire HD (Silk versions 2 or 3)\n\t// Force version to 4\n\t{platform: 'android', regex: /Silk\\/2./, forceVersion: 4, extra: {silk: 2}},\n\t{platform: 'android', regex: /Silk\\/3./, forceVersion: 4, extra: {silk: 3}},\n\t// IE 8 - 10\n\t{platform: 'ie', regex: /MSIE (\\d+)/},\n\t// IE 11\n\t{platform: 'ie', regex: /Trident\\/.*; rv:(\\d+)/},\n\t// Edge\n\t{platform: 'edge', regex: /Edge\\/(\\d+)/},\n\t// iOS 3 - 5\n\t// Apple likes to make this complicated\n\t{platform: 'ios', regex: /iP(?:hone|ad;(?: U;)? CPU) OS (\\d+)/},\n\t// LG webOS\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/537.41/, forceVersion: 1},\n\t{platform: 'webos', regex: /Web0S;.*Safari\\/538.2/, forceVersion: 2},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/38/, forceVersion: 3},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/53/, forceVersion: 4},\n\t{platform: 'webos', regex: /Web0S;.*Chrome\\/68/, forceVersion: 5},\n\t// LG webOS of indeterminate version\n\t{platform: 'webos', regex: /Web0S;/, forceVersion: -1},\n\t// LuneOS\n\t{platform: 'webos', regex: /LuneOS/, forceVersion: -1, extra: {luneos: 1}},\n\t// Palm/HP/Open webOS\n\t{platform: 'webos', regex: /WebAppManager|Isis|webOS\\./, forceVersion: -1, extra: {legacy: 4}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/1/, forceVersion: -1, extra: {legacy: 1}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/2/, forceVersion: -1, extra: {legacy: 2}},\n\t{platform: 'webos', regex: /(?:web|hpw)OS\\/3/, forceVersion: -1, extra: {legacy: 3}},\n\t// desktop Safari\n\t{platform: 'safari', regex: /Version\\/(\\d+)[.\\d]+\\s+Safari/},\n\t// desktop Chrome\n\t{platform: 'chrome', regex: /Chrome\\/(\\d+)[.\\d]+/},\n\t// Firefox on Android\n\t{platform: 'androidFirefox', regex: /Android;.*Firefox\\/(\\d+)/},\n\t// FirefoxOS\n\t{platform: 'firefoxOS', regex: /Mobile;.*Firefox\\/(\\d+)/},\n\t// desktop Firefox\n\t{platform: 'firefox', regex: /Firefox\\/(\\d+)/},\n\t// Blackberry Playbook\n\t{platform: 'blackberry', regex: /PlayBook/i, forceVersion: 2},\n\t// Blackberry 10+\n\t{platform: 'blackberry', regex: /BB1\\d;.*Version\\/(\\d+\\.\\d+)/},\n\t// Tizen\n\t{platform: 'tizen', regex: /Tizen (\\d+)/}\n];\n\nconst ua = () => {\n\treturn window.navigator ? window.navigator.userAgent : '';\n};\n\nlet _platform;\n\nconst parseUserAgent = (userAgent) => {\n\tlet plat = {\n\t\tgesture: hasGesture(),\n\t\tnode: false,\n\t\ttouch: hasTouch(),\n\t\ttouchscreen: hasTouchScreen(),\n\t\tunknown: true\n\t};\n\n\tfor (let i = 0, p, m, v; (p = platforms[i]); i++) {\n\t\tm = p.regex.exec(userAgent);\n\n\t\tif (m) {\n\t\t\tplat.unknown = false;\n\n\t\t\tif ('forceVersion' in p) {\n\t\t\t\tv = p.forceVersion;\n\t\t\t} else {\n\t\t\t\tv = Number(m[1]);\n\t\t\t}\n\t\t\tplat[p.platform] = v;\n\t\t\tif (p.extra) {\n\t\t\t\tplat = {\n\t\t\t\t\t...plat,\n\t\t\t\t\t...p.extra\n\t\t\t\t};\n\t\t\t}\n\t\t\tplat.platformName = p.platform;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\treturn plat;\n};\n\n/**\n * @typedef {Object} PlatformDescription\n * @property {Object} [extra] - Additional information about the detected platform\n * @property {Boolean} gesture - `true` if the platform has native double-finger events\n * @property {Boolean} node - `true` only if `window` is `undefined`\n * @property {String} [platformName] - The name of the platform, if detected\n * @property {Boolean} touch - `true` if the platform has native single-finger events\n * @property {Boolean} touchsreen - `true` if the platform has a touch screen\n * @property {Boolean} unknown - `true` for any unknown system\n *\n * @memberof core/platform\n * @public\n */\n\n/**\n * Returns the {@link core/platform.platform} object.\n *\n * @function detect\n * @returns {PlatformDescription}     The {@link core/platform.platform} object\n * @memberof core/platform\n * @public\n */\nconst detect = () => {\n\tif (_platform) {\n\t\t// if we've already determined the platform, we'll use that determination\n\t\treturn _platform;\n\t} else if (typeof window === 'undefined') {\n\t\treturn {\n\t\t\tgesture: false,\n\t\t\tnode: true,\n\t\t\ttouch: false,\n\t\t\tunknown: true\n\t\t};\n\t}\n\n\tconst userAgent = ua();\n\n\treturn (_platform = parseUserAgent(userAgent));\n};\n\n/**\n * Provides basic information about the running platform.\n *\n * @type {PlatformDescription}\n * @memberof core/platform\n * @public\n */\nconst platform = {};\n\n[\n\t'gesture',\n\t'node',\n\t'platformName',\n\t'touch',\n\t'touchscreen',\n\t'unknown',\n\t...uniq(platforms.map(p => p.platform))\n].forEach(name => {\n\tObject.defineProperty(platform, name, {\n\t\tenumerable: true,\n\t\tget: () => {\n\t\t\tconst p = detect();\n\t\t\treturn p[name];\n\t\t}\n\t});\n});\n\nexport default platform;\nexport {\n\tdetect,\n\tparseUserAgent,\n\tplatform\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1M2Zz\",\"bg\":\"Button_bg__LhGZK\",\"client\":\"Button_client__1JYoz\",\"icon\":\"Button_icon__1Wtzr\",\"hasIcon\":\"Button_hasIcon__29nPh\",\"large\":\"Button_large___TyEn\",\"minWidth\":\"Button_minWidth__1Ey4a\",\"small\":\"Button_small__30CXD\",\"decoration\":\"Button_decoration__JsA12\",\"selected\":\"Button_selected__QydK0\",\"pressed\":\"Button_pressed__hy72B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Checkbox_toggleIcon__3FAw8\",\"icon\":\"Checkbox_icon__veJET\",\"selected\":\"Checkbox_selected__1UBC3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkboxItem\":\"CheckboxItem_checkboxItem__2y76-\",\"slotAfter\":\"CheckboxItem_slotAfter__1Ql5J\",\"slotBefore\":\"CheckboxItem_slotBefore__3t4oM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__xAHNb\",\"progressBar\":\"Slider_progressBar__3kuWx\",\"bar\":\"Slider_bar__GY9qj\",\"fill\":\"Slider_fill__3_4G5\",\"knob\":\"Slider_knob__39E1g\",\"noFill\":\"Slider_noFill__2zCup\",\"active\":\"Slider_active__ETFbw\",\"pressed\":\"Slider_pressed__1k1mH\",\"horizontal\":\"Slider_horizontal__3Tqlg\",\"load\":\"Slider_load__1BATq\",\"vertical\":\"Slider_vertical__2I6Or\",\"tooltip\":\"Slider_tooltip__1jemj\",\"activateOnFocus\":\"Slider_activateOnFocus__3cYJP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"swatchButton\":\"SwatchButton_swatchButton__1do9U\",\"small\":\"SwatchButton_small__3ROme\",\"bg\":\"SwatchButton_bg____5mV\",\"colorSwatch\":\"SwatchButton_colorSwatch__3Qd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorPicker\":\"ColorPicker_colorPicker__3VbcX\",\"transitionContainer\":\"ColorPicker_transitionContainer__XRheV\",\"openTransitionContainer\":\"ColorPicker_openTransitionContainer__3NM-Y\",\"group\":\"ColorPicker_group__7_7lW\",\"sliders\":\"ColorPicker_sliders__12uJ5\",\"extended\":\"ColorPicker_extended__305Uw\",\"palette\":\"ColorPicker_palette__2e3ci\",\"swatch\":\"ColorPicker_swatch__2MIzD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextualPopupDecorator\":\"ContextualPopupDecorator_contextualPopupDecorator__1mG8G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"drawer\":\"Drawer_drawer__1JqcA\",\"drawerTransitionContainer\":\"Drawer_drawerTransitionContainer__zfYXs\",\"inner\":\"Drawer_inner__13ffJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"galliumNote\":\"Drawer_galliumNote__1_l1a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"radioItem\":\"RadioItem_radioItem__Rg7Wy\",\"icon\":\"RadioItem_icon__1cBCd\",\"selected\":\"RadioItem_selected__1qkri\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Uao4x\",\"titleContainer\":\"Header_titleContainer__1mosh\",\"endSlot\":\"Header_endSlot__gbwpB\",\"subtitle\":\"Header_subtitle__1B3tI\",\"title\":\"Header_title__3_7uh\",\"titleAbove\":\"Header_titleAbove__30a_t\",\"standard\":\"Header_standard__2Xffi\",\"hideLine\":\"Header_hideLine__3y_pe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon\":\"Icon_icon__1sL6a\",\"flipBoth\":\"Icon_flipBoth__2qJTI\",\"flipHorizontal\":\"Icon_flipHorizontal__2KKBv\",\"flipVertical\":\"Icon_flipVertical__3j-ZC\",\"dingbat\":\"Icon_dingbat__26H5_\",\"large\":\"Icon_large__e418M\",\"pressed\":\"Icon_pressed__1aeUB\",\"small\":\"Icon_small__31TeU\"};","module.exports = __webpack_public_path__ + \"images/icon-enact-docs.png\";","module.exports = __webpack_public_path__ + \"images/icon-enact-factory.svg\";","module.exports = __webpack_public_path__ + \"images/icon-enact-logo.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__2XJ5n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageItem\":\"ImageItem_imageItem__DIWmH\",\"horizontal\":\"ImageItem_horizontal__2CR7H\",\"image\":\"ImageItem_image__3DqGA\",\"captionOverlay\":\"ImageItem_captionOverlay__2Wl9D\",\"caption\":\"ImageItem_caption__1OVYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"IncrementSliderButton_button__1L7YK\",\"client\":\"IncrementSliderButton_client__Ssq-B\",\"bg\":\"IncrementSliderButton_bg__3ypPC\",\"horizontal\":\"IncrementSliderButton_horizontal__2ZgFP\",\"decrement\":\"IncrementSliderButton_decrement__J-16I\",\"increment\":\"IncrementSliderButton_increment__3bloU\",\"vertical\":\"IncrementSliderButton_vertical__8n7Pf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__2chpw\",\"inline\":\"Item_inline__27bUV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIcon_labeledIcon__sVTUQ\",\"inline\":\"LabeledIcon_inline__1N9-f\",\"above\":\"LabeledIcon_above__2HQrn\",\"below\":\"LabeledIcon_below__1_xvo\",\"iconCell\":\"LabeledIcon_iconCell__3Izg9\",\"before\":\"LabeledIcon_before__SZA1P\",\"left\":\"LabeledIcon_left__sIU3e\",\"right\":\"LabeledIcon_right__3ClVM\",\"label\":\"LabeledIcon_label__3Qpxs\",\"after\":\"LabeledIcon_after__3Sd_T\",\"icon\":\"LabeledIcon_icon__1abmm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labeledIcon\":\"LabeledIconButton_labeledIcon__1cfcm\",\"below\":\"LabeledIconButton_below__3PFgg\",\"icon\":\"LabeledIconButton_icon__3YBS-\",\"above\":\"LabeledIconButton_above__1IzUj\",\"after\":\"LabeledIconButton_after__1eVyj\",\"before\":\"LabeledIconButton_before__9i81B\",\"left\":\"LabeledIconButton_left__1iNM2\",\"right\":\"LabeledIconButton_right__A9go6\",\"label\":\"LabeledIconButton_label__7UmJg\",\"labeledIconButton\":\"LabeledIconButton_labeledIconButton__2nn1c\",\"selected\":\"LabeledIconButton_selected__2agqi\",\"small\":\"LabeledIconButton_small__3BKZm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupMenu\":\"PopupMenu_popupMenu__-eCje\",\"title\":\"PopupMenu_title__3MVaL\",\"horizontal\":\"PopupMenu_horizontal__1dAM1\",\"body\":\"PopupMenu_body__3_Kwh\",\"popupTransitionContainer\":\"PopupMenu_popupTransitionContainer__1o99J\",\"inner\":\"PopupMenu_inner__2tMdj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cannotClose\":\"PopupMenu_cannotClose__3wJiA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__xyV-n\",\"bar\":\"ProgressBar_bar__23thX\",\"fill\":\"ProgressBar_fill__1DaxG\",\"load\":\"ProgressBar_load__lloVg\",\"vertical\":\"ProgressBar_vertical__31Bbs\",\"horizontal\":\"ProgressBar_horizontal__1sjzV\",\"radial\":\"ProgressBar_radial__2_HIf\",\"fillOverHalf\":\"ProgressBar_fillOverHalf__19BIo\",\"loadOverHalf\":\"ProgressBar_loadOverHalf__G0YN7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"ProgressBar_progressBar__129Yw\",\"small\":\"ProgressBar_small__2wmQa\",\"vertical\":\"ProgressBar_vertical__bB7NQ\",\"fill\":\"ProgressBar_fill__3G9jz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scrollbar\":\"Scrollbar_scrollbar__1vvQ9\",\"vertical\":\"Scrollbar_vertical__2HQdJ\",\"horizontal\":\"Scrollbar_horizontal__1k9A9\",\"corner\":\"Scrollbar_corner__1zsbJ\",\"scrollbarTrackShown\":\"Scrollbar_scrollbarTrackShown__nYLNH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"Scroller_scroller__2jt_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scroller\":\"UiScroller_scroller__Dp9G1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Spinner_spinner__25L07\",\"centered\":\"Spinner_centered__22PAp\",\"running\":\"Spinner_running__2QhwN\",\"spinnerContainer\":\"Spinner_spinnerContainer__1o-44\",\"scrim\":\"Spinner_scrim__1mwXR\",\"blockClickOn\":\"Spinner_blockClickOn__2B96l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleIcon\":\"Switch_toggleIcon__1_Gv3\",\"icon\":\"Switch_icon__1AIcR\",\"animated\":\"Switch_animated__2DWi2\",\"selected\":\"Switch_selected__2YhJn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switchItem\":\"SwitchItem_switchItem__37OEe\",\"label\":\"SwitchItem_label__DfCYE\",\"switchIcon\":\"SwitchItem_switchIcon__54MEe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"thumbnailItem\":\"ThumbnailItem_thumbnailItem__2CnWI\",\"thumbnail\":\"ThumbnailItem_thumbnail__3Ct6_\",\"content\":\"ThumbnailItem_content__1qdn3\",\"slotBefore\":\"ThumbnailItem_slotBefore__26F68\",\"styled\":\"ThumbnailItem_styled__13kd-\",\"item\":\"ThumbnailItem_item__1vj65\",\"label\":\"ThumbnailItem_label__3XGOu\",\"selected\":\"ThumbnailItem_selected__3rDoY\"};","import kind from '@enact/core/kind';\nimport {isRtlText} from '@enact/i18n/util';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport css from './Tooltip.module.less';\n\n/**\n * {@link agate/TooltipDecorator.TooltipLabel} is a stateless tooltip component with\n * Agate styling applied.\n *\n * @class TooltipLabel\n * @memberof agate/TooltipDecorator\n * @ui\n * @private\n */\nconst TooltipLabel = kind({\n\tname: 'TooltipLabel',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipLabel.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px). If the content goes over the given width,\n\t\t * then it will automatically wrap. When `null`, content does not wrap.\n\t\t *\n\t\t * @type {Number}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltipLabel'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({width, styler}) => styler.append({multi: !!width}),\n\t\tstyle: ({children, width, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\tdirection: isRtlText(children) ? 'rtl' : 'ltr',\n\t\t\t\twidth\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, ...rest}) => {\n\t\tdelete rest.width;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default TooltipLabel;\nexport {\n\tTooltipLabel\n};\n","import kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Skinnable from '../Skinnable';\n\nimport TooltipLabel from './TooltipLabel';\n\nimport css from './Tooltip.module.less';\n\n/**\n * A stateless tooltip component with Agate styling applied.\n *\n * @class TooltipBase\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst TooltipBase = kind({\n\tname: 'Tooltip',\n\n\tpropTypes: /** @lends agate/TooltipDecorator.TooltipBase.prototype */ {\n\t\t/**\n\t\t * The node to be displayed as the main content of the tooltip.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Position of tooltip arrow in relation to the activator.\n\t\t *\n\t\t * Note that `'left'`, `'center'`, `'right'` are applicable when direction is in vertical\n\t\t * orientation (i.e. `'above'`, `'below'`), and `'top'`, `'middle'`, and `'bottom'` are\n\t\t * applicable when direction is in horizontal orientation (i.e. `'left'`, `'right'`)\n\t\t *\n\t\t * @type {('left'|'center'|'right'|'top'|'middle'|'bottom')}\n\t\t * @default 'right'\n\t\t * @public\n\t\t */\n\t\tarrowAnchor: PropTypes.oneOf(['left', 'center', 'right', 'top', 'middle', 'bottom']),\n\n\t\t/**\n\t\t * Direction of label in relation to the activator.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'above'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right']),\n\n\t\t/**\n\t\t * A value representing the amount to offset the label portion of the tooltip.\n\t\t *\n\t\t * In a \"center\" aligned tooltip, the label may be desirable to offset to one side or the\n\t\t * other. This prop accepts a value betwen -0.5 and 0.5 (representing 50% to the left or\n\t\t * right). This defaults to 0 offset (centered). It also automatically caps the value so it\n\t\t * never positions the tooltip label past the anchored arrow. If the tooltip label or arrow\n\t\t * has non-rectangular geometry (rounded corners, a wide tail, etc), you'll need to manually\n\t\t * account for that in your provided offset value.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tlabelOffset: PropTypes.number,\n\n\t\t/**\n\t\t * Style object for tooltip position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tposition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Anchors the tooltip relative to its container.\n\t\t *\n\t\t * Reconfigures the component to anchor itself to the designated edge of its container.\n\t\t * When this is not specified, the implication is that the component is \"absolutely\"\n\t\t * positioned, relative to the viewport, rather than its parent layer.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\trelative: PropTypes.bool,\n\n\t\t/**\n\t\t * Called when the tooltip mounts/unmounts, giving a reference to the DOM.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\ttooltipRef: PropTypes.func,\n\n\t\t/**\n\t\t * The width of tooltip content in pixels (px).\n\t\t *\n\t\t * If the content goes over the given width, then it will automatically wrap. When `null`,\n\t\t * content does not wrap.\n\t\t *\n\t\t * @type {Number|null}\n\t\t * @public\n\t\t */\n\t\twidth: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tarrowAnchor: 'right',\n\t\tdirection: 'above',\n\t\tlabelOffset: 0\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'tooltip'\n\t},\n\n\tcomputed: {\n\t\tlabelOffset: ({labelOffset}) => {\n\t\t\tif (labelOffset) {\n\t\t\t\tconst cappedPosition = Math.max(-0.5, Math.min(0.5, labelOffset));\n\t\t\t\treturn {transform: `translateX(${cappedPosition * 100}%)`};\n\t\t\t}\n\t\t},\n\t\tclassName: ({direction, arrowAnchor, relative, styler}) => styler.append(direction, `${arrowAnchor}Arrow`, {relative, absolute: !relative}),\n\t\tstyle: ({position, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t...position\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, tooltipRef, width, labelOffset, ...rest}) => {\n\t\tdelete rest.arrowAnchor;\n\t\tdelete rest.labelOffset;\n\t\tdelete rest.direction;\n\t\tdelete rest.position;\n\t\tdelete rest.relative;\n\n\t\treturn (\n\t\t\t<div {...rest}>\n\t\t\t\t<div className={css.tooltipAnchor} ref={tooltipRef} >\n\t\t\t\t\t<div className={css.tooltipArrow} />\n\t\t\t\t\t<TooltipLabel width={width} style={labelOffset}>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</TooltipLabel>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n});\n\n/**\n * A tooltip component with Agate styling applied.\n *\n * @class Tooltip\n * @memberof agate/TooltipDecorator\n * @ui\n * @public\n */\nconst Tooltip = Skinnable(TooltipBase);\n\nexport default Tooltip;\nexport {Tooltip, TooltipBase};\n","// TooltipDecorator util.js\n//\n\nimport ri from '@enact/ui/resolution';\n\n/**\n * Calculates the unusable space of a centered Tooltip, which the Tooltip arrow cannot be positioned,\n * as a percentage of the Tooltip's total width.\n *\n * @param  {Number} tooltipWidth        The measured width of the Tooltip\n * @return {Number}                     The percent of the width of the tooltip that the Tooltip's\n *                                      decorations allocate for themselves (on one side).\n * @private\n */\nconst getLabelUnavailableSpace = function (tooltipWidth) {\n\t// Arrow is 15px wide total, we need to know how wide half of it is, since it's centered on the anchor point.\n\tconst arrowWidth = (15 / 2);\n\n\t// Tooltip is 54px tall, divide by half to get the curve radius ,add the tooltip width\n\t// to determine the distance that the anchor cannot progress past.\n\tconst tooltipUnavailableEdge = ri.scale((54 / 2) + arrowWidth);\n\n\t// cap the offset at 50% - that percentage\n\tconst tooltipUnavaliablePercentage = 0.5 - (tooltipUnavailableEdge / tooltipWidth);\n\n\treturn tooltipUnavaliablePercentage;\n};\n\n/**\n * Adjust anchor position for `Tooltip` based on overflow and rtl.\n * Takes the output of `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  arrowAnchor       Initial anchor position\n * @param   {String}  tooltipDirection  Direction of tooltip; value from `adjustDirection`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted anchor position\n * @private\n */\nconst adjustAnchor = function (arrowAnchor, tooltipDirection, overflow, rtl) {\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tif (rtl && arrowAnchor !== 'center') {\n\t\t\tarrowAnchor = arrowAnchor === 'left' ? 'right' : 'left';\n\t\t}\n\n\t\t// Flip sideways if it overflows to the sides\n\t\tif (arrowAnchor === 'center') {\n\t\t\t// If tooltip is anchored in the center, don't flip. We'll offset it appropriately later.\n\t\t} else if (overflow.isOverRight) {\n\t\t\tarrowAnchor = 'left';\n\t\t} else if (overflow.isOverLeft) {\n\t\t\tarrowAnchor = 'right';\n\t\t}\n\n\t\t// If tooltip is just too wide for the whole screen, switch it to a center tooltip\n\t\tif (overflow.isOverWide && tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\t\tarrowAnchor = 'center';\n\t\t}\n\t}\n\n\treturn arrowAnchor;\n};\n\n/**\n * Adjust direction for `Tooltip` based on overflow and rtl.\n * Takes the output from `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {String}                    Adjusted tooltip direction\n * @private\n */\nconst adjustDirection = function (tooltipDirection, overflow, rtl) {\n\tif (rtl && (tooltipDirection === 'left' || tooltipDirection === 'right')) {\n\t\ttooltipDirection = tooltipDirection === 'left' ? 'right' : 'left';\n\t}\n\n\t// Flip tooltip if it overflows towards the tooltip direction\n\tif (overflow.isOverTop && tooltipDirection === 'above') {\n\t\ttooltipDirection = 'below';\n\t} else if (overflow.isOverBottom && tooltipDirection === 'below') {\n\t\ttooltipDirection = 'above';\n\t} else if (overflow.isOverLeft && tooltipDirection === 'left' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'right';\n\t} else if (overflow.isOverRight && tooltipDirection === 'right' && !overflow.isOverWide) {\n\t\ttooltipDirection = 'left';\n\t}\n\n\treturn tooltipDirection;\n};\n\n/**\n * Calculates the overflow of `Tooltip`  if `Tooltip` is at the edge of the viewport.\n * Return the amount of overflow in a particular direction if there is overflow (false otherwise).\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Number} edgeKeepout        Extra margin around the screen to avoid\n * @returns {Object}                    Tooltip's calculated overflow\n * @private\n */\nconst calcOverflow = function (tooltipNode, clientNode, tooltipDirection, edgeKeepout) {\n\t// get the distance of space on both the right and left side of the client node. `clientNode.width / 2` because we want the tooltip to be positioned horizontally in middle of the client node.\n\tconst windowWidth = window.innerWidth;\n\tconst windowHeight = window.innerHeight;\n\tconst clientHorizontalCenter = clientNode.left + (clientNode.width / 2);\n\tconst tooltipSafeWidth = tooltipNode.width + edgeKeepout;\n\tconst tooltipCenterdSafeWidth = (tooltipNode.width / 2) + edgeKeepout;\n\tconst rightDelta = tooltipSafeWidth > clientHorizontalCenter;\n\tconst leftDelta = tooltipSafeWidth > windowWidth - clientHorizontalCenter;\n\tconst isTooltipWide = (tooltipSafeWidth > windowWidth) || (leftDelta && rightDelta);\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height + edgeKeepout;\n\t\tconst isOverLeft = clientHorizontalCenter - tooltipSafeWidth;\n\t\tconst isOverRight = clientHorizontalCenter + tooltipSafeWidth;\n\t\tconst isOverCenterLeft = clientHorizontalCenter - tooltipCenterdSafeWidth;\n\t\tconst isOverCenterRight = clientHorizontalCenter + tooltipCenterdSafeWidth;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverCenterLeft: (isOverCenterLeft < 0) ? isOverCenterLeft : false,\n\t\t\tisOverCenterRight: (isOverCenterRight > windowWidth) ? (isOverCenterRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tconst isOverTop = clientNode.top - tooltipNode.height + clientNode.height - edgeKeepout;\n\t\tconst isOverBottom = clientNode.bottom + tooltipNode.height - (clientNode.height / 2) + edgeKeepout;\n\t\tconst isOverLeft = clientNode.left - tooltipNode.width - edgeKeepout;\n\t\tconst isOverRight = clientNode.right + tooltipNode.width + edgeKeepout;\n\t\treturn {\n\t\t\tisOverTop: (isOverTop < 0) ? isOverTop : false,\n\t\t\tisOverBottom: (isOverBottom > windowHeight) ? (isOverBottom - windowHeight) : false,\n\t\t\tisOverLeft: (isOverLeft < 0) ? isOverLeft : false,\n\t\t\tisOverRight: (isOverRight > windowWidth) ? (isOverRight - windowWidth) : false,\n\t\t\tisOverWide: isTooltipWide\n\t\t};\n\t}\n};\n\n/**\n * Calculates the top and left position for `Tooltip`.\n * Takes the output of `adjustAnchor`, `adjustDirection`, and `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object} tooltipNode        The `getBoundingClientRect` values for tooltip node\n * @param   {Object} clientNode         The `getBoundingClientRect` values for client node\n * @param   {String} arrowAnchor        Anchor position from `adjustAnchor`\n * @param   {String} tooltipDirection   Direction of tooltip\n * @param   {Number} tooltipHeight      Tooltip height\n * @param   {Object} overflow           Tooltip's calculated overflow from `calcOverflow`\n * @param   {Boolean} rtl               RTL mode\n * @returns {Object}                    Tooltip top and left position\n * @private\n */\nconst getPosition = function (clientNode, tooltipDirection) {\n\tlet position = {};\n\n\tswitch (tooltipDirection) {\n\t\tcase 'above':\n\t\t\tposition.top = clientNode.top;\n\t\t\tbreak;\n\t\tcase 'below':\n\t\t\tposition.top = clientNode.bottom;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tposition.left = clientNode.right;\n\t\t\tbreak;\n\t\tcase 'left':\n\t\t\tposition.left = clientNode.left;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tposition = {};\n\t}\n\n\tif (tooltipDirection === 'above' || tooltipDirection === 'below') {\n\t\tposition.left = clientNode.left + clientNode.width / 2;\n\t} else if (tooltipDirection === 'left' || tooltipDirection === 'right') {\n\t\tposition.top = clientNode.top + clientNode.height / 2;\n\t}\n\n\treturn position;\n};\n\n/**\n * Adjusts the `Tooltip` arrow anchor when the tooltip is too wide.\n * Takes the output of `calcOverflow`.\n *\n * @method\n * @memberof agate/TooltipDecorator\n * @param   {Object}  tooltipNode       The `getBoundingClientRect` values for tooltip node\n * @param   {String}  tooltipDirection  Direction of tooltip\n * @param   {Object}  tooltipPosition   Calculated tooltip position from `getPosition`\n * @param   {Object}  overflow          Tooltip's calculated overflow from `calcOverflow`\n * @private\n */\nconst getLabelOffset = function (tooltipNode, tooltipDirection, tooltipPosition, overflow) {\n\t// This method is irrelevent to left and right anchored tooltips, skip entirely.\n\tif (tooltipDirection !== 'left' && tooltipDirection !== 'right') {\n\t\tconst tooltipWidth = tooltipNode.width;\n\n\t\tif (\n\t\t\toverflow.isOverWide ||\n\t\t\toverflow.isOverCenterLeft ||\n\t\t\toverflow.isOverCenterRight\n\t\t) {\n\t\t\tlet pixelOffset = 0;\n\n\t\t\tif (overflow.isOverCenterLeft) {\n\t\t\t\t// Start shifting the label to the right (negative offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterLeft;\n\t\t\t} else if (overflow.isOverCenterRight) {\n\t\t\t\t// Start shifting the label to the left (positive offset)\n\t\t\t\tpixelOffset = overflow.isOverCenterRight;\n\t\t\t}\n\n\t\t\tconst percentageOffset = (pixelOffset / tooltipWidth) * -1;\n\t\t\tconst offsetBoundaryPercentage = getLabelUnavailableSpace(tooltipWidth);\n\t\t\tconst cappedPercentageOffset = Math.max(offsetBoundaryPercentage * -1, Math.min(offsetBoundaryPercentage, percentageOffset));\n\n\t\t\treturn cappedPercentageOffset;\n\t\t}\n\t}\n\treturn null;\n};\n\nexport {\n\tadjustDirection,\n\tadjustAnchor,\n\tcalcOverflow,\n\tgetLabelOffset,\n\tgetPosition\n};\n","/* global MutationObserver ResizeObserver */\n\n/**\n * Agate styled tooltip components.\n *\n * @module agate/TooltipDecorator\n * @exports Tooltip\n * @exports TooltipBase\n * @exports TooltipDecorator\n */\n\nimport {forward, handle, forProp} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport {Job} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport {FloatingLayerBase} from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {Tooltip, TooltipBase} from './Tooltip';\nimport {adjustDirection, adjustAnchor, calcOverflow, getLabelOffset, getPosition} from './util';\n\nlet currentTooltip; // needed to know whether or not we should stop a showing job when unmounting\n\n/**\n * Default config for [TooltipDecorator]{@link agate/TooltipDecorator.TooltipDecorator}\n *\n * @memberof agate/TooltipDecorator.TooltipDecorator\n * @hocconfig\n */\nconst defaultConfig = {\n\t/**\n\t * The boundary around the screen which the tooltip should never cross, typically involving\n\t * flipping to an alternate orientation or adjusting its offset to remain on screen.\n\t * The default of 24 is derived from a standard 12px screen-keepout size plus the standard\n\t * Spotlight-outset (12px) margin/padding value which keeps elements and text aligned inside a\n\t * [Panel]{@link agate/Panels.Panel}. Note: This value will be scaled according to the\n\t * resolution.\n\t *\n\t * @type {Number}\n\t * @default 24\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\tscreenEdgeKeepout: (12 + 12),\n\n\t/**\n\t * The name of the property which will receive the tooltip node.\n\t *\n\t * By default, `TooltipDecorator` will add a new child to the wrapped component, following any\n\t * other children passed in. If a component needs to, it can specify another property to receive\n\t * the tooltip and the `children` property will not be modified.\n\t *\n\t * @type {String}\n\t * @default 'children'\n\t * @memberof agate/TooltipDecorator.TooltipDecorator.defaultConfig\n\t */\n\ttooltipDestinationProp: 'children'\n};\n\n/**\n * A higher-order component which positions [Tooltip]{@link agate/TooltipDecorator.Tooltip} in\n * relation to the wrapped component.\n *\n * The tooltip is automatically displayed when the decoratorated component is focused after a set\n * period of time.\n *\n * The tooltip is positioned around the decorator where there is available window space.\n *\n * Note that the direction of tooltip will be flipped horizontally in RTL locales.\n *\n * @class TooltipDecorator\n * @memberof agate/TooltipDecorator\n * @hoc\n * @public\n */\nconst TooltipDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\n\tconst tooltipDestinationProp = config.tooltipDestinationProp;\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'TooltipDecorator';\n\n\t\tstatic propTypes = /** @lends agate/TooltipDecorator.TooltipDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * Disables the component but does not affect tooltip operation.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tdisabled: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Indicates the tooltip text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Time to wait (in milliseconds) before showing tooltip on hover.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 500\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Position of the tooltip with respect to the wrapped component.\n\t\t\t *\n\t\t\t * | *Value* | *Tooltip Direction* |\n\t\t\t * |---|---|\n\t\t\t * | `'above'` | Above component, flowing to the right |\n\t\t\t * | `'above center'` | Above component, centered |\n\t\t\t * | `'above left'` | Above component, flowing to the left |\n\t\t\t * | `'above right'` | Above component, flowing to the right |\n\t\t\t * | `'below'` | Below component, flowing to the right |\n\t\t\t * | `'below center'` | Below component, centered |\n\t\t\t * | `'below left'` | Below component, flowing to the left |\n\t\t\t * | `'below right'` | Below component, flowing to the right |\n\t\t\t * | `'left bottom'` | Left of the component, contents at the bottom |\n\t\t\t * | `'left middle'` | Left of the component, contents middle aligned |\n\t\t\t * | `'left top'` | Left of the component, contents at the top |\n\t\t\t * | `'right bottom'` | Right of the component, contents at the bottom |\n\t\t\t * | `'right middle'` | Right of the component, contents middle aligned |\n\t\t\t * | `'right top'` | Right of the component, contents at the top |\n\t\t\t *\n\t\t\t * `TooltipDectorator` attempts to choose the best direction to meet layout and language\n\t\t\t * requirements. Left and right directions will reverse for RTL languages. Additionally,\n\t\t\t * the tooltip will reverse direction if it will prevent overflowing off the viewport\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|\n\t\t\t *  'below center'|'below left'|'below right'|'left bottom'|'left middle'|'left top'|\n\t\t\t * \t'right bottom'|'right middle'|'right top')}\n\t\t\t * @default 'above'\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipPosition: PropTypes.oneOf([\n\t\t\t\t'above', 'above center', 'above left', 'above right',\n\t\t\t\t'below', 'below center', 'below left', 'below right',\n\t\t\t\t'left bottom', 'left middle', 'left top',\n\t\t\t\t'right bottom', 'right middle', 'right top']),\n\n\t\t\t/**\n\t\t\t * Properties to be passed to tooltip component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Positions the tooltip relative to its container.\n\t\t\t *\n\t\t\t * Determines whether your tooltip should position itself relative to its container or\n\t\t\t * relative to the screen (absolute positioning on the floating layer). When setting to\n\t\t\t * `true`, to enable relative positioning, it may be important to specify the\n\t\t\t * `tooltipDestinationProp` key in this HoC's config object. A relatively positioned\n\t\t\t * Tooltip for a `Button`, for example, must be placed in the `decoration` prop.\n\t\t\t *\n\t\t\t * It may be necessary to assign the CSS rule `position` to the containing element so\n\t\t\t * relatively positioned Tooltip has a frame to \"stick to\" the edge of.\n\t\t\t *\n\t\t\t * Anchoring points can be visualized as follows:\n\t\t\t * ```\n\t\t\t * \n\t\t\t *        \n\t\t\t * \n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipRelative: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Tooltip content.\n\t\t\t *\n\t\t\t * @type {Node}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\n\t\t\t/**\n\t\t\t * The interval (in milliseconds) to recheck the math for a currently showing tooltip's\n\t\t\t * positioning and orientation. Useful if your anchor element moves.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 400\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipUpdateDelay: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The width of tooltip content in pixels (px).\n\t\t\t *\n\t\t\t * If the content goes over the given width, it will automatically wrap. When `null`,\n\t\t\t * content does not wrap.\n\t\t\t *\n\t\t\t * @type {Number|null}\n\t\t\t * @public\n\t\t\t */\n\t\t\ttooltipWidth: PropTypes.number\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tdisabled: false,\n\t\t\ttooltipDelay: 500,\n\t\t\ttooltipPosition: 'above',\n\t\t\ttooltipUpdateDelay: 400\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\tshowing: false,\n\t\t\t\ttooltipDirection: null,\n\t\t\t\tarrowAnchor: null,\n\t\t\t\tposition: {top: 0, left: 0}\n\t\t\t};\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (window.MutationObserver) {\n\t\t\t\tthis.mutationObserver = new MutationObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\n\t\t\tif (window.ResizeObserver) {\n\t\t\t\tthis.resizeObserver = new ResizeObserver(this.startTooltipLayoutJob);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tif (this.state.showing && (\n\t\t\t\tprevProps.tooltipText !== this.props.tooltipText ||\n\t\t\t\tprevProps.tooltipPosition !== this.props.tooltipPosition ||\n\t\t\t\tprevState.showing !== this.state.showing\n\t\t\t)) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (currentTooltip === this) {\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\t\t\t}\n\t\t}\n\n\t\tsetTooltipLayout () {\n\t\t\tif (!this.tooltipRef || !this.clientRef) return;\n\n\t\t\tconst screenEdgeKeepout = ri.scale(config.screenEdgeKeepout);\n\t\t\tconst position = this.props.tooltipPosition;\n\t\t\tconst arr = position.split(' ');\n\t\t\tlet tooltipDirection = null;\n\t\t\tlet arrowAnchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[tooltipDirection, arrowAnchor] = arr;\n\t\t\t} else if (position === 'above' || position === 'below') {\n\t\t\t\ttooltipDirection = position;\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t} else {\n\t\t\t\ttooltipDirection = 'above';\n\t\t\t\tarrowAnchor = 'right';\n\t\t\t}\n\n\t\t\tconst tooltipNode = this.tooltipRef.getBoundingClientRect(); // label bound\n\t\t\tconst clientNode = this.clientRef.getBoundingClientRect(); // client bound\n\t\t\tconst overflow = calcOverflow(tooltipNode, clientNode, tooltipDirection, screenEdgeKeepout);\n\n\t\t\ttooltipDirection = adjustDirection(tooltipDirection, overflow, this.props.rtl);\n\t\t\tarrowAnchor = adjustAnchor(arrowAnchor, tooltipDirection, overflow, this.props.rtl);\n\n\t\t\tconst tooltipPosition = getPosition(clientNode, tooltipDirection);\n\t\t\tconst labelOffset = arrowAnchor === 'center' ? getLabelOffset(tooltipNode, tooltipDirection, tooltipPosition, overflow) : null;\n\t\t\tconst {top, left} = this.state.position;\n\n\t\t\tif (\n\t\t\t\t(tooltipPosition.top !== top) ||\n\t\t\t\t(tooltipPosition.left !== left) ||\n\t\t\t\t(labelOffset !== this.state.labelOffset) ||\n\t\t\t\t(arrowAnchor !== this.state.arrowAnchor)\n\t\t\t) {\n\t\t\t\tthis.setState({\n\t\t\t\t\ttooltipDirection,\n\t\t\t\t\tarrowAnchor,\n\t\t\t\t\tlabelOffset,\n\t\t\t\t\tposition: tooltipPosition\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tshowTooltipJob = new Job(() => {\n\t\t\tif (!this.state.showing) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tshowing: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsetTooltipLayoutJob = new Job(() => {\n\t\t\tthis.setTooltipLayout();\n\t\t});\n\n\t\tstartTooltipLayoutJob = () => {\n\t\t\tthis.setTooltipLayoutJob.startAfter(this.props.tooltipUpdateDelay);\n\t\t};\n\n\t\tshowTooltip = (client) => {\n\t\t\tconst {tooltipDelay, tooltipText} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tthis.clientRef = client;\n\t\t\t\tcurrentTooltip = this;\n\t\t\t\tthis.showTooltipJob.startAfter(tooltipDelay);\n\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.observe(this.clientRef, {attributes: true, childList: true});\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.observe(this.clientRef);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thideTooltip = () => {\n\t\t\tif (this.props.tooltipText) {\n\t\t\t\tif (this.mutationObserver) {\n\t\t\t\t\tthis.mutationObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tif (this.resizeObserver) {\n\t\t\t\t\tthis.resizeObserver.disconnect();\n\t\t\t\t}\n\n\t\t\t\tthis.clientRef = null;\n\t\t\t\tcurrentTooltip = null;\n\n\t\t\t\tthis.showTooltipJob.stop();\n\t\t\t\tthis.setTooltipLayoutJob.stop();\n\n\t\t\t\tif (this.state.showing) {\n\t\t\t\t\tthis.setState({showing: false});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\t// Recalculate tooltip layout on keydown to make sure tooltip is positioned correctly in case something changes as a result of the keydown.\n\t\thandleKeyDown = this.handle(\n\t\t\tforward('onKeyDown'),\n\t\t\tforProp('disabled', false),\n\t\t\t() => {\n\t\t\t\tthis.startTooltipLayoutJob();\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOver = this.handle(\n\t\t\tforward('onMouseOver'),\n\t\t\tforProp('disabled', true),\n\t\t\t(ev) => {\n\t\t\t\tthis.showTooltip(ev.target);\n\t\t\t}\n\t\t);\n\n\t\thandleMouseOut = this.handle(\n\t\t\tforward('onMouseOut'),\n\t\t\tforProp('disabled', true),\n\t\t\t() => {\n\t\t\t\tthis.hideTooltip();\n\t\t\t}\n\t\t);\n\n\t\thandleFocus = this.handle(\n\t\t\tforward('onFocus'),\n\t\t\t({target}) => this.showTooltip(target)\n\t\t);\n\n\t\thandleBlur = this.handle(\n\t\t\tforward('onBlur'),\n\t\t\tthis.hideTooltip\n\t\t);\n\n\t\tgetTooltipRef = (node) => {\n\t\t\tthis.tooltipRef = node;\n\t\t\tif (node) {\n\t\t\t\tthis.setTooltipLayout();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Conditionally creates the FloatingLayer and Tooltip based on the presence of\n\t\t * `tooltipText` and returns a property bag to pass onto the Wrapped component\n\t\t *\n\t\t * @returns {Object} Prop object\n\t\t * @private\n\t\t */\n\t\trenderTooltip () {\n\t\t\tconst {children, tooltipRelative, tooltipProps, tooltipText, tooltipWidth} = this.props;\n\n\t\t\tif (tooltipText) {\n\t\t\t\tlet renderedTooltip = (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\taria-live=\"off\"\n\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t\tlabelOffset={this.state.labelOffset}\n\t\t\t\t\t\t{...tooltipProps}\n\t\t\t\t\t\tarrowAnchor={this.state.arrowAnchor}\n\t\t\t\t\t\tdirection={this.state.tooltipDirection}\n\t\t\t\t\t\tposition={tooltipRelative ? null : this.state.position}\n\t\t\t\t\t\trelative={tooltipRelative}\n\t\t\t\t\t\tstyle={{display: ((tooltipRelative && !this.state.showing) ? 'none' : null)}}\n\t\t\t\t\t\ttooltipRef={this.getTooltipRef}\n\t\t\t\t\t\twidth={tooltipWidth}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tooltipText}\n\t\t\t\t\t</Tooltip>\n\t\t\t\t);\n\n\n\t\t\t\tif (!tooltipRelative) {\n\t\t\t\t\trenderedTooltip = (\n\t\t\t\t\t\t<FloatingLayerBase open={this.state.showing} noAutoDismiss onDismiss={this.hideTooltip} scrimType=\"none\" key=\"tooltipFloatingLayer\">\n\t\t\t\t\t\t\t{renderedTooltip}\n\t\t\t\t\t\t</FloatingLayerBase>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (tooltipDestinationProp === 'children') {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tchildren: [children, renderedTooltip]\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t[tooltipDestinationProp]: renderedTooltip\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {children};\n\t\t}\n\n\t\trender () {\n\t\t\t// minor optimization to merge all the props together once since we also have to delete\n\t\t\t// invalid props before passing downstream\n\t\t\tconst props = Object.assign(\n\t\t\t\t{},\n\t\t\t\tthis.props,\n\t\t\t\tthis.renderTooltip(),\n\t\t\t\t{\n\t\t\t\t\tonBlur: this.handleBlur,\n\t\t\t\t\tonFocus: this.handleFocus,\n\t\t\t\t\tonMouseOut: this.handleMouseOut,\n\t\t\t\t\tonMouseOver: this.handleMouseOver,\n\t\t\t\t\tonKeyDown: this.handleKeyDown\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tdelete props.rtl;\n\t\t\tdelete props.tooltipDelay;\n\t\t\tdelete props.tooltipPosition;\n\t\t\tdelete props.tooltipProps;\n\t\t\tdelete props.tooltipRelative;\n\t\t\tdelete props.tooltipText;\n\t\t\tdelete props.tooltipUpdateDelay;\n\t\t\tdelete props.tooltipWidth;\n\n\t\t\treturn (\n\t\t\t\t<Wrapped {...props} />\n\t\t\t);\n\t\t}\n\t};\n\n\treturn I18nContextDecorator(\n\t\t{rtlProp: 'rtl'},\n\t\tDecorator\n\t);\n});\n\nexport default TooltipDecorator;\nexport {\n\tTooltip,\n\tTooltipBase,\n\tTooltipDecorator\n};\n","/**\n * Applies Agate specific styling and behaviors.\n *\n * @module agate/ThemeDecorator\n * @exports ThemeDecorator\n */\n\nimport {addAll} from '@enact/core/keymap';\nimport classnames from 'classnames';\nimport kind from '@enact/core/kind';\nimport hoc from '@enact/core/hoc';\nimport I18nDecorator from '@enact/i18n/I18nDecorator';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {ResolutionDecorator} from '@enact/ui/resolution';\nimport {FloatingLayerDecorator} from '@enact/ui/FloatingLayer';\nimport SpotlightRootDecorator from '@enact/spotlight/SpotlightRootDecorator';\nimport convert from 'color-convert';\n\nimport Skinnable from '../Skinnable';\n\nimport screenTypes from './screenTypes.json';\nimport css from './ThemeDecorator.module.less';\n\n/**\n * Default config for {@link agate/ThemeDecorator.ThemeDecorator}.\n *\n * @memberof agate/ThemeDecorator.ThemeDecorator\n * @hocconfig\n */\nconst defaultConfig = /** @lends agate/ThemeDecorator.ThemeDecorator.defaultConfig */ {\n\t/**\n\t * Enables customization of a skin's highlight and accent color.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @public\n\t */\n\tcustomSkin: true,\n\n\t/**\n\t * Enables a floating layer for popup components.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link ui/FloatingLayer.FloatingLayerDecorator}\n\t * @public\n\t */\n\tfloat: true,\n\n\t/**\n\t * Applies I18nDecorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link i18n/I18nDecorator}\n\t * @public\n\t */\n\ti18n: true,\n\n\t/**\n\t * Disables setting spotlight focus on first render.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoAutoFocus: false,\n\n\t/**\n\t * Enables overlay mode (no background color will be applied).\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\toverlay: false,\n\n\t/**\n\t * Override the resolution independence settings.\n\t *\n\t * @type {Object}\n\t * @see {@link ui/resolution}\n\t * @public\n\t */\n\tri: {\n\t\tscreenTypes\n\t},\n\n\t/**\n\t * Applies skinning support.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link agate/Skinnable}\n\t * @public\n\t */\n\tskin: true,\n\n\t/**\n\t * Applies spotlight decorator.\n\t *\n\t * If `false`, app will be responsible for applying the decorator.\n\t *\n\t * @type {Boolean}\n\t * @default true\n\t * @see {@link spotlight/SpotlightRootDecorator}\n\t * @public\n\t */\n\tspotlight: true\n};\n\n// TODO: If this will be public it should be documented or perhaps the props\n// added to `ThemeDecorator`\nconst CustomizableSkinStyle = kind({\n\tname: 'CustomizableSkinStyle',\n\n\tpropTypes: {\n\t\tclassName: PropTypes.string.isRequired,\n\n\t\t/**\n\t\t * A custom accent color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#8b7efe'\n\t\t * @public\n\t\t */\n\t\taccent: PropTypes.string,\n\n\t\t/**\n\t\t * A custom highlight color, as a hex string.\n\t\t *\n\t\t * @memberof agate/ThemeDecorator.ThemeDecorator.prototype\n\t\t * @type {String}\n\t\t * @default '#c6c0fe'\n\t\t * @public\n\t\t */\n\t\thighlight: PropTypes.string\n\t},\n\n\t// TODO: Consider allowing `null` and dropping this override completely\n\tdefaultProps: {\n\t\taccent: '#8b7efe',\n\t\thighlight: '#c6c0fe'\n\t},\n\n\tcomputed: {\n\t\tcssRules: ({className, accent, highlight}) => {\n\t\t\tconst accentObj = convert.hex.hsl(accent);\n\t\t\tconst highlightObj = convert.hex.hsl(highlight);\n\n\t\t\tconst style = {\n\t\t\t\t'--agate-accent-color': accent,\n\t\t\t\t'--agate-accent-h': accentObj[0],\n\t\t\t\t'--agate-accent-s': accentObj[1] + '%',\n\t\t\t\t'--agate-accent-l': accentObj[2] + '%',\n\t\t\t\t'--agate-highlight-color': highlight,\n\t\t\t\t'--agate-highlight-h': highlightObj[0],\n\t\t\t\t'--agate-highlight-s': highlightObj[1] + '%',\n\t\t\t\t'--agate-highlight-l': highlightObj[2] + '%'\n\t\t\t};\n\n\t\t\tlet styleRules = '';\n\t\t\tfor (const rule in style) {\n\t\t\t\tstyleRules += `\\t${rule}: ${style[rule]};\\n`;\n\t\t\t}\n\t\t\treturn `.${className} {\\n${styleRules}}\\n`;\n\t\t}\n\t},\n\n\trender: ({cssRules, ...rest}) => {\n\t\tdelete rest.className;\n\t\treturn (cssRules ? <style type=\"text/css\" {...rest}>{cssRules}</style> : null);\n\t}\n});\n\n/**\n * {@link agate/ThemeDecorator.ThemeDecorator} is a Higher-order Component that applies\n * Agate theming to an application. It also applies\n * [floating layer]{@link ui/FloatingLayer.FloatingLayerDecorator},\n * [resolution independence]{@link ui/resolution.ResolutionDecorator},\n * [skin support]{@link ui/Skinnable}, [spotlight]{@link spotlight.SpotlightRootDecorator}, and\n * [internationalization support]{@link i18n/I18nDecorator.I18nDecorator}. It is meant to be applied to\n * the root element of an app.\n *\n * [Skins]{@link ui/Skinnable} provide a way to change the coloration of your app. The currently\n * supported skins for Agate are \"agate\" (the default, dark skin) and \"agate-light\".\n * Use the `skin` property to assign a skin. Ex: `<DecoratedApp skin=\"light\" />`\n *\n * @class ThemeDecorator\n * @memberof agate/ThemeDecorator\n * @mixes ui/FloatingLayer.FloatingLayerDecorator\n * @mixes ui/resolution.ResolutionDecorator\n * @mixes spotlight/SpotlightRootDecorator.SpotlightRootDecorator\n * @mixes agate/Skinnable.Skinnable\n * @hoc\n * @public\n */\nconst ThemeDecorator = hoc(defaultConfig, (config, Wrapped) => {\n\t// TODO: Document props passable to hoc ()\n\tconst {customSkin, float, i18n, noAutoFocus, overlay, ri, skin, spotlight} = config;\n\n\tconst bgClassName = classnames(\n\t\t'enact-fit',\n\t\t{\n\t\t\t[css.bg]: !overlay\n\t\t}\n\t);\n\n\tlet App = Wrapped;\n\tif (float) App = FloatingLayerDecorator({wrappedClassName: bgClassName}, App);\n\tif (ri) App = ResolutionDecorator(ri, App);\n\tif (i18n) App = I18nDecorator({sync: true}, App);\n\tif (spotlight) App = SpotlightRootDecorator({noAutoFocus}, App);\n\tif (skin) App = Skinnable({defaultSkin: 'gallium'}, App);\n\n\t// add webOS-specific key maps\n\taddAll({\n\t\tcancel: 461,\n\t\tpointerHide: 1537,\n\t\tpointerShow: 1536\n\t});\n\n\tconst Decorator = class extends React.Component {\n\t\tstatic displayName = 'ThemeDecorator';\n\n\t\tstatic propTypes = {\n\t\t\taccent: PropTypes.string,\n\t\t\thighlight: PropTypes.string\n\t\t};\n\n\t\trender () {\n\t\t\tconst {accent, className, highlight, ...rest} = this.props;\n\t\t\tconst customizableSkinClassName = 'agate-customized-skin';\n\n\t\t\tconst allClassNames = classnames(\n\t\t\t\tclassName,\n\t\t\t\t'enact-unselectable',\n\t\t\t\tbgClassName,\n\t\t\t\tcss.root,\n\t\t\t\t{[customizableSkinClassName]: customSkin}\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{customSkin ? <CustomizableSkinStyle className={customizableSkinClassName} accent={accent} highlight={highlight} /> : null}\n\t\t\t\t\t<App {...rest} className={allClassNames} />\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\t};\n\n\treturn Decorator;\n});\n\nexport default ThemeDecorator;\nexport {ThemeDecorator};\n","// Agate Environment\n\nimport kind from '@enact/core/kind';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {color} from '@storybook/addon-knobs';\nimport {Row, Column, Cell} from '@enact/ui/Layout';\nimport {boolean, select} from '@enact/storybook-utils/addons/knobs';\n\nimport ThemeDecorator from '@enact/agate/ThemeDecorator';\nimport Heading from '@enact/agate/Heading';\nimport {Panels, Panel} from '@enact/agate/Panels';\nimport Skinnable from '@enact/agate/Skinnable';\nimport Scroller from '@enact/agate/Scroller';\n\nimport css from './ThemeEnvironment.module.less';\n\nconst globalGroup = 'Global Knobs';\n\n// const reloadPage = () => {\n// \tconst {protocol, host, pathname} = window.parent.location;\n// \twindow.parent.location.href = protocol + '//' + host + pathname;\n// };\n\nconst SkinFrame = Skinnable(kind({\n\tname: 'SkinFrame',\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'skinFrame'\n\t},\n\trender: (props) => (\n\t\t<Row {...props} />\n\t)\n}));\n\nconst reloadPage = () => {\n\tconst {protocol, host, pathname} = window.parent.location;\n\twindow.parent.location.href = protocol + '//' + host + pathname;\n};\n\nconst PanelsBase = kind({\n\tname: 'ThemeEnvironment',\n\n\tpropTypes: {\n\t\tdescription: PropTypes.string,\n\t\ttitle: PropTypes.string\n\t},\n\n\trender: ({children, title, description, ...rest}) => (\n\t\t<div {...rest}>\n\t\t\t<Panels onApplicationClose={reloadPage}>\n\t\t\t\t<Panel className={css.panel}>\n\t\t\t\t\t<Column>\n\t\t\t\t\t\t<Cell shrink>\n\t\t\t\t\t\t\t<Heading showLine>{title}</Heading>\n\t\t\t\t\t\t\t{description ? (\n\t\t\t\t\t\t\t\t<div className={css.description}>\n\t\t\t\t\t\t\t\t\t<p>{description}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t<Cell className={css.storyBody}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Cell>\n\t\t\t\t\t</Column>\n\t\t\t\t</Panel>\n\t\t\t</Panels>\n\t\t</div>\n\t)\n});\n\nconst FullscreenBase = kind({\n\tname: 'ThemeEnvironment',\n\n\trender: (props) => (\n\t\t<div {...props} />\n\t)\n});\n\nconst Agate = ThemeDecorator({overlay: false}, PanelsBase);\nconst AgateFullscreen = ThemeDecorator({overlay: false}, FullscreenBase);\n\nconst locales = {\n\t'local': '',\n\t'en-US - US English': 'en-US',\n\t'ko-KR - Korean': 'ko-KR',\n\t'es-ES - Spanish, with alternate weekends': 'es-ES',\n\t'am-ET - Amharic, 5 meridiems': 'am-ET',\n\t'th-TH - Thai, with tall characters': 'th-TH',\n\t'ar-SA - Arabic, RTL and standard font': 'ar-SA',\n\t'ur-PK - Urdu, RTL and custom Urdu font': 'ur-PK',\n\t'zh-Hans-HK - Simplified Chinese, custom Hans font': 'zh-Hans-HK',\n\t'zh-Hant-HK - Traditional Chinese, custom Hant font': 'zh-Hant-HK',\n\t'vi-VN - Vietnamese, Special non-latin font handling': 'vi-VN',\n\t'ta-IN - Tamil, custom Indian font': 'ta-IN',\n\t'ja-JP - Japanese, custom Japanese font': 'ja-JP',\n\t'en-JP - English, custom Japanese font': 'en-JP',\n\t'si-LK - Sinhala, external font family with different line metrics': 'si-LK'\n};\n\nconst skins = {\n\t'Carbon': 'carbon',\n\t'Cobalt': 'cobalt',\n\t'Copper': 'copper',\n\t'Electro': 'electro',\n\t'Gallium': 'gallium',\n\t'Silicon': 'silicon',\n\t'Titanium': 'titanium'\n};\n\n// NOTE: Knobs cannot set locale in fullscreen mode. This allows any knob to be taken from the URL.\nconst getPropFromURL = (propName, fallbackValue) => {\n\tpropName = encodeURI(propName);\n\tconst locationParams = window.parent.location.search;\n\n\tconst startIndex = locationParams.indexOf('knob-' + propName);\n\tif (startIndex > -1) {\n\t\tconst keyIndex = locationParams.indexOf('=', startIndex);\n\n\t\tif (locationParams.indexOf('&', keyIndex) > -1) {\n\t\t\tconst valueIndex = locationParams.indexOf('&', keyIndex);\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, valueIndex));\n\t\t} else {\n\t\t\treturn decodeURIComponent(locationParams.substring(keyIndex + 1, locationParams.length));\n\t\t}\n\t}\n\n\treturn fallbackValue;\n};\n\nconst memory = {\n\tskin: null\n};\n\nconst StorybookDecorator = (story, config) => {\n\tconst sample = story();\n\tconst Config = {\n\t\tdefaultProps: {\n\t\t\tlocale: 'en-US',\n\t\t\t'night mode': false,\n\t\t\tskin: 'gallium'\n\t\t},\n\t\tgroupId: globalGroup\n\t};\n\tconst defaultColors = {\n\t\tcarbon: {\n\t\t\taccent: '#8fd43a',\n\t\t\thighlight: '#6abe0b'\n\t\t},\n\t\tcobalt: {\n\t\t\taccent: '#8c81ff',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\tcopper: {\n\t\t\taccent: '#a47d66',\n\t\t\thighlight: '#ffffff'\n\t\t},\n\t\telectro: {\n\t\t\taccent: '#0359f0',\n\t\t\thighlight: '#ff8100'\n\t\t},\n\t\tgallium: {\n\t\t\taccent: '#8b7efe',\n\t\t\thighlight: '#e16253'\n\t\t},\n\t\tsilicon: {\n\t\t\taccent: '#f1304f',\n\t\t\thighlight: '#9e00d8'\n\t\t},\n\t\ttitanium: {\n\t\t\taccent: '#a6a6a6',\n\t\t\thighlight: '#2a48ca'\n\t\t}\n\t};\n\tconst skinFromURL = getPropFromURL('skin');\n\tconst currentSkin = skinFromURL ? skinFromURL : Config.defaultProps.skin;\n\tconst newSkin = (memory.skin !== currentSkin);\n\tmemory.skin = currentSkin;  // Remember the skin for the next time we load.\n\tconst accentFromURL = getPropFromURL('accent');\n\tconst highlightFromURL = getPropFromURL('highlight');\n\tconst localeFromURL = getPropFromURL('locale');\n\tconst currentLocale = localeFromURL ? localeFromURL : Config.defaultProps.locale;\n\tconst locale = select('locale', locales, Config, currentLocale);\n\tconst allSkins = boolean('show all skins', Config);\n\tconst skinKnobs = {};\n\tif (!allSkins) {\n\t\tskinKnobs.skin = select('skin', skins, Config, currentSkin);\n\t}\n\tconst {accent, highlight} = !allSkins && boolean('default skin styles', Config) ? defaultColors[skinKnobs.skin] : {};\n\tconst noScroller = config.parameters && config.parameters.props && config.parameters.props.noScroller;\n\tconst Wrapper = noScroller ? React.Fragment : Scroller;\n\n\treturn (\n\t\t<Agate\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tlocale={locale}\n\t\t\t{...skinKnobs}\n\t\t\tskinVariants={boolean('night mode', Config) && 'night'}\n\t\t\taccent={accent || color('accent', (!newSkin && accentFromURL ? accentFromURL : defaultColors[currentSkin].accent), Config.groupId)}\n\t\t\thighlight={highlight || color('highlight', (!newSkin && highlightFromURL ? highlightFromURL : defaultColors[currentSkin].highlight), Config.groupId)}\n\t\t>\n\t\t\t<Wrapper>\n\t\t\t\t{allSkins ? Object.keys(skins).map(skin => (\n\t\t\t\t\t<SkinFrame skin={skins[skin]} key={skin}>\n\t\t\t\t\t\t<Cell size=\"20%\" component={Heading}>{skin}</Cell>\n\t\t\t\t\t\t<Cell>{sample}</Cell>\n\t\t\t\t\t</SkinFrame>\n\t\t\t\t)) : sample}\n\t\t\t</Wrapper>\n\t\t</Agate>\n\t);\n};\n\nconst FullscreenStorybookDecorator = (story, config) => {\n\tconst sample = story();\n\treturn (\n\t\t<AgateFullscreen\n\t\t\ttitle={`${config.kind} ${config.story}`.trim()}\n\t\t\tdescription={config.description}\n\t\t\tskin={select('skin', skins, getPropFromURL('skin'))}\n\t\t>\n\t\t\t{sample}\n\t\t</AgateFullscreen>\n\t);\n};\n\nexport default StorybookDecorator;\nexport {StorybookDecorator as Agate, FullscreenStorybookDecorator as AgateFullscreen};\n","import {configure, addDecorator} from '@storybook/react';\nimport {loadStories} from '@enact/storybook-utils';\nimport {configureActions} from '@enact/storybook-utils/addons/actions';\nimport {withKnobs} from '@enact/storybook-utils/addons/knobs';\n\nimport Agate from '../src/ThemeEnvironment';\n\nfunction config (stories, mod) {\n\tconfigureActions();\n\taddDecorator(withKnobs());\n\n\t// Set agate environment defaults\n\taddDecorator(Agate);\n\n\tconfigure(loadStories(stories), mod);\n}\n\nexport default config;\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport {platform} from '@enact/core/platform';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './Scroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * @class ScrollerBasic\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBasic extends Component {\n\tstatic displayName = 'ui:ScrollerBasic';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBasic.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `useScroll` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref\n\t};\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate'\n\tscrollToPosition (x, y) {\n\t\tthis.props.scrollContentRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// scrollMode 'native'\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.props.scrollContentRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.props.scrollContentRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.props.scrollContentRef.current;\n\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\tsyncClientSize = () => {\n\t\tconst node = this.props.scrollContentRef.current;\n\n\t\tif (!node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = node,\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.props.scrollContentRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default ScrollerBasic;\nexport {\n\tScrollerBasic\n};\n","import classNames from 'classnames';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\n\nimport css from './UiScroller.module.less';\n\n/**\n * An unstyled base scroller component.\n *\n * In most circumstances, you will want to use the Scrollable version.\n *\n * @class ScrollerBase\n * @memberof ui/Scroller\n * @ui\n * @public\n */\nclass ScrollerBase extends Component {\n\tstatic displayName = 'ui:ScrollerBase';\n\n\tstatic propTypes = /** @lends ui/Scroller.ScrollerBase.prototype */ {\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, `Scrollable` should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Direction of the scroller.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'both'`,\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'both'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['both', 'horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Prop to check context value if Scrollbar exists or not.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\tisVerticalScrollbarVisible: PropTypes.bool,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool\n\t};\n\n\tstatic defaultProps = {\n\t\tdirection: 'both'\n\t};\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.containerRef = React.createRef();\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.calculateMetrics();\n\t}\n\n\tcomponentDidUpdate (prevProps) {\n\t\tthis.calculateMetrics();\n\t\tif (this.props.isVerticalScrollbarVisible && !prevProps.isVerticalScrollbarVisible) {\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tscrollPos = {\n\t\ttop: 0,\n\t\tleft: 0\n\t};\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetRtlPositionX = (x) => {\n\t\tif (this.props.rtl) {\n\t\t\treturn (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t}\n\t\treturn x;\n\t};\n\n\t// for Scrollable\n\tsetScrollPosition (x, y) {\n\t\tconst node = this.containerRef.current;\n\n\t\tif (this.isVertical()) {\n\t\t\tnode.scrollTop = y;\n\t\t\tthis.scrollPos.top = y;\n\t\t}\n\t\tif (this.isHorizontal()) {\n\t\t\tnode.scrollLeft = this.getRtlPositionX(x);\n\t\t\tthis.scrollPos.left = x;\n\t\t}\n\t}\n\n\t// for ScrollableNative\n\tscrollToPosition (x, y) {\n\t\tthis.containerRef.current.scrollTo(this.getRtlPositionX(x), y);\n\t}\n\n\t// for ScrollableNative\n\tdidScroll (x, y) {\n\t\tthis.scrollPos.left = x;\n\t\tthis.scrollPos.top = y;\n\t}\n\n\tgetNodePosition = (node) => {\n\t\tconst\n\t\t\t{left: nodeLeft, top: nodeTop, height: nodeHeight, width: nodeWidth} = node.getBoundingClientRect(),\n\t\t\t{left: containerLeft, top: containerTop} = this.containerRef.current.getBoundingClientRect(),\n\t\t\t{scrollLeft, scrollTop} = this.containerRef.current,\n\t\t\tleft = this.isHorizontal() ? (scrollLeft + nodeLeft - containerLeft) : null,\n\t\t\ttop = this.isVertical() ? (scrollTop + nodeTop - containerTop) : null;\n\n\t\treturn {\n\t\t\tleft,\n\t\t\ttop,\n\t\t\twidth: nodeWidth,\n\t\t\theight: nodeHeight\n\t\t};\n\t};\n\n\tisVertical = () => {\n\t\treturn (this.props.direction !== 'horizontal');\n\t};\n\n\tisHorizontal = () => {\n\t\treturn (this.props.direction !== 'vertical');\n\t};\n\n\tcalculateMetrics () {\n\t\tconst\n\t\t\t{scrollBounds} = this,\n\t\t\t{scrollWidth, scrollHeight, clientWidth, clientHeight} = this.containerRef.current;\n\t\tscrollBounds.scrollWidth = scrollWidth;\n\t\tscrollBounds.scrollHeight = scrollHeight;\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.maxLeft = Math.max(0, scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollHeight - clientHeight);\n\t}\n\n\trender () {\n\t\tconst\n\t\t\t{className, style, ...rest} = this.props,\n\t\t\tmergedStyle = Object.assign({}, style, {\n\t\t\t\toverflowX: this.isHorizontal() ? 'auto' : 'hidden',\n\t\t\t\toverflowY: this.isVertical() ? 'auto' : 'hidden'\n\t\t\t});\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.direction;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.rtl;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...rest}\n\t\t\t\tclassName={classNames(className, css.scroller)}\n\t\t\t\tref={this.containerRef}\n\t\t\t\tstyle={mergedStyle}\n\t\t\t/>\n\t\t);\n\t}\n}\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the scroller.\n *\n * @name noScrollByWheel\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft` and `scrollTop`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft` and `scrollTop`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop}) => {\n *     // do something with scrollLeft and scrollTop\n * }\n *\n * render = () => (\n *     <Scroller\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/Scroller.ScrollerBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default ScrollerBase;\nexport {\n\tScrollerBase\n};\n","/**\n * Unstyled scroller components and behaviors to be customized by a theme or application.\n *\n * @module ui/Scroller\n * @exports Scroller\n * @exports ScrollerBase\n * @exports ScrollerBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport ScrollerBasic from './ScrollerBasic';\nimport ScrollerBase from './UiScrollerBase';\n\nconst nop = () => {};\n\n/**\n * An unstyled scroller.\n *\n * Example:\n * ```\n * <Scroller>Scroll me.</Scroller>\n * ```\n *\n * @class Scroller\n * @memberof ui/Scroller\n * @extends ui/Scroller.ScrollerBasic\n * @ui\n * @public\n */\nconst Scroller = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Return\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<ScrollerBasic {...scrollContentProps} ref={scrollContentHandle} />\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nScroller.displayName = 'ui:Scroller';\n\nScroller.propTypes = /** @lends ui/Scroller.Scroller.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `node`.\n\t * > Note: Only specify one of: `position`, `align`, `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * Direction of the scroller.\n\t *\n\t * Valid values are:\n\t * * `'both'`,\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'both'\n\t * @public\n\t */\n\tdirection: PropTypes.string,\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the scroller.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft` and `scrollTop`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop}) => {\n\t *     // do something with scrollLeft and scrollTop\n\t * }\n\t *\n\t * render = () => (\n\t *     <Scroller\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nScroller.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'both',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default Scroller;\nexport {\n\tScroller,\n\tScrollerBase, // to support legacy ScrollerBase\n\tScrollerBasic // to support theme libraries\n};\n","import classNames from 'classnames';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './UiVirtualList.module.less';\n\nconst\n\tnop = () => {},\n\tJS = 'JS',\n\tNative = 'Native';\n\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The base version of the virtual list component.\n *\n * @class VirtualListCore\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseFactory = (type) => {\n\treturn class VirtualListCore extends Component {\n\t\t/* No displayName here. We set displayName to returned components of this factory function. */\n\n\t\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBase.prototype */ {\n\t\t\t/**\n\t\t\t * The rendering function called for each item in the list.\n\t\t\t *\n\t\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t\t * due to performance optimization.\n\t\t\t *\n\t\t\t * Example:\n\t\t\t * ```\n\t\t\t * renderItem = ({index, ...rest}) => {\n\t\t\t * \tdelete rest.data;\n\t\t\t *\n\t\t\t * \treturn (\n\t\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t\t * \t);\n\t\t\t * }\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @param {Object}     event\n\t\t\t * @param {Number}     event.data-index    It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t\t * @param {Number}     event.index    The index number of the component to render\n\t\t\t * @param {Number}     event.key    It MUST be passed as a prop to the root element in the component for DOM recycling.\n\t\t\t *\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t\t *\n\t\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSize: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tgridListItemSizeShape\n\t\t\t]).isRequired,\n\n\t\t\t/**\n\t\t\t * The render function for the items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @required\n\t\t\t * @private\n\t\t\t */\n\t\t\titemsRenderer: PropTypes.func.isRequired,\n\n\t\t\t/**\n\t\t\t * Callback method of scrollTo.\n\t\t\t * Normally, [Scrollable]{@link ui/Scrollable.Scrollable} should set this value.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tcbScrollTo: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Additional props included in the object passed to the `itemsRenderer` callback.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tchildProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @property {Number}    clientHeight    The client height of the list.\n\t\t\t * @property {Number}    clientWidth    The client width of the list.\n\t\t\t * @public\n\t\t\t */\n\t\t\tclientSize: PropTypes.shape({\n\t\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t\t}),\n\n\t\t\t/**\n\t\t\t * Activates the component for voice control.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The voice control group label.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t\t/**\n\t\t\t * The number of items of data the list contains.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tdataSize: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * The layout direction of the list.\n\t\t\t *\n\t\t\t * Valid values are:\n\t\t\t * * `'horizontal'`, and\n\t\t\t * * `'vertical'`.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @default 'vertical'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t\t/**\n\t\t\t * Called to get the props for list items.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tgetComponentProps: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * The array for individually sized items.\n\t\t\t *\n\t\t\t * @type {Number[]}\n\t\t\t * @private\n\t\t\t */\n\t\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t\t/**\n\t\t\t * Called when the range of items has updated.\n\t\t\t *\n\t\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tonUpdateItems: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Number of spare DOM node.\n\t\t\t * `3` is good for the default value experimentally and\n\t\t\t * this value is highly recommended not to be changed by developers.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 3\n\t\t\t * @private\n\t\t\t */\n\t\t\toverhang: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * When `true`, the list will scroll by page.  Otherwise the list will scroll by item.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @private\n\t\t\t */\n\t\t\tpageScroll: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * `true` if RTL, `false` if LTR.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The spacing between items.\n\t\t\t *\n\t\t\t * @type {Number}\n\t\t\t * @default 0\n\t\t\t * @public\n\t\t\t */\n\t\t\tspacing: PropTypes.number,\n\n\t\t\t/**\n\t\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tupdateStatesAndBounds: PropTypes.func\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\tcbScrollTo: nop,\n\t\t\tdataSize: 0,\n\t\t\tdirection: 'vertical',\n\t\t\toverhang: 3,\n\t\t\tpageScroll: false,\n\t\t\tspacing: 0\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tlet nextState = null;\n\n\t\t\tsuper(props);\n\n\t\t\tthis.containerRef = React.createRef();\n\t\t\tthis.contentRef = React.createRef();\n\t\t\tthis.itemContainerRef = React.createRef();\n\n\t\t\tif (props.clientSize) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t\t}\n\n\t\t\tthis.state = {\n\t\t\t\tfirstIndex: 0,\n\t\t\t\tnumOfItems: 0,\n\t\t\t\tprevChildProps: null,\n\t\t\t\tprevFirstIndex: 0,\n\t\t\t\tupdateFrom: 0,\n\t\t\t\tupdateTo: 0,\n\t\t\t\t...nextState\n\t\t\t};\n\t\t}\n\n\t\tstatic getDerivedStateFromProps (props, state) {\n\t\t\tconst\n\t\t\t\tshouldInvalidate = (\n\t\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t\t),\n\t\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\t\treturn {\n\t\t\t\t...nextUpdateFromAndTo,\n\t\t\t\tprevChildProps: props.childProps,\n\t\t\t\tprevFirstIndex: state.firstIndex\n\t\t\t};\n\t\t}\n\n\t\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\t\tcomponentDidMount () {\n\t\t\tif (!this.props.clientSize) {\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t} else {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tthis.setContainerSize();\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState) {\n\t\t\tlet deferScrollTo = false;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tthis.shouldUpdateBounds = false;\n\n\t\t\t// TODO: remove `this.hasDataSizeChanged` and fix ui/Scrollable*\n\t\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\t\tthis.emitUpdateItems();\n\t\t\t}\n\n\t\t\t// When an item expands or shrinks,\n\t\t\t// we need to calculate the item position again and\n\t\t\t// the item needs to scroll into view if the item does not show fully.\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t\t} else {\n\t\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\t\tconst\n\t\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t\t) {\n\t\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\t\tthis.calculateMetrics(this.props);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\t\tthis.updateScrollPosition({\n\t\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t\t});\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (this.hasDataSizeChanged) {\n\t\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\t\tthis.setState(newState);\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\tdeferScrollTo = true;\n\t\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\t}\n\n\t\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\n\t\t\tif (!deferScrollTo && this.scrollPosition > maxPos) {\n\t\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\t}\n\t\t}\n\n\t\tscrollBounds = {\n\t\t\tclientWidth: 0,\n\t\t\tclientHeight: 0,\n\t\t\tscrollWidth: 0,\n\t\t\tscrollHeight: 0,\n\t\t\tmaxLeft: 0,\n\t\t\tmaxTop: 0\n\t\t};\n\n\t\tmoreInfo = {\n\t\t\tfirstVisibleIndex: null,\n\t\t\tlastVisibleIndex: null\n\t\t};\n\n\t\tprimary = null;\n\t\tsecondary = null;\n\n\t\tisPrimaryDirectionVertical = true;\n\t\tisItemSized = false;\n\n\t\tshouldUpdateBounds = false;\n\n\t\tdimensionToExtent = 0;\n\t\tthreshold = 0;\n\t\tmaxFirstIndex = 0;\n\t\tcurDataSize = 0;\n\t\thasDataSizeChanged = false;\n\t\tcc = [];\n\t\tscrollPosition = 0;\n\t\tscrollPositionTarget = 0;\n\n\t\t// For individually sized item\n\t\titemPositions = [];\n\t\tindexToScrollIntoView = -1;\n\n\t\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\t\tif (type === Native) {\n\t\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t\t} else {\n\t\t\t\tthis.setScrollPosition(x, y, rtl, x, y);\n\t\t\t}\n\t\t};\n\n\t\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\t\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\t\tgetScrollBounds = () => this.scrollBounds;\n\n\t\tgetMoreInfo = () => this.moreInfo;\n\n\t\tgetGridPosition (index) {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\t\tlet primaryPosition;\n\n\t\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t\t// Cache individually sized item positions\n\t\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\n\t\t\treturn {primaryPosition, secondaryPosition};\n\t\t}\n\n\t\t// For individually sized item\n\t\tgetItemBottomPosition = (index) => {\n\t\t\tconst\n\t\t\t\titemPosition = this.itemPositions[index],\n\t\t\t\titemSize = this.props.itemSizes[index];\n\n\t\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\t\treturn itemPosition.position + itemSize;\n\t\t\t} else {\n\t\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t\t}\n\t\t};\n\n\t\t// For individually sized item\n\t\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t\t};\n\n\t\tgetItemPosition = (index, stickTo = 'start') => {\n\t\t\tconst\n\t\t\t\t{primary} = this,\n\t\t\t\tposition = this.getGridPosition(index);\n\t\t\tlet  offset = 0;\n\n\t\t\tif (stickTo === 'start') {\n\t\t\t\toffset = 0;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\toffset = primary.clientSize - this.props.itemSizes[index];\n\t\t\t} else {\n\t\t\t\toffset = primary.clientSize - primary.itemSize;\n\t\t\t}\n\n\t\t\tposition.primaryPosition -= offset;\n\n\t\t\treturn this.gridPositionToItemPosition(position);\n\t\t};\n\n\t\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\t\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\t\tgetClientSize = (node) => ({\n\t\t\tclientWidth: node.clientWidth,\n\t\t\tclientHeight: node.clientHeight\n\t\t});\n\n\t\temitUpdateItems () {\n\t\t\tconst {dataSize} = this.props;\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\t\tforward('onUpdateItems', {\n\t\t\t\tfirstIndex: firstIndex,\n\t\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t\t}, this.props);\n\t\t}\n\n\t\tcalculateMetrics (props) {\n\t\t\tconst\n\t\t\t\t{clientSize, direction, itemSize, overhang, spacing} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = (clientSize || this.getClientSize(node)),\n\t\t\t\theightInfo = {\n\t\t\t\t\tclientSize: clientHeight,\n\t\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t},\n\t\t\t\twidthInfo = {\n\t\t\t\t\tclientSize: clientWidth,\n\t\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\t\titemSize: itemSize\n\t\t\t\t};\n\t\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\tprimary = heightInfo;\n\t\t\t\tsecondary = widthInfo;\n\t\t\t} else {\n\t\t\t\tprimary = widthInfo;\n\t\t\t\tsecondary = heightInfo;\n\t\t\t}\n\t\t\tdimensionToExtent = 1;\n\n\t\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t\t// by the minimum item width plus the spacing\n\t\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t\t// the actual item height is related to the item width\n\t\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t\t}\n\n\t\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\t\tthis.primary = primary;\n\t\t\tthis.secondary = secondary;\n\n\t\t\t// reset\n\t\t\tthis.scrollPosition = 0;\n\t\t\tif (type === JS && this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = null;\n\t\t\t}\n\t\t}\n\n\t\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\t\tconst\n\t\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t\t// so that setState() in didScroll() could be called to override state.\n\t\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t\t// So `shouldUpdateBounds` is true here.\n\t\t\tthis.shouldUpdateBounds = true;\n\n\t\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\t\tthis.curDataSize = dataSize;\n\n\t\t\t// reset children\n\t\t\tthis.cc = [];\n\t\t\tthis.itemPositions = []; // For individually sized item\n\t\t\tthis.calculateScrollBounds(props);\n\t\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\t\tnumOfItems,\n\t\t\t\tdataSize,\n\t\t\t\tmoreInfo\n\t\t\t}))) {\n\t\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\t\tnumOfItems: numOfItems\n\t\t\t};\n\t\t};\n\n\t\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\t\tconst\n\t\t\t\t{overhang} = props,\n\t\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t\t{gridSize} = primary;\n\t\t\tlet newFirstIndex = firstIndex;\n\n\t\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\t\tconst\n\t\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t\t}\n\t\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t\t}\n\n\t\t\treturn newFirstIndex;\n\t\t}\n\n\t\tcalculateScrollBounds (props) {\n\t\t\tconst\n\t\t\t\t{clientSize} = props,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!clientSize && !node) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\t\tlet maxPos;\n\n\t\t\tscrollBounds.clientWidth = clientWidth;\n\t\t\tscrollBounds.clientHeight = clientHeight;\n\t\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t\t// correct position\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t}\n\n\t\tsetContainerSize = () => {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t\t}\n\t\t};\n\n\t\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\t\tif (dataSize <= 0) {\n\t\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t\t} else if (this.props.itemSizes) {\n\t\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\t\tlastVisibleIndex = null;\n\t\t\t\t}\n\n\t\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t\t} else {\n\t\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t\t}\n\t\t}\n\n\t\tsyncThreshold (maxPos) {\n\t\t\tconst {threshold} = this;\n\n\t\t\tif (threshold.max > maxPos) {\n\t\t\t\tif (maxPos < threshold.base) {\n\t\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\t\tthreshold.min = -Infinity;\n\t\t\t\t} else {\n\t\t\t\t\tthreshold.max = maxPos;\n\t\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Native only\n\t\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\t\tif (this.containerRef.current) {\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = y;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = x;\n\t\t\t\t}\n\n\t\t\t\tif (rtl) {\n\t\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t\t}\n\n\t\t\t\tthis.containerRef.current.scrollTo(x, y);\n\t\t\t}\n\t\t}\n\n\t\t// JS only\n\t\tsetScrollPosition (x, y, rtl = this.props.rtl, targetX = 0, targetY = 0) {\n\t\t\tif (this.contentRef.current) {\n\t\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\n\t\t\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t\t\t// To know the position when stopping scrolling here, `targetX` and `targetY` are passed and cached in `this.scrollPositionTarget`.\n\t\t\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\t\t\tthis.scrollPositionTarget = targetY;\n\t\t\t\t} else {\n\t\t\t\t\tthis.scrollPositionTarget = targetX;\n\t\t\t\t}\n\n\t\t\t\tthis.didScroll(x, y);\n\t\t\t}\n\t\t}\n\n\t\tdidScroll (x, y) {\n\t\t\tconst\n\t\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\t\tif (isPrimaryDirectionVertical) {\n\t\t\t\tpos = y;\n\t\t\t} else {\n\t\t\t\tpos = x;\n\t\t\t}\n\n\t\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\t\tif (index < dataSize) {\n\t\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t\t} else {\n\t\t\t\t\tconst\n\t\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t\t}\n\n\t\t\tthis.syncThreshold(maxPos);\n\t\t\tthis.scrollPosition = pos;\n\t\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tcalculateAndCacheItemPosition (index) {\n\t\t\tconst {itemSizes} = this.props;\n\n\t\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\t\tconst\n\t\t\t\t\t{spacing} = this.props,\n\t\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\t\tthis.itemPositions[index] = {position};\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tapplyItemPositionToDOMElement (index) {\n\t\t\tconst\n\t\t\t\t{direction, rtl} = this.props,\n\t\t\t\t{numOfItems} = this.state,\n\t\t\t\t{itemPositions} = this,\n\t\t\t\tchildNode = this.itemContainerRef.current.children[index % numOfItems];\n\n\t\t\tif (childNode && itemPositions[index]) {\n\t\t\t\tconst position = itemPositions[index].position;\n\t\t\t\tif (direction === 'vertical') {\n\t\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t\t} else {\n\t\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateThresholdWithItemPosition () {\n\t\t\tconst\n\t\t\t\t{overhang} = this.props,\n\t\t\t\t{firstIndex} = this.state,\n\t\t\t\t{maxFirstIndex} = this,\n\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t\t}\n\n\t\t// For individually sized item\n\t\tupdateScrollBoundsWithItemPositions () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t\t} else {\n\t\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\t\tif (!nextInfo) {\n\t\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t\t}\n\n\t\t// For individually sized item\n\t\tadjustItemPositionWithItemSize () {\n\t\t\tif (this.itemContainerRef.current) {\n\t\t\t\tconst\n\t\t\t\t\t{dataSize} = this.props,\n\t\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\t// and adjust item DOM element positions\n\t\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t\t}\n\n\t\t\t\t// Update threshold based on this.itemPositions\n\t\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t\t// Set container size based on this.scrollbounds\n\t\t\t\tthis.setContainerSize();\n\n\t\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t\t}\n\t\t}\n\n\t\tgetItemNode = (index) => {\n\t\t\tconst ref = this.itemContainerRef.current;\n\n\t\t\treturn ref ? ref.children[index % this.state.numOfItems] : null;\n\t\t};\n\n\t\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\t\tconst\n\t\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\t\tstyle = {\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t\t};\n\n\t\t\tif (this.isItemSized) {\n\t\t\t\tstyle.width = width;\n\t\t\t\tstyle.height = height;\n\t\t\t}\n\n\t\t\treturn style;\n\t\t}\n\n\t\tapplyStyleToNewNode = (index, ...rest) => {\n\t\t\tconst\n\t\t\t\t{itemRenderer, getComponentProps} = this.props,\n\t\t\t\tkey = index % this.state.numOfItems,\n\t\t\t\titemElement = itemRenderer({\n\t\t\t\t\t...this.props.childProps,\n\t\t\t\t\tkey,\n\t\t\t\t\tindex\n\t\t\t\t}),\n\t\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {};\n\n\t\t\tthis.cc[key] = React.cloneElement(itemElement, {\n\t\t\t\t...componentProps,\n\t\t\t\tclassName: classNames(css.listItem, itemElement.props.className),\n\t\t\t\tstyle: {...itemElement.props.style, ...(this.composeStyle(...rest))}\n\t\t\t});\n\t\t};\n\n\t\tapplyStyleToHideNode = (index) => {\n\t\t\tconst key = index % this.state.numOfItems;\n\t\t\tthis.cc[key] = <div key={key} style={{display: 'none'}} />;\n\t\t};\n\n\t\tpositionItems () {\n\t\t\tconst\n\t\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\t\tlet\n\t\t\t\thideTo = 0,\n\t\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\t\tif (updateFrom >= updateTo) {\n\t\t\t\treturn;\n\t\t\t} else if (updateTo > dataSize) {\n\t\t\t\thideTo = updateTo;\n\t\t\t\tupdateTo = dataSize;\n\t\t\t}\n\n\t\t\tlet\n\t\t\t\twidth, height,\n\t\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t\t// positioning items\n\t\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tj = 0;\n\t\t\t\t} else {\n\t\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\t\tthis.applyStyleToHideNode(i);\n\t\t\t}\n\t\t}\n\n\t\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() : this.scrollBounds.clientHeight);\n\n\t\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\t\tgetVirtualScrollDimension = () => {\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t\t{spacing} = this.props;\n\n\t\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t\t}\n\t\t};\n\n\t\tsyncClientSize = () => {\n\t\t\tconst\n\t\t\t\t{props} = this,\n\t\t\t\tnode = this.containerRef.current;\n\n\t\t\tif (!props.clientSize && !node) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst\n\t\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t\t{scrollBounds} = this;\n\n\t\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\t\tthis.calculateMetrics(props);\n\t\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\t\tthis.setContainerSize();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\n\t\t// render\n\n\t\tgetContainerClasses (className) {\n\t\t\tlet containerClass = null;\n\n\t\t\tif (type === Native) {\n\t\t\t\tcontainerClass = this.isPrimaryDirectionVertical ? css.vertical : css.horizontal;\n\t\t\t}\n\n\t\t\treturn classNames(css.virtualList, containerClass, className);\n\t\t}\n\n\t\tgetContentClasses () {\n\t\t\treturn type === Native ? null : css.content;\n\t\t}\n\n\t\trender () {\n\t\t\tconst\n\t\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, itemsRenderer, style, ...rest} = this.props,\n\t\t\t\t{cc, itemContainerRef, primary} = this,\n\t\t\t\tcontainerClasses = this.getContainerClasses(className),\n\t\t\t\tcontentClasses = this.getContentClasses();\n\n\t\t\tdelete rest.cbScrollTo;\n\t\t\tdelete rest.childProps;\n\t\t\tdelete rest.clientSize;\n\t\t\tdelete rest.dataSize;\n\t\t\tdelete rest.direction;\n\t\t\tdelete rest.getComponentProps;\n\t\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\t\tdelete rest.isVerticalScrollbarVisible;\n\t\t\tdelete rest.itemRenderer;\n\t\t\tdelete rest.itemSize;\n\t\t\tdelete rest.itemSizes;\n\t\t\tdelete rest.onUpdate;\n\t\t\tdelete rest.onUpdateItems;\n\t\t\tdelete rest.overhang;\n\t\t\tdelete rest.pageScroll;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.spacing;\n\t\t\tdelete rest.updateStatesAndBounds;\n\n\t\t\tif (primary) {\n\t\t\t\tthis.positionItems();\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} ref={this.containerRef} style={style}>\n\t\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef}>\n\t\t\t\t\t\t{itemsRenderer({cc, itemContainerRef, primary})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n};\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBase\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nconst VirtualListBase = VirtualListBaseFactory(JS);\nVirtualListBase.displayName = 'ui:VirtualListBase';\n\n/**\n * A basic base component for\n * [VirtualListNative]{@link ui/VirtualList.VirtualListNative} and [VirtualGridListNative]{@link ui/VirtualList.VirtualGridListNative}.\n *\n * @class VirtualListBaseNative\n * @memberof ui/VirtualList\n * @ui\n * @private\n */\nconst VirtualListBaseNative = VirtualListBaseFactory(Native);\nVirtualListBaseNative.displayName = 'ui:VirtualListBaseNative';\n\n/**\n * A callback function that receives a reference to the `scrollTo` feature.\n *\n * Once received, the `scrollTo` method can be called as an imperative interface.\n *\n * The `scrollTo` function accepts the following parameters:\n * - {position: {x, y}} - Pixel value for x and/or y position\n * - {align} - Where the scroll area should be aligned. Values are:\n *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n * - {index} - Index of specific item. (`0` or positive integer)\n *   This option is available for only `VirtualList` kind.\n * - {node} - Node to scroll into view\n * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n *   animation occurs.\n * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n *   by `index` or `node`.\n * > Note: Only specify one of: `position`, `align`, `index` or `node`\n *\n * Example:\n * ```\n *\t// If you set cbScrollTo prop like below;\n *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n *\t// You can simply call like below;\n *\tthis.scrollTo({align: 'top'}); // scroll to the top\n * ```\n *\n * @name cbScrollTo\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @public\n */\n\n/**\n * Specifies how to show horizontal scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name horizontalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\n/**\n * Prevents scroll by wheeling on the list.\n *\n * @name noScrollByWheel\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Boolean}\n * @default false\n * @public\n */\n\n/**\n * Called when scrolling.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * It is not recommended to set this prop since it can cause performance degradation.\n * Use `onScrollStart` or `onScrollStop` instead.\n *\n * @name onScroll\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll starts.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStart={this.onScrollStart}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStart\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Called when scroll stops.\n *\n * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n *\n * Example:\n * ```\n * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n *     // do something with firstVisibleIndex and lastVisibleIndex\n * }\n *\n * render = () => (\n *     <VirtualList\n *         ...\n *         onScrollStop={this.onScrollStop}\n *         ...\n *     />\n * )\n * ```\n *\n * @name onScrollStop\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {Function}\n * @param {Object} event\n * @param {Number} event.scrollLeft Scroll left value.\n * @param {Number} event.scrollTop Scroll top value.\n * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n * @public\n */\n\n/**\n * Specifies how to show vertical scrollbar.\n *\n * Valid values are:\n * * `'auto'`,\n * * `'visible'`, and\n * * `'hidden'`.\n *\n * @name verticalScrollbar\n * @memberof ui/VirtualList.VirtualListBase.prototype\n * @type {String}\n * @default 'auto'\n * @public\n */\n\nexport default VirtualListBase;\nexport {\n\tVirtualListBase as UiVirtualListBase,\n\tVirtualListBaseNative as UiVirtualListBaseNative\n};\n","import classNames from 'classnames';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {forward} from '@enact/core/handle';\nimport {platform} from '@enact/core/platform';\nimport {clamp} from '@enact/core/util';\nimport PropTypes from 'prop-types';\nimport equals from 'ramda/src/equals';\nimport React, {Component} from 'react';\n\nimport css from './VirtualList.module.less';\n\nconst nop = () => {};\n\n/**\n * The shape for the grid list item size\n * in a list for [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @typedef {Object} gridListItemSizeShape\n * @memberof ui/VirtualList\n * @property {Number} minWidth The minimum width of the grid list item.\n * @property {Number} minHeight The minimum height of the grid list item.\n * @public\n */\nconst gridListItemSizeShape = PropTypes.shape({\n\tminHeight: PropTypes.number.isRequired,\n\tminWidth: PropTypes.number.isRequired\n});\n\n/**\n * The shape for the list different item size\n * in a list for [VirtualList]{@link ui/VirtualList.VirtualList}.\n *\n * @typedef {Object} itemSizesShape\n * @memberof ui/VirtualList\n * @property {Number} minSize The minimum size of the list item.\n * @property {Number[]} size An array of the list item size. If it is not defined, the list items will render with the `minSize` size.\n * @public\n */\nconst itemSizesShape = PropTypes.shape({\n\tminSize: PropTypes.number.isRequired,\n\tsize: PropTypes.arrayOf(PropTypes.number)\n});\n\n/**\n * A basic base component for\n * [VirtualList]{@link ui/VirtualList.VirtualList} and [VirtualGridList]{@link ui/VirtualList.VirtualGridList}.\n *\n * @class VirtualListBasic\n * @memberof ui/VirtualList\n * @ui\n * @public\n */\nclass VirtualListBasic extends Component {\n\tdisplayName = 'ui:VirtualListBasic';\n\n\tstatic propTypes = /** @lends ui/VirtualList.VirtualListBasic.prototype */ {\n\t\t/**\n\t\t * The rendering function called for each item in the list.\n\t\t *\n\t\t * > **Note**: The list does **not** always render a component whenever its render function is called\n\t\t * due to performance optimization.\n\t\t *\n\t\t * Example:\n\t\t * ```\n\t\t * renderItem = ({index, ...rest}) => {\n\t\t *\n\t\t * \treturn (\n\t\t * \t\t<MyComponent index={index} {...rest} />\n\t\t * \t);\n\t\t * }\n\t\t * ```\n\t\t *\n\t\t * @type {Function}\n\t\t * @param {Object} event\n\t\t * @param {Number} event.data-index It is required for `Spotlight` 5-way navigation. Pass to the root element in the component.\n\t\t * @param {Number} event.index The index number of the component to render\n\t\t *\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\titemRenderer: PropTypes.func.isRequired,\n\n\t\t/**\n\t\t * The size of an item for the list; valid values are either a number for `VirtualList`\n\t\t * or an object that has `minWidth` and `minHeight` for `VirtualGridList`.\n\t\t *\n\t\t * @type {Number|ui/VirtualList.gridListItemSizeShape}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\titemSize: PropTypes.oneOfType([\n\t\t\tPropTypes.number,\n\t\t\tgridListItemSizeShape\n\t\t]).isRequired,\n\n\t\t/**\n\t\t * Callback method of scrollTo.\n\t\t * Normally, useScroll should set this value.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tcbScrollTo: PropTypes.func,\n\n\t\t/**\n\t\t * Additional props included in the object passed to the `itemRenderer` callback.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tchildProps: PropTypes.object,\n\n\t\t/**\n\t\t * Client size of the list; valid values are an object that has `clientWidth` and `clientHeight`.\n\t\t *\n\t\t * @type {Object}\n\t\t * @property {Number} clientHeight The client height of the list.\n\t\t * @property {Number} clientWidth The client width of the list.\n\t\t * @public\n\t\t */\n\t\tclientSize: PropTypes.shape({\n\t\t\tclientHeight: PropTypes.number.isRequired,\n\t\t\tclientWidth: PropTypes.number.isRequired\n\t\t}),\n\n\t\t/**\n\t\t * Disable voice control feature of component.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-disabled': PropTypes.bool,\n\n\t\t/**\n\t\t * Activates the component for voice control.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-focused': PropTypes.bool,\n\n\t\t/**\n\t\t * The voice control group label.\n\t\t *\n\t\t * @type {String}\n\t\t * @public\n\t\t */\n\t\t'data-webos-voice-group-label': PropTypes.string,\n\n\t\t/**\n\t\t * The number of items of data the list contains.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tdataSize: PropTypes.number,\n\n\t\t/**\n\t\t * The layout direction of the list.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'horizontal'`, and\n\t\t * * `'vertical'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'vertical'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t\t/**\n\t\t * Called to get the scroll affordance from themed component.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetAffordance: PropTypes.func,\n\n\t\t/**\n\t\t * Called to get the props for list items.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tgetComponentProps: PropTypes.func,\n\n\t\t/**\n\t\t * Ref for items\n\t\t *\n\t\t * @type {Object}\n\t\t * @private\n\t\t */\n\t\titemRefs: PropTypes.object,\n\n\t\t/**\n\t\t * The array for individually sized items.\n\t\t *\n\t\t * @type {Number[]}\n\t\t * @private\n\t\t */\n\t\titemSizes: PropTypes.arrayOf(PropTypes.number),\n\n\t\t/**\n\t\t * Called when the range of items has updated.\n\t\t *\n\t\t * Event payload includes the `firstIndex` and `lastIndex` of the list.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tonUpdateItems: PropTypes.func,\n\n\t\t/**\n\t\t * Number of spare DOM node.\n\t\t * `3` is good for the default value experimentally and\n\t\t * this value is highly recommended not to be changed by developers.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 3\n\t\t * @private\n\t\t */\n\t\toverhang: PropTypes.number,\n\n\t\t/**\n\t\t * When `true`, the list will scroll by page. Otherwise the list will scroll by item.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @private\n\t\t */\n\t\tpageScroll: PropTypes.bool,\n\n\t\t/**\n\t\t * The render function for the placeholder elements.\n\t\t *\n\t\t * @type {Function}\n\t\t * @required\n\t\t * @private\n\t\t */\n\t\tplaceholderRenderer: PropTypes.func,\n\n\t\t/**\n\t\t * The ARIA role for the list.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'list'\n\t\t * @public\n\t\t */\n\t\trole: PropTypes.string,\n\n\t\t/**\n\t\t * `true` if RTL, `false` if LTR.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @private\n\t\t */\n\t\trtl: PropTypes.bool,\n\n\t\t/**\n\t\t * Ref for scroll content\n\t\t *\n\t\t * @type {Object|Function}}\n\t\t * @private\n\t\t */\n\t\tscrollContentRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Specifies how to scroll.\n\t\t *\n\t\t * Valid values are:\n\t\t * * `'translate'`,\n\t\t * * `'native'`.\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'translate'\n\t\t * @public\n\t\t */\n\t\tscrollMode: PropTypes.string,\n\n\t\t/**\n\t\t * The spacing between items.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tspacing: PropTypes.number,\n\n\t\t/**\n\t\t * Called to execute additional logic in a themed component when updating states and bounds.\n\t\t *\n\t\t * @type {Function}\n\t\t * @private\n\t\t */\n\t\tupdateStatesAndBounds: PropTypes.func\n\t};\n\n\tstatic defaultProps = {\n\t\tcbScrollTo: nop,\n\t\tdataSize: 0,\n\t\tdirection: 'vertical',\n\t\tgetAffordance: () => (0),\n\t\toverhang: 3,\n\t\tpageScroll: false,\n\t\tscrollMode: 'translate',\n\t\tspacing: 0\n\t};\n\n\tconstructor (props) {\n\t\tlet nextState = null;\n\n\t\tsuper(props);\n\n\t\tthis.contentRef = React.createRef();\n\t\tthis.itemContainerRefs = [];\n\n\t\tif (props.clientSize) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tnextState = this.getStatesAndUpdateBounds(props);\n\t\t}\n\n\t\tthis.state = {\n\t\t\tfirstIndex: 0,\n\t\t\tnumOfItems: 0,\n\t\t\tprevChildProps: null,\n\t\t\tprevFirstIndex: 0,\n\t\t\tupdateFrom: 0,\n\t\t\tupdateTo: 0,\n\t\t\t...nextState\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps (props, state) {\n\t\tconst\n\t\t\tshouldInvalidate = (\n\t\t\t\tstate.prevFirstIndex === state.firstIndex ||\n\t\t\t\tstate.prevChildProps !== props.childProps\n\t\t\t),\n\t\t\tdiff = state.firstIndex - state.prevFirstIndex,\n\t\t\tupdateTo = (-state.numOfItems >= diff || diff > 0 || shouldInvalidate) ? state.firstIndex + state.numOfItems : state.prevFirstIndex,\n\t\t\tupdateFrom = (0 >= diff || diff >= state.numOfItems || shouldInvalidate) ? state.firstIndex : state.prevFirstIndex + state.numOfItems,\n\t\t\tnextUpdateFromAndTo = (state.updateFrom !== updateFrom || state.updateTo !== updateTo) ? {updateFrom, updateTo} : null;\n\n\t\treturn {\n\t\t\t...nextUpdateFromAndTo,\n\t\t\tprevChildProps: props.childProps,\n\t\t\tprevFirstIndex: state.firstIndex\n\t\t};\n\t}\n\n\t// Calculate metrics for VirtualList after the 1st render to know client W/H.\n\tcomponentDidMount () {\n\t\tif (!this.props.clientSize) {\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t} else {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\tif (this.props.itemSizes) {\n\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t} else {\n\t\t\tthis.setContainerSize();\n\t\t}\n\t}\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\tlet deferScrollTo = false;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tthis.shouldUpdateBounds = false;\n\n\t\t// TODO: remove `this.hasDataSizeChanged` and fix useScroll\n\t\tthis.hasDataSizeChanged = (prevProps.dataSize !== this.props.dataSize);\n\n\t\tif (prevState.firstIndex !== firstIndex || prevState.numOfItems !== numOfItems) {\n\t\t\tthis.emitUpdateItems();\n\t\t}\n\n\t\t// When an item expands or shrinks,\n\t\t// we need to calculate the item position again and\n\t\t// the item needs to scroll into view if the item does not show fully.\n\t\tif (this.props.itemSizes) {\n\t\t\tif (this.itemPositions.length > this.props.itemSizes.length) {\n\t\t\t\t// The item with `this.props.itemSizes.length` index is not rendered yet.\n\t\t\t\t// So the item could scroll into view after it rendered.\n\t\t\t\t// To do it, `this.props.itemSizes.length` value is cached in `this.indexToScrollIntoView`.\n\t\t\t\tthis.indexToScrollIntoView = this.props.itemSizes.length;\n\n\t\t\t\tthis.itemPositions = [...this.itemPositions.slice(0, this.props.itemSizes.length)];\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\t\t\t} else {\n\t\t\t\tconst {indexToScrollIntoView} = this;\n\n\t\t\t\tthis.adjustItemPositionWithItemSize();\n\n\t\t\t\tif (indexToScrollIntoView !== -1) {\n\t\t\t\t\t// Currently we support expandable items in only vertical VirtualList.\n\t\t\t\t\t// So the top and bottom of the boundaries are checked.\n\t\t\t\t\tconst\n\t\t\t\t\t\tscrollBounds = {top: this.scrollPosition, bottom: this.scrollPosition + this.scrollBounds.clientHeight},\n\t\t\t\t\t\titemBounds = {top: this.getGridPosition(indexToScrollIntoView).primaryPosition, bottom: this.getItemBottomPosition(indexToScrollIntoView)};\n\n\t\t\t\t\tif (itemBounds.top < scrollBounds.top) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'start',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (itemBounds.bottom > scrollBounds.bottom) {\n\t\t\t\t\t\tthis.props.cbScrollTo({\n\t\t\t\t\t\t\tindex: indexToScrollIntoView,\n\t\t\t\t\t\t\tstickTo: 'end',\n\t\t\t\t\t\t\tanimate: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.indexToScrollIntoView = -1;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tprevProps.direction !== this.props.direction ||\n\t\t\tprevProps.overhang !== this.props.overhang ||\n\t\t\tprevProps.spacing !== this.props.spacing ||\n\t\t\t!equals(prevProps.itemSize, this.props.itemSize)\n\t\t) {\n\t\t\tconst {x, y} = this.getXY(this.scrollPosition, 0);\n\n\t\t\tthis.calculateMetrics(this.props);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(this.props));\n\t\t\tthis.setContainerSize();\n\n\t\t\tconst {clientHeight, clientWidth, scrollHeight, scrollWidth} = this.scrollBounds;\n\t\t\tconst xMax = scrollWidth - clientWidth;\n\t\t\tconst yMax = scrollHeight - clientHeight;\n\n\t\t\tthis.updateScrollPosition({\n\t\t\t\tx: xMax > x ? x : xMax,\n\t\t\t\ty: yMax > y ? y : yMax\n\t\t\t});\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (this.hasDataSizeChanged) {\n\t\t\tconst newState = this.getStatesAndUpdateBounds(this.props, this.state.firstIndex);\n\t\t\t// eslint-disable-next-line react/no-did-update-set-state\n\t\t\tthis.setState(newState);\n\t\t\tthis.setContainerSize();\n\n\t\t\tdeferScrollTo = true;\n\t\t} else if (prevProps.rtl !== this.props.rtl) {\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t}\n\n\t\tconst maxPos = this.isPrimaryDirectionVertical ? this.scrollBounds.maxTop : this.scrollBounds.maxLeft;\n\t\tlet currentPos = this.scrollPosition;\n\n\t\tif (this.props.scrollMode === 'native' && this.scrollToPositionTarget >= 0) {\n\t\t\tcurrentPos = this.scrollToPositionTarget;\n\t\t}\n\n\t\tif (!deferScrollTo && currentPos > maxPos) {\n\t\t\tthis.props.cbScrollTo({position: (this.isPrimaryDirectionVertical) ? {y: maxPos} : {x: maxPos}, animate: false});\n\t\t\tthis.scrollToPositionTarget = -1;\n\t\t}\n\t}\n\n\tscrollBounds = {\n\t\tclientWidth: 0,\n\t\tclientHeight: 0,\n\t\tscrollWidth: 0,\n\t\tscrollHeight: 0,\n\t\tmaxLeft: 0,\n\t\tmaxTop: 0\n\t};\n\n\tmoreInfo = {\n\t\tfirstVisibleIndex: null,\n\t\tlastVisibleIndex: null\n\t};\n\n\tprimary = null;\n\tsecondary = null;\n\n\tisPrimaryDirectionVertical = true;\n\tisItemSized = false;\n\n\tshouldUpdateBounds = false;\n\n\tdimensionToExtent = 0;\n\tthreshold = 0;\n\tmaxFirstIndex = 0;\n\tcurDataSize = 0;\n\thasDataSizeChanged = false;\n\tcc = [];\n\tscrollPosition = 0;\n\tscrollPositionTarget = 0;\n\tscrollToPositionTarget = -1;\n\n\t// For individually sized item\n\titemPositions = [];\n\tindexToScrollIntoView = -1;\n\n\tupdateScrollPosition = ({x, y}, rtl = this.props.rtl) => {\n\t\tif (this.props.scrollMode === 'native') {\n\t\t\tthis.scrollToPosition(x, y, rtl);\n\t\t} else {\n\t\t\tthis.setScrollPositionTarget (x, y);\n\t\t\tthis.setScrollPosition(x, y, rtl);\n\t\t}\n\t};\n\n\tisVertical = () => this.isPrimaryDirectionVertical;\n\n\tisHorizontal = () => !this.isPrimaryDirectionVertical;\n\n\tgetScrollBounds = () => this.scrollBounds;\n\n\tgetMoreInfo = () => this.moreInfo;\n\n\tgetGridPosition (index) {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{dimensionToExtent, itemPositions, primary, secondary} = this,\n\t\t\tsecondaryPosition = (index % dimensionToExtent) * secondary.gridSize,\n\t\t\textent = Math.floor(index / dimensionToExtent);\n\t\tlet primaryPosition;\n\n\t\tif (itemSizes && typeof itemSizes[index] !== 'undefined' && dataSize > index) {\n\t\t\tconst firstIndexInExtent = extent * dimensionToExtent;\n\n\t\t\tif (!itemPositions[firstIndexInExtent]) {\n\t\t\t\t// Cache individually sized item positions\n\t\t\t\tfor (let i = itemPositions.length; i <= index; i++) {\n\t\t\t\t\tthis.calculateAndCacheItemPosition(i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (itemPositions[firstIndexInExtent]) {\n\t\t\t\tprimaryPosition = itemPositions[firstIndexInExtent].position;\n\t\t\t} else {\n\t\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t\t}\n\t\t} else {\n\t\t\tprimaryPosition = extent * primary.gridSize;\n\t\t}\n\n\t\treturn {primaryPosition, secondaryPosition};\n\t}\n\n\t// For individually sized item\n\tgetItemBottomPosition = (index) => {\n\t\tconst\n\t\t\titemPosition = this.itemPositions[index],\n\t\t\titemSize = this.props.itemSizes[index];\n\n\t\tif (itemPosition && (itemSize || itemSize === 0)) {\n\t\t\treturn itemPosition.position + itemSize;\n\t\t} else {\n\t\t\treturn index * this.primary.gridSize - this.props.spacing;\n\t\t}\n\t};\n\n\t// For individually sized item\n\tgetItemTopPositionFromPreviousItemBottomPosition = (index, spacing) => {\n\t\treturn index === 0 ? 0 : this.getItemBottomPosition(index - 1) + spacing;\n\t};\n\n\tgetItemPosition = (index, stickTo = 'start', optionalOffset = 0) => {\n\t\tconst {isPrimaryDirectionVertical, primary, scrollBounds} = this;\n\t\tconst maxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tconst position = this.getGridPosition(index);\n\t\tlet offset = 0;\n\n\t\tif (stickTo === 'start') {\n\t\t\toffset = optionalOffset;\n\t\t} else if (this.props.itemSizes) {\n\t\t\toffset = primary.clientSize - this.props.itemSizes[index] - optionalOffset;\n\t\t} else {\n\t\t\toffset = primary.clientSize - primary.itemSize - optionalOffset;\n\t\t}\n\n\t\tposition.primaryPosition = clamp(0, maxPos, position.primaryPosition - offset);\n\n\t\treturn this.gridPositionToItemPosition(position);\n\t};\n\n\tgridPositionToItemPosition = ({primaryPosition, secondaryPosition}) =>\n\t\t(this.isPrimaryDirectionVertical ? {left: secondaryPosition, top: primaryPosition} : {left: primaryPosition, top: secondaryPosition});\n\n\tgetXY = (primaryPosition, secondaryPosition) => (this.isPrimaryDirectionVertical ? {x: secondaryPosition, y: primaryPosition} : {x: primaryPosition, y: secondaryPosition});\n\n\tgetClientSize = (node) => ({\n\t\tclientWidth: node.clientWidth,\n\t\tclientHeight: node.clientHeight\n\t});\n\n\temitUpdateItems () {\n\t\tconst {dataSize} = this.props;\n\t\tconst {firstIndex, numOfItems} = this.state;\n\n\t\tforward('onUpdateItems', {\n\t\t\tfirstIndex: firstIndex,\n\t\t\tlastIndex: Math.min(firstIndex + numOfItems, dataSize)\n\t\t}, this.props);\n\t}\n\n\tcalculateMetrics (props) {\n\t\tconst\n\t\t\t{clientSize, direction, itemSize, overhang, scrollMode, spacing} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node),\n\t\t\theightInfo = {\n\t\t\t\tclientSize: clientHeight,\n\t\t\t\tminItemSize: itemSize.minHeight || null,\n\t\t\t\titemSize: itemSize\n\t\t\t},\n\t\t\twidthInfo = {\n\t\t\t\tclientSize: clientWidth,\n\t\t\t\tminItemSize: itemSize.minWidth || null,\n\t\t\t\titemSize: itemSize\n\t\t\t};\n\t\tlet primary, secondary, dimensionToExtent, thresholdBase;\n\n\t\tthis.isPrimaryDirectionVertical = (direction === 'vertical');\n\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tprimary = heightInfo;\n\t\t\tsecondary = widthInfo;\n\t\t} else {\n\t\t\tprimary = widthInfo;\n\t\t\tsecondary = heightInfo;\n\t\t}\n\t\tdimensionToExtent = 1;\n\n\t\tthis.isItemSized = (primary.minItemSize && secondary.minItemSize);\n\n\t\tif (this.isItemSized) {\n\t\t\t// the number of columns is the ratio of the available width plus the spacing\n\t\t\t// by the minimum item width plus the spacing\n\t\t\tdimensionToExtent = Math.max(Math.floor((secondary.clientSize + spacing) / (secondary.minItemSize + spacing)), 1);\n\t\t\t// the actual item width is a ratio of the remaining width after all columns\n\t\t\t// and spacing are accounted for and the number of columns that we know we should have\n\t\t\tsecondary.itemSize = Math.floor((secondary.clientSize - (spacing * (dimensionToExtent - 1))) / dimensionToExtent);\n\t\t\t// the actual item height is related to the item width\n\t\t\tprimary.itemSize = Math.floor(primary.minItemSize * (secondary.itemSize / secondary.minItemSize));\n\t\t}\n\n\t\tprimary.gridSize = primary.itemSize + spacing;\n\t\tsecondary.gridSize = secondary.itemSize + spacing;\n\t\tthresholdBase = primary.gridSize * Math.ceil(overhang / 2);\n\n\t\tthis.threshold = {min: -Infinity, max: thresholdBase, base: thresholdBase};\n\t\tthis.dimensionToExtent = dimensionToExtent;\n\n\t\tthis.primary = primary;\n\t\tthis.secondary = secondary;\n\n\t\t// reset\n\t\tthis.scrollPosition = 0;\n\t\tthis.scrollToPositionTarget = -1;\n\t\tif (scrollMode === 'translate' && this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = null;\n\t\t} else if (scrollMode === 'native' && node) {\n\t\t\tnode.style.scrollBehavior = null;\n\t\t\tthis.updateScrollPosition(this.getXY(this.scrollPosition, 0));\n\t\t\tnode.style.scrollBehavior = 'smooth';\n\t\t}\n\t}\n\n\tgetStatesAndUpdateBounds = (props, firstIndex = 0) => {\n\t\tconst\n\t\t\t{dataSize, overhang, updateStatesAndBounds} = props,\n\t\t\t{dimensionToExtent, primary, moreInfo, scrollPosition} = this,\n\t\t\tnumOfItems = Math.min(dataSize, dimensionToExtent * (Math.ceil(primary.clientSize / primary.gridSize) + overhang)),\n\t\t\twasFirstIndexMax = ((this.maxFirstIndex < moreInfo.firstVisibleIndex - dimensionToExtent) && (firstIndex === this.maxFirstIndex)),\n\t\t\tdataSizeDiff = dataSize - this.curDataSize;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\t// When calling setState() except in didScroll(), `shouldUpdateBounds` should be `true`\n\t\t// so that setState() in didScroll() could be called to override state.\n\t\t// Before calling setState() except in didScroll(), getStatesAndUpdateBounds() is always called.\n\t\t// So `shouldUpdateBounds` is true here.\n\t\tthis.shouldUpdateBounds = true;\n\n\t\tthis.maxFirstIndex = Math.ceil((dataSize - numOfItems) / dimensionToExtent) * dimensionToExtent;\n\t\tthis.curDataSize = dataSize;\n\n\t\t// reset children\n\t\tthis.cc = [];\n\t\tthis.itemPositions = []; // For individually sized item\n\t\tthis.calculateScrollBounds(props);\n\t\tthis.updateMoreInfo(dataSize, scrollPosition);\n\n\t\tif (!(updateStatesAndBounds && updateStatesAndBounds({\n\t\t\tcbScrollTo: props.cbScrollTo,\n\t\t\tnumOfItems,\n\t\t\tdataSize,\n\t\t\tmoreInfo\n\t\t}))) {\n\t\t\tnewFirstIndex = this.calculateFirstIndex(props, wasFirstIndexMax, dataSizeDiff, firstIndex);\n\t\t}\n\n\t\treturn {\n\t\t\tfirstIndex: Math.min(newFirstIndex, this.maxFirstIndex),\n\t\t\tnumOfItems: numOfItems\n\t\t};\n\t};\n\n\tcalculateFirstIndex (props, wasFirstIndexMax, dataSizeDiff, firstIndex) {\n\t\tconst\n\t\t\t{overhang} = props,\n\t\t\t{dimensionToExtent, isPrimaryDirectionVertical, maxFirstIndex, primary, scrollBounds, scrollPosition, threshold} = this,\n\t\t\t{gridSize} = primary;\n\t\tlet newFirstIndex = firstIndex;\n\n\t\tif (wasFirstIndexMax && dataSizeDiff > 0) { // If dataSize increased from bottom, we need adjust firstIndex\n\t\t\t// If this is a gridlist and dataSizeDiff is smaller than 1 line, we are adjusting firstIndex without threshold change.\n\t\t\tif (dimensionToExtent > 1 && dataSizeDiff < dimensionToExtent) {\n\t\t\t\tnewFirstIndex = maxFirstIndex;\n\t\t\t} else { // For other bottom adding case, we need to update firstIndex and threshold.\n\t\t\t\tconst\n\t\t\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft,\n\t\t\t\t\tmaxOfMin = maxPos - threshold.base,\n\t\t\t\t\tnumOfUpperLine = Math.floor(overhang / 2),\n\t\t\t\t\tfirstIndexFromPosition = Math.floor(scrollPosition / gridSize),\n\t\t\t\t\texpectedFirstIndex = Math.max(0, firstIndexFromPosition - numOfUpperLine);\n\n\t\t\t\t// To navigate with 5way, we need to adjust firstIndex to the next line\n\t\t\t\t// since at the bottom we have num of overhang lines for upper side but none for bottom side\n\t\t\t\t// So we add numOfUpperLine at the top and rest lines at the bottom\n\t\t\t\tnewFirstIndex = Math.min(maxFirstIndex, expectedFirstIndex * dimensionToExtent);\n\n\t\t\t\t// We need to update threshold also since we moved the firstIndex\n\t\t\t\tthreshold.max = Math.min(maxPos, threshold.max + gridSize);\n\t\t\t\tthreshold.min = Math.min(maxOfMin, threshold.max - gridSize);\n\t\t\t}\n\t\t} else { // Other cases, we can keep the min value between firstIndex and maxFirstIndex. No need to change threshold\n\t\t\tnewFirstIndex = Math.min(firstIndex, maxFirstIndex);\n\t\t}\n\n\t\treturn newFirstIndex;\n\t}\n\n\tcalculateScrollBounds (props) {\n\t\tconst\n\t\t\t{clientSize} = props,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!clientSize && !node) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst\n\t\t\t{scrollBounds, isPrimaryDirectionVertical} = this,\n\t\t\t{clientWidth, clientHeight} = clientSize || this.getClientSize(node);\n\t\tlet maxPos;\n\n\t\tscrollBounds.clientWidth = clientWidth;\n\t\tscrollBounds.clientHeight = clientHeight;\n\t\tscrollBounds.scrollWidth = this.getScrollWidth();\n\t\tscrollBounds.scrollHeight = this.getScrollHeight();\n\t\tscrollBounds.maxLeft = Math.max(0, scrollBounds.scrollWidth - clientWidth);\n\t\tscrollBounds.maxTop = Math.max(0, scrollBounds.scrollHeight - clientHeight);\n\n\t\t// correct position\n\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\n\t\tthis.syncThreshold(maxPos);\n\t}\n\n\tsetContainerSize = () => {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.width = this.scrollBounds.scrollWidth + (this.isPrimaryDirectionVertical ? -1 : 0) + 'px';\n\t\t\tthis.contentRef.current.style.height = this.scrollBounds.scrollHeight + (this.isPrimaryDirectionVertical ? 0 : -1) + 'px';\n\t\t}\n\t};\n\n\tupdateMoreInfo (dataSize, primaryPosition) {\n\t\tconst\n\t\t\t{dimensionToExtent, moreInfo} = this,\n\t\t\t{itemSize, gridSize, clientSize} = this.primary;\n\n\t\tif (dataSize <= 0) {\n\t\t\tmoreInfo.firstVisibleIndex = null;\n\t\t\tmoreInfo.lastVisibleIndex = null;\n\t\t} else if (this.props.itemSizes) {\n\t\t\tconst {firstIndex, numOfItems} = this.state;\n\t\t\tconst {isPrimaryDirectionVertical, scrollBounds: {clientWidth, clientHeight}, scrollPosition} = this;\n\t\t\tconst size = isPrimaryDirectionVertical ? clientHeight : clientWidth;\n\n\t\t\tlet firstVisibleIndex = null, lastVisibleIndex = null;\n\n\t\t\tfor (let i = firstIndex; i < firstIndex +  numOfItems; i++) {\n\t\t\t\tif (scrollPosition <= this.getItemBottomPosition(i)) {\n\t\t\t\t\tfirstVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let i = firstIndex + numOfItems - 1; i >= firstIndex; i--) {\n\t\t\t\tif (scrollPosition + size >= this.getItemBottomPosition(i) - this.props.itemSizes[i]) {\n\t\t\t\t\tlastVisibleIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (firstVisibleIndex > lastVisibleIndex) {\n\t\t\t\tfirstVisibleIndex = null;\n\t\t\t\tlastVisibleIndex = null;\n\t\t\t}\n\n\t\t\tmoreInfo.firstVisibleIndex = firstVisibleIndex;\n\t\t\tmoreInfo.lastVisibleIndex = lastVisibleIndex;\n\t\t} else {\n\t\t\tmoreInfo.firstVisibleIndex = (Math.floor((primaryPosition - itemSize) / gridSize) + 1) * dimensionToExtent;\n\t\t\tmoreInfo.lastVisibleIndex = Math.min(dataSize - 1, Math.ceil((primaryPosition + clientSize) / gridSize) * dimensionToExtent - 1);\n\t\t}\n\t}\n\n\tsyncThreshold (maxPos) {\n\t\tconst {threshold} = this;\n\n\t\tif (threshold.max > maxPos) {\n\t\t\tif (maxPos < threshold.base) {\n\t\t\t\tthreshold.max = threshold.base;\n\t\t\t\tthreshold.min = -Infinity;\n\t\t\t} else {\n\t\t\t\tthreshold.max = maxPos;\n\t\t\t\tthreshold.min = maxPos - threshold.base;\n\t\t\t}\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tscrollToPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.props.scrollContentRef.current && this.props.scrollContentRef.current.scrollTo) {\n\t\t\tif (rtl) {\n\t\t\t\tx = (platform.ios || platform.safari) ? -x : this.scrollBounds.maxLeft - x;\n\t\t\t}\n\n\t\t\tthis.props.scrollContentRef.current.scrollTo(x, y);\n\t\t}\n\t}\n\n\t// scrollMode 'native' only\n\tsetScrollToPositionTarget (x, y) {\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollToPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollToPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPositionTarget (x, y) {\n\t\t// The `x`, `y` as parameters in scrollToPosition() are the position when stopping scrolling.\n\t\t// But the `x`, `y` as parameters in setScrollPosition() are the position between current position and the position stopping scrolling.\n\t\t// To know the position when stopping scrolling properly, `x` and `y` are passed and cached in `this.scrollPositionTarget`.\n\t\tif (this.isPrimaryDirectionVertical) {\n\t\t\tthis.scrollPositionTarget = y;\n\t\t} else {\n\t\t\tthis.scrollPositionTarget = x;\n\t\t}\n\t}\n\n\t// scrollMode 'translate' only\n\tsetScrollPosition (x, y, rtl = this.props.rtl) {\n\t\tif (this.contentRef.current) {\n\t\t\tthis.contentRef.current.style.transform = `translate3d(${rtl ? x : -x}px, -${y}px, 0)`;\n\t\t\tthis.didScroll(x, y);\n\t\t}\n\t}\n\n\tdidScroll (x, y) {\n\t\tconst\n\t\t\t{dataSize, spacing, itemSizes} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{isPrimaryDirectionVertical, threshold, dimensionToExtent, maxFirstIndex, scrollBounds, itemPositions} = this,\n\t\t\t{clientSize, gridSize} = this.primary,\n\t\t\tmaxPos = isPrimaryDirectionVertical ? scrollBounds.maxTop : scrollBounds.maxLeft;\n\t\tlet newFirstIndex = firstIndex, index, pos, size, itemPosition;\n\n\t\tif (isPrimaryDirectionVertical) {\n\t\t\tpos = y;\n\t\t} else {\n\t\t\tpos = x;\n\t\t}\n\n\t\tif (pos > threshold.max || pos < threshold.min) {\n\t\t\tlet newThresholdMin = -Infinity, newThresholdMax = Infinity;\n\n\t\t\tif (this.props.itemSizes) {\n\t\t\t\tconst overhangBefore = Math.floor(this.props.overhang / 2);\n\t\t\t\tlet firstRenderedIndex = -1;\n\n\t\t\t\t// find an item which is known as placed the first rendered item's position\n\t\t\t\tfor (index = 0; index < dataSize; index += dimensionToExtent) {\n\t\t\t\t\titemPosition = itemPositions[index];\n\t\t\t\t\tsize = itemSizes[index];\n\t\t\t\t\tif (itemPosition && size && itemPosition.position + size >= pos && itemPosition.position <= pos + clientSize) {\n\t\t\t\t\t\tfirstRenderedIndex = index;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// found an item which is visible within a current viewport\n\t\t\t\tif (index < dataSize) {\n\t\t\t\t\tif (itemPosition.position <= pos) {\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - overhangBefore * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + size + spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst diffToFirstIndex = Math.ceil((itemPosition.position - pos) / gridSize);\n\t\t\t\t\t\tnewFirstIndex = firstRenderedIndex - (diffToFirstIndex + overhangBefore) * dimensionToExtent;\n\t\t\t\t\t\tnewThresholdMin = itemPosition.position - diffToFirstIndex * gridSize;\n\t\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else { // calculate the first index based on assuming that all items have minimal size\n\t\t\t\t\tconst firstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t\t}\n\n\t\t\t\tnewFirstIndex = Math.max(0, Math.min(maxFirstIndex, newFirstIndex));\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\toverhangBefore = Math.floor(this.props.overhang / 2),\n\t\t\t\t\tfirstExtent = Math.max(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.floor(maxFirstIndex / dimensionToExtent),\n\t\t\t\t\t\t\tMath.floor((pos - gridSize * overhangBefore) / gridSize)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\tnewFirstIndex = firstExtent * dimensionToExtent;\n\t\t\t\tnewThresholdMin = (firstExtent + overhangBefore) * gridSize;\n\t\t\t\tnewThresholdMax = newThresholdMin + gridSize;\n\t\t\t}\n\n\t\t\tthreshold.min = newFirstIndex === 0 ? -Infinity : newThresholdMin;\n\t\t\tthreshold.max = newFirstIndex === maxFirstIndex ? Infinity : newThresholdMax;\n\t\t}\n\n\t\tthis.syncThreshold(maxPos);\n\t\tthis.scrollPosition = pos;\n\t\tthis.updateMoreInfo(dataSize, pos);\n\n\t\tif (this.shouldUpdateBounds || firstIndex !== newFirstIndex) {\n\t\t\tthis.setState({firstIndex: newFirstIndex});\n\t\t}\n\t}\n\n\t// For individually sized item\n\tcalculateAndCacheItemPosition (index) {\n\t\tconst {itemSizes} = this.props;\n\n\t\tif (!this.itemPositions[index] && itemSizes[index]) {\n\t\t\tconst\n\t\t\t\t{spacing} = this.props,\n\t\t\t\tposition = this.getItemTopPositionFromPreviousItemBottomPosition(index, spacing);\n\n\t\t\tthis.itemPositions[index] = {position};\n\t\t}\n\t}\n\n\t// For individually sized item\n\tapplyItemPositionToDOMElement (index) {\n\t\tconst\n\t\t\t{direction, rtl} = this.props,\n\t\t\t{numOfItems} = this.state,\n\t\t\t{itemPositions} = this,\n\t\t\tchildNode = this.itemContainerRefs[index % numOfItems];\n\n\t\tif (childNode && itemPositions[index]) {\n\t\t\tconst position = itemPositions[index].position;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tchildNode.style.transform = `translate3d(0, ${position}px, 0)`;\n\t\t\t} else {\n\t\t\t\tchildNode.style.transform = `translate3d(${position * (rtl ? -1 : 1)}px, 0, 0)`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// For individually sized item\n\tupdateThresholdWithItemPosition () {\n\t\tconst\n\t\t\t{overhang} = this.props,\n\t\t\t{firstIndex} = this.state,\n\t\t\t{maxFirstIndex} = this,\n\t\t\tnumOfUpperLine = Math.floor(overhang / 2);\n\n\t\tthis.threshold.min = firstIndex === 0 ? -Infinity : this.getItemBottomPosition(firstIndex + numOfUpperLine);\n\t\tthis.threshold.max = firstIndex === maxFirstIndex ? Infinity : this.getItemBottomPosition(firstIndex + (numOfUpperLine + 1));\n\t}\n\n\t// For individually sized item\n\tupdateScrollBoundsWithItemPositions () {\n\t\tconst\n\t\t\t{dataSize, itemSizes, spacing} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{isPrimaryDirectionVertical, itemPositions} = this,\n\t\t\tscrollBoundsDimension = isPrimaryDirectionVertical ? 'scrollHeight' : 'scrollWidth';\n\n\t\tif (itemPositions.length === dataSize) { // all item sizes are known\n\t\t\tthis.scrollBounds[scrollBoundsDimension] =\n\t\t\t\titemSizes.reduce((acc, cur) => acc + cur, 0) + (dataSize - 1) * spacing;\n\t\t} else {\n\t\t\tfor (let index = firstIndex + numOfItems - 1; index < dataSize; index++) {\n\t\t\t\tconst nextInfo = itemPositions[index + 1];\n\t\t\t\tif (!nextInfo) {\n\t\t\t\t\tconst endPosition = this.getItemBottomPosition(index);\n\t\t\t\t\tif (endPosition > this.scrollBounds[scrollBoundsDimension]) {\n\t\t\t\t\t\tthis.scrollBounds[scrollBoundsDimension] = endPosition;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.scrollBounds.maxTop = Math.max(0, this.scrollBounds.scrollHeight - this.scrollBounds.clientHeight);\n\t}\n\n\t// For individually sized item\n\tadjustItemPositionWithItemSize () {\n\t\tif (this.cc.length) {\n\t\t\tconst\n\t\t\t\t{dataSize} = this.props,\n\t\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t\tlastIndex = firstIndex + numOfItems - 1;\n\n\t\t\t// Cache individually sized item positions\n\t\t\t// and adjust item DOM element positions\n\t\t\tfor (let index = firstIndex; index <= lastIndex; index++) {\n\t\t\t\tthis.calculateAndCacheItemPosition(index);\n\t\t\t\tthis.applyItemPositionToDOMElement(index);\n\t\t\t}\n\n\t\t\t// Update threshold based on this.itemPositions\n\t\t\tthis.updateThresholdWithItemPosition();\n\n\t\t\t// Update scroll bounds based on this.itemPositions\n\t\t\tthis.updateScrollBoundsWithItemPositions();\n\n\t\t\t// Set container size based on this.scrollbounds\n\t\t\tthis.setContainerSize();\n\n\t\t\t// Update moreInfo based on this.itemPositions\n\t\t\tthis.updateMoreInfo(dataSize, this.scrollPosition);\n\t\t}\n\t}\n\n\tcomposeStyle (width, height, primaryPosition, secondaryPosition) {\n\t\tconst\n\t\t\t{x, y} = this.getXY(primaryPosition, secondaryPosition),\n\t\t\tstyle = {\n\t\t\t\t/* FIXME: RTL / this calculation only works for Chrome */\n\t\t\t\ttransform: `translate3d(${this.props.rtl ? -x : x}px, ${y}px, 0)`\n\t\t\t};\n\n\t\tif (this.isItemSized) {\n\t\t\tstyle.width = width;\n\t\t\tstyle.height = height;\n\t\t}\n\n\t\treturn style;\n\t}\n\n\tapplyStyleToNewNode = (index, ...rest) => {\n\t\tconst\n\t\t\t{childProps, itemRefs, itemRenderer, getComponentProps} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\tcomponentProps = getComponentProps && getComponentProps(index) || {},\n\t\t\titemContainerRef = (ref) => {\n\t\t\t\tif (ref === null) {\n\t\t\t\t\titemRefs.current[key] = ref;\n\t\t\t\t} else {\n\t\t\t\t\tconst itemNode = ref.children[0];\n\n\t\t\t\t\titemRefs.current[key] = (parseInt(itemNode.dataset.index) === index) ?\n\t\t\t\t\t\titemNode :\n\t\t\t\t\t\tref.querySelector(`[data-index=\"${index}\"]`);\n\n\t\t\t\t\tthis.itemContainerRefs[key] = ref;\n\t\t\t\t}\n\t\t\t};\n\n\t\tthis.cc[key] = (\n\t\t\t<div className={css.listItem} key={key} ref={itemContainerRef} style={this.composeStyle(...rest)}>\n\t\t\t\t{itemRenderer({...childProps, ...componentProps, index})}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tapplyStyleToHideNode = (index) => {\n\t\tconst\n\t\t\t{itemRefs} = this.props,\n\t\t\tkey = index % this.state.numOfItems,\n\t\t\titemContainerRef = () => (itemRefs.current[key] = null);\n\n\t\tthis.cc[key] = <div key={key} ref={itemContainerRef} style={{display: 'none'}} />;\n\t};\n\n\tpositionItems () {\n\t\tconst\n\t\t\t{dataSize, itemSizes} = this.props,\n\t\t\t{firstIndex, numOfItems} = this.state,\n\t\t\t{cc, isPrimaryDirectionVertical, dimensionToExtent, primary, secondary, itemPositions} = this;\n\t\tlet\n\t\t\thideTo = 0,\n\t\t\tupdateFrom = cc.length ? this.state.updateFrom : firstIndex,\n\t\t\tupdateTo = cc.length ? this.state.updateTo : firstIndex + numOfItems;\n\n\t\tif (updateFrom >= updateTo) {\n\t\t\treturn;\n\t\t} else if (updateTo > dataSize) {\n\t\t\thideTo = updateTo;\n\t\t\tupdateTo = dataSize;\n\t\t}\n\n\t\tlet\n\t\t\twidth, height,\n\t\t\t{primaryPosition, secondaryPosition} = this.getGridPosition(updateFrom);\n\n\t\twidth = (isPrimaryDirectionVertical ? secondary.itemSize : primary.itemSize) + 'px';\n\t\theight = (isPrimaryDirectionVertical ? primary.itemSize : secondary.itemSize) + 'px';\n\n\t\t// positioning items\n\t\tfor (let i = updateFrom, j = updateFrom % dimensionToExtent; i < updateTo; i++) {\n\t\t\tthis.applyStyleToNewNode(i, width, height, primaryPosition, secondaryPosition);\n\n\t\t\tif (++j === dimensionToExtent) {\n\t\t\t\tsecondaryPosition = 0;\n\n\t\t\t\tif (this.props.itemSizes) {\n\t\t\t\t\tif (itemPositions[i + 1] || itemPositions[i + 1] === 0) {\n\t\t\t\t\t\tprimaryPosition = itemPositions[i + 1].position;\n\t\t\t\t\t} else if (itemSizes[i]) {\n\t\t\t\t\t\tprimaryPosition += itemSizes[i] + this.props.spacing;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tprimaryPosition += primary.gridSize;\n\t\t\t\t}\n\n\t\t\t\tj = 0;\n\t\t\t} else {\n\t\t\t\tsecondaryPosition += secondary.gridSize;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = updateTo; i < hideTo; i++) {\n\t\t\tthis.applyStyleToHideNode(i);\n\t\t}\n\t}\n\n\tgetScrollHeight = () => (this.isPrimaryDirectionVertical ? this.getVirtualScrollDimension() + this.props.getAffordance() : this.scrollBounds.clientHeight);\n\n\tgetScrollWidth = () => (this.isPrimaryDirectionVertical ? this.scrollBounds.clientWidth : this.getVirtualScrollDimension());\n\n\tgetVirtualScrollDimension = () => {\n\t\tif (this.props.itemSizes) {\n\t\t\treturn this.props.itemSizes.reduce((total, size, index) => (total + size + (index > 0 ? this.props.spacing : 0)), 0);\n\t\t} else {\n\t\t\tconst\n\t\t\t\t{dimensionToExtent, primary, curDataSize} = this,\n\t\t\t\t{spacing} = this.props;\n\n\t\t\treturn (Math.ceil(curDataSize / dimensionToExtent) * primary.gridSize) - spacing;\n\t\t}\n\t};\n\n\tsyncClientSize = () => {\n\t\tconst\n\t\t\t{props} = this,\n\t\t\tnode = this.props.scrollContentRef.current;\n\n\t\tif (!props.clientSize && !node) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst\n\t\t\t{clientWidth, clientHeight} = props.clientSize || this.getClientSize(node),\n\t\t\t{scrollBounds} = this;\n\n\t\tif (clientWidth !== scrollBounds.clientWidth || clientHeight !== scrollBounds.clientHeight) {\n\t\t\tthis.calculateMetrics(props);\n\t\t\tthis.setState(this.getStatesAndUpdateBounds(props));\n\t\t\tthis.setContainerSize();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t// render\n\n\trender () {\n\t\tconst\n\t\t\t{className, 'data-webos-voice-focused': voiceFocused, 'data-webos-voice-group-label': voiceGroupLabel, 'data-webos-voice-disabled': voiceDisabled, placeholderRenderer, role, style, scrollMode, ...rest} = this.props,\n\t\t\t{cc, isPrimaryDirectionVertical, primary} = this,\n\t\t\tscrollModeNative = scrollMode === 'native',\n\t\t\tcontainerClasses = classNames(\n\t\t\t\tcss.virtualList,\n\t\t\t\tisPrimaryDirectionVertical ? css.vertical : css.horizontal,\n\t\t\t\t{[css.native]: scrollModeNative},\n\t\t\t\tclassName\n\t\t\t),\n\t\t\tcontentClasses = scrollModeNative ? null : css.content;\n\n\t\tdelete rest.cbScrollTo;\n\t\tdelete rest.childProps;\n\t\tdelete rest.clientSize;\n\t\tdelete rest.dataSize;\n\t\tdelete rest.direction;\n\t\tdelete rest.getAffordance;\n\t\tdelete rest.getComponentProps;\n\t\tdelete rest.isHorizontalScrollbarVisible;\n\t\tdelete rest.isVerticalScrollbarVisible;\n\t\tdelete rest.itemRefs;\n\t\tdelete rest.itemRenderer;\n\t\tdelete rest.itemSize;\n\t\tdelete rest.itemSizes;\n\t\tdelete rest.onUpdate;\n\t\tdelete rest.onUpdateItems;\n\t\tdelete rest.overhang;\n\t\tdelete rest.pageScroll;\n\t\tdelete rest.rtl;\n\t\tdelete rest.scrollContainerContainsDangerously;\n\t\tdelete rest.scrollContentRef;\n\t\tdelete rest.scrollMode;\n\t\tdelete rest.setThemeScrollContentHandle;\n\t\tdelete rest.spacing;\n\t\tdelete rest.updateStatesAndBounds;\n\n\t\tif (primary) {\n\t\t\tthis.positionItems();\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={containerClasses} data-webos-voice-focused={voiceFocused} data-webos-voice-group-label={voiceGroupLabel} data-webos-voice-disabled={voiceDisabled} ref={this.props.scrollContentRef} style={style}>\n\t\t\t\t<div {...rest} className={contentClasses} ref={this.contentRef} role={role}>\n\t\t\t\t\t{[...cc, placeholderRenderer && placeholderRenderer(primary)]}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default VirtualListBasic;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tVirtualListBasic\n};\n","/**\n * Unstyled virtual list components and behaviors to be customized by a theme or application.\n *\n * @module ui/VirtualList\n * @exports gridListImageSizeShape\n * @exports itemSizesShape\n * @exports VirtualGridList\n * @exports VirtualList\n * @exports VirtualListBase\n * @exports VirtualListBasic\n */\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {ResizeContext} from '../Resizable';\nimport useScroll from '../useScroll';\nimport Scrollbar from '../useScroll/Scrollbar';\n\nimport {UiVirtualListBase, UiVirtualListBaseNative} from './UiVirtualListBase';\nimport {gridListItemSizeShape, itemSizesShape, VirtualListBasic} from './VirtualListBasic';\n\nconst nop = () => {};\n\n/**\n * An unstyled scrollable virtual list component with touch support.\n *\n * @class VirtualList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualList = (props) => {\n\t// Hooks\n\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\t// Render\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualList.displayName = 'ui:VirtualList';\n\nVirtualList.propTypes = /** @lends ui/VirtualList.VirtualList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\n/**\n * An unstyled scrollable virtual grid list component with touch support.\n *\n * @class VirtualGridList\n * @memberof ui/VirtualList\n * @extends ui/VirtualList.VirtualListBasic\n * @ui\n * @public\n */\nconst VirtualGridList = (props) => {\n\tconst {\n\t\tscrollContentHandle,\n\t\tscrollContentWrapper: ScrollContentWrapper,\n\t\tisHorizontalScrollbarVisible,\n\t\tisVerticalScrollbarVisible,\n\n\t\tresizeContextProps,\n\t\tscrollContainerProps,\n\t\tscrollInnerContainerProps,\n\t\tscrollContentWrapperProps,\n\t\tscrollContentProps,\n\t\tverticalScrollbarProps,\n\t\thorizontalScrollbarProps\n\t} = useScroll(props);\n\n\treturn (\n\t\t<ResizeContext.Provider {...resizeContextProps}>\n\t\t\t<div {...scrollContainerProps}>\n\t\t\t\t<div {...scrollInnerContainerProps}>\n\t\t\t\t\t<ScrollContentWrapper {...scrollContentWrapperProps}>\n\t\t\t\t\t\t<VirtualListBasic\n\t\t\t\t\t\t\t{...scrollContentProps}\n\t\t\t\t\t\t\tref={scrollContentHandle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ScrollContentWrapper>\n\t\t\t\t\t{isVerticalScrollbarVisible ? <Scrollbar {...verticalScrollbarProps} /> : null}\n\t\t\t\t</div>\n\t\t\t\t{isHorizontalScrollbarVisible ? <Scrollbar {...horizontalScrollbarProps} /> : null}\n\t\t\t</div>\n\t\t</ResizeContext.Provider>\n\t);\n};\n\nVirtualGridList.displayName = 'ui:VirtualGridList';\n\nVirtualGridList.propTypes = /** @lends ui/VirtualList.VirtualGridList.prototype */ {\n\t/**\n\t * A callback function that receives a reference to the `scrollTo` feature.\n\t *\n\t * Once received, the `scrollTo` method can be called as an imperative interface.\n\t *\n\t * The `scrollTo` function accepts the following parameters:\n\t * - {position: {x, y}} - Pixel value for x and/or y position\n\t * - {align} - Where the scroll area should be aligned. Values are:\n\t *   `'left'`, `'right'`, `'top'`, `'bottom'`,\n\t *   `'topleft'`, `'topright'`, `'bottomleft'`, and `'bottomright'`.\n\t * - {index} - Index of specific item. (`0` or positive integer)\n\t *   This option is available for only `VirtualList` kind.\n\t * - {node} - Node to scroll into view\n\t * - {animate} - When `true`, scroll occurs with animation. When `false`, no\n\t *   animation occurs.\n\t * - {focus} - When `true`, attempts to focus item after scroll. Only valid when scrolling\n\t *   by `index` or `node`.\n\t * > Note: Only specify one of: `position`, `align`, `index` or `node`\n\t *\n\t * Example:\n\t * ```\n\t *\t// If you set cbScrollTo prop like below;\n\t *\tcbScrollTo: (fn) => {this.scrollTo = fn;}\n\t *\t// You can simply call like below;\n\t *\tthis.scrollTo({align: 'top'}); // scroll to the top\n\t * ```\n\t *\n\t * @type {Function}\n\t * @public\n\t */\n\tcbScrollTo: PropTypes.func,\n\n\t/**\n\t * The layout direction of the list.\n\t *\n\t * Valid values are:\n\t * * `'horizontal'`, and\n\t * * `'vertical'`.\n\t *\n\t * @type {String}\n\t * @default 'vertical'\n\t * @public\n\t */\n\tdirection: PropTypes.oneOf(['horizontal', 'vertical']),\n\n\t/**\n\t * Specifies how to show horizontal scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\thorizontalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n\n\t/**\n\t * Prevents scroll by dragging or flicking on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @private\n\t */\n\tnoScrollByDrag: PropTypes.bool,\n\n\t/**\n\t * Prevents scroll by wheeling on the list.\n\t *\n\t * @type {Boolean}\n\t * @default false\n\t * @public\n\t */\n\tnoScrollByWheel: PropTypes.bool,\n\n\t/**\n\t * Called when scrolling.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * It is not recommended to set this prop since it can cause performance degradation.\n\t * Use `onScrollStart` or `onScrollStop` instead.\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScroll: PropTypes.func,\n\n\t/**\n\t * Called when scroll starts.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualGridList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStart = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStart={this.onScrollStart}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStart: PropTypes.func,\n\n\t/**\n\t * Called when scroll stops.\n\t *\n\t * Passes `scrollLeft`, `scrollTop`, and `moreInfo`.\n\t * You can get firstVisibleIndex and lastVisibleIndex from VirtualList with `moreInfo`.\n\t *\n\t * Example:\n\t * ```\n\t * onScrollStop = ({scrollLeft, scrollTop, moreInfo}) => {\n\t *     const {firstVisibleIndex, lastVisibleIndex} = moreInfo;\n\t *     // do something with firstVisibleIndex and lastVisibleIndex\n\t * }\n\t *\n\t * render = () => (\n\t *     <VirtualGridList\n\t *         ...\n\t *         onScrollStop={this.onScrollStop}\n\t *         ...\n\t *     />\n\t * )\n\t * ```\n\t *\n\t * @type {Function}\n\t * @param {Object} event\n\t * @param {Number} event.scrollLeft Scroll left value.\n\t * @param {Number} event.scrollTop Scroll top value.\n\t * @param {Object} event.moreInfo The object including `firstVisibleIndex` and `lastVisibleIndex` properties.\n\t * @public\n\t */\n\tonScrollStop: PropTypes.func,\n\n\t/**\n\t * Specifies overscroll effects shows on which type of inputs.\n\t *\n\t * @type {Object}\n\t * @default {drag: false, pageKey: false, wheel: false}\n\t * @private\n\t */\n\toverscrollEffectOn: PropTypes.shape({\n\t\tdrag: PropTypes.bool,\n\t\tpageKey: PropTypes.bool,\n\t\twheel: PropTypes.bool\n\t}),\n\n\t/**\n\t * The ARIA role for the list.\n\t *\n\t * @type {String}\n\t * @default 'list'\n\t * @public\n\t */\n\trole: PropTypes.string,\n\n\t/**\n\t * Specifies how to scroll.\n\t *\n\t * Valid values are:\n\t * * `'translate'`,\n\t * * `'native'`.\n\t *\n\t * @type {String}\n\t * @default 'translate'\n\t * @public\n\t */\n\tscrollMode: PropTypes.string,\n\n\t/**\n\t * Specifies how to show vertical scrollbar.\n\t *\n\t * Valid values are:\n\t * * `'auto'`,\n\t * * `'visible'`, and\n\t * * `'hidden'`.\n\t *\n\t * @type {String}\n\t * @default 'auto'\n\t * @public\n\t */\n\tverticalScrollbar: PropTypes.oneOf(['auto', 'visible', 'hidden'])\n};\n\nVirtualGridList.defaultProps = {\n\tcbScrollTo: nop,\n\tdirection: 'vertical',\n\thorizontalScrollbar: 'auto',\n\tnoScrollByDrag: false,\n\tnoScrollByWheel: false,\n\tonScroll: nop,\n\tonScrollStart: nop,\n\tonScrollStop: nop,\n\toverscrollEffectOn: {\n\t\tdrag: false,\n\t\tpageKey: false,\n\t\twheel: false\n\t},\n\trole: 'list',\n\tscrollMode: 'translate',\n\tverticalScrollbar: 'auto'\n};\n\nexport default VirtualList;\nexport {\n\tgridListItemSizeShape,\n\titemSizesShape,\n\tUiVirtualListBase as VirtualListBase, // to support legacy VirtualListBase\n\tUiVirtualListBaseNative as VirtualListBaseNative, // to support legacy VirtualListBaseNative\n\tVirtualGridList,\n\tVirtualList,\n\tVirtualListBasic\n};\n","import EnactPropTypes from '@enact/core/internal/prop-types';\nimport kind from '@enact/core/kind';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport $L from '../internal/$L';\nimport Button from '../Button';\nimport Skinnable from '../Skinnable';\n\nimport css from './ContextualPopup.module.less';\n\n/**\n * An SVG arrow for {@link agate/ContextualPopupDecorator.ContextualPopup}.\n *\n * @class ContextualPopupArrow\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @private\n */\nconst ContextualPopupArrow = kind({\n\tname: 'ContextualPopupArrow',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopupArrow.prototype */ {\n\t\t/**\n\t\t * Direction of ContextualPopupArrow.\n\t\t *\n\t\t * @type {('above'|'below'|'left'|'right')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'below', 'left', 'right'])\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below'\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'arrow'\n\t},\n\n\tcomputed: {\n\t\tclassName: ({direction, styler}) => styler.append(direction, css.arrow)\n\t},\n\n\trender: (props) => (\n\t\t<svg {...props} viewBox=\"0 0 30 30\">\n\t\t\t<path d=\"M15 2 L0 20 L30 20 Z\" className={css.arrowFill} />\n\t\t</svg>\n\t)\n});\n\nconst ContextualPopupRoot = Skinnable('div');\n\n/**\n * A popup component used by\n * [ContextualPopupDecorator]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator} to\n * wrap its [popupComponent]{@link agate/ContextualPopupDecorator.ContextualPopupDecorator.popupComponent}.\n *\n * `ContextualPopup` is usually not used directly but is made available for unique application use\n * cases.\n *\n * @class ContextualPopup\n * @memberof agate/ContextualPopupDecorator\n * @ui\n * @public\n */\nconst ContextualPopupBase = kind({\n\tname: 'ContextualPopup',\n\n\tpropTypes: /** @lends agate/ContextualPopupDecorator.ContextualPopup.prototype */ {\n\t\t/**\n\t\t * The contents of the popup.\n\t\t *\n\t\t * @type {Node}\n\t\t * @required\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node.isRequired,\n\n\t\t/**\n\t\t * Style object for arrow position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tarrowPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Style object for container position.\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcontainerPosition: PropTypes.shape({\n\t\t\tbottom: PropTypes.number,\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number\n\t\t}),\n\n\t\t/**\n\t\t * Called with the reference to the container node.\n\t\t *\n\t\t * @type {Object|Function}\n\t\t * @public\n\t\t */\n\t\tcontainerRef: EnactPropTypes.ref,\n\n\t\t/**\n\t\t * Direction of ContextualPopup.\n\t\t *\n\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t * @default 'below'\n\t\t * @public\n\t\t */\n\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t/**\n\t\t * Called when the close button is clicked.\n\t\t *\n\t\t * @type {Function}\n\t\t * @public\n\t\t */\n\t\tonCloseButtonClick: PropTypes.func,\n\n\t\t/**\n\t\t * Shows the close button.\n\t\t *\n\t\t * @type {Boolean}\n\t\t * @default false\n\t\t * @public\n\t\t */\n\t\tshowCloseButton: PropTypes.bool\n\t},\n\n\tdefaultProps: {\n\t\tdirection: 'below center',\n\t\tshowCloseButton: false\n\t},\n\n\tstyles: {\n\t\tcss,\n\t\tclassName: 'container'\n\t},\n\n\tcomputed: {\n\t\tarrowDirection: ({direction}) => {\n\t\t\tconst [arrowDirection] = direction.split(' ');\n\t\t\treturn arrowDirection;\n\t\t},\n\t\tclassName: ({direction, showCloseButton, styler}) => styler.append(\n\t\t\t{\n\t\t\t\tfixedSize: direction === 'above' || direction === 'below'\n\t\t\t},\n\t\t\tdirection.split(' '),\n\t\t\t{reserveClose: showCloseButton}\n\t\t),\n\t\tcloseButton: ({showCloseButton, onCloseButtonClick}) => {\n\t\t\tif (showCloseButton) {\n\t\t\t\treturn (\n\t\t\t\t\t<Button\n\t\t\t\t\t\taria-label={$L('Close')}\n\t\t\t\t\t\tbackgroundOpacity=\"transparent\"\n\t\t\t\t\t\tclassName={css.closeButton}\n\t\t\t\t\t\tcss={css}\n\t\t\t\t\t\ticon=\"closex\"\n\t\t\t\t\t\tonTap={onCloseButtonClick}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t},\n\n\trender: ({arrowDirection, arrowPosition, children, className, closeButton, containerPosition, containerRef, ...rest}) => {\n\t\tdelete rest.direction;\n\t\tdelete rest.onCloseButtonClick;\n\t\tdelete rest.showCloseButton;\n\n\t\treturn (\n\t\t\t<ContextualPopupRoot aria-live=\"off\" role=\"alert\" {...rest} className={css.contextualPopup}>\n\t\t\t\t<div className={className} style={containerPosition} ref={containerRef}>\n\t\t\t\t\t{children}\n\t\t\t\t\t{closeButton}\n\t\t\t\t</div>\n\t\t\t\t<ContextualPopupArrow direction={arrowDirection} style={arrowPosition} />\n\t\t\t</ContextualPopupRoot>\n\t\t);\n\t}\n});\n\nexport default ContextualPopupBase;\nexport {\n\tContextualPopupBase as ContextualPopup,\n\tContextualPopupBase\n};\n","/**\n * A higher-order component to add an Agate styled popup to a component.\n *\n * @module agate/ContextualPopupDecorator\n * @exports\tContextualPopup\n * @exports\tContextualPopupDecorator\n */\n\nimport ApiDecorator from '@enact/core/internal/ApiDecorator';\nimport {on, off} from '@enact/core/dispatcher';\nimport {handle, forProp, forKey, forward, stop} from '@enact/core/handle';\nimport hoc from '@enact/core/hoc';\nimport EnactPropTypes from '@enact/core/internal/prop-types';\nimport {extractAriaProps} from '@enact/core/util';\nimport {I18nContextDecorator} from '@enact/i18n/I18nDecorator';\nimport Spotlight, {getDirection} from '@enact/spotlight';\nimport SpotlightContainerDecorator from '@enact/spotlight/SpotlightContainerDecorator';\nimport FloatingLayer from '@enact/ui/FloatingLayer';\nimport ri from '@enact/ui/resolution';\nimport PropTypes from 'prop-types';\nimport compose from 'ramda/src/compose';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {ContextualPopup} from './ContextualPopup';\n\nimport css from './ContextualPopupDecorator.module.less';\n\n/**\n * Default config for {@link agate/ContextualPopupDecorator.ContextualPopupDecorator}\n *\n * @type {Object}\n * @hocconfig\n * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator\n */\nconst defaultConfig = {\n\t/**\n\t * Disables passing the `skin` prop to the wrapped component.\n\t *\n\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t * @type {Boolean}\n\t * @default false\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\tnoSkin: false,\n\n\t/**\n\t * The prop in which to pass the value of `open` state of ContextualPopupDecorator to the\n\t * wrapped component.\n\t *\n\t * @type {String}\n\t * @default 'selected'\n\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.defaultConfig\n\t * @public\n\t */\n\topenProp: 'selected'\n};\n\nconst ContextualPopupContainer = SpotlightContainerDecorator(\n\t{enterTo: 'default-element', preserveId: true},\n\tContextualPopup\n);\n\nconst Decorator = hoc(defaultConfig, (config, Wrapped) => {\n\tconst {noSkin, openProp} = config;\n\n\treturn class extends React.Component {\n\t\tstatic displayName = 'ContextualPopupDecorator';\n\n\t\tstatic propTypes = /** @lends agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype */ {\n\t\t\t/**\n\t\t\t * The component rendered within the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * @type {Component}\n\t\t\t * @required\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupComponent: EnactPropTypes.component.isRequired,\n\n\t\t\t/**\n\t\t\t * Limits the range of voice control to the popup.\n\t\t\t *\n\t\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t\t * @type {Boolean}\n\t\t\t * @default true\n\t\t\t * @public\n\t\t\t */\n\t\t\t'data-webos-voice-exclusive': PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Direction of popup with respect to the wrapped component.\n\t\t\t *\n\t\t\t * @type {('above'|'above center'|'above left'|'above right'|'below'|'below center'|'below left'|'below right'|'left middle'|'left top'|'left bottom'|'right middle'|'right top'|'right bottom')}\n\t\t\t * @default 'below center'\n\t\t\t * @public\n\t\t\t */\n\t\t\tdirection: PropTypes.oneOf(['above', 'above center', 'above left', 'above right', 'below', 'below center', 'below left', 'below right', 'left middle', 'left top', 'left bottom', 'right middle', 'right top', 'right bottom']),\n\n\t\t\t/**\n\t\t\t * Disables closing the popup when the user presses the cancel key or taps outside the\n\t\t\t * popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tnoAutoDismiss: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Called when the user has attempted to close the popup.\n\t\t\t *\n\t\t\t * This may occur either when the close button is clicked or when spotlight focus\n\t\t\t * moves outside the boundary of the popup. Setting `spotlightRestrict` to `'self-only'`\n\t\t\t * will prevent Spotlight focus from leaving the popup.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonClose: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Called when the popup is opened.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @public\n\t\t\t */\n\t\t\tonOpen: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Displays the contextual popup.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\topen: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * CSS class name to pass to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup}.\n\t\t\t *\n\t\t\t * This is commonly used to set width and height of the popup.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupClassName: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * An object containing properties to be passed to popup component.\n\t\t\t *\n\t\t\t * @type {Object}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupProps: PropTypes.object,\n\n\t\t\t/**\n\t\t\t * The container ID to use with Spotlight.\n\t\t\t *\n\t\t\t * The spotlight container for the popup isn't created until it is open. To configure\n\t\t\t * the container using `Spotlight.set()`, handle the `onOpen` event which is fired after\n\t\t\t * the popup has been created and opened.\n\t\t\t *\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tpopupSpotlightId: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Indicates the content's text direction is right-to-left.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @private\n\t\t\t */\n\t\t\trtl: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * Registers the ContextualPopupDecorator component with an [ApiDecorator]\n\t\t\t * {@link core/internal/ApiDecorator.ApiDecorator}.\n\t\t\t *\n\t\t\t * @type {Function}\n\t\t\t * @private\n\t\t\t */\n\t\t\tsetApiProvider: PropTypes.func,\n\n\t\t\t/**\n\t\t\t * Shows the close button.\n\t\t\t *\n\t\t\t * @type {Boolean}\n\t\t\t * @default false\n\t\t\t * @public\n\t\t\t */\n\t\t\tshowCloseButton: PropTypes.bool,\n\n\t\t\t/**\n\t\t\t * The current skin for this component.\n\t\t\t *\n\t\t\t * When `noSkin` is set on the config object, `skin` will only be applied to the\n\t\t\t * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} and not\n\t\t\t * to the popup's activator component.\n\t\t\t *\n\t\t\t * @see {@link agate/Skinnable.Skinnable.skin}\n\t\t\t * @type {String}\n\t\t\t * @public\n\t\t\t */\n\t\t\tskin: PropTypes.string,\n\n\t\t\t/**\n\t\t\t * Restricts or prioritizes spotlight navigation.\n\t\t\t *\n\t\t\t * Allowed values are:\n\t\t\t * * `'none'` - Spotlight can move freely within and beyond the popup\n\t\t\t * * `'self-first'` - Spotlight should prefer components within the popup over\n\t\t\t *   components beyond the popup, or\n\t\t\t * * `'self-only'` - Spotlight can only be set within the popup\n\t\t\t *\n\t\t\t * @type {('none'|'self-first'|'self-only')}\n\t\t\t * @default 'self-first'\n\t\t\t * @public\n\t\t\t */\n\t\t\tspotlightRestrict: PropTypes.oneOf(['none', 'self-first', 'self-only'])\n\t\t};\n\n\t\tstatic defaultProps = {\n\t\t\t'data-webos-voice-exclusive': true,\n\t\t\tdirection: 'below center',\n\t\t\tnoAutoDismiss: false,\n\t\t\topen: false,\n\t\t\tshowCloseButton: false,\n\t\t\tspotlightRestrict: 'self-first'\n\t\t};\n\n\t\tconstructor (props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tarrowPosition: {top: 0, left: 0},\n\t\t\t\tcontainerPosition: {top: 0, left: 0},\n\t\t\t\tcontainerId: Spotlight.add(this.props.popupSpotlightId),\n\t\t\t\tactivator: null\n\t\t\t};\n\n\t\t\tthis.overflow = {};\n\t\t\tthis.adjustedDirection = this.props.direction;\n\n\t\t\tthis.ARROW_OFFSET = ri.scale(18); // actual distance of the svg arrow displayed to offset overlaps with the container.\n\t\t\tthis.ARROW_WIDTH = ri.scale(30); // svg arrow width. used for arrow positioning\n\t\t\tthis.KEEPOUT = ri.scale(12); // keep out distance on the edge of the screen\n\t\t\tthis.MARGIN = ri.scale(9);\n\n\t\t\tif (props.setApiProvider) {\n\t\t\t\tprops.setApiProvider(this);\n\t\t\t}\n\t\t}\n\n\t\tcomponentDidMount () {\n\t\t\tif (this.props.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t}\n\n\t\tgetSnapshotBeforeUpdate (prevProps, prevState) {\n\t\t\tconst snapshot = {\n\t\t\t\tcontainerWidth: this.getContainerNodeWidth()\n\t\t\t};\n\n\t\t\tif (prevProps.open && !this.props.open) {\n\t\t\t\tconst current = Spotlight.getCurrent();\n\t\t\t\tsnapshot.shouldSpotActivator = (\n\t\t\t\t\t// isn't set\n\t\t\t\t\t!current ||\n\t\t\t\t\t// is on the activator and we want to re-spot it so a11y read out can occur\n\t\t\t\t\tcurrent === prevState.activator ||\n\t\t\t\t\t// is within the popup\n\t\t\t\t\tthis.containerNode.contains(current)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn snapshot;\n\t\t}\n\n\t\tcomponentDidUpdate (prevProps, prevState, snapshot) {\n\t\t\tif (prevProps.direction !== this.props.direction || snapshot.containerWidth !== this.getContainerNodeWidth()) {\n\t\t\t\tthis.adjustedDirection = this.props.direction;\n\t\t\t\t// NOTE: `setState` is called and will cause re-render\n\t\t\t\tthis.positionContextualPopup();\n\t\t\t}\n\n\t\t\tif (this.props.open && !prevProps.open) {\n\t\t\t\ton('keydown', this.handleKeyDown);\n\t\t\t\ton('keyup', this.handleKeyUp);\n\t\t\t} else if (!this.props.open && prevProps.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t\tif (snapshot && snapshot.shouldSpotActivator) {\n\t\t\t\t\tthis.spotActivator(prevState.activator);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcomponentWillUnmount () {\n\t\t\tif (this.props.open) {\n\t\t\t\toff('keydown', this.handleKeyDown);\n\t\t\t\toff('keyup', this.handleKeyUp);\n\t\t\t}\n\t\t\tSpotlight.remove(this.state.containerId);\n\t\t}\n\n\t\tgetContainerNodeWidth () {\n\t\t\treturn this.containerNode && this.containerNode.getBoundingClientRect().width || 0;\n\t\t}\n\n\t\tupdateLeaveFor (activator) {\n\t\t\tSpotlight.set(this.state.containerId, {\n\t\t\t\tleaveFor: {\n\t\t\t\t\tup: activator,\n\t\t\t\t\tdown: activator,\n\t\t\t\t\tleft: activator,\n\t\t\t\t\tright: activator\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tgetContainerAdjustedPosition = () => {\n\t\t\tconst position = this.adjustedDirection;\n\t\t\tconst arr = this.adjustedDirection.split(' ');\n\t\t\tlet direction = null;\n\t\t\tlet anchor = null;\n\n\t\t\tif (arr.length === 2) {\n\t\t\t\t[direction, anchor] = arr;\n\t\t\t} else {\n\t\t\t\tdirection = position;\n\t\t\t}\n\n\t\t\treturn {anchor, direction};\n\t\t};\n\n\t\tgetContainerPosition (containerNode, clientNode) {\n\t\t\tconst position = this.centerContainerPosition(containerNode, clientNode);\n\t\t\tconst {direction} = this.getContainerAdjustedPosition();\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_OFFSET - containerNode.height - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN : clientNode.right + this.ARROW_OFFSET + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.right + this.ARROW_OFFSET + this.MARGIN : clientNode.left - containerNode.width - this.ARROW_OFFSET - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcenterContainerPosition (containerNode, clientNode) {\n\t\t\tconst pos = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverLeft) {\n\t\t\t\t\t// anchor to the left of the screen\n\t\t\t\t\tpos.left = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverRight) {\n\t\t\t\t\t// anchor to the right of the screen\n\t\t\t\t\tpos.left = window.innerWidth - containerNode.width - this.KEEPOUT;\n\t\t\t\t} else if (anchor) {\n\t\t\t\t\tif (anchor === 'center') {\n\t\t\t\t\t\t// center horizontally\n\t\t\t\t\t\tpos.left = clientNode.left + (clientNode.width - containerNode.width) / 2;\n\t\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\t\t// anchor to the left side of the activator\n\t\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// anchor to the right side of the activator\n\t\t\t\t\t\tpos.left = clientNode.right - containerNode.width;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the left side of the activator, matching its width\n\t\t\t\t\tpos.left = clientNode.left;\n\t\t\t\t\tpos.width = clientNode.width;\n\t\t\t\t}\n\n\t\t\t} else if (direction === 'left' || direction === 'right') {\n\t\t\t\tif (this.overflow.isOverTop) {\n\t\t\t\t\t// anchor to the top of the screen\n\t\t\t\t\tpos.top = this.KEEPOUT;\n\t\t\t\t} else if (this.overflow.isOverBottom) {\n\t\t\t\t\t// anchor to the bottom of the screen\n\t\t\t\t\tpos.top = window.innerHeight - containerNode.height - this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'middle') {\n\t\t\t\t\t// center vertically\n\t\t\t\t\tpos.top = clientNode.top - (containerNode.height - clientNode.height) / 2;\n\t\t\t\t} else if (anchor === 'top') {\n\t\t\t\t\t// anchor to the top of the activator\n\t\t\t\t\tpos.top = clientNode.top;\n\t\t\t\t} else {\n\t\t\t\t\t// anchor to the bottom of the activator\n\t\t\t\t\tpos.top = clientNode.bottom - containerNode.height;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn pos;\n\t\t}\n\n\t\tgetArrowPosition (containerNode, clientNode) {\n\t\t\tconst position = {};\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tif (this.overflow.isOverRight && !this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = window.innerWidth - ((containerNode.width + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t\t} else if (!this.overflow.isOverRight && this.overflow.isOverLeft) {\n\t\t\t\t\tposition.left = ((containerNode.width - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t\t} else if (anchor === 'left') {\n\t\t\t\t\tposition.left = clientNode.left + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else if (anchor === 'right') {\n\t\t\t\t\tposition.left = clientNode.right - containerNode.width + (containerNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t} else {\n\t\t\t\t\tposition.left = clientNode.left + (clientNode.width - this.ARROW_WIDTH) / 2;\n\t\t\t\t}\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop) {\n\t\t\t\tposition.top = window.innerHeight - ((containerNode.height + this.ARROW_WIDTH) / 2) - this.KEEPOUT;\n\t\t\t} else if (!this.overflow.isOverBottom && this.overflow.isOverTop) {\n\t\t\t\tposition.top = ((containerNode.height - this.ARROW_WIDTH) / 2) + this.KEEPOUT;\n\t\t\t} else if (anchor === 'top') {\n\t\t\t\tposition.top = clientNode.top + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else if (anchor === 'bottom') {\n\t\t\t\tposition.top = clientNode.bottom - containerNode.height + (containerNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t} else {\n\t\t\t\tposition.top = clientNode.top + (clientNode.height - this.ARROW_WIDTH) / 2;\n\t\t\t}\n\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'above':\n\t\t\t\t\tposition.top = clientNode.top - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'below':\n\t\t\t\t\tposition.top = clientNode.bottom + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'left':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left + clientNode.width + this.MARGIN : clientNode.left - this.ARROW_WIDTH - this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'right':\n\t\t\t\t\tposition.left = this.props.rtl ? clientNode.left - this.ARROW_WIDTH - this.MARGIN : clientNode.left + clientNode.width + this.MARGIN;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\treturn this.adjustRTL(position);\n\t\t}\n\n\t\tcalcOverflow (container, client) {\n\t\t\tlet containerHeight, containerWidth;\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (direction === 'above' || direction === 'below') {\n\t\t\t\tcontainerHeight = container.height;\n\t\t\t\tcontainerWidth = (container.width - client.width) / 2;\n\t\t\t} else {\n\t\t\t\tcontainerHeight = (container.height - client.height) / 2;\n\t\t\t\tcontainerWidth = container.width;\n\t\t\t}\n\n\t\t\tthis.overflow = {\n\t\t\t\tisOverTop: anchor === 'top' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\t!(client.top > this.KEEPOUT) :\n\t\t\t\t\tclient.top - containerHeight - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverBottom: anchor === 'bottom' && (direction === 'left' || direction === 'right') ?\n\t\t\t\t\tclient.bottom + this.KEEPOUT > window.innerHeight :\n\t\t\t\t\tclient.bottom + containerHeight + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerHeight,\n\t\t\t\tisOverLeft: anchor === 'left' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\t!(client.left > this.KEEPOUT) :\n\t\t\t\t\tclient.left - containerWidth - this.ARROW_OFFSET - this.MARGIN - this.KEEPOUT < 0,\n\t\t\t\tisOverRight: anchor === 'right' && (direction === 'above' || direction === 'below') ?\n\t\t\t\t\tclient.right + this.KEEPOUT > window.innerWidth :\n\t\t\t\t\tclient.right + containerWidth + this.ARROW_OFFSET + this.MARGIN + this.KEEPOUT > window.innerWidth\n\t\t\t};\n\t\t}\n\n\t\tadjustDirection () {\n\t\t\tconst {anchor, direction} = this.getContainerAdjustedPosition();\n\n\t\t\tif (this.overflow.isOverTop && !this.overflow.isOverBottom && direction === 'above') {\n\t\t\t\tthis.adjustedDirection = anchor ? `below ${anchor}` : 'below';\n\t\t\t} else if (this.overflow.isOverBottom && !this.overflow.isOverTop && direction === 'below') {\n\t\t\t\tthis.adjustedDirection = anchor ? `above ${anchor}` : 'above';\n\t\t\t} else if (this.overflow.isOverLeft && !this.overflow.isOverRight && direction === 'left' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `right ${anchor}` : 'right';\n\t\t\t} else if (this.overflow.isOverRight && !this.overflow.isOverLeft && direction === 'right' && !this.props.rtl) {\n\t\t\t\tthis.adjustedDirection = anchor ? `left ${anchor}` : 'left';\n\t\t\t}\n\t\t}\n\n\t\tadjustRTL (position) {\n\t\t\tlet pos = position;\n\t\t\tif (this.props.rtl) {\n\t\t\t\tconst tmpLeft = pos.left;\n\t\t\t\tpos.left = pos.right;\n\t\t\t\tpos.right = tmpLeft;\n\t\t\t}\n\t\t\treturn pos;\n\t\t}\n\n\t\t/**\n\t\t * Position the popup in relation to the activator.\n\t\t *\n\t\t * Position is based on the dimensions of the popup and its activator. If the popup does not\n\t\t * fit in the specified direction, it will automatically flip to the opposite direction.\n\t\t *\n\t\t * @method\n\t\t * @memberof agate/ContextualPopupDecorator.ContextualPopupDecorator.prototype\n\t\t * @public\n\t\t * @returns {undefined}\n\t\t */\n\t\tpositionContextualPopup = () => {\n\t\t\tif (this.containerNode && this.clientNode) {\n\t\t\t\tconst containerNode = this.containerNode.getBoundingClientRect();\n\t\t\t\tconst {top, left, bottom, right, width, height} = this.clientNode.getBoundingClientRect();\n\t\t\t\tconst clientNode = {top, left, bottom, right, width, height};\n\t\t\t\tclientNode.left = this.props.rtl ? window.innerWidth - right : left;\n\t\t\t\tclientNode.right = this.props.rtl ? window.innerWidth - left : right;\n\n\t\t\t\tthis.calcOverflow(containerNode, clientNode);\n\t\t\t\tthis.adjustDirection();\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tdirection: this.adjustedDirection,\n\t\t\t\t\tarrowPosition: this.getArrowPosition(containerNode, clientNode),\n\t\t\t\t\tcontainerPosition: this.getContainerPosition(containerNode, clientNode)\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tgetContainerNode = (node) => {\n\t\t\tthis.containerNode = node;\n\t\t};\n\n\t\tgetClientNode = (node) => {\n\t\t\tthis.clientNode = ReactDOM.findDOMNode(node); // eslint-disable-line react/no-find-dom-node\n\t\t};\n\n\t\thandle = handle.bind(this);\n\n\t\thandleKeyUp = this.handle(\n\t\t\tforProp('open', true),\n\t\t\tforKey('enter'),\n\t\t\t() => Spotlight.getCurrent() === this.state.activator,\n\t\t\tstop,\n\t\t\tforward('onClose')\n\t\t);\n\n\t\thandleOpen = (ev) => {\n\t\t\tforward('onOpen', ev, this.props);\n\t\t\tthis.positionContextualPopup();\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tthis.updateLeaveFor(current);\n\t\t\tthis.setState({\n\t\t\t\tactivator: current\n\t\t\t});\n\t\t\tthis.spotPopupContent();\n\t\t};\n\n\t\thandleClose = () => {\n\t\t\tthis.updateLeaveFor(null);\n\t\t\tthis.setState({\n\t\t\t\tactivator: null\n\t\t\t});\n\t\t};\n\n\t\thandleDirectionalKey (ev) {\n\t\t\t// prevent default page scrolling\n\t\t\tev.preventDefault();\n\t\t\t// stop propagation to prevent default spotlight behavior\n\t\t\tev.stopPropagation();\n\t\t\t// set the pointer mode to false on keydown\n\t\t\tSpotlight.setPointerMode(false);\n\t\t}\n\n\t\t// handle key event from outside (i.e. the activator) to the popup container\n\t\thandleKeyDown = (ev) => {\n\t\t\tconst {activator, containerId} = this.state;\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst current = Spotlight.getCurrent();\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tconst hasSpottables = Spotlight.getSpottableDescendants(containerId).length > 0;\n\t\t\tconst spotlessSpotlightModal = spotlightRestrict === 'self-only' && !hasSpottables;\n\t\t\tconst shouldSpotPopup = current === activator && direction === this.adjustedDirection && hasSpottables;\n\n\t\t\tif (shouldSpotPopup || spotlessSpotlightModal) {\n\t\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t\t// we guard against attempting a focus change by verifying the case where a\n\t\t\t\t// spotlightModal popup contains no spottable components\n\t\t\t\tif (!spotlessSpotlightModal && shouldSpotPopup) {\n\t\t\t\t\tthis.spotPopupContent();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// handle key event from contextual popup and closes the popup\n\t\thandleContainerKeyDown = (ev) => {\n\t\t\t// Note: Container will be only rendered if `open`ed, therefore no need to check for `open`\n\t\t\tconst direction = getDirection(ev.keyCode);\n\n\t\t\tif (!direction) return;\n\n\t\t\tthis.handleDirectionalKey(ev);\n\n\t\t\t// if focus moves outside the popup's container, issue the `onClose` event\n\t\t\tif (Spotlight.move(direction) && !this.containerNode.contains(Spotlight.getCurrent())) {\n\t\t\t\tforward('onClose', ev, this.props);\n\t\t\t}\n\t\t};\n\n\t\tspotActivator = (activator) => {\n\t\t\tif (!Spotlight.getPointerMode() && activator && activator === Spotlight.getCurrent()) {\n\t\t\t\tactivator.blur();\n\t\t\t}\n\t\t\tif (!Spotlight.focus(activator)) {\n\t\t\t\tSpotlight.focus();\n\t\t\t}\n\t\t};\n\n\t\tspotPopupContent = () => {\n\t\t\tconst {spotlightRestrict} = this.props;\n\t\t\tconst {containerId} = this.state;\n\t\t\tconst spottableDescendants = Spotlight.getSpottableDescendants(containerId);\n\t\t\tif (spotlightRestrict === 'self-only' && spottableDescendants.length && Spotlight.getCurrent()) {\n\t\t\t\tSpotlight.getCurrent().blur();\n\t\t\t}\n\n\t\t\tif (!Spotlight.focus(containerId)) {\n\t\t\t\tSpotlight.setActiveContainer(containerId);\n\t\t\t}\n\t\t};\n\n\t\trender () {\n\t\t\tconst {'data-webos-voice-exclusive': voiceExclusive, showCloseButton, popupComponent: PopupComponent, popupClassName, noAutoDismiss, onClose, open, popupProps, skin, spotlightRestrict, ...rest} = this.props;\n\t\t\tconst scrimType = spotlightRestrict === 'self-only' ? 'transparent' : 'none';\n\t\t\tconst popupPropsRef = Object.assign({}, popupProps);\n\t\t\tconst ariaProps = extractAriaProps(popupPropsRef);\n\n\t\t\tif (!noSkin) {\n\t\t\t\trest.skin = skin;\n\t\t\t}\n\n\t\t\tdelete rest.onOpen;\n\t\t\tdelete rest.popupSpotlightId;\n\t\t\tdelete rest.rtl;\n\t\t\tdelete rest.setApiProvider;\n\n\t\t\tif (openProp) rest[openProp] = open;\n\n\t\t\treturn (\n\t\t\t\t<div className={css.contextualPopupDecorator}>\n\t\t\t\t\t<FloatingLayer\n\t\t\t\t\t\tnoAutoDismiss={noAutoDismiss}\n\t\t\t\t\t\tonClose={this.handleClose}\n\t\t\t\t\t\tonDismiss={onClose}\n\t\t\t\t\t\tonOpen={this.handleOpen}\n\t\t\t\t\t\topen={open}\n\t\t\t\t\t\tscrimType={scrimType}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ContextualPopupContainer\n\t\t\t\t\t\t\t{...ariaProps}\n\t\t\t\t\t\t\tclassName={popupClassName}\n\t\t\t\t\t\t\tshowCloseButton={showCloseButton}\n\t\t\t\t\t\t\tonCloseButtonClick={onClose}\n\t\t\t\t\t\t\tonKeyDown={this.handleContainerKeyDown}\n\t\t\t\t\t\t\tdirection={this.state.direction}\n\t\t\t\t\t\t\tarrowPosition={this.state.arrowPosition}\n\t\t\t\t\t\t\tcontainerPosition={this.state.containerPosition}\n\t\t\t\t\t\t\tcontainerRef={this.getContainerNode}\n\t\t\t\t\t\t\tdata-webos-voice-exclusive={voiceExclusive}\n\t\t\t\t\t\t\tskin={skin}\n\t\t\t\t\t\t\tspotlightId={this.state.containerId}\n\t\t\t\t\t\t\tspotlightRestrict={spotlightRestrict}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PopupComponent {...popupPropsRef} />\n\t\t\t\t\t\t</ContextualPopupContainer>\n\t\t\t\t\t</FloatingLayer>\n\t\t\t\t\t<Wrapped ref={this.getClientNode} {...rest} />\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t};\n});\n\n/**\n * Adds support for positioning a\n * [ContextualPopup]{@link agate/ContextualPopupDecorator.ContextualPopup} relative to the\n * wrapped component.\n *\n * `ContextualPopupDecorator` may be used to show additional settings or actions rendered within a\n * small floating popup.\n *\n * Usage:\n * ```\n * const ButtonWithPopup = ContextualPopupDecorator(Button);\n * <ButtonWithPopup\n *   direction=\"above center\"\n *   open={this.state.open}\n *   popupComponent={CustomPopupComponent}\n * >\n *   Open Popup\n * </ButtonWithPopup>\n * ```\n *\n * @hoc\n * @memberof agate/ContextualPopupDecorator\n * @public\n */\nconst ContextualPopupDecorator = compose(\n\tApiDecorator({api: ['positionContextualPopup']}),\n\tI18nContextDecorator({rtlProp: 'rtl'}),\n\tDecorator\n);\n\nexport default ContextualPopupDecorator;\nexport {\n\tContextualPopupDecorator,\n\tContextualPopup\n};\n","/**\n * A basic progress bar component that can display the progress of something in a horizontal,\n * vertical, or radial bar format.\n *\n * A secondary independent progress indicator can be displayed, to indicate\n * an additional degree of information, often used as a background loading progress.\n *\n * @module ui/ProgressBar\n * @exports ProgressBar\n */\n\nimport kind from '@enact/core/kind';\nimport clamp from 'ramda/src/clamp';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport {validateRange} from '../internal/validators';\n\nimport componentCss from './ProgressBar.module.less';\n\nconst progressToProportion = (value) => clamp(0, 1, value);\nconst calcBarStyle = (prop, anchor, value = anchor, startProp, endProp) => {\n\tlet start = Math.min(anchor, value);\n\tlet end = Math.max(anchor, value) - start;\n\n\tif (__DEV__) {\n\t\tvalidateRange(start, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t\tvalidateRange(end, 0, 1, 'ProgressBar', prop, 'min', 'max');\n\t}\n\n\treturn {\n\t\t[startProp]: progressToProportion(start),\n\t\t[endProp]: progressToProportion(end)\n\t};\n};\n\n/**\n * An unstyled progress bar component that can be customized by a theme or application.\n *\n * @class ProgressBar\n * @memberof ui/ProgressBar\n * @ui\n * @public\n */\nconst ProgressBar = kind({\n\tname: 'ui:ProgressBar',\n\n\tpropTypes: /** @lends ui/ProgressBar.ProgressBar.prototype */ {\n\t\t/**\n\t\t * The proportion of the loaded portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tbackgroundProgress: PropTypes.number,\n\n\t\t/**\n\t\t * The contents to be displayed with progress bar.\n\t\t *\n\t\t * @type {Node}\n\t\t * @public\n\t\t */\n\t\tchildren: PropTypes.node,\n\n\t\t/**\n\t\t * Customizes the component by mapping the supplied collection of CSS class names to the\n\t\t * corresponding internal elements and states of this component.\n\t\t *\n\t\t * The following classes are supported:\n\t\t *\n\t\t * * `progressBar` - The root component class\n\t\t * * `bar`         - The background node (the empty part of the progressBar)\n\t\t * * `fill`        - The foreground of the progress bar (`progress`)\n\t\t * * `load`        - The `backgroundProgress` node\n\t\t * * `horizontal`  - Applied when `orientation` is `'horizontal'`\n\t\t * * `vertical`    - Applied when `orientation` is `'vertical'`\n\t\t * * `radial`      - Applied when `orientation` is `'radial'`\n\t\t *\n\t\t * @type {Object}\n\t\t * @public\n\t\t */\n\t\tcss: PropTypes.object,\n\n\t\t/**\n\t\t * Sets the orientation of the slider.\n\t\t *\n\t\t * Allowed values include:\n\t\t *\n\t\t * * `'horizontal'` - A left and right orientation\n\t\t * * `'vertical'` - An up and down orientation\n\t\t * * `'radial'` - A circular orientation\n\t\t *\n\t\t * @type {String}\n\t\t * @default 'horizontal'\n\t\t * @public\n\t\t */\n\t\torientation: PropTypes.string,\n\n\t\t/**\n\t\t * The proportion of the filled portion of the progress bar.\n\t\t *\n\t\t * * Valid values are between `0` and `1`.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogress: PropTypes.number,\n\n\t\t/**\n\t\t * Sets the point, as a proportion between 0 and 1, from which the progress bar is filled.\n\t\t *\n\t\t * Applies to both the progress bar's `value` and `backgroundProgress`. In both cases,\n\t\t * setting the value of `progressAnchor` will cause the progress bar to fill from that point\n\t\t * down, when `value` or `backgroundProgress` is proportionally less than the anchor, or up,\n\t\t * when `value` or `backgroundProgress` is proportionally greater than the anchor, rather\n\t\t * than always from the start of the progress bar.\n\t\t *\n\t\t * @type {Number}\n\t\t * @default 0\n\t\t * @public\n\t\t */\n\t\tprogressAnchor: PropTypes.number\n\t},\n\n\tdefaultProps: {\n\t\tbackgroundProgress: 0,\n\t\torientation: 'horizontal',\n\t\tprogress: 0,\n\t\tprogressAnchor: 0\n\t},\n\n\tstyles: {\n\t\tcss: componentCss,\n\t\tclassName: 'progressBar',\n\t\tpublicClassNames: true\n\t},\n\n\tcomputed: {\n\t\tclassName: ({backgroundProgress, orientation, progress, styler}) => styler.append(orientation, {\n\t\t\tfillOverHalf: (progress > 0.5),\n\t\t\tloadOverHalf: (backgroundProgress > 0.5)\n\t\t}),\n\t\tstyle: ({backgroundProgress, progress, progressAnchor, style}) => {\n\t\t\treturn {\n\t\t\t\t...style,\n\t\t\t\t'--ui-progressbar-proportion-anchor': progressAnchor,\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'backgroundProgress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tbackgroundProgress,\n\t\t\t\t\t'--ui-progressbar-proportion-start-background',\n\t\t\t\t\t'--ui-progressbar-proportion-end-background'\n\t\t\t\t),\n\t\t\t\t...calcBarStyle(\n\t\t\t\t\t'progress',\n\t\t\t\t\tprogressAnchor,\n\t\t\t\t\tprogress,\n\t\t\t\t\t'--ui-progressbar-proportion-start',\n\t\t\t\t\t'--ui-progressbar-proportion-end'\n\t\t\t\t)\n\t\t\t};\n\t\t}\n\t},\n\n\trender: ({children, css, ...rest}) => {\n\t\tdelete rest.backgroundProgress;\n\t\tdelete rest.orientation;\n\t\tdelete rest.progress;\n\t\tdelete rest.progressAnchor;\n\n\t\treturn (\n\t\t\t<div role=\"progressbar\" {...rest}>\n\t\t\t\t<div className={css.bar}>\n\t\t\t\t\t<div className={css.load} />\n\t\t\t\t\t<div className={css.fill} />\n\t\t\t\t</div>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n\nexport default ProgressBar;\nexport {\n\tProgressBar\n};\n","/**\n * Exports the {@link agate/Skinnable.Skinnable} Higher-order Component (HOC).\n *\n * @module agate/Skinnable\n * @exports Skinnable\n * @public\n */\n\nimport hoc from '@enact/core/hoc';\nimport UiSkinnable from '@enact/ui/Skinnable';\n\nconst defaultConfig = {\n\tskins: {\n\t\tcarbon: 'carbon',\n\t\tcobalt: 'cobalt',\n\t\tcopper: 'copper',\n\t\telectro: 'electro',\n\t\tgallium: 'gallium',\n\t\tsilicon: 'silicon',\n\t\ttitanium: 'titanium'\n\t},\n\tallowedVariants: ['night', 'highContrast'],\n\tdefaultVariants: null\n};\n\n/**\n * This Higher-order Component is based on [ui/Skinnable]{@link ui/Skinnable.Skinnable} and comes\n * pre-configured for Agate's supported skins: 'carbon', 'cobalt', 'copper', 'electro', 'gallium',\n * 'silicon', and 'titanium'. It is used to apply the relevant skinning classes to each component\n * and has been used to pre-select specific skins for some components.\n *\n * @class Skinnable\n * @memberof agate/Skinnable\n * @hoc\n * @public\n */\nconst Skinnable = hoc(defaultConfig, UiSkinnable);\n\n/**\n * Select a skin by name by specifying this property. This may be changed at runtime. All components\n * already use their defaults, but a skin may be changed via this prop or by using\n * {@link agate/Skinnable} directly and a config object.\n *\n * Example:\n * ```\n * <Button skin=\"gallium\" />\n * ```\n *\n * @name skin\n * @type {String}\n * @memberof agate/Skinnable.Skinnable\n * @instance\n * @public\n */\n\nexport default Skinnable;\nexport {\n\tSkinnable\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panels\":\"Panels_panels__3pD3m\",\"viewport\":\"Panels_viewport__c1fSf\",\"controls\":\"Panels_controls__ab0t2\",\"breadcrumbPanels\":\"Panels_breadcrumbPanels__2VcPj\",\"breadcrumbs\":\"Panels_breadcrumbs__3tRlp\",\"breadcrumb\":\"Panels_breadcrumb__Nz15I\",\"breadcrumbContent\":\"Panels_breadcrumbContent__2V_JC\",\"partial\":\"Panels_partial__34_K4\",\"transitioning\":\"Panels_transitioning__3vA9G\"};","// Simple Map polyfill mapping targets to a hash of names->handler[]\nconst targets = [];\nconst events = [];\n\nconst getListeners = function (target, name) {\n\tlet targetIndex = targets.indexOf(target);\n\tif (targetIndex === -1) {\n\t\ttargetIndex = targets.push(target) - 1;\n\t}\n\tconst listeners = events[targetIndex] = events[targetIndex] || {};\n\treturn (listeners[name] = listeners[name] || []);\n};\n\nconst addListener = function (target, name, fn) {\n\tconst listeners = getListeners(target, name);\n\n\tif (listeners.indexOf(fn) === -1) {\n\t\tlisteners.push(fn);\n\t\treturn true;\n\t}\n\treturn false;\n};\n\nexport default getListeners;\nexport {getListeners, addListener};\n","/**\n * Provides methods to add and remove global event listeners.\n *\n * @module core/dispatcher\n * @exports off\n * @exports on\n * @exports once\n */\n\nimport curry from 'ramda/src/curry';\n\nimport {getListeners, addListener} from './listeners';\n\n/*\n * Checks if the default target of `document` exists before returning it, otherwise returns `false`.\n *\n * @function\n *\n * @returns {Node|Boolean}\n * @memberof core/dispatcher\n * @private\n */\nconst getDefaultTarget = () => typeof document !== 'undefined' && document;\n\n/*\n * Wraps event callbacks with a try-catch block to prevent unrelated code from blocking.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n * @param\t{Function}\tfn\tEvent callback\n *\n * @returns\t{undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst invoker = curry(function (ev, fn) {\n\ttry {\n\t\tfn(ev);\n\t} catch (e) {\n\t\t// eslint-disable-next-line no-console\n\t\tconsole.error(`A ${e.name} occurred during event handling with the message '${e.message}'`);\n\t}\n});\n\n/*\n * Dispatches an event to the registered handlers.\n *\n * @function\n * @param\t{Event}\t\tev\tEvent payload\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @private\n */\nconst dispatcher = function (ev) {\n\tconst name = ev.type;\n\tconst listeners = getListeners(ev.currentTarget, name);\n\n\tif (listeners) {\n\t\tconst inv = invoker(ev);\n\t\tlisteners.forEach(inv);\n\t}\n};\n\n/**\n * Adds a new global event listener. Duplicate event handlers will be discarded.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target='document']\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst on = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst added = addListener(target, name, fn);\n\n\t\tif (added && getListeners(target, name).length === 1) {\n\t\t\ttarget.addEventListener(name, dispatcher);\n\t\t}\n\t}\n};\n\n/**\n * Removes a global event listener.\n *\n * @function\n * @param\t{String}\tname\t\t\t\tEvent name\n * @param\t{Function}\tfn\t\t\t\t\tEvent handler\n * @param\t{Node}\t\t[target=`document`]\tEvent listener target\n *\n * @returns {undefined}\n * @memberof core/dispatcher\n * @public\n */\nconst off = function (name, fn, target = getDefaultTarget()) {\n\tif (target) {\n\t\tconst listeners = getListeners(target, name);\n\t\tconst index = listeners.indexOf(fn);\n\n\t\tif (index >= 0) {\n\t\t\tlisteners.splice(index, 1);\n\t\t\tif (listeners.length === 0) {\n\t\t\t\ttarget.removeEventListener(name, dispatcher);\n\t\t\t}\n\t\t}\n\t}\n};\n\n/**\n * Adds a new global event listener that removes itself after handling one event.\n *\n * @function\n * @param\t{String}\tname\t\tEvent name\n * @param\t{Function}\tfn\t\t\tEvent handler\n * @param\t{Node}\t\t[target]\tEvent listener target\n *\n * @returns {Function}\t\t\t\tThe single-use handler. To remove the handler manually, call\n *\t\t\t\t\t\t\t\t\tthe `off()` function with this as the 2nd parameter.\n * @memberof core/dispatcher\n * @public\n */\nconst once = function (name, fn, target) {\n\tconst onceFn = function (ev) {\n\t\tfn(ev);\n\t\toff(name, onceFn, target);\n\t};\n\n\ton(name, onceFn, target);\n\n\treturn onceFn;\n};\n\nexport {\n\toff,\n\ton,\n\tonce\n};\n","import 'core-js';\nimport {addParameters, addDecorator} from '@storybook/react';\nimport {create} from '@storybook/theming';\nimport {withInfo} from '@enact/storybook-utils/addons/info';\nimport configure from '../src/configure';\n\nconst stories = require.context('../stories/default', false, /.js$/);\n\naddParameters({\n\toptions: {\n\t\ttheme: create({\n\t\t\tbase: 'dark',\n\t\t\tbrandTitle: 'AGATE SAMPLER',\n\t\t\tbrandUrl: 'http://enactjs.com/',\n\t\t\tbrandImage: 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3MDAiIGhlaWdodD0iNzAwIiB2aWV3Qm94PSIwIDAgNzAwIDcwMCI+PGRlZnM+PHN0eWxlPi5hLC5ie2ZpbGw6I2ZmZjt9LmJ7b3BhY2l0eTowLjg7fTwvc3R5bGU+PC9kZWZzPjxwb2x5Z29uIGNsYXNzPSJhIiBwb2ludHM9IjM0OS45IDUyNy44IDE5OS45IDQyOS44IDE5OS45IDM3NC40IDM1MC4xIDQ3Mi43IDM0OS45IDM0OC41IDE5OS45IDI2MS4xIDE5OS45IDIwOS4zIDM1MCAyOTMuNiAzNTAgMjkzLjYgMzUwLjIgMjkzLjcgMzQ5LjkgMTY5LjMgMTAyLjcgNDguNSAxMDIuNyA0NzIuNiAzNTAuMSA2NTEuNiAzNDkuOSA1MjcuOCIvPjxwb2x5Z29uIGNsYXNzPSJiIiBwb2ludHM9IjM1MC4xIDY1MS42IDU5Ny4zIDQ3Mi44IDU5Ny4zIDM2Ni4zIDM0OS45IDUyNy44IDM1MC4xIDY1MS42Ii8+PHBvbHlnb24gY2xhc3M9ImIiIHBvaW50cz0iMzUwLjEgNDcyLjcgNTIzLjUgMzU5LjMgNTIzLjUgMjQ3LjQgMzQ5LjkgMzQ4LjUgMzUwLjEgNDcyLjciLz48cG9seWdvbiBjbGFzcz0iYiIgcG9pbnRzPSIzNTAgMjkzLjYgMzUwIDI5My42IDM1MC4yIDI5My43IDU5Ny4zIDE1NC44IDU5Ny4zIDQ4LjQgMzQ5LjkgMTY5LjMgMzUwIDI5My42Ii8+PC9zdmc+'\n\t\t}),\n\t\tisFullscreen: false,\n\t\tshowNav: true,\n\t\tshowPanel: true,\n\t\tpanelPosition: 'bottom'\n\t}\n});\n\naddDecorator(withInfo());\n\nconfigure(stories, module);\n"],"sourceRoot":""}